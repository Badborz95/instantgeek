(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Qp(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const yt={},Ia=[],Ys=()=>{},_S=()=>!1,Xh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Yp=t=>t.startsWith("onUpdate:"),hn=Object.assign,Xp=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},vS=Object.prototype.hasOwnProperty,ht=(t,e)=>vS.call(t,e),Pe=Array.isArray,Sa=t=>kc(t)==="[object Map]",Jh=t=>kc(t)==="[object Set]",T_=t=>kc(t)==="[object Date]",Ue=t=>typeof t=="function",Ht=t=>typeof t=="string",ti=t=>typeof t=="symbol",Et=t=>t!==null&&typeof t=="object",WE=t=>(Et(t)||Ue(t))&&Ue(t.then)&&Ue(t.catch),zE=Object.prototype.toString,kc=t=>zE.call(t),yS=t=>kc(t).slice(8,-1),KE=t=>kc(t)==="[object Object]",Jp=t=>Ht(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Yl=Qp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zh=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ES=/-(\w)/g,Es=Zh(t=>t.replace(ES,(e,n)=>n?n.toUpperCase():"")),bS=/\B([A-Z])/g,Mo=Zh(t=>t.replace(bS,"-$1").toLowerCase()),ed=Zh(t=>t.charAt(0).toUpperCase()+t.slice(1)),df=Zh(t=>t?`on${ed(t)}`:""),pr=(t,e)=>!Object.is(t,e),Gu=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},GE=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},fh=t=>{const e=parseFloat(t);return isNaN(e)?t:e},wS=t=>{const e=Ht(t)?Number(t):NaN;return isNaN(e)?t:e};let A_;const td=()=>A_||(A_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Io(t){if(Pe(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Ht(s)?SS(s):Io(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Ht(t)||Et(t))return t}const TS=/;(?![^(]*\))/g,AS=/:([^]+)/,IS=/\/\*[^]*?\*\//g;function SS(t){const e={};return t.replace(IS,"").split(TS).forEach(n=>{if(n){const s=n.split(AS);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Jt(t){let e="";if(Ht(t))e=t;else if(Pe(t))for(let n=0;n<t.length;n++){const s=Jt(t[n]);s&&(e+=s+" ")}else if(Et(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const CS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",RS=Qp(CS);function QE(t){return!!t||t===""}function PS(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=nd(t[s],e[s]);return n}function nd(t,e){if(t===e)return!0;let n=T_(t),s=T_(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=ti(t),s=ti(e),n||s)return t===e;if(n=Pe(t),s=Pe(e),n||s)return n&&s?PS(t,e):!1;if(n=Et(t),s=Et(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const l=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(l&&!c||!l&&c||!nd(t[o],e[o]))return!1}}return String(t)===String(e)}function OS(t,e){return t.findIndex(n=>nd(n,e))}const YE=t=>!!(t&&t.__v_isRef===!0),pe=t=>Ht(t)?t:t==null?"":Pe(t)||Et(t)&&(t.toString===zE||!Ue(t.toString))?YE(t)?pe(t.value):JSON.stringify(t,XE,2):String(t),XE=(t,e)=>YE(e)?XE(t,e.value):Sa(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[ff(s,r)+" =>"]=i,n),{})}:Jh(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ff(n))}:ti(e)?ff(e):Et(e)&&!Pe(e)&&!KE(e)?String(e):e,ff=(t,e="")=>{var n;return ti(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Nn;class JE{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Nn,!e&&Nn&&(this.index=(Nn.scopes||(Nn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Nn;try{return Nn=this,e()}finally{Nn=n}}}on(){Nn=this}off(){Nn=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function ZE(t){return new JE(t)}function eb(){return Nn}function kS(t,e=!1){Nn&&Nn.cleanups.push(t)}let Tt;const pf=new WeakSet;class tb{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Nn&&Nn.active&&Nn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pf.has(this)&&(pf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||sb(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,I_(this),ib(this);const e=Tt,n=Os;Tt=this,Os=!0;try{return this.fn()}finally{rb(this),Tt=e,Os=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)tm(e);this.deps=this.depsTail=void 0,I_(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Zf(this)&&this.run()}get dirty(){return Zf(this)}}let nb=0,Xl,Jl;function sb(t,e=!1){if(t.flags|=8,e){t.next=Jl,Jl=t;return}t.next=Xl,Xl=t}function Zp(){nb++}function em(){if(--nb>0)return;if(Jl){let e=Jl;for(Jl=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Xl;){let e=Xl;for(Xl=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function ib(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function rb(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),tm(s),DS(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function Zf(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ob(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ob(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===fc))return;t.globalVersion=fc;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Zf(t)){t.flags&=-3;return}const n=Tt,s=Os;Tt=t,Os=!0;try{ib(t);const i=t.fn(t._value);(e.version===0||pr(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Tt=n,Os=s,rb(t),t.flags&=-3}}function tm(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)tm(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function DS(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Os=!0;const ab=[];function xr(){ab.push(Os),Os=!1}function Nr(){const t=ab.pop();Os=t===void 0?!0:t}function I_(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Tt;Tt=void 0;try{e()}finally{Tt=n}}}let fc=0;class xS{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class nm{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Tt||!Os||Tt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Tt)n=this.activeLink=new xS(Tt,this),Tt.deps?(n.prevDep=Tt.depsTail,Tt.depsTail.nextDep=n,Tt.depsTail=n):Tt.deps=Tt.depsTail=n,lb(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Tt.depsTail,n.nextDep=void 0,Tt.depsTail.nextDep=n,Tt.depsTail=n,Tt.deps===n&&(Tt.deps=s)}return n}trigger(e){this.version++,fc++,this.notify(e)}notify(e){Zp();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{em()}}}function lb(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)lb(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ph=new WeakMap,bo=Symbol(""),ep=Symbol(""),pc=Symbol("");function bn(t,e,n){if(Os&&Tt){let s=ph.get(t);s||ph.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new nm),i.map=s,i.key=n),i.track()}}function yi(t,e,n,s,i,r){const o=ph.get(t);if(!o){fc++;return}const l=c=>{c&&c.trigger()};if(Zp(),e==="clear")o.forEach(l);else{const c=Pe(t),h=c&&Jp(n);if(c&&n==="length"){const d=Number(s);o.forEach((p,g)=>{(g==="length"||g===pc||!ti(g)&&g>=d)&&l(p)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),h&&l(o.get(pc)),e){case"add":c?h&&l(o.get("length")):(l(o.get(bo)),Sa(t)&&l(o.get(ep)));break;case"delete":c||(l(o.get(bo)),Sa(t)&&l(o.get(ep)));break;case"set":Sa(t)&&l(o.get(bo));break}}em()}function NS(t,e){const n=ph.get(t);return n&&n.get(e)}function ha(t){const e=st(t);return e===t?e:(bn(e,"iterate",pc),_s(t)?e:e.map(wn))}function sd(t){return bn(t=st(t),"iterate",pc),t}const LS={__proto__:null,[Symbol.iterator](){return mf(this,Symbol.iterator,wn)},concat(...t){return ha(this).concat(...t.map(e=>Pe(e)?ha(e):e))},entries(){return mf(this,"entries",t=>(t[1]=wn(t[1]),t))},every(t,e){return mi(this,"every",t,e,void 0,arguments)},filter(t,e){return mi(this,"filter",t,e,n=>n.map(wn),arguments)},find(t,e){return mi(this,"find",t,e,wn,arguments)},findIndex(t,e){return mi(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return mi(this,"findLast",t,e,wn,arguments)},findLastIndex(t,e){return mi(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return mi(this,"forEach",t,e,void 0,arguments)},includes(...t){return gf(this,"includes",t)},indexOf(...t){return gf(this,"indexOf",t)},join(t){return ha(this).join(t)},lastIndexOf(...t){return gf(this,"lastIndexOf",t)},map(t,e){return mi(this,"map",t,e,void 0,arguments)},pop(){return $l(this,"pop")},push(...t){return $l(this,"push",t)},reduce(t,...e){return S_(this,"reduce",t,e)},reduceRight(t,...e){return S_(this,"reduceRight",t,e)},shift(){return $l(this,"shift")},some(t,e){return mi(this,"some",t,e,void 0,arguments)},splice(...t){return $l(this,"splice",t)},toReversed(){return ha(this).toReversed()},toSorted(t){return ha(this).toSorted(t)},toSpliced(...t){return ha(this).toSpliced(...t)},unshift(...t){return $l(this,"unshift",t)},values(){return mf(this,"values",wn)}};function mf(t,e,n){const s=sd(t),i=s[e]();return s!==t&&!_s(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const VS=Array.prototype;function mi(t,e,n,s,i,r){const o=sd(t),l=o!==t&&!_s(t),c=o[e];if(c!==VS[e]){const p=c.apply(t,r);return l?wn(p):p}let h=n;o!==t&&(l?h=function(p,g){return n.call(this,wn(p),g,t)}:n.length>2&&(h=function(p,g){return n.call(this,p,g,t)}));const d=c.call(o,h,s);return l&&i?i(d):d}function S_(t,e,n,s){const i=sd(t);let r=n;return i!==t&&(_s(t)?n.length>3&&(r=function(o,l,c){return n.call(this,o,l,c,t)}):r=function(o,l,c){return n.call(this,o,wn(l),c,t)}),i[e](r,...s)}function gf(t,e,n){const s=st(t);bn(s,"iterate",pc);const i=s[e](...n);return(i===-1||i===!1)&&rm(n[0])?(n[0]=st(n[0]),s[e](...n)):i}function $l(t,e,n=[]){xr(),Zp();const s=st(t)[e].apply(t,n);return em(),Nr(),s}const MS=Qp("__proto__,__v_isRef,__isVue"),cb=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ti));function $S(t){ti(t)||(t=String(t));const e=st(this);return bn(e,"has",t),e.hasOwnProperty(t)}class ub{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?GS:pb:r?fb:db).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=Pe(e);if(!i){let c;if(o&&(c=LS[n]))return c;if(n==="hasOwnProperty")return $S}const l=Reflect.get(e,n,Dt(e)?e:s);return(ti(n)?cb.has(n):MS(n))||(i||bn(e,"get",n),r)?l:Dt(l)?o&&Jp(n)?l:l.value:Et(l)?i?gb(l):Dc(l):l}}class hb extends ub{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const c=So(r);if(!_s(s)&&!So(s)&&(r=st(r),s=st(s)),!Pe(e)&&Dt(r)&&!Dt(s))return c?!1:(r.value=s,!0)}const o=Pe(e)&&Jp(n)?Number(n)<e.length:ht(e,n),l=Reflect.set(e,n,s,Dt(e)?e:i);return e===st(i)&&(o?pr(s,r)&&yi(e,"set",n,s):yi(e,"add",n,s)),l}deleteProperty(e,n){const s=ht(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&yi(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!ti(n)||!cb.has(n))&&bn(e,"has",n),s}ownKeys(e){return bn(e,"iterate",Pe(e)?"length":bo),Reflect.ownKeys(e)}}class FS extends ub{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const US=new hb,jS=new FS,BS=new hb(!0);const tp=t=>t,Ou=t=>Reflect.getPrototypeOf(t);function HS(t,e,n){return function(...s){const i=this.__v_raw,r=st(i),o=Sa(r),l=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,h=i[t](...s),d=n?tp:e?np:wn;return!e&&bn(r,"iterate",c?ep:bo),{next(){const{value:p,done:g}=h.next();return g?{value:p,done:g}:{value:l?[d(p[0]),d(p[1])]:d(p),done:g}},[Symbol.iterator](){return this}}}}function ku(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function qS(t,e){const n={get(i){const r=this.__v_raw,o=st(r),l=st(i);t||(pr(i,l)&&bn(o,"get",i),bn(o,"get",l));const{has:c}=Ou(o),h=e?tp:t?np:wn;if(c.call(o,i))return h(r.get(i));if(c.call(o,l))return h(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&bn(st(i),"iterate",bo),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=st(r),l=st(i);return t||(pr(i,l)&&bn(o,"has",i),bn(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,c=st(l),h=e?tp:t?np:wn;return!t&&bn(c,"iterate",bo),l.forEach((d,p)=>i.call(r,h(d),h(p),o))}};return hn(n,t?{add:ku("add"),set:ku("set"),delete:ku("delete"),clear:ku("clear")}:{add(i){!e&&!_s(i)&&!So(i)&&(i=st(i));const r=st(this);return Ou(r).has.call(r,i)||(r.add(i),yi(r,"add",i,i)),this},set(i,r){!e&&!_s(r)&&!So(r)&&(r=st(r));const o=st(this),{has:l,get:c}=Ou(o);let h=l.call(o,i);h||(i=st(i),h=l.call(o,i));const d=c.call(o,i);return o.set(i,r),h?pr(r,d)&&yi(o,"set",i,r):yi(o,"add",i,r),this},delete(i){const r=st(this),{has:o,get:l}=Ou(r);let c=o.call(r,i);c||(i=st(i),c=o.call(r,i)),l&&l.call(r,i);const h=r.delete(i);return c&&yi(r,"delete",i,void 0),h},clear(){const i=st(this),r=i.size!==0,o=i.clear();return r&&yi(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=HS(i,t,e)}),n}function sm(t,e){const n=qS(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(ht(n,i)&&i in s?n:s,i,r)}const WS={get:sm(!1,!1)},zS={get:sm(!1,!0)},KS={get:sm(!0,!1)};const db=new WeakMap,fb=new WeakMap,pb=new WeakMap,GS=new WeakMap;function QS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function YS(t){return t.__v_skip||!Object.isExtensible(t)?0:QS(yS(t))}function Dc(t){return So(t)?t:im(t,!1,US,WS,db)}function mb(t){return im(t,!1,BS,zS,fb)}function gb(t){return im(t,!0,jS,KS,pb)}function im(t,e,n,s,i){if(!Et(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=YS(t);if(o===0)return t;const l=new Proxy(t,o===2?s:n);return i.set(t,l),l}function mr(t){return So(t)?mr(t.__v_raw):!!(t&&t.__v_isReactive)}function So(t){return!!(t&&t.__v_isReadonly)}function _s(t){return!!(t&&t.__v_isShallow)}function rm(t){return t?!!t.__v_raw:!1}function st(t){const e=t&&t.__v_raw;return e?st(e):t}function om(t){return!ht(t,"__v_skip")&&Object.isExtensible(t)&&GE(t,"__v_skip",!0),t}const wn=t=>Et(t)?Dc(t):t,np=t=>Et(t)?gb(t):t;function Dt(t){return t?t.__v_isRef===!0:!1}function Ie(t){return _b(t,!1)}function XS(t){return _b(t,!0)}function _b(t,e){return Dt(t)?t:new JS(t,e)}class JS{constructor(e,n){this.dep=new nm,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:st(e),this._value=n?e:wn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||_s(e)||So(e);e=s?e:st(e),pr(e,n)&&(this._rawValue=e,this._value=s?e:wn(e),this.dep.trigger())}}function tt(t){return Dt(t)?t.value:t}const ZS={get:(t,e,n)=>e==="__v_raw"?t:tt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Dt(i)&&!Dt(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function vb(t){return mr(t)?t:new Proxy(t,ZS)}function eC(t){const e=Pe(t)?new Array(t.length):{};for(const n in t)e[n]=nC(t,n);return e}class tC{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return NS(st(this._object),this._key)}}function nC(t,e,n){const s=t[e];return Dt(s)?s:new tC(t,e,n)}class sC{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new nm(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=fc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Tt!==this)return sb(this,!0),!0}get value(){const e=this.dep.track();return ob(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function iC(t,e,n=!1){let s,i;return Ue(t)?s=t:(s=t.get,i=t.set),new sC(s,i,n)}const Du={},mh=new WeakMap;let fo;function rC(t,e=!1,n=fo){if(n){let s=mh.get(n);s||mh.set(n,s=[]),s.push(t)}}function oC(t,e,n=yt){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:l,call:c}=n,h=B=>i?B:_s(B)||i===!1||i===0?Ei(B,1):Ei(B);let d,p,g,E,I=!1,x=!1;if(Dt(t)?(p=()=>t.value,I=_s(t)):mr(t)?(p=()=>h(t),I=!0):Pe(t)?(x=!0,I=t.some(B=>mr(B)||_s(B)),p=()=>t.map(B=>{if(Dt(B))return B.value;if(mr(B))return h(B);if(Ue(B))return c?c(B,2):B()})):Ue(t)?e?p=c?()=>c(t,2):t:p=()=>{if(g){xr();try{g()}finally{Nr()}}const B=fo;fo=d;try{return c?c(t,3,[E]):t(E)}finally{fo=B}}:p=Ys,e&&i){const B=p,ne=i===!0?1/0:i;p=()=>Ei(B(),ne)}const N=eb(),j=()=>{d.stop(),N&&N.active&&Xp(N.effects,d)};if(r&&e){const B=e;e=(...ne)=>{B(...ne),j()}}let $=x?new Array(t.length).fill(Du):Du;const U=B=>{if(!(!(d.flags&1)||!d.dirty&&!B))if(e){const ne=d.run();if(i||I||(x?ne.some((re,D)=>pr(re,$[D])):pr(ne,$))){g&&g();const re=fo;fo=d;try{const D=[ne,$===Du?void 0:x&&$[0]===Du?[]:$,E];c?c(e,3,D):e(...D),$=ne}finally{fo=re}}}else d.run()};return l&&l(U),d=new tb(p),d.scheduler=o?()=>o(U,!1):U,E=B=>rC(B,!1,d),g=d.onStop=()=>{const B=mh.get(d);if(B){if(c)c(B,4);else for(const ne of B)ne();mh.delete(d)}},e?s?U(!0):$=d.run():o?o(U.bind(null,!0),!0):d.run(),j.pause=d.pause.bind(d),j.resume=d.resume.bind(d),j.stop=j,j}function Ei(t,e=1/0,n){if(e<=0||!Et(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Dt(t))Ei(t.value,e,n);else if(Pe(t))for(let s=0;s<t.length;s++)Ei(t[s],e,n);else if(Jh(t)||Sa(t))t.forEach(s=>{Ei(s,e,n)});else if(KE(t)){for(const s in t)Ei(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Ei(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xc(t,e,n,s){try{return s?t(...s):t()}catch(i){id(i,e,n)}}function Ns(t,e,n,s){if(Ue(t)){const i=xc(t,e,n,s);return i&&WE(i)&&i.catch(r=>{id(r,e,n)}),i}if(Pe(t)){const i=[];for(let r=0;r<t.length;r++)i.push(Ns(t[r],e,n,s));return i}}function id(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||yt;if(e){let l=e.parent;const c=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](t,c,h)===!1)return}l=l.parent}if(r){xr(),xc(r,null,10,[t,c,h]),Nr();return}}aC(t,n,i,s,o)}function aC(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const Ln=[];let Ks=-1;const Ca=[];let rr=null,ma=0;const yb=Promise.resolve();let gh=null;function wo(t){const e=gh||yb;return t?e.then(this?t.bind(this):t):e}function lC(t){let e=Ks+1,n=Ln.length;for(;e<n;){const s=e+n>>>1,i=Ln[s],r=mc(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function am(t){if(!(t.flags&1)){const e=mc(t),n=Ln[Ln.length-1];!n||!(t.flags&2)&&e>=mc(n)?Ln.push(t):Ln.splice(lC(e),0,t),t.flags|=1,Eb()}}function Eb(){gh||(gh=yb.then(wb))}function cC(t){Pe(t)?Ca.push(...t):rr&&t.id===-1?rr.splice(ma+1,0,t):t.flags&1||(Ca.push(t),t.flags|=1),Eb()}function C_(t,e,n=Ks+1){for(;n<Ln.length;n++){const s=Ln[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Ln.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function bb(t){if(Ca.length){const e=[...new Set(Ca)].sort((n,s)=>mc(n)-mc(s));if(Ca.length=0,rr){rr.push(...e);return}for(rr=e,ma=0;ma<rr.length;ma++){const n=rr[ma];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}rr=null,ma=0}}const mc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function wb(t){try{for(Ks=0;Ks<Ln.length;Ks++){const e=Ln[Ks];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),xc(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ks<Ln.length;Ks++){const e=Ln[Ks];e&&(e.flags&=-2)}Ks=-1,Ln.length=0,bb(),gh=null,(Ln.length||Ca.length)&&wb()}}let Vn=null,Tb=null;function _h(t){const e=Vn;return Vn=t,Tb=t&&t.type.__scopeId||null,e}function ut(t,e=Vn,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&$_(-1);const r=_h(e);let o;try{o=t(...i)}finally{_h(r),s._d&&$_(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function zt(t,e){if(Vn===null)return t;const n=ud(Vn),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,l,c=yt]=e[i];r&&(Ue(r)&&(r={mounted:r,updated:r}),r.deep&&Ei(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return t}function lo(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let c=l.dir[s];c&&(xr(),Ns(c,n,8,[t.el,l,t,e]),Nr())}}const uC=Symbol("_vte"),Ab=t=>t.__isTeleport,or=Symbol("_leaveCb"),xu=Symbol("_enterCb");function hC(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zn(()=>{t.isMounted=!0}),xb(()=>{t.isUnmounting=!0}),t}const gs=[Function,Array],Ib={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:gs,onEnter:gs,onAfterEnter:gs,onEnterCancelled:gs,onBeforeLeave:gs,onLeave:gs,onAfterLeave:gs,onLeaveCancelled:gs,onBeforeAppear:gs,onAppear:gs,onAfterAppear:gs,onAppearCancelled:gs},Sb=t=>{const e=t.subTree;return e.component?Sb(e.component):e},dC={name:"BaseTransition",props:Ib,setup(t,{slots:e}){const n=c1(),s=hC();return()=>{const i=e.default&&Pb(e.default(),!0);if(!i||!i.length)return;const r=Cb(i),o=st(t),{mode:l}=o;if(s.isLeaving)return _f(r);const c=R_(r);if(!c)return _f(r);let h=sp(c,o,s,n,p=>h=p);c.type!==Hn&&gc(c,h);let d=n.subTree&&R_(n.subTree);if(d&&d.type!==Hn&&!mo(c,d)&&Sb(n).type!==Hn){let p=sp(d,o,s,n);if(gc(d,p),l==="out-in"&&c.type!==Hn)return s.isLeaving=!0,p.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave,d=void 0},_f(r);l==="in-out"&&c.type!==Hn?p.delayLeave=(g,E,I)=>{const x=Rb(s,d);x[String(d.key)]=d,g[or]=()=>{E(),g[or]=void 0,delete h.delayedLeave,d=void 0},h.delayedLeave=()=>{I(),delete h.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return r}}};function Cb(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Hn){e=n;break}}return e}const fC=dC;function Rb(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function sp(t,e,n,s,i){const{appear:r,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:h,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:g,onLeave:E,onAfterLeave:I,onLeaveCancelled:x,onBeforeAppear:N,onAppear:j,onAfterAppear:$,onAppearCancelled:U}=e,B=String(t.key),ne=Rb(n,t),re=(T,R)=>{T&&Ns(T,s,9,R)},D=(T,R)=>{const O=R[1];re(T,R),Pe(T)?T.every(A=>A.length<=1)&&O():T.length<=1&&O()},S={mode:o,persisted:l,beforeEnter(T){let R=c;if(!n.isMounted)if(r)R=N||c;else return;T[or]&&T[or](!0);const O=ne[B];O&&mo(t,O)&&O.el[or]&&O.el[or](),re(R,[T])},enter(T){let R=h,O=d,A=p;if(!n.isMounted)if(r)R=j||h,O=$||d,A=U||p;else return;let C=!1;const xe=T[xu]=it=>{C||(C=!0,it?re(A,[T]):re(O,[T]),S.delayedLeave&&S.delayedLeave(),T[xu]=void 0)};R?D(R,[T,xe]):xe()},leave(T,R){const O=String(t.key);if(T[xu]&&T[xu](!0),n.isUnmounting)return R();re(g,[T]);let A=!1;const C=T[or]=xe=>{A||(A=!0,R(),xe?re(x,[T]):re(I,[T]),T[or]=void 0,ne[O]===t&&delete ne[O])};ne[O]=t,E?D(E,[T,C]):C()},clone(T){const R=sp(T,e,n,s,i);return i&&i(R),R}};return S}function _f(t){if(rd(t))return t=br(t),t.children=null,t}function R_(t){if(!rd(t))return Ab(t.type)&&t.children?Cb(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ue(n.default))return n.default()}}function gc(t,e){t.shapeFlag&6&&t.component?(t.transition=e,gc(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Pb(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===He?(o.patchFlag&128&&i++,s=s.concat(Pb(o.children,e,l))):(e||o.type!==Hn)&&s.push(l!=null?br(o,{key:l}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Ob(t,e){return Ue(t)?hn({name:t.name},e,{setup:t}):t}function kb(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function vh(t,e,n,s,i=!1){if(Pe(t)){t.forEach((I,x)=>vh(I,e&&(Pe(e)?e[x]:e),n,s,i));return}if(Zl(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&vh(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?ud(s.component):s.el,o=i?null:r,{i:l,r:c}=t,h=e&&e.r,d=l.refs===yt?l.refs={}:l.refs,p=l.setupState,g=st(p),E=p===yt?()=>!1:I=>ht(g,I);if(h!=null&&h!==c&&(Ht(h)?(d[h]=null,E(h)&&(p[h]=null)):Dt(h)&&(h.value=null)),Ue(c))xc(c,l,12,[o,d]);else{const I=Ht(c),x=Dt(c);if(I||x){const N=()=>{if(t.f){const j=I?E(c)?p[c]:d[c]:c.value;i?Pe(j)&&Xp(j,r):Pe(j)?j.includes(r)||j.push(r):I?(d[c]=[r],E(c)&&(p[c]=d[c])):(c.value=[r],t.k&&(d[t.k]=c.value))}else I?(d[c]=o,E(c)&&(p[c]=o)):x&&(c.value=o,t.k&&(d[t.k]=o))};o?(N.id=-1,Xn(N,n)):N()}}}td().requestIdleCallback;td().cancelIdleCallback;const Zl=t=>!!t.type.__asyncLoader,rd=t=>t.type.__isKeepAlive;function pC(t,e){Db(t,"a",e)}function mC(t,e){Db(t,"da",e)}function Db(t,e,n=un){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(od(e,s,n),n){let i=n.parent;for(;i&&i.parent;)rd(i.parent.vnode)&&gC(s,e,n,i),i=i.parent}}function gC(t,e,n,s){const i=od(e,t,s,!0);ad(()=>{Xp(s[e],i)},n)}function od(t,e,n=un,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{xr();const l=Nc(n),c=Ns(e,n,t,o);return l(),Nr(),c});return s?i.unshift(r):i.push(r),r}}const Ni=t=>(e,n=un)=>{(!vc||t==="sp")&&od(t,(...s)=>e(...s),n)},_C=Ni("bm"),zn=Ni("m"),vC=Ni("bu"),yC=Ni("u"),xb=Ni("bum"),ad=Ni("um"),EC=Ni("sp"),bC=Ni("rtg"),wC=Ni("rtc");function TC(t,e=un){od("ec",t,e)}const AC="components";function ls(t,e){return SC(AC,t,!0,e)||t}const IC=Symbol.for("v-ndc");function SC(t,e,n=!0,s=!1){const i=Vn||un;if(i){const r=i.type;{const l=p1(r,!1);if(l&&(l===e||l===Es(e)||l===ed(Es(e))))return r}const o=P_(i[t]||r[t],e)||P_(i.appContext[t],e);return!o&&s?r:o}}function P_(t,e){return t&&(t[e]||t[Es(e)]||t[ed(Es(e))])}function Ot(t,e,n,s){let i;const r=n,o=Pe(t);if(o||Ht(t)){const l=o&&mr(t);let c=!1;l&&(c=!_s(t),t=sd(t)),i=new Array(t.length);for(let h=0,d=t.length;h<d;h++)i[h]=e(c?wn(t[h]):t[h],h,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,r)}else if(Et(t))if(t[Symbol.iterator])i=Array.from(t,(l,c)=>e(l,c,void 0,r));else{const l=Object.keys(t);i=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const d=l[c];i[c]=e(t[d],d,c,r)}}else i=[];return i}const ip=t=>t?ew(t)?ud(t):ip(t.parent):null,ec=hn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ip(t.parent),$root:t=>ip(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Lb(t),$forceUpdate:t=>t.f||(t.f=()=>{am(t.update)}),$nextTick:t=>t.n||(t.n=wo.bind(t.proxy)),$watch:t=>GC.bind(t)}),vf=(t,e)=>t!==yt&&!t.__isScriptSetup&&ht(t,e),CC={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:c}=t;let h;if(e[0]!=="$"){const E=o[e];if(E!==void 0)switch(E){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(vf(s,e))return o[e]=1,s[e];if(i!==yt&&ht(i,e))return o[e]=2,i[e];if((h=t.propsOptions[0])&&ht(h,e))return o[e]=3,r[e];if(n!==yt&&ht(n,e))return o[e]=4,n[e];rp&&(o[e]=0)}}const d=ec[e];let p,g;if(d)return e==="$attrs"&&bn(t.attrs,"get",""),d(t);if((p=l.__cssModules)&&(p=p[e]))return p;if(n!==yt&&ht(n,e))return o[e]=4,n[e];if(g=c.config.globalProperties,ht(g,e))return g[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return vf(i,e)?(i[e]=n,!0):s!==yt&&ht(s,e)?(s[e]=n,!0):ht(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let l;return!!n[o]||t!==yt&&ht(t,o)||vf(e,o)||(l=r[0])&&ht(l,o)||ht(s,o)||ht(ec,o)||ht(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ht(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function O_(t){return Pe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let rp=!0;function RC(t){const e=Lb(t),n=t.proxy,s=t.ctx;rp=!1,e.beforeCreate&&k_(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:l,provide:c,inject:h,created:d,beforeMount:p,mounted:g,beforeUpdate:E,updated:I,activated:x,deactivated:N,beforeDestroy:j,beforeUnmount:$,destroyed:U,unmounted:B,render:ne,renderTracked:re,renderTriggered:D,errorCaptured:S,serverPrefetch:T,expose:R,inheritAttrs:O,components:A,directives:C,filters:xe}=e;if(h&&PC(h,s,null),o)for(const we in o){const Be=o[we];Ue(Be)&&(s[we]=Be.bind(n))}if(i){const we=i.call(n,n);Et(we)&&(t.data=Dc(we))}if(rp=!0,r)for(const we in r){const Be=r[we],Rt=Ue(Be)?Be.bind(n,n):Ue(Be.get)?Be.get.bind(n,n):Ys,Q=!Ue(Be)&&Ue(Be.set)?Be.set.bind(n):Ys,qt=kt({get:Rt,set:Q});Object.defineProperty(s,we,{enumerable:!0,configurable:!0,get:()=>qt.value,set:rt=>qt.value=rt})}if(l)for(const we in l)Nb(l[we],s,n,we);if(c){const we=Ue(c)?c.call(n):c;Reflect.ownKeys(we).forEach(Be=>{Qu(Be,we[Be])})}d&&k_(d,t,"c");function Le(we,Be){Pe(Be)?Be.forEach(Rt=>we(Rt.bind(n))):Be&&we(Be.bind(n))}if(Le(_C,p),Le(zn,g),Le(vC,E),Le(yC,I),Le(pC,x),Le(mC,N),Le(TC,S),Le(wC,re),Le(bC,D),Le(xb,$),Le(ad,B),Le(EC,T),Pe(R))if(R.length){const we=t.exposed||(t.exposed={});R.forEach(Be=>{Object.defineProperty(we,Be,{get:()=>n[Be],set:Rt=>n[Be]=Rt})})}else t.exposed||(t.exposed={});ne&&t.render===Ys&&(t.render=ne),O!=null&&(t.inheritAttrs=O),A&&(t.components=A),C&&(t.directives=C),T&&kb(t)}function PC(t,e,n=Ys){Pe(t)&&(t=op(t));for(const s in t){const i=t[s];let r;Et(i)?"default"in i?r=vs(i.from||s,i.default,!0):r=vs(i.from||s):r=vs(i),Dt(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function k_(t,e,n){Ns(Pe(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Nb(t,e,n,s){let i=s.includes(".")?Qb(n,s):()=>n[s];if(Ht(t)){const r=e[t];Ue(r)&&ns(i,r)}else if(Ue(t))ns(i,t.bind(n));else if(Et(t))if(Pe(t))t.forEach(r=>Nb(r,e,n,s));else{const r=Ue(t.handler)?t.handler.bind(n):e[t.handler];Ue(r)&&ns(i,r,t)}}function Lb(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(e);let c;return l?c=l:!i.length&&!n&&!s?c=e:(c={},i.length&&i.forEach(h=>yh(c,h,o,!0)),yh(c,e,o)),Et(e)&&r.set(e,c),c}function yh(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&yh(t,r,n,!0),i&&i.forEach(o=>yh(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=OC[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const OC={data:D_,props:x_,emits:x_,methods:Hl,computed:Hl,beforeCreate:xn,created:xn,beforeMount:xn,mounted:xn,beforeUpdate:xn,updated:xn,beforeDestroy:xn,beforeUnmount:xn,destroyed:xn,unmounted:xn,activated:xn,deactivated:xn,errorCaptured:xn,serverPrefetch:xn,components:Hl,directives:Hl,watch:DC,provide:D_,inject:kC};function D_(t,e){return e?t?function(){return hn(Ue(t)?t.call(this,this):t,Ue(e)?e.call(this,this):e)}:e:t}function kC(t,e){return Hl(op(t),op(e))}function op(t){if(Pe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function xn(t,e){return t?[...new Set([].concat(t,e))]:e}function Hl(t,e){return t?hn(Object.create(null),t,e):e}function x_(t,e){return t?Pe(t)&&Pe(e)?[...new Set([...t,...e])]:hn(Object.create(null),O_(t),O_(e??{})):e}function DC(t,e){if(!t)return e;if(!e)return t;const n=hn(Object.create(null),t);for(const s in e)n[s]=xn(t[s],e[s]);return n}function Vb(){return{app:null,config:{isNativeTag:_S,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xC=0;function NC(t,e){return function(s,i=null){Ue(s)||(s=hn({},s)),i!=null&&!Et(i)&&(i=null);const r=Vb(),o=new WeakSet,l=[];let c=!1;const h=r.app={_uid:xC++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:g1,get config(){return r.config},set config(d){},use(d,...p){return o.has(d)||(d&&Ue(d.install)?(o.add(d),d.install(h,...p)):Ue(d)&&(o.add(d),d(h,...p))),h},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),h},component(d,p){return p?(r.components[d]=p,h):r.components[d]},directive(d,p){return p?(r.directives[d]=p,h):r.directives[d]},mount(d,p,g){if(!c){const E=h._ceVNode||me(s,i);return E.appContext=r,g===!0?g="svg":g===!1&&(g=void 0),t(E,d,g),c=!0,h._container=d,d.__vue_app__=h,ud(E.component)}},onUnmount(d){l.push(d)},unmount(){c&&(Ns(l,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(d,p){return r.provides[d]=p,h},runWithContext(d){const p=To;To=h;try{return d()}finally{To=p}}};return h}}let To=null;function Qu(t,e){if(un){let n=un.provides;const s=un.parent&&un.parent.provides;s===n&&(n=un.provides=Object.create(s)),n[t]=e}}function vs(t,e,n=!1){const s=un||Vn;if(s||To){const i=To?To._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ue(e)?e.call(s&&s.proxy):e}}function LC(){return!!(un||Vn||To)}const Mb={},$b=()=>Object.create(Mb),Fb=t=>Object.getPrototypeOf(t)===Mb;function VC(t,e,n,s=!1){const i={},r=$b();t.propsDefaults=Object.create(null),Ub(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:mb(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function MC(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,l=st(i),[c]=t.propsOptions;let h=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let p=0;p<d.length;p++){let g=d[p];if(ld(t.emitsOptions,g))continue;const E=e[g];if(c)if(ht(r,g))E!==r[g]&&(r[g]=E,h=!0);else{const I=Es(g);i[I]=ap(c,l,I,E,t,!1)}else E!==r[g]&&(r[g]=E,h=!0)}}}else{Ub(t,e,i,r)&&(h=!0);let d;for(const p in l)(!e||!ht(e,p)&&((d=Mo(p))===p||!ht(e,d)))&&(c?n&&(n[p]!==void 0||n[d]!==void 0)&&(i[p]=ap(c,l,p,void 0,t,!0)):delete i[p]);if(r!==l)for(const p in r)(!e||!ht(e,p))&&(delete r[p],h=!0)}h&&yi(t.attrs,"set","")}function Ub(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,l;if(e)for(let c in e){if(Yl(c))continue;const h=e[c];let d;i&&ht(i,d=Es(c))?!r||!r.includes(d)?n[d]=h:(l||(l={}))[d]=h:ld(t.emitsOptions,c)||(!(c in s)||h!==s[c])&&(s[c]=h,o=!0)}if(r){const c=st(n),h=l||yt;for(let d=0;d<r.length;d++){const p=r[d];n[p]=ap(i,c,p,h[p],t,!ht(h,p))}}return o}function ap(t,e,n,s,i,r){const o=t[n];if(o!=null){const l=ht(o,"default");if(l&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Ue(c)){const{propsDefaults:h}=i;if(n in h)s=h[n];else{const d=Nc(i);s=h[n]=c.call(null,e),d()}}else s=c;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===Mo(n))&&(s=!0))}return s}const $C=new WeakMap;function jb(t,e,n=!1){const s=n?$C:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},l=[];let c=!1;if(!Ue(t)){const d=p=>{c=!0;const[g,E]=jb(p,e,!0);hn(o,g),E&&l.push(...E)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!c)return Et(t)&&s.set(t,Ia),Ia;if(Pe(r))for(let d=0;d<r.length;d++){const p=Es(r[d]);N_(p)&&(o[p]=yt)}else if(r)for(const d in r){const p=Es(d);if(N_(p)){const g=r[d],E=o[p]=Pe(g)||Ue(g)?{type:g}:hn({},g),I=E.type;let x=!1,N=!0;if(Pe(I))for(let j=0;j<I.length;++j){const $=I[j],U=Ue($)&&$.name;if(U==="Boolean"){x=!0;break}else U==="String"&&(N=!1)}else x=Ue(I)&&I.name==="Boolean";E[0]=x,E[1]=N,(x||ht(E,"default"))&&l.push(p)}}const h=[o,l];return Et(t)&&s.set(t,h),h}function N_(t){return t[0]!=="$"&&!Yl(t)}const Bb=t=>t[0]==="_"||t==="$stable",lm=t=>Pe(t)?t.map(Qs):[Qs(t)],FC=(t,e,n)=>{if(e._n)return e;const s=ut((...i)=>lm(e(...i)),n);return s._c=!1,s},Hb=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Bb(i))continue;const r=t[i];if(Ue(r))e[i]=FC(i,r,s);else if(r!=null){const o=lm(r);e[i]=()=>o}}},qb=(t,e)=>{const n=lm(e);t.slots.default=()=>n},Wb=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},UC=(t,e,n)=>{const s=t.slots=$b();if(t.vnode.shapeFlag&32){const i=e._;i?(Wb(s,e,n),n&&GE(s,"_",i,!0)):Hb(e,s)}else e&&qb(t,e)},jC=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=yt;if(s.shapeFlag&32){const l=e._;l?n&&l===1?r=!1:Wb(i,e,n):(r=!e.$stable,Hb(e,i)),o=e}else e&&(qb(t,e),o={default:1});if(r)for(const l in i)!Bb(l)&&o[l]==null&&delete i[l]},Xn=t1;function BC(t){return HC(t)}function HC(t,e){const n=td();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:c,setText:h,setElementText:d,parentNode:p,nextSibling:g,setScopeId:E=Ys,insertStaticContent:I}=t,x=(P,k,M,K=null,G=null,Y=null,he=void 0,ae=null,oe=!!k.dynamicChildren)=>{if(P===k)return;P&&!mo(P,k)&&(K=z(P),rt(P,G,Y,!0),P=null),k.patchFlag===-2&&(oe=!1,k.dynamicChildren=null);const{type:te,ref:Se,shapeFlag:de}=k;switch(te){case cd:N(P,k,M,K);break;case Hn:j(P,k,M,K);break;case Yu:P==null&&$(k,M,K,he);break;case He:A(P,k,M,K,G,Y,he,ae,oe);break;default:de&1?ne(P,k,M,K,G,Y,he,ae,oe):de&6?C(P,k,M,K,G,Y,he,ae,oe):(de&64||de&128)&&te.process(P,k,M,K,G,Y,he,ae,oe,ve)}Se!=null&&G&&vh(Se,P&&P.ref,Y,k||P,!k)},N=(P,k,M,K)=>{if(P==null)s(k.el=l(k.children),M,K);else{const G=k.el=P.el;k.children!==P.children&&h(G,k.children)}},j=(P,k,M,K)=>{P==null?s(k.el=c(k.children||""),M,K):k.el=P.el},$=(P,k,M,K)=>{[P.el,P.anchor]=I(P.children,k,M,K,P.el,P.anchor)},U=({el:P,anchor:k},M,K)=>{let G;for(;P&&P!==k;)G=g(P),s(P,M,K),P=G;s(k,M,K)},B=({el:P,anchor:k})=>{let M;for(;P&&P!==k;)M=g(P),i(P),P=M;i(k)},ne=(P,k,M,K,G,Y,he,ae,oe)=>{k.type==="svg"?he="svg":k.type==="math"&&(he="mathml"),P==null?re(k,M,K,G,Y,he,ae,oe):T(P,k,G,Y,he,ae,oe)},re=(P,k,M,K,G,Y,he,ae)=>{let oe,te;const{props:Se,shapeFlag:de,transition:Ee,dirs:Te}=P;if(oe=P.el=o(P.type,Y,Se&&Se.is,Se),de&8?d(oe,P.children):de&16&&S(P.children,oe,null,K,G,yf(P,Y),he,ae),Te&&lo(P,null,K,"created"),D(oe,P,P.scopeId,he,K),Se){for(const Ne in Se)Ne!=="value"&&!Yl(Ne)&&r(oe,Ne,null,Se[Ne],Y,K);"value"in Se&&r(oe,"value",null,Se.value,Y),(te=Se.onVnodeBeforeMount)&&zs(te,K,P)}Te&&lo(P,null,K,"beforeMount");const Ae=qC(G,Ee);Ae&&Ee.beforeEnter(oe),s(oe,k,M),((te=Se&&Se.onVnodeMounted)||Ae||Te)&&Xn(()=>{te&&zs(te,K,P),Ae&&Ee.enter(oe),Te&&lo(P,null,K,"mounted")},G)},D=(P,k,M,K,G)=>{if(M&&E(P,M),K)for(let Y=0;Y<K.length;Y++)E(P,K[Y]);if(G){let Y=G.subTree;if(k===Y||Xb(Y.type)&&(Y.ssContent===k||Y.ssFallback===k)){const he=G.vnode;D(P,he,he.scopeId,he.slotScopeIds,G.parent)}}},S=(P,k,M,K,G,Y,he,ae,oe=0)=>{for(let te=oe;te<P.length;te++){const Se=P[te]=ae?ar(P[te]):Qs(P[te]);x(null,Se,k,M,K,G,Y,he,ae)}},T=(P,k,M,K,G,Y,he)=>{const ae=k.el=P.el;let{patchFlag:oe,dynamicChildren:te,dirs:Se}=k;oe|=P.patchFlag&16;const de=P.props||yt,Ee=k.props||yt;let Te;if(M&&co(M,!1),(Te=Ee.onVnodeBeforeUpdate)&&zs(Te,M,k,P),Se&&lo(k,P,M,"beforeUpdate"),M&&co(M,!0),(de.innerHTML&&Ee.innerHTML==null||de.textContent&&Ee.textContent==null)&&d(ae,""),te?R(P.dynamicChildren,te,ae,M,K,yf(k,G),Y):he||Be(P,k,ae,null,M,K,yf(k,G),Y,!1),oe>0){if(oe&16)O(ae,de,Ee,M,G);else if(oe&2&&de.class!==Ee.class&&r(ae,"class",null,Ee.class,G),oe&4&&r(ae,"style",de.style,Ee.style,G),oe&8){const Ae=k.dynamicProps;for(let Ne=0;Ne<Ae.length;Ne++){const ze=Ae[Ne],Nt=de[ze],Pt=Ee[ze];(Pt!==Nt||ze==="value")&&r(ae,ze,Nt,Pt,G,M)}}oe&1&&P.children!==k.children&&d(ae,k.children)}else!he&&te==null&&O(ae,de,Ee,M,G);((Te=Ee.onVnodeUpdated)||Se)&&Xn(()=>{Te&&zs(Te,M,k,P),Se&&lo(k,P,M,"updated")},K)},R=(P,k,M,K,G,Y,he)=>{for(let ae=0;ae<k.length;ae++){const oe=P[ae],te=k[ae],Se=oe.el&&(oe.type===He||!mo(oe,te)||oe.shapeFlag&70)?p(oe.el):M;x(oe,te,Se,null,K,G,Y,he,!0)}},O=(P,k,M,K,G)=>{if(k!==M){if(k!==yt)for(const Y in k)!Yl(Y)&&!(Y in M)&&r(P,Y,k[Y],null,G,K);for(const Y in M){if(Yl(Y))continue;const he=M[Y],ae=k[Y];he!==ae&&Y!=="value"&&r(P,Y,ae,he,G,K)}"value"in M&&r(P,"value",k.value,M.value,G)}},A=(P,k,M,K,G,Y,he,ae,oe)=>{const te=k.el=P?P.el:l(""),Se=k.anchor=P?P.anchor:l("");let{patchFlag:de,dynamicChildren:Ee,slotScopeIds:Te}=k;Te&&(ae=ae?ae.concat(Te):Te),P==null?(s(te,M,K),s(Se,M,K),S(k.children||[],M,Se,G,Y,he,ae,oe)):de>0&&de&64&&Ee&&P.dynamicChildren?(R(P.dynamicChildren,Ee,M,G,Y,he,ae),(k.key!=null||G&&k===G.subTree)&&zb(P,k,!0)):Be(P,k,M,Se,G,Y,he,ae,oe)},C=(P,k,M,K,G,Y,he,ae,oe)=>{k.slotScopeIds=ae,P==null?k.shapeFlag&512?G.ctx.activate(k,M,K,he,oe):xe(k,M,K,G,Y,he,oe):it(P,k,oe)},xe=(P,k,M,K,G,Y,he)=>{const ae=P.component=l1(P,K,G);if(rd(P)&&(ae.ctx.renderer=ve),u1(ae,!1,he),ae.asyncDep){if(G&&G.registerDep(ae,Le,he),!P.el){const oe=ae.subTree=me(Hn);j(null,oe,k,M)}}else Le(ae,P,k,M,G,Y,he)},it=(P,k,M)=>{const K=k.component=P.component;if(ZC(P,k,M))if(K.asyncDep&&!K.asyncResolved){we(K,k,M);return}else K.next=k,K.update();else k.el=P.el,K.vnode=k},Le=(P,k,M,K,G,Y,he)=>{const ae=()=>{if(P.isMounted){let{next:de,bu:Ee,u:Te,parent:Ae,vnode:Ne}=P;{const $t=Kb(P);if($t){de&&(de.el=Ne.el,we(P,de,he)),$t.asyncDep.then(()=>{P.isUnmounted||ae()});return}}let ze=de,Nt;co(P,!1),de?(de.el=Ne.el,we(P,de,he)):de=Ne,Ee&&Gu(Ee),(Nt=de.props&&de.props.onVnodeBeforeUpdate)&&zs(Nt,Ae,de,Ne),co(P,!0);const Pt=V_(P),Gt=P.subTree;P.subTree=Pt,x(Gt,Pt,p(Gt.el),z(Gt),P,G,Y),de.el=Pt.el,ze===null&&e1(P,Pt.el),Te&&Xn(Te,G),(Nt=de.props&&de.props.onVnodeUpdated)&&Xn(()=>zs(Nt,Ae,de,Ne),G)}else{let de;const{el:Ee,props:Te}=k,{bm:Ae,m:Ne,parent:ze,root:Nt,type:Pt}=P,Gt=Zl(k);co(P,!1),Ae&&Gu(Ae),!Gt&&(de=Te&&Te.onVnodeBeforeMount)&&zs(de,ze,k),co(P,!0);{Nt.ce&&Nt.ce._injectChildStyle(Pt);const $t=P.subTree=V_(P);x(null,$t,M,K,P,G,Y),k.el=$t.el}if(Ne&&Xn(Ne,G),!Gt&&(de=Te&&Te.onVnodeMounted)){const $t=k;Xn(()=>zs(de,ze,$t),G)}(k.shapeFlag&256||ze&&Zl(ze.vnode)&&ze.vnode.shapeFlag&256)&&P.a&&Xn(P.a,G),P.isMounted=!0,k=M=K=null}};P.scope.on();const oe=P.effect=new tb(ae);P.scope.off();const te=P.update=oe.run.bind(oe),Se=P.job=oe.runIfDirty.bind(oe);Se.i=P,Se.id=P.uid,oe.scheduler=()=>am(Se),co(P,!0),te()},we=(P,k,M)=>{k.component=P;const K=P.vnode.props;P.vnode=k,P.next=null,MC(P,k.props,K,M),jC(P,k.children,M),xr(),C_(P),Nr()},Be=(P,k,M,K,G,Y,he,ae,oe=!1)=>{const te=P&&P.children,Se=P?P.shapeFlag:0,de=k.children,{patchFlag:Ee,shapeFlag:Te}=k;if(Ee>0){if(Ee&128){Q(te,de,M,K,G,Y,he,ae,oe);return}else if(Ee&256){Rt(te,de,M,K,G,Y,he,ae,oe);return}}Te&8?(Se&16&&at(te,G,Y),de!==te&&d(M,de)):Se&16?Te&16?Q(te,de,M,K,G,Y,he,ae,oe):at(te,G,Y,!0):(Se&8&&d(M,""),Te&16&&S(de,M,K,G,Y,he,ae,oe))},Rt=(P,k,M,K,G,Y,he,ae,oe)=>{P=P||Ia,k=k||Ia;const te=P.length,Se=k.length,de=Math.min(te,Se);let Ee;for(Ee=0;Ee<de;Ee++){const Te=k[Ee]=oe?ar(k[Ee]):Qs(k[Ee]);x(P[Ee],Te,M,null,G,Y,he,ae,oe)}te>Se?at(P,G,Y,!0,!1,de):S(k,M,K,G,Y,he,ae,oe,de)},Q=(P,k,M,K,G,Y,he,ae,oe)=>{let te=0;const Se=k.length;let de=P.length-1,Ee=Se-1;for(;te<=de&&te<=Ee;){const Te=P[te],Ae=k[te]=oe?ar(k[te]):Qs(k[te]);if(mo(Te,Ae))x(Te,Ae,M,null,G,Y,he,ae,oe);else break;te++}for(;te<=de&&te<=Ee;){const Te=P[de],Ae=k[Ee]=oe?ar(k[Ee]):Qs(k[Ee]);if(mo(Te,Ae))x(Te,Ae,M,null,G,Y,he,ae,oe);else break;de--,Ee--}if(te>de){if(te<=Ee){const Te=Ee+1,Ae=Te<Se?k[Te].el:K;for(;te<=Ee;)x(null,k[te]=oe?ar(k[te]):Qs(k[te]),M,Ae,G,Y,he,ae,oe),te++}}else if(te>Ee)for(;te<=de;)rt(P[te],G,Y,!0),te++;else{const Te=te,Ae=te,Ne=new Map;for(te=Ae;te<=Ee;te++){const Qt=k[te]=oe?ar(k[te]):Qs(k[te]);Qt.key!=null&&Ne.set(Qt.key,te)}let ze,Nt=0;const Pt=Ee-Ae+1;let Gt=!1,$t=0;const $s=new Array(Pt);for(te=0;te<Pt;te++)$s[te]=0;for(te=Te;te<=de;te++){const Qt=P[te];if(Nt>=Pt){rt(Qt,G,Y,!0);continue}let Fn;if(Qt.key!=null)Fn=Ne.get(Qt.key);else for(ze=Ae;ze<=Ee;ze++)if($s[ze-Ae]===0&&mo(Qt,k[ze])){Fn=ze;break}Fn===void 0?rt(Qt,G,Y,!0):($s[Fn-Ae]=te+1,Fn>=$t?$t=Fn:Gt=!0,x(Qt,k[Fn],M,null,G,Y,he,ae,oe),Nt++)}const ri=Gt?WC($s):Ia;for(ze=ri.length-1,te=Pt-1;te>=0;te--){const Qt=Ae+te,Fn=k[Qt],Wo=Qt+1<Se?k[Qt+1].el:K;$s[te]===0?x(null,Fn,M,Wo,G,Y,he,ae,oe):Gt&&(ze<0||te!==ri[ze]?qt(Fn,M,Wo,2):ze--)}}},qt=(P,k,M,K,G=null)=>{const{el:Y,type:he,transition:ae,children:oe,shapeFlag:te}=P;if(te&6){qt(P.component.subTree,k,M,K);return}if(te&128){P.suspense.move(k,M,K);return}if(te&64){he.move(P,k,M,ve);return}if(he===He){s(Y,k,M);for(let de=0;de<oe.length;de++)qt(oe[de],k,M,K);s(P.anchor,k,M);return}if(he===Yu){U(P,k,M);return}if(K!==2&&te&1&&ae)if(K===0)ae.beforeEnter(Y),s(Y,k,M),Xn(()=>ae.enter(Y),G);else{const{leave:de,delayLeave:Ee,afterLeave:Te}=ae,Ae=()=>s(Y,k,M),Ne=()=>{de(Y,()=>{Ae(),Te&&Te()})};Ee?Ee(Y,Ae,Ne):Ne()}else s(Y,k,M)},rt=(P,k,M,K=!1,G=!1)=>{const{type:Y,props:he,ref:ae,children:oe,dynamicChildren:te,shapeFlag:Se,patchFlag:de,dirs:Ee,cacheIndex:Te}=P;if(de===-2&&(G=!1),ae!=null&&vh(ae,null,M,P,!0),Te!=null&&(k.renderCache[Te]=void 0),Se&256){k.ctx.deactivate(P);return}const Ae=Se&1&&Ee,Ne=!Zl(P);let ze;if(Ne&&(ze=he&&he.onVnodeBeforeUnmount)&&zs(ze,k,P),Se&6)It(P.component,M,K);else{if(Se&128){P.suspense.unmount(M,K);return}Ae&&lo(P,null,k,"beforeUnmount"),Se&64?P.type.remove(P,k,M,ve,K):te&&!te.hasOnce&&(Y!==He||de>0&&de&64)?at(te,k,M,!1,!0):(Y===He&&de&384||!G&&Se&16)&&at(oe,k,M),K&&ot(P)}(Ne&&(ze=he&&he.onVnodeUnmounted)||Ae)&&Xn(()=>{ze&&zs(ze,k,P),Ae&&lo(P,null,k,"unmounted")},M)},ot=P=>{const{type:k,el:M,anchor:K,transition:G}=P;if(k===He){At(M,K);return}if(k===Yu){B(P);return}const Y=()=>{i(M),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(P.shapeFlag&1&&G&&!G.persisted){const{leave:he,delayLeave:ae}=G,oe=()=>he(M,Y);ae?ae(P.el,Y,oe):oe()}else Y()},At=(P,k)=>{let M;for(;P!==k;)M=g(P),i(P),P=M;i(k)},It=(P,k,M)=>{const{bum:K,scope:G,job:Y,subTree:he,um:ae,m:oe,a:te}=P;L_(oe),L_(te),K&&Gu(K),G.stop(),Y&&(Y.flags|=8,rt(he,P,k,M)),ae&&Xn(ae,k),Xn(()=>{P.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},at=(P,k,M,K=!1,G=!1,Y=0)=>{for(let he=Y;he<P.length;he++)rt(P[he],k,M,K,G)},z=P=>{if(P.shapeFlag&6)return z(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const k=g(P.anchor||P.el),M=k&&k[uC];return M?g(M):k};let W=!1;const le=(P,k,M)=>{P==null?k._vnode&&rt(k._vnode,null,null,!0):x(k._vnode||null,P,k,null,null,null,M),k._vnode=P,W||(W=!0,C_(),bb(),W=!1)},ve={p:x,um:rt,m:qt,r:ot,mt:xe,mc:S,pc:Be,pbc:R,n:z,o:t};return{render:le,hydrate:void 0,createApp:NC(le)}}function yf({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function co({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function qC(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function zb(t,e,n=!1){const s=t.children,i=e.children;if(Pe(s)&&Pe(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=ar(i[r]),l.el=o.el),!n&&l.patchFlag!==-2&&zb(o,l)),l.type===cd&&(l.el=o.el)}}function WC(t){const e=t.slice(),n=[0];let s,i,r,o,l;const c=t.length;for(s=0;s<c;s++){const h=t[s];if(h!==0){if(i=n[n.length-1],t[i]<h){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,t[n[l]]<h?r=l+1:o=l;h<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Kb(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Kb(e)}function L_(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const zC=Symbol.for("v-scx"),KC=()=>vs(zC);function ns(t,e,n){return Gb(t,e,n)}function Gb(t,e,n=yt){const{immediate:s,deep:i,flush:r,once:o}=n,l=hn({},n),c=e&&s||!e&&r!=="post";let h;if(vc){if(r==="sync"){const E=KC();h=E.__watcherHandles||(E.__watcherHandles=[])}else if(!c){const E=()=>{};return E.stop=Ys,E.resume=Ys,E.pause=Ys,E}}const d=un;l.call=(E,I,x)=>Ns(E,d,I,x);let p=!1;r==="post"?l.scheduler=E=>{Xn(E,d&&d.suspense)}:r!=="sync"&&(p=!0,l.scheduler=(E,I)=>{I?E():am(E)}),l.augmentJob=E=>{e&&(E.flags|=4),p&&(E.flags|=2,d&&(E.id=d.uid,E.i=d))};const g=oC(t,e,l);return vc&&(h?h.push(g):c&&g()),g}function GC(t,e,n){const s=this.proxy,i=Ht(t)?t.includes(".")?Qb(s,t):()=>s[t]:t.bind(s,s);let r;Ue(e)?r=e:(r=e.handler,n=e);const o=Nc(this),l=Gb(i,r.bind(s),n);return o(),l}function Qb(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const QC=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Es(e)}Modifiers`]||t[`${Mo(e)}Modifiers`];function YC(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||yt;let i=n;const r=e.startsWith("update:"),o=r&&QC(s,e.slice(7));o&&(o.trim&&(i=n.map(d=>Ht(d)?d.trim():d)),o.number&&(i=n.map(fh)));let l,c=s[l=df(e)]||s[l=df(Es(e))];!c&&r&&(c=s[l=df(Mo(e))]),c&&Ns(c,t,6,i);const h=s[l+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Ns(h,t,6,i)}}function Yb(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},l=!1;if(!Ue(t)){const c=h=>{const d=Yb(h,e,!0);d&&(l=!0,hn(o,d))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!r&&!l?(Et(t)&&s.set(t,null),null):(Pe(r)?r.forEach(c=>o[c]=null):hn(o,r),Et(t)&&s.set(t,o),o)}function ld(t,e){return!t||!Xh(e)?!1:(e=e.slice(2).replace(/Once$/,""),ht(t,e[0].toLowerCase()+e.slice(1))||ht(t,Mo(e))||ht(t,e))}function V_(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:c,render:h,renderCache:d,props:p,data:g,setupState:E,ctx:I,inheritAttrs:x}=t,N=_h(t);let j,$;try{if(n.shapeFlag&4){const B=i||s,ne=B;j=Qs(h.call(ne,B,d,p,E,g,I)),$=l}else{const B=e;j=Qs(B.length>1?B(p,{attrs:l,slots:o,emit:c}):B(p,null)),$=e.props?l:XC(l)}}catch(B){tc.length=0,id(B,t,1),j=me(Hn)}let U=j;if($&&x!==!1){const B=Object.keys($),{shapeFlag:ne}=U;B.length&&ne&7&&(r&&B.some(Yp)&&($=JC($,r)),U=br(U,$,!1,!0))}return n.dirs&&(U=br(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&gc(U,n.transition),j=U,_h(N),j}const XC=t=>{let e;for(const n in t)(n==="class"||n==="style"||Xh(n))&&((e||(e={}))[n]=t[n]);return e},JC=(t,e)=>{const n={};for(const s in t)(!Yp(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function ZC(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:l,patchFlag:c}=e,h=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?M_(s,o,h):!!o;if(c&8){const d=e.dynamicProps;for(let p=0;p<d.length;p++){const g=d[p];if(o[g]!==s[g]&&!ld(h,g))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?M_(s,o,h):!0:!!o;return!1}function M_(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!ld(n,r))return!0}return!1}function e1({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Xb=t=>t.__isSuspense;function t1(t,e){e&&e.pendingBranch?Pe(t)?e.effects.push(...t):e.effects.push(t):cC(t)}const He=Symbol.for("v-fgt"),cd=Symbol.for("v-txt"),Hn=Symbol.for("v-cmt"),Yu=Symbol.for("v-stc"),tc=[];let es=null;function ee(t=!1){tc.push(es=t?null:[])}function n1(){tc.pop(),es=tc[tc.length-1]||null}let _c=1;function $_(t,e=!1){_c+=t,t<0&&es&&e&&(es.hasOnce=!0)}function Jb(t){return t.dynamicChildren=_c>0?es||Ia:null,n1(),_c>0&&es&&es.push(t),t}function se(t,e,n,s,i,r){return Jb(v(t,e,n,s,i,r,!0))}function cm(t,e,n,s,i){return Jb(me(t,e,n,s,i,!0))}function Eh(t){return t?t.__v_isVNode===!0:!1}function mo(t,e){return t.type===e.type&&t.key===e.key}const Zb=({key:t})=>t??null,Xu=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ht(t)||Dt(t)||Ue(t)?{i:Vn,r:t,k:e,f:!!n}:t:null);function v(t,e=null,n=null,s=0,i=null,r=t===He?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Zb(e),ref:e&&Xu(e),scopeId:Tb,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Vn};return l?(um(c,n),r&128&&t.normalize(c)):n&&(c.shapeFlag|=Ht(n)?8:16),_c>0&&!o&&es&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&es.push(c),c}const me=s1;function s1(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===IC)&&(t=Hn),Eh(t)){const l=br(t,e,!0);return n&&um(l,n),_c>0&&!r&&es&&(l.shapeFlag&6?es[es.indexOf(t)]=l:es.push(l)),l.patchFlag=-2,l}if(m1(t)&&(t=t.__vccOpts),e){e=i1(e);let{class:l,style:c}=e;l&&!Ht(l)&&(e.class=Jt(l)),Et(c)&&(rm(c)&&!Pe(c)&&(c=hn({},c)),e.style=Io(c))}const o=Ht(t)?1:Xb(t)?128:Ab(t)?64:Et(t)?4:Ue(t)?2:0;return v(t,e,n,s,i,o,r,!0)}function i1(t){return t?rm(t)||Fb(t)?hn({},t):t:null}function br(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:c}=t,h=e?r1(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&Zb(h),ref:e&&e.ref?n&&r?Pe(r)?r.concat(Xu(e)):[r,Xu(e)]:Xu(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==He?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&br(t.ssContent),ssFallback:t.ssFallback&&br(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&gc(d,c.clone(d)),d}function St(t=" ",e=0){return me(cd,null,t,e)}function bh(t,e){const n=me(Yu,null,t);return n.staticCount=e,n}function fn(t="",e=!1){return e?(ee(),cm(Hn,null,t)):me(Hn,null,t)}function Qs(t){return t==null||typeof t=="boolean"?me(Hn):Pe(t)?me(He,null,t.slice()):Eh(t)?ar(t):me(cd,null,String(t))}function ar(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:br(t)}function um(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Pe(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),um(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Fb(e)?e._ctx=Vn:i===3&&Vn&&(Vn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ue(e)?(e={default:e,_ctx:Vn},n=32):(e=String(e),s&64?(n=16,e=[St(e)]):n=8);t.children=e,t.shapeFlag|=n}function r1(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Jt([e.class,s.class]));else if(i==="style")e.style=Io([e.style,s.style]);else if(Xh(i)){const r=e[i],o=s[i];o&&r!==o&&!(Pe(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function zs(t,e,n,s=null){Ns(t,e,7,[n,s])}const o1=Vb();let a1=0;function l1(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||o1,r={uid:a1++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new JE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jb(s,i),emitsOptions:Yb(s,i),emit:null,emitted:null,propsDefaults:yt,inheritAttrs:s.inheritAttrs,ctx:yt,data:yt,props:yt,attrs:yt,slots:yt,refs:yt,setupState:yt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=YC.bind(null,r),t.ce&&t.ce(r),r}let un=null;const c1=()=>un||Vn;let wh,lp;{const t=td(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};wh=e("__VUE_INSTANCE_SETTERS__",n=>un=n),lp=e("__VUE_SSR_SETTERS__",n=>vc=n)}const Nc=t=>{const e=un;return wh(t),t.scope.on(),()=>{t.scope.off(),wh(e)}},F_=()=>{un&&un.scope.off(),wh(null)};function ew(t){return t.vnode.shapeFlag&4}let vc=!1;function u1(t,e=!1,n=!1){e&&lp(e);const{props:s,children:i}=t.vnode,r=ew(t);VC(t,s,r,e),UC(t,i,n);const o=r?h1(t,e):void 0;return e&&lp(!1),o}function h1(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,CC);const{setup:s}=n;if(s){xr();const i=t.setupContext=s.length>1?f1(t):null,r=Nc(t),o=xc(s,t,0,[t.props,i]),l=WE(o);if(Nr(),r(),(l||t.sp)&&!Zl(t)&&kb(t),l){if(o.then(F_,F_),e)return o.then(c=>{U_(t,c)}).catch(c=>{id(c,t,0)});t.asyncDep=o}else U_(t,o)}else tw(t)}function U_(t,e,n){Ue(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Et(e)&&(t.setupState=vb(e)),tw(t)}function tw(t,e,n){const s=t.type;t.render||(t.render=s.render||Ys);{const i=Nc(t);xr();try{RC(t)}finally{Nr(),i()}}}const d1={get(t,e){return bn(t,"get",""),t[e]}};function f1(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,d1),slots:t.slots,emit:t.emit,expose:e}}function ud(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(vb(om(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ec)return ec[n](t)},has(e,n){return n in e||n in ec}})):t.proxy}function p1(t,e=!0){return Ue(t)?t.displayName||t.name:t.name||e&&t.__name}function m1(t){return Ue(t)&&"__vccOpts"in t}const kt=(t,e)=>iC(t,e,vc);function hm(t,e,n){const s=arguments.length;return s===2?Et(e)&&!Pe(e)?Eh(e)?me(t,null,[e]):me(t,e):me(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Eh(n)&&(n=[n]),me(t,e,n))}const g1="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cp;const j_=typeof window<"u"&&window.trustedTypes;if(j_)try{cp=j_.createPolicy("vue",{createHTML:t=>t})}catch{}const nw=cp?t=>cp.createHTML(t):t=>t,_1="http://www.w3.org/2000/svg",v1="http://www.w3.org/1998/Math/MathML",vi=typeof document<"u"?document:null,B_=vi&&vi.createElement("template"),y1={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?vi.createElementNS(_1,t):e==="mathml"?vi.createElementNS(v1,t):n?vi.createElement(t,{is:n}):vi.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>vi.createTextNode(t),createComment:t=>vi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>vi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{B_.innerHTML=nw(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=B_.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},er="transition",Fl="animation",yc=Symbol("_vtc"),sw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},E1=hn({},Ib,sw),b1=t=>(t.displayName="Transition",t.props=E1,t),H_=b1((t,{slots:e})=>hm(fC,w1(t),e)),uo=(t,e=[])=>{Pe(t)?t.forEach(n=>n(...e)):t&&t(...e)},q_=t=>t?Pe(t)?t.some(e=>e.length>1):t.length>1:!1;function w1(t){const e={};for(const A in t)A in sw||(e[A]=t[A]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=r,appearActiveClass:h=o,appearToClass:d=l,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:E=`${n}-leave-to`}=t,I=T1(i),x=I&&I[0],N=I&&I[1],{onBeforeEnter:j,onEnter:$,onEnterCancelled:U,onLeave:B,onLeaveCancelled:ne,onBeforeAppear:re=j,onAppear:D=$,onAppearCancelled:S=U}=e,T=(A,C,xe,it)=>{A._enterCancelled=it,ho(A,C?d:l),ho(A,C?h:o),xe&&xe()},R=(A,C)=>{A._isLeaving=!1,ho(A,p),ho(A,E),ho(A,g),C&&C()},O=A=>(C,xe)=>{const it=A?D:$,Le=()=>T(C,A,xe);uo(it,[C,Le]),W_(()=>{ho(C,A?c:r),gi(C,A?d:l),q_(it)||z_(C,s,x,Le)})};return hn(e,{onBeforeEnter(A){uo(j,[A]),gi(A,r),gi(A,o)},onBeforeAppear(A){uo(re,[A]),gi(A,c),gi(A,h)},onEnter:O(!1),onAppear:O(!0),onLeave(A,C){A._isLeaving=!0;const xe=()=>R(A,C);gi(A,p),A._enterCancelled?(gi(A,g),Q_()):(Q_(),gi(A,g)),W_(()=>{A._isLeaving&&(ho(A,p),gi(A,E),q_(B)||z_(A,s,N,xe))}),uo(B,[A,xe])},onEnterCancelled(A){T(A,!1,void 0,!0),uo(U,[A])},onAppearCancelled(A){T(A,!0,void 0,!0),uo(S,[A])},onLeaveCancelled(A){R(A),uo(ne,[A])}})}function T1(t){if(t==null)return null;if(Et(t))return[Ef(t.enter),Ef(t.leave)];{const e=Ef(t);return[e,e]}}function Ef(t){return wS(t)}function gi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[yc]||(t[yc]=new Set)).add(e)}function ho(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[yc];n&&(n.delete(e),n.size||(t[yc]=void 0))}function W_(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let A1=0;function z_(t,e,n,s){const i=t._endId=++A1,r=()=>{i===t._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:l,propCount:c}=I1(t,e);if(!o)return s();const h=o+"end";let d=0;const p=()=>{t.removeEventListener(h,g),r()},g=E=>{E.target===t&&++d>=c&&p()};setTimeout(()=>{d<c&&p()},l+1),t.addEventListener(h,g)}function I1(t,e){const n=window.getComputedStyle(t),s=I=>(n[I]||"").split(", "),i=s(`${er}Delay`),r=s(`${er}Duration`),o=K_(i,r),l=s(`${Fl}Delay`),c=s(`${Fl}Duration`),h=K_(l,c);let d=null,p=0,g=0;e===er?o>0&&(d=er,p=o,g=r.length):e===Fl?h>0&&(d=Fl,p=h,g=c.length):(p=Math.max(o,h),d=p>0?o>h?er:Fl:null,g=d?d===er?r.length:c.length:0);const E=d===er&&/\b(transform|all)(,|$)/.test(s(`${er}Property`).toString());return{type:d,timeout:p,propCount:g,hasTransform:E}}function K_(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>G_(n)+G_(t[s])))}function G_(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Q_(){return document.body.offsetHeight}function S1(t,e,n){const s=t[yc];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Y_=Symbol("_vod"),C1=Symbol("_vsh"),R1=Symbol(""),P1=/(^|;)\s*display\s*:/;function O1(t,e,n){const s=t.style,i=Ht(n);let r=!1;if(n&&!i){if(e)if(Ht(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&Ju(s,l,"")}else for(const o in e)n[o]==null&&Ju(s,o,"");for(const o in n)o==="display"&&(r=!0),Ju(s,o,n[o])}else if(i){if(e!==n){const o=s[R1];o&&(n+=";"+o),s.cssText=n,r=P1.test(n)}}else e&&t.removeAttribute("style");Y_ in t&&(t[Y_]=r?s.display:"",t[C1]&&(s.display="none"))}const X_=/\s*!important$/;function Ju(t,e,n){if(Pe(n))n.forEach(s=>Ju(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=k1(t,e);X_.test(n)?t.setProperty(Mo(s),n.replace(X_,""),"important"):t[s]=n}}const J_=["Webkit","Moz","ms"],bf={};function k1(t,e){const n=bf[e];if(n)return n;let s=Es(e);if(s!=="filter"&&s in t)return bf[e]=s;s=ed(s);for(let i=0;i<J_.length;i++){const r=J_[i]+s;if(r in t)return bf[e]=r}return e}const Z_="http://www.w3.org/1999/xlink";function ev(t,e,n,s,i,r=RS(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Z_,e.slice(6,e.length)):t.setAttributeNS(Z_,e,n):n==null||r&&!QE(n)?t.removeAttribute(e):t.setAttribute(e,r?"":ti(n)?String(n):n)}function tv(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?nw(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=QE(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function go(t,e,n,s){t.addEventListener(e,n,s)}function D1(t,e,n,s){t.removeEventListener(e,n,s)}const nv=Symbol("_vei");function x1(t,e,n,s,i=null){const r=t[nv]||(t[nv]={}),o=r[e];if(s&&o)o.value=s;else{const[l,c]=N1(e);if(s){const h=r[e]=M1(s,i);go(t,l,h,c)}else o&&(D1(t,l,o,c),r[e]=void 0)}}const sv=/(?:Once|Passive|Capture)$/;function N1(t){let e;if(sv.test(t)){e={};let s;for(;s=t.match(sv);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Mo(t.slice(2)),e]}let wf=0;const L1=Promise.resolve(),V1=()=>wf||(L1.then(()=>wf=0),wf=Date.now());function M1(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ns($1(s,n.value),e,5,[s])};return n.value=t,n.attached=V1(),n}function $1(t,e){if(Pe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const iv=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,F1=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?S1(t,s,o):e==="style"?O1(t,n,s):Xh(e)?Yp(e)||x1(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):U1(t,e,s,o))?(tv(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ev(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ht(s))?tv(t,Es(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),ev(t,e,s,o))};function U1(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&iv(e)&&Ue(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return iv(e)&&Ht(n)?!1:e in t}const Th=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Pe(e)?n=>Gu(e,n):e};function j1(t){t.target.composing=!0}function rv(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ra=Symbol("_assign"),Jn={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[Ra]=Th(i);const r=s||i.props&&i.props.type==="number";go(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),r&&(l=fh(l)),t[Ra](l)}),n&&go(t,"change",()=>{t.value=t.value.trim()}),e||(go(t,"compositionstart",j1),go(t,"compositionend",rv),go(t,"change",rv))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[Ra]=Th(o),t.composing)return;const l=(r||t.type==="number")&&!/^0\d/.test(t.value)?fh(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===c)||(t.value=c))}},Co={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=Jh(e);go(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?fh(Ah(o)):Ah(o));t[Ra](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,wo(()=>{t._assigning=!1})}),t[Ra]=Th(s)},mounted(t,{value:e}){ov(t,e)},beforeUpdate(t,e,n){t[Ra]=Th(n)},updated(t,{value:e}){t._assigning||ov(t,e)}};function ov(t,e){const n=t.multiple,s=Pe(e);if(!(n&&!s&&!Jh(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],l=Ah(o);if(n)if(s){const c=typeof l;c==="string"||c==="number"?o.selected=e.some(h=>String(h)===String(l)):o.selected=OS(e,l)>-1}else o.selected=e.has(l);else if(nd(Ah(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ah(t){return"_value"in t?t._value:t.value}const B1=["ctrl","shift","alt","meta"],H1={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>B1.some(n=>t[`${n}Key`]&&!e.includes(n))},dr=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const l=H1[e[o]];if(l&&l(i,e))return}return t(i,...r)})},q1=hn({patchProp:F1},y1);let av;function W1(){return av||(av=BC(q1))}const z1=(...t)=>{const e=W1().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=G1(s);if(!i)return;const r=e._component;!Ue(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,K1(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function K1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function G1(t){return Ht(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let iw;const hd=t=>iw=t,rw=Symbol();function up(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var nc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(nc||(nc={}));function Q1(){const t=ZE(!0),e=t.run(()=>Ie({}));let n=[],s=[];const i=om({install(r){hd(i),i._a=r,r.provide(rw,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const ow=()=>{};function lv(t,e,n,s=ow){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&eb()&&kS(i),i}function da(t,...e){t.slice().forEach(n=>{n(...e)})}const Y1=t=>t(),cv=Symbol(),Tf=Symbol();function hp(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];up(i)&&up(s)&&t.hasOwnProperty(n)&&!Dt(s)&&!mr(s)?t[n]=hp(i,s):t[n]=s}return t}const X1=Symbol();function J1(t){return!up(t)||!Object.prototype.hasOwnProperty.call(t,X1)}const{assign:ir}=Object;function Z1(t){return!!(Dt(t)&&t.effect)}function eR(t,e,n,s){const{state:i,actions:r,getters:o}=e,l=n.state.value[t];let c;function h(){l||(n.state.value[t]=i?i():{});const d=eC(n.state.value[t]);return ir(d,r,Object.keys(o||{}).reduce((p,g)=>(p[g]=om(kt(()=>{hd(n);const E=n._s.get(t);return o[g].call(E,E)})),p),{}))}return c=aw(t,h,e,n,s,!0),c}function aw(t,e,n={},s,i,r){let o;const l=ir({actions:{}},n),c={deep:!0};let h,d,p=[],g=[],E;const I=s.state.value[t];!r&&!I&&(s.state.value[t]={}),Ie({});let x;function N(S){let T;h=d=!1,typeof S=="function"?(S(s.state.value[t]),T={type:nc.patchFunction,storeId:t,events:E}):(hp(s.state.value[t],S),T={type:nc.patchObject,payload:S,storeId:t,events:E});const R=x=Symbol();wo().then(()=>{x===R&&(h=!0)}),d=!0,da(p,T,s.state.value[t])}const j=r?function(){const{state:T}=n,R=T?T():{};this.$patch(O=>{ir(O,R)})}:ow;function $(){o.stop(),p=[],g=[],s._s.delete(t)}const U=(S,T="")=>{if(cv in S)return S[Tf]=T,S;const R=function(){hd(s);const O=Array.from(arguments),A=[],C=[];function xe(we){A.push(we)}function it(we){C.push(we)}da(g,{args:O,name:R[Tf],store:ne,after:xe,onError:it});let Le;try{Le=S.apply(this&&this.$id===t?this:ne,O)}catch(we){throw da(C,we),we}return Le instanceof Promise?Le.then(we=>(da(A,we),we)).catch(we=>(da(C,we),Promise.reject(we))):(da(A,Le),Le)};return R[cv]=!0,R[Tf]=T,R},B={_p:s,$id:t,$onAction:lv.bind(null,g),$patch:N,$reset:j,$subscribe(S,T={}){const R=lv(p,S,T.detached,()=>O()),O=o.run(()=>ns(()=>s.state.value[t],A=>{(T.flush==="sync"?d:h)&&S({storeId:t,type:nc.direct,events:E},A)},ir({},c,T)));return R},$dispose:$},ne=Dc(B);s._s.set(t,ne);const D=(s._a&&s._a.runWithContext||Y1)(()=>s._e.run(()=>(o=ZE()).run(()=>e({action:U}))));for(const S in D){const T=D[S];if(Dt(T)&&!Z1(T)||mr(T))r||(I&&J1(T)&&(Dt(T)?T.value=I[S]:hp(T,I[S])),s.state.value[t][S]=T);else if(typeof T=="function"){const R=U(T,S);D[S]=R,l.actions[S]=T}}return ir(ne,D),ir(st(ne),D),Object.defineProperty(ne,"$state",{get:()=>s.state.value[t],set:S=>{N(T=>{ir(T,S)})}}),s._p.forEach(S=>{ir(ne,o.run(()=>S({store:ne,app:s._a,pinia:s,options:l})))}),I&&r&&n.hydrate&&n.hydrate(ne.$state,I),h=!0,d=!0,ne}/*! #__NO_SIDE_EFFECTS__ */function dm(t,e,n){let s;const i=typeof e=="function";s=i?n:e;function r(o,l){const c=LC();return o=o||(c?vs(rw,null):null),o&&hd(o),o=iw,o._s.has(t)||(i?aw(t,e,s,o):eR(t,s,o)),o._s.get(t)}return r.$id=t,r}const tR={id:"app-wrapper"},nR={class:"container-fluid p-0 flex-fill"},sR={__name:"App",setup(t){return(e,n)=>{const s=ls("router-view");return ee(),se("div",tR,[n[0]||(n[0]=v("a",{href:"#main-content",class:"skip-link"},"Aller au contenu principal",-1)),v("main",nR,[me(s)])])}}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ga=typeof document<"u";function lw(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function iR(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&lw(t.default)}const ct=Object.assign;function Af(t,e){const n={};for(const s in e){const i=e[s];n[s]=Ls(i)?i.map(t):t(i)}return n}const sc=()=>{},Ls=Array.isArray,cw=/#/g,rR=/&/g,oR=/\//g,aR=/=/g,lR=/\?/g,uw=/\+/g,cR=/%5B/g,uR=/%5D/g,hw=/%5E/g,hR=/%60/g,dw=/%7B/g,dR=/%7C/g,fw=/%7D/g,fR=/%20/g;function fm(t){return encodeURI(""+t).replace(dR,"|").replace(cR,"[").replace(uR,"]")}function pR(t){return fm(t).replace(dw,"{").replace(fw,"}").replace(hw,"^")}function dp(t){return fm(t).replace(uw,"%2B").replace(fR,"+").replace(cw,"%23").replace(rR,"%26").replace(hR,"`").replace(dw,"{").replace(fw,"}").replace(hw,"^")}function mR(t){return dp(t).replace(aR,"%3D")}function gR(t){return fm(t).replace(cw,"%23").replace(lR,"%3F")}function _R(t){return t==null?"":gR(t).replace(oR,"%2F")}function Ec(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const vR=/\/$/,yR=t=>t.replace(vR,"");function If(t,e,n="/"){let s,i={},r="",o="";const l=e.indexOf("#");let c=e.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=e.slice(0,c),r=e.slice(c+1,l>-1?l:e.length),i=t(r)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=TR(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:Ec(o)}}function ER(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function uv(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function bR(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Na(e.matched[s],n.matched[i])&&pw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Na(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function pw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!wR(t[n],e[n]))return!1;return!0}function wR(t,e){return Ls(t)?hv(t,e):Ls(e)?hv(e,t):t===e}function hv(t,e){return Ls(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function TR(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const tr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var bc;(function(t){t.pop="pop",t.push="push"})(bc||(bc={}));var ic;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ic||(ic={}));function AR(t){if(!t)if(ga){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),yR(t)}const IR=/^[^#]+#/;function SR(t,e){return t.replace(IR,"#")+e}function CR(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const dd=()=>({left:window.scrollX,top:window.scrollY});function RR(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=CR(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function dv(t,e){return(history.state?history.state.position-e:-1)+t}const fp=new Map;function PR(t,e){fp.set(t,e)}function OR(t){const e=fp.get(t);return fp.delete(t),e}let kR=()=>location.protocol+"//"+location.host;function mw(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let l=i.includes(t.slice(r))?t.slice(r).length:1,c=i.slice(l);return c[0]!=="/"&&(c="/"+c),uv(c,"")}return uv(n,t)+s+i}function DR(t,e,n,s){let i=[],r=[],o=null;const l=({state:g})=>{const E=mw(t,location),I=n.value,x=e.value;let N=0;if(g){if(n.value=E,e.value=g,o&&o===I){o=null;return}N=x?g.position-x.position:0}else s(E);i.forEach(j=>{j(n.value,I,{delta:N,type:bc.pop,direction:N?N>0?ic.forward:ic.back:ic.unknown})})};function c(){o=n.value}function h(g){i.push(g);const E=()=>{const I=i.indexOf(g);I>-1&&i.splice(I,1)};return r.push(E),E}function d(){const{history:g}=window;g.state&&g.replaceState(ct({},g.state,{scroll:dd()}),"")}function p(){for(const g of r)g();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:h,destroy:p}}function fv(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?dd():null}}function xR(t){const{history:e,location:n}=window,s={value:mw(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(c,h,d){const p=t.indexOf("#"),g=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+c:kR()+t+c;try{e[d?"replaceState":"pushState"](h,"",g),i.value=h}catch(E){console.error(E),n[d?"replace":"assign"](g)}}function o(c,h){const d=ct({},e.state,fv(i.value.back,c,i.value.forward,!0),h,{position:i.value.position});r(c,d,!0),s.value=c}function l(c,h){const d=ct({},i.value,e.state,{forward:c,scroll:dd()});r(d.current,d,!0);const p=ct({},fv(s.value,c,null),{position:d.position+1},h);r(c,p,!1),s.value=c}return{location:s,state:i,push:l,replace:o}}function NR(t){t=AR(t);const e=xR(t),n=DR(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=ct({location:"",base:t,go:s,createHref:SR.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function LR(t){return typeof t=="string"||t&&typeof t=="object"}function gw(t){return typeof t=="string"||typeof t=="symbol"}const _w=Symbol("");var pv;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(pv||(pv={}));function La(t,e){return ct(new Error,{type:t,[_w]:!0},e)}function _i(t,e){return t instanceof Error&&_w in t&&(e==null||!!(t.type&e))}const mv="[^/]+?",VR={sensitive:!1,strict:!1,start:!0,end:!0},MR=/[.+*?^${}()[\]/\\]/g;function $R(t,e){const n=ct({},VR,e),s=[];let i=n.start?"^":"";const r=[];for(const h of t){const d=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let p=0;p<h.length;p++){const g=h[p];let E=40+(n.sensitive?.25:0);if(g.type===0)p||(i+="/"),i+=g.value.replace(MR,"\\$&"),E+=40;else if(g.type===1){const{value:I,repeatable:x,optional:N,regexp:j}=g;r.push({name:I,repeatable:x,optional:N});const $=j||mv;if($!==mv){E+=10;try{new RegExp(`(${$})`)}catch(B){throw new Error(`Invalid custom RegExp for param "${I}" (${$}): `+B.message)}}let U=x?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;p||(U=N&&h.length<2?`(?:/${U})`:"/"+U),N&&(U+="?"),i+=U,E+=20,N&&(E+=-8),x&&(E+=-20),$===".*"&&(E+=-50)}d.push(E)}s.push(d)}if(n.strict&&n.end){const h=s.length-1;s[h][s[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function l(h){const d=h.match(o),p={};if(!d)return null;for(let g=1;g<d.length;g++){const E=d[g]||"",I=r[g-1];p[I.name]=E&&I.repeatable?E.split("/"):E}return p}function c(h){let d="",p=!1;for(const g of t){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const E of g)if(E.type===0)d+=E.value;else if(E.type===1){const{value:I,repeatable:x,optional:N}=E,j=I in h?h[I]:"";if(Ls(j)&&!x)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const $=Ls(j)?j.join("/"):j;if(!$)if(N)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${I}"`);d+=$}}return d||"/"}return{re:o,score:s,keys:r,parse:l,stringify:c}}function FR(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function vw(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=FR(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(gv(s))return 1;if(gv(i))return-1}return i.length-s.length}function gv(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const UR={type:0,value:""},jR=/[a-zA-Z0-9_]/;function BR(t){if(!t)return[[]];if(t==="/")return[[UR]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(E){throw new Error(`ERR (${n})/"${h}": ${E}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let l=0,c,h="",d="";function p(){h&&(n===0?r.push({type:0,value:h}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:h,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),h="")}function g(){h+=c}for(;l<t.length;){if(c=t[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(h&&p(),o()):c===":"?(p(),n=1):g();break;case 4:g(),n=s;break;case 1:c==="("?n=2:jR.test(c)?g():(p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:n=3:d+=c;break;case 3:p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),p(),o(),i}function HR(t,e,n){const s=$R(BR(t.path),n),i=ct(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function qR(t,e){const n=[],s=new Map;e=Ev({strict:!1,end:!0,sensitive:!1},e);function i(p){return s.get(p)}function r(p,g,E){const I=!E,x=vv(p);x.aliasOf=E&&E.record;const N=Ev(e,p),j=[x];if("alias"in p){const B=typeof p.alias=="string"?[p.alias]:p.alias;for(const ne of B)j.push(vv(ct({},x,{components:E?E.record.components:x.components,path:ne,aliasOf:E?E.record:x})))}let $,U;for(const B of j){const{path:ne}=B;if(g&&ne[0]!=="/"){const re=g.record.path,D=re[re.length-1]==="/"?"":"/";B.path=g.record.path+(ne&&D+ne)}if($=HR(B,g,N),E?E.alias.push($):(U=U||$,U!==$&&U.alias.push($),I&&p.name&&!yv($)&&o(p.name)),yw($)&&c($),x.children){const re=x.children;for(let D=0;D<re.length;D++)r(re[D],$,E&&E.children[D])}E=E||$}return U?()=>{o(U)}:sc}function o(p){if(gw(p)){const g=s.get(p);g&&(s.delete(p),n.splice(n.indexOf(g),1),g.children.forEach(o),g.alias.forEach(o))}else{const g=n.indexOf(p);g>-1&&(n.splice(g,1),p.record.name&&s.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function l(){return n}function c(p){const g=KR(p,n);n.splice(g,0,p),p.record.name&&!yv(p)&&s.set(p.record.name,p)}function h(p,g){let E,I={},x,N;if("name"in p&&p.name){if(E=s.get(p.name),!E)throw La(1,{location:p});N=E.record.name,I=ct(_v(g.params,E.keys.filter(U=>!U.optional).concat(E.parent?E.parent.keys.filter(U=>U.optional):[]).map(U=>U.name)),p.params&&_v(p.params,E.keys.map(U=>U.name))),x=E.stringify(I)}else if(p.path!=null)x=p.path,E=n.find(U=>U.re.test(x)),E&&(I=E.parse(x),N=E.record.name);else{if(E=g.name?s.get(g.name):n.find(U=>U.re.test(g.path)),!E)throw La(1,{location:p,currentLocation:g});N=E.record.name,I=ct({},g.params,p.params),x=E.stringify(I)}const j=[];let $=E;for(;$;)j.unshift($.record),$=$.parent;return{name:N,path:x,params:I,matched:j,meta:zR(j)}}t.forEach(p=>r(p));function d(){n.length=0,s.clear()}return{addRoute:r,resolve:h,removeRoute:o,clearRoutes:d,getRoutes:l,getRecordMatcher:i}}function _v(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function vv(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:WR(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function WR(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function yv(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function zR(t){return t.reduce((e,n)=>ct(e,n.meta),{})}function Ev(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function KR(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;vw(t,e[r])<0?s=r:n=r+1}const i=GR(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function GR(t){let e=t;for(;e=e.parent;)if(yw(e)&&vw(t,e)===0)return e}function yw({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function QR(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(uw," "),o=r.indexOf("="),l=Ec(o<0?r:r.slice(0,o)),c=o<0?null:Ec(r.slice(o+1));if(l in e){let h=e[l];Ls(h)||(h=e[l]=[h]),h.push(c)}else e[l]=c}return e}function bv(t){let e="";for(let n in t){const s=t[n];if(n=mR(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ls(s)?s.map(r=>r&&dp(r)):[s&&dp(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function YR(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Ls(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const XR=Symbol(""),wv=Symbol(""),fd=Symbol(""),pm=Symbol(""),pp=Symbol("");function Ul(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function lr(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((l,c)=>{const h=g=>{g===!1?c(La(4,{from:n,to:e})):g instanceof Error?c(g):LR(g)?c(La(2,{from:e,to:g})):(o&&s.enterCallbacks[i]===o&&typeof g=="function"&&o.push(g),l())},d=r(()=>t.call(s&&s.instances[i],e,n,h));let p=Promise.resolve(d);t.length<3&&(p=p.then(h)),p.catch(g=>c(g))})}function Sf(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(lw(c)){const d=(c.__vccOpts||c)[e];d&&r.push(lr(d,n,s,o,l,i))}else{let h=c();r.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const p=iR(d)?d.default:d;o.mods[l]=d,o.components[l]=p;const E=(p.__vccOpts||p)[e];return E&&lr(E,n,s,o,l,i)()}))}}return r}function Tv(t){const e=vs(fd),n=vs(pm),s=kt(()=>{const c=tt(t.to);return e.resolve(c)}),i=kt(()=>{const{matched:c}=s.value,{length:h}=c,d=c[h-1],p=n.matched;if(!d||!p.length)return-1;const g=p.findIndex(Na.bind(null,d));if(g>-1)return g;const E=Av(c[h-2]);return h>1&&Av(d)===E&&p[p.length-1].path!==E?p.findIndex(Na.bind(null,c[h-2])):g}),r=kt(()=>i.value>-1&&nP(n.params,s.value.params)),o=kt(()=>i.value>-1&&i.value===n.matched.length-1&&pw(n.params,s.value.params));function l(c={}){if(tP(c)){const h=e[tt(t.replace)?"replace":"push"](tt(t.to)).catch(sc);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:s,href:kt(()=>s.value.href),isActive:r,isExactActive:o,navigate:l}}function JR(t){return t.length===1?t[0]:t}const ZR=Ob({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Tv,setup(t,{slots:e}){const n=Dc(Tv(t)),{options:s}=vs(fd),i=kt(()=>({[Iv(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Iv(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&JR(e.default(n));return t.custom?r:hm("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),eP=ZR;function tP(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function nP(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Ls(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Av(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Iv=(t,e,n)=>t??e??n,sP=Ob({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=vs(pp),i=kt(()=>t.route||s.value),r=vs(wv,0),o=kt(()=>{let h=tt(r);const{matched:d}=i.value;let p;for(;(p=d[h])&&!p.components;)h++;return h}),l=kt(()=>i.value.matched[o.value]);Qu(wv,kt(()=>o.value+1)),Qu(XR,l),Qu(pp,i);const c=Ie();return ns(()=>[c.value,l.value,t.name],([h,d,p],[g,E,I])=>{d&&(d.instances[p]=h,E&&E!==d&&h&&h===g&&(d.leaveGuards.size||(d.leaveGuards=E.leaveGuards),d.updateGuards.size||(d.updateGuards=E.updateGuards))),h&&d&&(!E||!Na(d,E)||!g)&&(d.enterCallbacks[p]||[]).forEach(x=>x(h))},{flush:"post"}),()=>{const h=i.value,d=t.name,p=l.value,g=p&&p.components[d];if(!g)return Sv(n.default,{Component:g,route:h});const E=p.props[d],I=E?E===!0?h.params:typeof E=="function"?E(h):E:null,N=hm(g,ct({},I,e,{onVnodeUnmounted:j=>{j.component.isUnmounted&&(p.instances[d]=null)},ref:c}));return Sv(n.default,{Component:N,route:h})||N}}});function Sv(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const iP=sP;function rP(t){const e=qR(t.routes,t),n=t.parseQuery||QR,s=t.stringifyQuery||bv,i=t.history,r=Ul(),o=Ul(),l=Ul(),c=XS(tr);let h=tr;ga&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Af.bind(null,z=>""+z),p=Af.bind(null,_R),g=Af.bind(null,Ec);function E(z,W){let le,ve;return gw(z)?(le=e.getRecordMatcher(z),ve=W):ve=z,e.addRoute(ve,le)}function I(z){const W=e.getRecordMatcher(z);W&&e.removeRoute(W)}function x(){return e.getRoutes().map(z=>z.record)}function N(z){return!!e.getRecordMatcher(z)}function j(z,W){if(W=ct({},W||c.value),typeof z=="string"){const M=If(n,z,W.path),K=e.resolve({path:M.path},W),G=i.createHref(M.fullPath);return ct(M,K,{params:g(K.params),hash:Ec(M.hash),redirectedFrom:void 0,href:G})}let le;if(z.path!=null)le=ct({},z,{path:If(n,z.path,W.path).path});else{const M=ct({},z.params);for(const K in M)M[K]==null&&delete M[K];le=ct({},z,{params:p(M)}),W.params=p(W.params)}const ve=e.resolve(le,W),Ge=z.hash||"";ve.params=d(g(ve.params));const P=ER(s,ct({},z,{hash:pR(Ge),path:ve.path})),k=i.createHref(P);return ct({fullPath:P,hash:Ge,query:s===bv?YR(z.query):z.query||{}},ve,{redirectedFrom:void 0,href:k})}function $(z){return typeof z=="string"?If(n,z,c.value.path):ct({},z)}function U(z,W){if(h!==z)return La(8,{from:W,to:z})}function B(z){return D(z)}function ne(z){return B(ct($(z),{replace:!0}))}function re(z){const W=z.matched[z.matched.length-1];if(W&&W.redirect){const{redirect:le}=W;let ve=typeof le=="function"?le(z):le;return typeof ve=="string"&&(ve=ve.includes("?")||ve.includes("#")?ve=$(ve):{path:ve},ve.params={}),ct({query:z.query,hash:z.hash,params:ve.path!=null?{}:z.params},ve)}}function D(z,W){const le=h=j(z),ve=c.value,Ge=z.state,P=z.force,k=z.replace===!0,M=re(le);if(M)return D(ct($(M),{state:typeof M=="object"?ct({},Ge,M.state):Ge,force:P,replace:k}),W||le);const K=le;K.redirectedFrom=W;let G;return!P&&bR(s,ve,le)&&(G=La(16,{to:K,from:ve}),qt(ve,ve,!0,!1)),(G?Promise.resolve(G):R(K,ve)).catch(Y=>_i(Y)?_i(Y,2)?Y:Q(Y):Be(Y,K,ve)).then(Y=>{if(Y){if(_i(Y,2))return D(ct({replace:k},$(Y.to),{state:typeof Y.to=="object"?ct({},Ge,Y.to.state):Ge,force:P}),W||K)}else Y=A(K,ve,!0,k,Ge);return O(K,ve,Y),Y})}function S(z,W){const le=U(z,W);return le?Promise.reject(le):Promise.resolve()}function T(z){const W=At.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(z):z()}function R(z,W){let le;const[ve,Ge,P]=oP(z,W);le=Sf(ve.reverse(),"beforeRouteLeave",z,W);for(const M of ve)M.leaveGuards.forEach(K=>{le.push(lr(K,z,W))});const k=S.bind(null,z,W);return le.push(k),at(le).then(()=>{le=[];for(const M of r.list())le.push(lr(M,z,W));return le.push(k),at(le)}).then(()=>{le=Sf(Ge,"beforeRouteUpdate",z,W);for(const M of Ge)M.updateGuards.forEach(K=>{le.push(lr(K,z,W))});return le.push(k),at(le)}).then(()=>{le=[];for(const M of P)if(M.beforeEnter)if(Ls(M.beforeEnter))for(const K of M.beforeEnter)le.push(lr(K,z,W));else le.push(lr(M.beforeEnter,z,W));return le.push(k),at(le)}).then(()=>(z.matched.forEach(M=>M.enterCallbacks={}),le=Sf(P,"beforeRouteEnter",z,W,T),le.push(k),at(le))).then(()=>{le=[];for(const M of o.list())le.push(lr(M,z,W));return le.push(k),at(le)}).catch(M=>_i(M,8)?M:Promise.reject(M))}function O(z,W,le){l.list().forEach(ve=>T(()=>ve(z,W,le)))}function A(z,W,le,ve,Ge){const P=U(z,W);if(P)return P;const k=W===tr,M=ga?history.state:{};le&&(ve||k?i.replace(z.fullPath,ct({scroll:k&&M&&M.scroll},Ge)):i.push(z.fullPath,Ge)),c.value=z,qt(z,W,le,k),Q()}let C;function xe(){C||(C=i.listen((z,W,le)=>{if(!It.listening)return;const ve=j(z),Ge=re(ve);if(Ge){D(ct(Ge,{replace:!0,force:!0}),ve).catch(sc);return}h=ve;const P=c.value;ga&&PR(dv(P.fullPath,le.delta),dd()),R(ve,P).catch(k=>_i(k,12)?k:_i(k,2)?(D(ct($(k.to),{force:!0}),ve).then(M=>{_i(M,20)&&!le.delta&&le.type===bc.pop&&i.go(-1,!1)}).catch(sc),Promise.reject()):(le.delta&&i.go(-le.delta,!1),Be(k,ve,P))).then(k=>{k=k||A(ve,P,!1),k&&(le.delta&&!_i(k,8)?i.go(-le.delta,!1):le.type===bc.pop&&_i(k,20)&&i.go(-1,!1)),O(ve,P,k)}).catch(sc)}))}let it=Ul(),Le=Ul(),we;function Be(z,W,le){Q(z);const ve=Le.list();return ve.length?ve.forEach(Ge=>Ge(z,W,le)):console.error(z),Promise.reject(z)}function Rt(){return we&&c.value!==tr?Promise.resolve():new Promise((z,W)=>{it.add([z,W])})}function Q(z){return we||(we=!z,xe(),it.list().forEach(([W,le])=>z?le(z):W()),it.reset()),z}function qt(z,W,le,ve){const{scrollBehavior:Ge}=t;if(!ga||!Ge)return Promise.resolve();const P=!le&&OR(dv(z.fullPath,0))||(ve||!le)&&history.state&&history.state.scroll||null;return wo().then(()=>Ge(z,W,P)).then(k=>k&&RR(k)).catch(k=>Be(k,z,W))}const rt=z=>i.go(z);let ot;const At=new Set,It={currentRoute:c,listening:!0,addRoute:E,removeRoute:I,clearRoutes:e.clearRoutes,hasRoute:N,getRoutes:x,resolve:j,options:t,push:B,replace:ne,go:rt,back:()=>rt(-1),forward:()=>rt(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:Le.add,isReady:Rt,install(z){const W=this;z.component("RouterLink",eP),z.component("RouterView",iP),z.config.globalProperties.$router=W,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>tt(c)}),ga&&!ot&&c.value===tr&&(ot=!0,B(i.location).catch(Ge=>{}));const le={};for(const Ge in tr)Object.defineProperty(le,Ge,{get:()=>c.value[Ge],enumerable:!0});z.provide(fd,W),z.provide(pm,mb(le)),z.provide(pp,c);const ve=z.unmount;At.add(z),z.unmount=function(){At.delete(z),At.size<1&&(h=tr,C&&C(),C=null,c.value=tr,ot=!1,we=!1),ve()}}};function at(z){return z.reduce((W,le)=>W.then(()=>T(le)),Promise.resolve())}return It}function oP(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(t.matched.find(h=>Na(h,l))?s.push(l):n.push(l));const c=t.matched[o];c&&(e.matched.find(h=>Na(h,c))||i.push(c))}return[n,s,i]}function Lc(){return vs(fd)}function Ew(t){return vs(pm)}const aP=()=>{};var Cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lP=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},ww={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,d=r>>2,p=(r&3)<<4|l>>4;let g=(l&15)<<2|h>>6,E=h&63;c||(E=64,o||(g=64)),s.push(n[d],n[p],n[g],n[E])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||l==null||h==null||p==null)throw new cP;const g=r<<2|l>>4;if(s.push(g),h!==64){const E=l<<4&240|h>>2;if(s.push(E),p!==64){const I=h<<6&192|p;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uP=function(t){const e=bw(t);return ww.encodeByteArray(e,!0)},Ih=function(t){return uP(t).replace(/\./g,"")},Tw=function(t){try{return ww.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=()=>hP().__FIREBASE_DEFAULTS__,fP=()=>{if(typeof process>"u"||typeof Cv>"u")return;const t=Cv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tw(t[1]);return e&&JSON.parse(e)},pd=()=>{try{return aP()||dP()||fP()||pP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Aw=t=>{var e,n;return(n=(e=pd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mP=t=>{const e=Aw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Iw=()=>{var t;return(t=pd())===null||t===void 0?void 0:t.config},Sw=t=>{var e;return(e=pd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){return t.endsWith(".cloudworkstations.dev")}async function Cw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ih(JSON.stringify(n)),Ih(JSON.stringify(o)),""].join(".")}const rc={};function vP(){const t={prod:[],emulator:[]};for(const e of Object.keys(rc))rc[e]?t.emulator.push(e):t.prod.push(e);return t}function yP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Rv=!1;function Rw(t,e){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||rc[t]===e||rc[t]||Rv)return;rc[t]=e;function n(g){return`__firebase__banner__${g}`}const s="__firebase__banner",r=vP().prod.length>0;function o(){const g=document.getElementById(s);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,E){g.setAttribute("width","24"),g.setAttribute("id",E),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Rv=!0,o()},g}function d(g,E){g.setAttribute("id",E),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=yP(s),E=n("text"),I=document.getElementById(E)||document.createElement("span"),x=n("learnmore"),N=document.getElementById(x)||document.createElement("a"),j=n("preprendIcon"),$=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const U=g.element;l(U),d(N,x);const B=h();c($,j),U.append($,I,N,B),document.body.appendChild(U)}r?(I.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function bP(){var t;const e=(t=pd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IP(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SP(){return!bP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CP(){try{return typeof indexedDB=="object"}catch{return!1}}function RP(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="FirebaseError";class Li extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=PP,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vc.prototype.create)}}class Vc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?OP(r,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Li(i,l,s)}}function OP(t,e){return t.replace(kP,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const kP=/\{\$([^}]+)}/g;function DP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ri(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(Pv(r)&&Pv(o)){if(!Ri(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function Pv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ql(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function Wl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xP(t,e){const n=new NP(t,e);return n.subscribe.bind(n)}class NP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");LP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=Cf),i.error===void 0&&(i.error=Cf),i.complete===void 0&&(i.complete=Cf);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class Ro{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new gP;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($P(e))try{this.getOrInitializeService({instanceIdentifier:po})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=po){return this.instances.has(e)}getOptions(e=po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:MP(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=po){return this.component?this.component.multipleInstances?e:po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MP(t){return t===po?void 0:t}function $P(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const UP={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},jP=Ye.INFO,BP={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},HP=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=BP[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mm{constructor(e){this.name=e,this._logLevel=jP,this._logHandler=HP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const qP=(t,e)=>e.some(n=>t instanceof n);let Ov,kv;function WP(){return Ov||(Ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zP(){return kv||(kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pw=new WeakMap,mp=new WeakMap,Ow=new WeakMap,Rf=new WeakMap,gm=new WeakMap;function KP(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(gr(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Pw.set(n,t)}).catch(()=>{}),gm.set(e,t),e}function GP(t){if(mp.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});mp.set(t,e)}let gp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ow.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QP(t){gp=t(gp)}function YP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Pf(this),e,...n);return Ow.set(s,e.sort?e.sort():[e]),gr(s)}:zP().includes(t)?function(...e){return t.apply(Pf(this),e),gr(Pw.get(this))}:function(...e){return gr(t.apply(Pf(this),e))}}function XP(t){return typeof t=="function"?YP(t):(t instanceof IDBTransaction&&GP(t),qP(t,WP())?new Proxy(t,gp):t)}function gr(t){if(t instanceof IDBRequest)return KP(t);if(Rf.has(t))return Rf.get(t);const e=XP(t);return e!==t&&(Rf.set(t,e),gm.set(e,t)),e}const Pf=t=>gm.get(t);function JP(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),l=gr(o);return s&&o.addEventListener("upgradeneeded",c=>{s(gr(o.result),c.oldVersion,c.newVersion,gr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{r&&c.addEventListener("close",()=>r()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const ZP=["get","getKey","getAll","getAllKeys","count"],eO=["put","add","delete","clear"],Of=new Map;function Dv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Of.get(e))return Of.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=eO.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||ZP.includes(n)))return;const r=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return s&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return Of.set(e,r),r}QP(t=>({...t,get:(e,n,s)=>Dv(e,n)||t.get(e,n,s),has:(e,n)=>!!Dv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nO(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _p="@firebase/app",xv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new mm("@firebase/app"),sO="@firebase/app-compat",iO="@firebase/analytics-compat",rO="@firebase/analytics",oO="@firebase/app-check-compat",aO="@firebase/app-check",lO="@firebase/auth",cO="@firebase/auth-compat",uO="@firebase/database",hO="@firebase/data-connect",dO="@firebase/database-compat",fO="@firebase/functions",pO="@firebase/functions-compat",mO="@firebase/installations",gO="@firebase/installations-compat",_O="@firebase/messaging",vO="@firebase/messaging-compat",yO="@firebase/performance",EO="@firebase/performance-compat",bO="@firebase/remote-config",wO="@firebase/remote-config-compat",TO="@firebase/storage",AO="@firebase/storage-compat",IO="@firebase/firestore",SO="@firebase/ai",CO="@firebase/firestore-compat",RO="firebase",PO="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="[DEFAULT]",OO={[_p]:"fire-core",[sO]:"fire-core-compat",[rO]:"fire-analytics",[iO]:"fire-analytics-compat",[aO]:"fire-app-check",[oO]:"fire-app-check-compat",[lO]:"fire-auth",[cO]:"fire-auth-compat",[uO]:"fire-rtdb",[hO]:"fire-data-connect",[dO]:"fire-rtdb-compat",[fO]:"fire-fn",[pO]:"fire-fn-compat",[mO]:"fire-iid",[gO]:"fire-iid-compat",[_O]:"fire-fcm",[vO]:"fire-fcm-compat",[yO]:"fire-perf",[EO]:"fire-perf-compat",[bO]:"fire-rc",[wO]:"fire-rc-compat",[TO]:"fire-gcs",[AO]:"fire-gcs-compat",[IO]:"fire-fst",[CO]:"fire-fst-compat",[SO]:"fire-vertex","fire-js":"fire-js",[RO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,kO=new Map,yp=new Map;function Nv(t,e){try{t.container.addComponent(e)}catch(n){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Va(t){const e=t.name;if(yp.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,t);for(const n of Sh.values())Nv(n,t);for(const n of kO.values())Nv(n,t);return!0}function _m(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new Vc("app","Firebase",DO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=PO;function kw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:vp,automaticDataCollectionEnabled:!0},e),i=s.name;if(typeof i!="string"||!i)throw _r.create("bad-app-name",{appName:String(i)});if(n||(n=Iw()),!n)throw _r.create("no-options");const r=Sh.get(i);if(r){if(Ri(n,r.options)&&Ri(s,r.config))return r;throw _r.create("duplicate-app",{appName:i})}const o=new FP(i);for(const c of yp.values())o.addComponent(c);const l=new xO(n,s,o);return Sh.set(i,l),l}function Dw(t=vp){const e=Sh.get(t);if(!e&&t===vp&&Iw())return kw();if(!e)throw _r.create("no-app",{appName:t});return e}function vr(t,e,n){var s;let i=(s=OO[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(l.join(" "));return}Va(new Ro(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="firebase-heartbeat-database",LO=1,wc="firebase-heartbeat-store";let kf=null;function xw(){return kf||(kf=JP(NO,LO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw _r.create("idb-open",{originalErrorMessage:t.message})})),kf}async function VO(t){try{const n=(await xw()).transaction(wc),s=await n.objectStore(wc).get(Nw(t));return await n.done,s}catch(e){if(e instanceof Li)Pi.warn(e.message);else{const n=_r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pi.warn(n.message)}}}async function Lv(t,e){try{const s=(await xw()).transaction(wc,"readwrite");await s.objectStore(wc).put(e,Nw(t)),await s.done}catch(n){if(n instanceof Li)Pi.warn(n.message);else{const s=_r.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pi.warn(s.message)}}}function Nw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=1024,$O=30;class FO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jO(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Vv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>$O){const o=BO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Pi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vv(),{heartbeatsToSend:s,unsentEntries:i}=UO(this._heartbeatsCache.heartbeats),r=Ih(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Pi.warn(n),""}}}function Vv(){return new Date().toISOString().substring(0,10)}function UO(t,e=MO){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Mv(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class jO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CP()?RP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Mv(t){return Ih(JSON.stringify({version:2,heartbeats:t})).length}function BO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t){Va(new Ro("platform-logger",e=>new tO(e),"PRIVATE")),Va(new Ro("heartbeat",e=>new FO(e),"PRIVATE")),vr(_p,xv,t),vr(_p,xv,"esm2017"),vr("fire-js","")}HO("");var $v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yr,Lw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function T(){}T.prototype=S.prototype,D.D=S.prototype,D.prototype=new T,D.prototype.constructor=D,D.C=function(R,O,A){for(var C=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)C[xe-2]=arguments[xe];return S.prototype[O].apply(R,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,S,T){T||(T=0);var R=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)R[O]=S.charCodeAt(T++)|S.charCodeAt(T++)<<8|S.charCodeAt(T++)<<16|S.charCodeAt(T++)<<24;else for(O=0;16>O;++O)R[O]=S[T++]|S[T++]<<8|S[T++]<<16|S[T++]<<24;S=D.g[0],T=D.g[1],O=D.g[2];var A=D.g[3],C=S+(A^T&(O^A))+R[0]+3614090360&4294967295;S=T+(C<<7&4294967295|C>>>25),C=A+(O^S&(T^O))+R[1]+3905402710&4294967295,A=S+(C<<12&4294967295|C>>>20),C=O+(T^A&(S^T))+R[2]+606105819&4294967295,O=A+(C<<17&4294967295|C>>>15),C=T+(S^O&(A^S))+R[3]+3250441966&4294967295,T=O+(C<<22&4294967295|C>>>10),C=S+(A^T&(O^A))+R[4]+4118548399&4294967295,S=T+(C<<7&4294967295|C>>>25),C=A+(O^S&(T^O))+R[5]+1200080426&4294967295,A=S+(C<<12&4294967295|C>>>20),C=O+(T^A&(S^T))+R[6]+2821735955&4294967295,O=A+(C<<17&4294967295|C>>>15),C=T+(S^O&(A^S))+R[7]+4249261313&4294967295,T=O+(C<<22&4294967295|C>>>10),C=S+(A^T&(O^A))+R[8]+1770035416&4294967295,S=T+(C<<7&4294967295|C>>>25),C=A+(O^S&(T^O))+R[9]+2336552879&4294967295,A=S+(C<<12&4294967295|C>>>20),C=O+(T^A&(S^T))+R[10]+4294925233&4294967295,O=A+(C<<17&4294967295|C>>>15),C=T+(S^O&(A^S))+R[11]+2304563134&4294967295,T=O+(C<<22&4294967295|C>>>10),C=S+(A^T&(O^A))+R[12]+1804603682&4294967295,S=T+(C<<7&4294967295|C>>>25),C=A+(O^S&(T^O))+R[13]+4254626195&4294967295,A=S+(C<<12&4294967295|C>>>20),C=O+(T^A&(S^T))+R[14]+2792965006&4294967295,O=A+(C<<17&4294967295|C>>>15),C=T+(S^O&(A^S))+R[15]+1236535329&4294967295,T=O+(C<<22&4294967295|C>>>10),C=S+(O^A&(T^O))+R[1]+4129170786&4294967295,S=T+(C<<5&4294967295|C>>>27),C=A+(T^O&(S^T))+R[6]+3225465664&4294967295,A=S+(C<<9&4294967295|C>>>23),C=O+(S^T&(A^S))+R[11]+643717713&4294967295,O=A+(C<<14&4294967295|C>>>18),C=T+(A^S&(O^A))+R[0]+3921069994&4294967295,T=O+(C<<20&4294967295|C>>>12),C=S+(O^A&(T^O))+R[5]+3593408605&4294967295,S=T+(C<<5&4294967295|C>>>27),C=A+(T^O&(S^T))+R[10]+38016083&4294967295,A=S+(C<<9&4294967295|C>>>23),C=O+(S^T&(A^S))+R[15]+3634488961&4294967295,O=A+(C<<14&4294967295|C>>>18),C=T+(A^S&(O^A))+R[4]+3889429448&4294967295,T=O+(C<<20&4294967295|C>>>12),C=S+(O^A&(T^O))+R[9]+568446438&4294967295,S=T+(C<<5&4294967295|C>>>27),C=A+(T^O&(S^T))+R[14]+3275163606&4294967295,A=S+(C<<9&4294967295|C>>>23),C=O+(S^T&(A^S))+R[3]+4107603335&4294967295,O=A+(C<<14&4294967295|C>>>18),C=T+(A^S&(O^A))+R[8]+1163531501&4294967295,T=O+(C<<20&4294967295|C>>>12),C=S+(O^A&(T^O))+R[13]+2850285829&4294967295,S=T+(C<<5&4294967295|C>>>27),C=A+(T^O&(S^T))+R[2]+4243563512&4294967295,A=S+(C<<9&4294967295|C>>>23),C=O+(S^T&(A^S))+R[7]+1735328473&4294967295,O=A+(C<<14&4294967295|C>>>18),C=T+(A^S&(O^A))+R[12]+2368359562&4294967295,T=O+(C<<20&4294967295|C>>>12),C=S+(T^O^A)+R[5]+4294588738&4294967295,S=T+(C<<4&4294967295|C>>>28),C=A+(S^T^O)+R[8]+2272392833&4294967295,A=S+(C<<11&4294967295|C>>>21),C=O+(A^S^T)+R[11]+1839030562&4294967295,O=A+(C<<16&4294967295|C>>>16),C=T+(O^A^S)+R[14]+4259657740&4294967295,T=O+(C<<23&4294967295|C>>>9),C=S+(T^O^A)+R[1]+2763975236&4294967295,S=T+(C<<4&4294967295|C>>>28),C=A+(S^T^O)+R[4]+1272893353&4294967295,A=S+(C<<11&4294967295|C>>>21),C=O+(A^S^T)+R[7]+4139469664&4294967295,O=A+(C<<16&4294967295|C>>>16),C=T+(O^A^S)+R[10]+3200236656&4294967295,T=O+(C<<23&4294967295|C>>>9),C=S+(T^O^A)+R[13]+681279174&4294967295,S=T+(C<<4&4294967295|C>>>28),C=A+(S^T^O)+R[0]+3936430074&4294967295,A=S+(C<<11&4294967295|C>>>21),C=O+(A^S^T)+R[3]+3572445317&4294967295,O=A+(C<<16&4294967295|C>>>16),C=T+(O^A^S)+R[6]+76029189&4294967295,T=O+(C<<23&4294967295|C>>>9),C=S+(T^O^A)+R[9]+3654602809&4294967295,S=T+(C<<4&4294967295|C>>>28),C=A+(S^T^O)+R[12]+3873151461&4294967295,A=S+(C<<11&4294967295|C>>>21),C=O+(A^S^T)+R[15]+530742520&4294967295,O=A+(C<<16&4294967295|C>>>16),C=T+(O^A^S)+R[2]+3299628645&4294967295,T=O+(C<<23&4294967295|C>>>9),C=S+(O^(T|~A))+R[0]+4096336452&4294967295,S=T+(C<<6&4294967295|C>>>26),C=A+(T^(S|~O))+R[7]+1126891415&4294967295,A=S+(C<<10&4294967295|C>>>22),C=O+(S^(A|~T))+R[14]+2878612391&4294967295,O=A+(C<<15&4294967295|C>>>17),C=T+(A^(O|~S))+R[5]+4237533241&4294967295,T=O+(C<<21&4294967295|C>>>11),C=S+(O^(T|~A))+R[12]+1700485571&4294967295,S=T+(C<<6&4294967295|C>>>26),C=A+(T^(S|~O))+R[3]+2399980690&4294967295,A=S+(C<<10&4294967295|C>>>22),C=O+(S^(A|~T))+R[10]+4293915773&4294967295,O=A+(C<<15&4294967295|C>>>17),C=T+(A^(O|~S))+R[1]+2240044497&4294967295,T=O+(C<<21&4294967295|C>>>11),C=S+(O^(T|~A))+R[8]+1873313359&4294967295,S=T+(C<<6&4294967295|C>>>26),C=A+(T^(S|~O))+R[15]+4264355552&4294967295,A=S+(C<<10&4294967295|C>>>22),C=O+(S^(A|~T))+R[6]+2734768916&4294967295,O=A+(C<<15&4294967295|C>>>17),C=T+(A^(O|~S))+R[13]+1309151649&4294967295,T=O+(C<<21&4294967295|C>>>11),C=S+(O^(T|~A))+R[4]+4149444226&4294967295,S=T+(C<<6&4294967295|C>>>26),C=A+(T^(S|~O))+R[11]+3174756917&4294967295,A=S+(C<<10&4294967295|C>>>22),C=O+(S^(A|~T))+R[2]+718787259&4294967295,O=A+(C<<15&4294967295|C>>>17),C=T+(A^(O|~S))+R[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+A&4294967295}s.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var T=S-this.blockSize,R=this.B,O=this.h,A=0;A<S;){if(O==0)for(;A<=T;)i(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<S;)if(R[O++]=D.charCodeAt(A++),O==this.blockSize){i(this,R),O=0;break}}else for(;A<S;)if(R[O++]=D[A++],O==this.blockSize){i(this,R),O=0;break}}this.h=O,this.o+=S},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var T=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=T&255,T/=256;for(this.u(D),D=Array(16),S=T=0;4>S;++S)for(var R=0;32>R;R+=8)D[T++]=this.g[S]>>>R&255;return D};function r(D,S){var T=l;return Object.prototype.hasOwnProperty.call(T,D)?T[D]:T[D]=S(D)}function o(D,S){this.h=S;for(var T=[],R=!0,O=D.length-1;0<=O;O--){var A=D[O]|0;R&&A==S||(T[O]=A,R=!1)}this.g=T}var l={};function c(D){return-128<=D&&128>D?r(D,function(S){return new o([S|0],0>S?-1:0)}):new o([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return N(h(-D));for(var S=[],T=1,R=0;D>=T;R++)S[R]=D/T|0,T*=4294967296;return new o(S,0)}function d(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return N(d(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=h(Math.pow(S,8)),R=p,O=0;O<D.length;O+=8){var A=Math.min(8,D.length-O),C=parseInt(D.substring(O,O+A),S);8>A?(A=h(Math.pow(S,A)),R=R.j(A).add(h(C))):(R=R.j(T),R=R.add(h(C)))}return R}var p=c(0),g=c(1),E=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-N(this).m();for(var D=0,S=1,T=0;T<this.g.length;T++){var R=this.i(T);D+=(0<=R?R:4294967296+R)*S,S*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(x(this))return"-"+N(this).toString(D);for(var S=h(Math.pow(D,6)),T=this,R="";;){var O=B(T,S).g;T=j(T,O.j(S));var A=((0<T.g.length?T.g[0]:T.h)>>>0).toString(D);if(T=O,I(T))return A+R;for(;6>A.length;)A="0"+A;R=A+R}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function x(D){return D.h==-1}t.l=function(D){return D=j(this,D),x(D)?-1:I(D)?0:1};function N(D){for(var S=D.g.length,T=[],R=0;R<S;R++)T[R]=~D.g[R];return new o(T,~D.h).add(g)}t.abs=function(){return x(this)?N(this):this},t.add=function(D){for(var S=Math.max(this.g.length,D.g.length),T=[],R=0,O=0;O<=S;O++){var A=R+(this.i(O)&65535)+(D.i(O)&65535),C=(A>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);R=C>>>16,A&=65535,C&=65535,T[O]=C<<16|A}return new o(T,T[T.length-1]&-2147483648?-1:0)};function j(D,S){return D.add(N(S))}t.j=function(D){if(I(this)||I(D))return p;if(x(this))return x(D)?N(this).j(N(D)):N(N(this).j(D));if(x(D))return N(this.j(N(D)));if(0>this.l(E)&&0>D.l(E))return h(this.m()*D.m());for(var S=this.g.length+D.g.length,T=[],R=0;R<2*S;R++)T[R]=0;for(R=0;R<this.g.length;R++)for(var O=0;O<D.g.length;O++){var A=this.i(R)>>>16,C=this.i(R)&65535,xe=D.i(O)>>>16,it=D.i(O)&65535;T[2*R+2*O]+=C*it,$(T,2*R+2*O),T[2*R+2*O+1]+=A*it,$(T,2*R+2*O+1),T[2*R+2*O+1]+=C*xe,$(T,2*R+2*O+1),T[2*R+2*O+2]+=A*xe,$(T,2*R+2*O+2)}for(R=0;R<S;R++)T[R]=T[2*R+1]<<16|T[2*R];for(R=S;R<2*S;R++)T[R]=0;return new o(T,0)};function $(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function U(D,S){this.g=D,this.h=S}function B(D,S){if(I(S))throw Error("division by zero");if(I(D))return new U(p,p);if(x(D))return S=B(N(D),S),new U(N(S.g),N(S.h));if(x(S))return S=B(D,N(S)),new U(N(S.g),S.h);if(30<D.g.length){if(x(D)||x(S))throw Error("slowDivide_ only works with positive integers.");for(var T=g,R=S;0>=R.l(D);)T=ne(T),R=ne(R);var O=re(T,1),A=re(R,1);for(R=re(R,2),T=re(T,2);!I(R);){var C=A.add(R);0>=C.l(D)&&(O=O.add(T),A=C),R=re(R,1),T=re(T,1)}return S=j(D,O.j(S)),new U(O,S)}for(O=p;0<=D.l(S);){for(T=Math.max(1,Math.floor(D.m()/S.m())),R=Math.ceil(Math.log(T)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),A=h(T),C=A.j(S);x(C)||0<C.l(D);)T-=R,A=h(T),C=A.j(S);I(A)&&(A=g),O=O.add(A),D=j(D,C)}return new U(O,D)}t.A=function(D){return B(this,D).h},t.and=function(D){for(var S=Math.max(this.g.length,D.g.length),T=[],R=0;R<S;R++)T[R]=this.i(R)&D.i(R);return new o(T,this.h&D.h)},t.or=function(D){for(var S=Math.max(this.g.length,D.g.length),T=[],R=0;R<S;R++)T[R]=this.i(R)|D.i(R);return new o(T,this.h|D.h)},t.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),T=[],R=0;R<S;R++)T[R]=this.i(R)^D.i(R);return new o(T,this.h^D.h)};function ne(D){for(var S=D.g.length+1,T=[],R=0;R<S;R++)T[R]=D.i(R)<<1|D.i(R-1)>>>31;return new o(T,D.h)}function re(D,S){var T=S>>5;S%=32;for(var R=D.g.length-T,O=[],A=0;A<R;A++)O[A]=0<S?D.i(A+T)>>>S|D.i(A+T+1)<<32-S:D.i(A+T);return new o(O,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Lw=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,yr=o}).apply(typeof $v<"u"?$v:typeof self<"u"?self:typeof window<"u"?window:{});var Nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vw,zl,Mw,Zu,Ep,$w,Fw,Uw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,_){return a==Array.prototype||a==Object.prototype||(a[f]=_.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nu=="object"&&Nu];for(var f=0;f<a.length;++f){var _=a[f];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function i(a,f){if(f)e:{var _=s;a=a.split(".");for(var w=0;w<a.length-1;w++){var F=a[w];if(!(F in _))break e;_=_[F]}a=a[a.length-1],w=_[a],f=f(w),f!=w&&f!=null&&e(_,a,{configurable:!0,writable:!0,value:f})}}function r(a,f){a instanceof String&&(a+="");var _=0,w=!1,F={next:function(){if(!w&&_<a.length){var H=_++;return{value:f(H,a[H]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(a){return a||function(){return r(this,function(f,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function h(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function d(a,f,_){return a.call.apply(a.bind,arguments)}function p(a,f,_){if(!a)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),a.apply(f,F)}}return function(){return a.apply(f,arguments)}}function g(a,f,_){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function E(a,f){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),a.apply(this,w)}}function I(a,f){function _(){}_.prototype=f.prototype,a.aa=f.prototype,a.prototype=new _,a.prototype.constructor=a,a.Qb=function(w,F,H){for(var ce=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)ce[ft-2]=arguments[ft];return f.prototype[F].apply(w,ce)}}function x(a){const f=a.length;if(0<f){const _=Array(f);for(let w=0;w<f;w++)_[w]=a[w];return _}return[]}function N(a,f){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(c(w)){const F=a.length||0,H=w.length||0;a.length=F+H;for(let ce=0;ce<H;ce++)a[F+ce]=w[ce]}else a.push(w)}}class j{constructor(f,_){this.i=f,this.j=_,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function $(a){return/^[\s\xa0]*$/.test(a)}function U(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function B(a){return B[" "](a),a}B[" "]=function(){};var ne=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function re(a,f,_){for(const w in a)f.call(_,a[w],w,a)}function D(a,f){for(const _ in a)f.call(void 0,a[_],_,a)}function S(a){const f={};for(const _ in a)f[_]=a[_];return f}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,f){let _,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(_ in w)a[_]=w[_];for(let H=0;H<T.length;H++)_=T[H],Object.prototype.hasOwnProperty.call(w,_)&&(a[_]=w[_])}}function O(a){var f=1;a=a.split(":");const _=[];for(;0<f&&a.length;)_.push(a.shift()),f--;return a.length&&_.push(a.join(":")),_}function A(a){l.setTimeout(()=>{throw a},0)}function C(){var a=Rt;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class xe{constructor(){this.h=this.g=null}add(f,_){const w=it.get();w.set(f,_),this.h?this.h.next=w:this.g=w,this.h=w}}var it=new j(()=>new Le,a=>a.reset());class Le{constructor(){this.next=this.g=this.h=null}set(f,_){this.h=f,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let we,Be=!1,Rt=new xe,Q=()=>{const a=l.Promise.resolve(void 0);we=()=>{a.then(qt)}};var qt=()=>{for(var a;a=C();){try{a.h.call(a.g)}catch(_){A(_)}var f=it;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}Be=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var At=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const _=()=>{};l.addEventListener("test",_,f),l.removeEventListener("test",_,f)}catch{}return a}();function It(a,f){if(ot.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var _=this.type=a.type,w=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(ne){e:{try{B(f.nodeName);var F=!0;break e}catch{}F=!1}F||(f=null)}}else _=="mouseover"?f=a.fromElement:_=="mouseout"&&(f=a.toElement);this.relatedTarget=f,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:at[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&It.aa.h.call(this)}}I(It,ot);var at={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),W=0;function le(a,f,_,w,F){this.listener=a,this.proxy=null,this.src=f,this.type=_,this.capture=!!w,this.ha=F,this.key=++W,this.da=this.fa=!1}function ve(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ge(a){this.src=a,this.g={},this.h=0}Ge.prototype.add=function(a,f,_,w,F){var H=a.toString();a=this.g[H],a||(a=this.g[H]=[],this.h++);var ce=k(a,f,w,F);return-1<ce?(f=a[ce],_||(f.fa=!1)):(f=new le(f,this.src,H,!!w,F),f.fa=_,a.push(f)),f};function P(a,f){var _=f.type;if(_ in a.g){var w=a.g[_],F=Array.prototype.indexOf.call(w,f,void 0),H;(H=0<=F)&&Array.prototype.splice.call(w,F,1),H&&(ve(f),a.g[_].length==0&&(delete a.g[_],a.h--))}}function k(a,f,_,w){for(var F=0;F<a.length;++F){var H=a[F];if(!H.da&&H.listener==f&&H.capture==!!_&&H.ha==w)return F}return-1}var M="closure_lm_"+(1e6*Math.random()|0),K={};function G(a,f,_,w,F){if(Array.isArray(f)){for(var H=0;H<f.length;H++)G(a,f[H],_,w,F);return null}return _=Te(_),a&&a[z]?a.K(f,_,h(w)?!!w.capture:!1,F):Y(a,f,_,!1,w,F)}function Y(a,f,_,w,F,H){if(!f)throw Error("Invalid event type");var ce=h(F)?!!F.capture:!!F,ft=de(a);if(ft||(a[M]=ft=new Ge(a)),_=ft.add(f,_,w,ce,H),_.proxy)return _;if(w=he(),_.proxy=w,w.src=a,w.listener=_,a.addEventListener)At||(F=ce),F===void 0&&(F=!1),a.addEventListener(f.toString(),w,F);else if(a.attachEvent)a.attachEvent(te(f.toString()),w);else if(a.addListener&&a.removeListener)a.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function he(){function a(_){return f.call(a.src,a.listener,_)}const f=Se;return a}function ae(a,f,_,w,F){if(Array.isArray(f))for(var H=0;H<f.length;H++)ae(a,f[H],_,w,F);else w=h(w)?!!w.capture:!!w,_=Te(_),a&&a[z]?(a=a.i,f=String(f).toString(),f in a.g&&(H=a.g[f],_=k(H,_,w,F),-1<_&&(ve(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete a.g[f],a.h--)))):a&&(a=de(a))&&(f=a.g[f.toString()],a=-1,f&&(a=k(f,_,w,F)),(_=-1<a?f[a]:null)&&oe(_))}function oe(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[z])P(f.i,a);else{var _=a.type,w=a.proxy;f.removeEventListener?f.removeEventListener(_,w,a.capture):f.detachEvent?f.detachEvent(te(_),w):f.addListener&&f.removeListener&&f.removeListener(w),(_=de(f))?(P(_,a),_.h==0&&(_.src=null,f[M]=null)):ve(a)}}}function te(a){return a in K?K[a]:K[a]="on"+a}function Se(a,f){if(a.da)a=!0;else{f=new It(f,this);var _=a.listener,w=a.ha||a.src;a.fa&&oe(a),a=_.call(w,f)}return a}function de(a){return a=a[M],a instanceof Ge?a:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(a){return typeof a=="function"?a:(a[Ee]||(a[Ee]=function(f){return a.handleEvent(f)}),a[Ee])}function Ae(){rt.call(this),this.i=new Ge(this),this.M=this,this.F=null}I(Ae,rt),Ae.prototype[z]=!0,Ae.prototype.removeEventListener=function(a,f,_,w){ae(this,a,f,_,w)};function Ne(a,f){var _,w=a.F;if(w)for(_=[];w;w=w.F)_.push(w);if(a=a.M,w=f.type||f,typeof f=="string")f=new ot(f,a);else if(f instanceof ot)f.target=f.target||a;else{var F=f;f=new ot(w,a),R(f,F)}if(F=!0,_)for(var H=_.length-1;0<=H;H--){var ce=f.g=_[H];F=ze(ce,w,!0,f)&&F}if(ce=f.g=a,F=ze(ce,w,!0,f)&&F,F=ze(ce,w,!1,f)&&F,_)for(H=0;H<_.length;H++)ce=f.g=_[H],F=ze(ce,w,!1,f)&&F}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var _=a.g[f],w=0;w<_.length;w++)ve(_[w]);delete a.g[f],a.h--}}this.F=null},Ae.prototype.K=function(a,f,_,w){return this.i.add(String(a),f,!1,_,w)},Ae.prototype.L=function(a,f,_,w){return this.i.add(String(a),f,!0,_,w)};function ze(a,f,_,w){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var F=!0,H=0;H<f.length;++H){var ce=f[H];if(ce&&!ce.da&&ce.capture==_){var ft=ce.listener,Xt=ce.ha||ce.src;ce.fa&&P(a.i,ce),F=ft.call(Xt,w)!==!1&&F}}return F&&!w.defaultPrevented}function Nt(a,f,_){if(typeof a=="function")_&&(a=g(a,_));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:l.setTimeout(a,f||0)}function Pt(a){a.g=Nt(()=>{a.g=null,a.i&&(a.i=!1,Pt(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class Gt extends rt{constructor(f,_){super(),this.m=f,this.l=_,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Pt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $t(a){rt.call(this),this.h=a,this.g={}}I($t,rt);var $s=[];function ri(a){re(a.g,function(f,_){this.g.hasOwnProperty(_)&&oe(f)},a),a.g={}}$t.prototype.N=function(){$t.aa.N.call(this),ri(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qt=l.JSON.stringify,Fn=l.JSON.parse,Wo=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function hl(){}hl.prototype.h=null;function tu(a){return a.h||(a.h=a.i())}function nu(){}var ji={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){ot.call(this,"d")}I(Bi,ot);function zo(){ot.call(this,"c")}I(zo,ot);var Fs={},su=null;function Ko(){return su=su||new Ae}Fs.La="serverreachability";function iu(a){ot.call(this,Fs.La,a)}I(iu,ot);function Hr(a){const f=Ko();Ne(f,new iu(f))}Fs.STAT_EVENT="statevent";function oi(a,f){ot.call(this,Fs.STAT_EVENT,a),this.stat=f}I(oi,ot);function Ft(a){const f=Ko();Ne(f,new oi(f,a))}Fs.Ma="timingevent";function ru(a,f){ot.call(this,Fs.Ma,a),this.size=f}I(ru,ot);function qr(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},f)}function Wr(){this.g=!0}Wr.prototype.xa=function(){this.g=!1};function Kd(a,f,_,w,F,H){a.info(function(){if(a.g)if(H)for(var ce="",ft=H.split("&"),Xt=0;Xt<ft.length;Xt++){var Ze=ft[Xt].split("=");if(1<Ze.length){var sn=Ze[0];Ze=Ze[1];var rn=sn.split("_");ce=2<=rn.length&&rn[1]=="type"?ce+(sn+"="+Ze+"&"):ce+(sn+"=redacted&")}}else ce=null;else ce=H;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+f+`
`+_+`
`+ce})}function Gd(a,f,_,w,F,H,ce){a.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+f+`
`+_+`
`+H+" "+ce})}function Us(a,f,_,w){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+Go(a,_)+(w?" "+w:"")})}function Hi(a,f){a.info(function(){return"TIMEOUT: "+f})}Wr.prototype.info=function(){};function Go(a,f){if(!a.g)return f;if(!f)return null;try{var _=JSON.parse(f);if(_){for(a=0;a<_.length;a++)if(Array.isArray(_[a])){var w=_[a];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var H=F[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ce=1;ce<F.length;ce++)F[ce]=""}}}}return Qt(_)}catch{return f}}var Qo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dl;function Xo(){}I(Xo,hl),Xo.prototype.g=function(){return new XMLHttpRequest},Xo.prototype.i=function(){return{}},dl=new Xo;function Sn(a,f,_,w){this.j=a,this.i=f,this.l=_,this.R=w||1,this.U=new $t(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nn}function nn(){this.i=null,this.g="",this.h=!1}var _n={},dn={};function Yt(a,f,_){a.L=1,a.v=ci(Lt(f)),a.m=_,a.P=!0,zr(a,null)}function zr(a,f){a.F=Date.now(),Is(a),a.A=Lt(a.v);var _=a.A,w=a.R;Array.isArray(w)||(w=[String(w)]),ea(_.i,"t",w),a.C=0,_=a.j.J,a.h=new nn,a.g=yu(a.j,_?f:null,!a.m),0<a.O&&(a.M=new Gt(g(a.Y,a,a.g),a.O)),f=a.U,_=a.g,w=a.ca;var F="readystatechange";Array.isArray(F)||(F&&($s[0]=F.toString()),F=$s);for(var H=0;H<F.length;H++){var ce=G(_,F[H],w||f.handleEvent,!1,f.h||f);if(!ce)break;f.g[ce.key]=ce}f=a.H?S(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),Hr(),Kd(a.i,a.u,a.A,a.l,a.R,a.m)}Sn.prototype.ca=function(a){a=a.target;const f=this.M;f&&vn(a)==3?f.j():this.Y(a)},Sn.prototype.Y=function(a){try{if(a==this.g)e:{const rn=vn(this.g);var f=this.g.Ba();const on=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||mu(this.g)))){this.J||rn!=4||f==7||(f==8||0>=on?Hr(3):Hr(2)),Kr(this);var _=this.g.Z();this.X=_;t:if(ai(this)){var w=mu(this.g);a="";var F=w.length,H=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){js(this),cs(this);var ce="";break t}this.h.i=new l.TextDecoder}for(f=0;f<F;f++)this.h.h=!0,a+=this.h.i.decode(w[f],{stream:!(H&&f==F-1)});w.length=0,this.h.g+=a,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,Gd(this.i,this.u,this.A,this.l,this.R,rn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,Xt=this.g;if((ft=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(ft)){var Ze=ft;break t}}Ze=null}if(_=Ze)Us(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gr(this,_);else{this.o=!1,this.s=3,Ft(12),js(this),cs(this);break e}}if(this.P){_=!0;let jn;for(;!this.J&&this.C<ce.length;)if(jn=li(this,ce),jn==dn){rn==4&&(this.s=4,Ft(14),_=!1),Us(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==_n){this.s=4,Ft(15),Us(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else Us(this.i,this.l,jn,null),Gr(this,jn);if(ai(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||ce.length!=0||this.h.h||(this.s=1,Ft(16),_=!1),this.o=this.o&&_,!_)Us(this.i,this.l,ce,"[Invalid Chunked Response]"),js(this),cs(this);else if(0<ce.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ol(sn),sn.M=!0,Ft(11))}}else Us(this.i,this.l,ce,null),Gr(this,ce);rn==4&&js(this),this.o&&!this.J&&(rn==4?kl(this.j,this):(this.o=!1,Is(this)))}else gu(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),js(this),cs(this)}}}catch{}finally{}};function ai(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function li(a,f){var _=a.C,w=f.indexOf(`
`,_);return w==-1?dn:(_=Number(f.substring(_,w)),isNaN(_)?_n:(w+=1,w+_>f.length?dn:(f=f.slice(w,w+_),a.C=w+_,f)))}Sn.prototype.cancel=function(){this.J=!0,js(this)};function Is(a){a.S=Date.now()+a.I,fl(a,a.I)}function fl(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=qr(g(a.ba,a),f)}function Kr(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Sn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Hi(this.i,this.A),this.L!=2&&(Hr(),Ft(17)),js(this),this.s=2,cs(this)):fl(this,this.S-a)};function cs(a){a.j.G==0||a.J||kl(a.j,a)}function js(a){Kr(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,ri(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function Gr(a,f){try{var _=a.j;if(_.G!=0&&(_.g==a||Jo(_.h,a))){if(!a.K&&Jo(_.h,a)&&_.G==3){try{var w=_.Da.g.parse(f)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<a.F)eo(_),Xr(_);else break e;Pl(_),Ft(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=qr(g(_.Za,_),6e3));if(1>=_l(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Cs(_,11)}else if((a.K||_.g==a)&&eo(_),!$(f))for(F=_.Da.g.parse(f),f=0;f<F.length;f++){let Ze=F[f];if(_.T=Ze[0],Ze=Ze[1],_.G==2)if(Ze[0]=="c"){_.K=Ze[1],_.ia=Ze[2];const sn=Ze[3];sn!=null&&(_.la=sn,_.j.info("VER="+_.la));const rn=Ze[4];rn!=null&&(_.Aa=rn,_.j.info("SVER="+_.Aa));const on=Ze[5];on!=null&&typeof on=="number"&&0<on&&(w=1.5*on,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const jn=a.g;if(jn){const to=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(to){var H=w.h;H.g||to.indexOf("spdy")==-1&&to.indexOf("quic")==-1&&to.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Zo(H,H.h),H.h=null))}if(w.D){const la=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(w.ya=la,nt(w.I,w.D,la))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-a.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ce=a;if(w.qa=Dl(w,w.J?w.ia:null,w.W),ce.K){vl(w.h,ce);var ft=ce,Xt=w.L;Xt&&(ft.I=Xt),ft.B&&(Kr(ft),Is(ft)),w.g=ce}else Zr(w);0<_.i.length&&Jr(_)}else Ze[0]!="stop"&&Ze[0]!="close"||Cs(_,7);else _.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Cs(_,7):ia(_):Ze[0]!="noop"&&_.l&&_.l.ta(Ze),_.v=0)}}Hr(4)}catch{}}var pl=class{constructor(a,f){this.g=a,this.map=f}};function ml(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gl(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function _l(a){return a.h?1:a.g?a.g.size:0}function Jo(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function Zo(a,f){a.g?a.g.add(f):a.h=f}function vl(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}ml.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function yl(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const _ of a.g.values())f=f.concat(_.D);return f}return x(a.i)}function ou(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var f=[],_=a.length,w=0;w<_;w++)f.push(a[w]);return f}f=[],_=0;for(w in a)f[_++]=a[w];return f}function au(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var f=[];a=a.length;for(var _=0;_<a;_++)f.push(_);return f}f=[],_=0;for(const w in a)f[_++]=w;return f}}}function El(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var _=au(a),w=ou(a),F=w.length,H=0;H<F;H++)f.call(void 0,w[H],_&&_[H],a)}var Kn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cn(a,f){if(a){a=a.split("&");for(var _=0;_<a.length;_++){var w=a[_].indexOf("="),F=null;if(0<=w){var H=a[_].substring(0,w);F=a[_].substring(w+1)}else H=a[_];f(H,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Rn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Rn){this.h=a.h,qi(this,a.j),this.o=a.o,this.g=a.g,Wi(this,a.s),this.l=a.l;var f=a.i,_=new Un;_.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),Gn(this,_),this.m=a.m}else a&&(f=String(a).match(Kn))?(this.h=!1,qi(this,f[1]||"",!0),this.o=us(f[2]||""),this.g=us(f[3]||"",!0),Wi(this,f[4]),this.l=us(f[5]||"",!0),Gn(this,f[6]||"",!0),this.m=us(f[7]||"")):(this.h=!1,this.i=new Un(null,this.h))}Rn.prototype.toString=function(){var a=[],f=this.j;f&&a.push(ui(f,hi,!0),":");var _=this.g;return(_||f=="file")&&(a.push("//"),(f=this.o)&&a.push(ui(f,hi,!0),"@"),a.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&a.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&a.push("/"),a.push(ui(_,_.charAt(0)=="/"?cu:bl,!0))),(_=this.i.toString())&&a.push("?",_),(_=this.m)&&a.push("#",ui(_,Qd)),a.join("")};function Lt(a){return new Rn(a)}function qi(a,f,_){a.j=_?us(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Wi(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function Gn(a,f,_){f instanceof Un?(a.i=f,uu(a.i,a.h)):(_||(f=ui(f,Ss)),a.i=new Un(f,a.h))}function nt(a,f,_){a.i.set(f,_)}function ci(a){return nt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function us(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ui(a,f,_){return typeof a=="string"?(a=encodeURI(a).replace(f,lu),_&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function lu(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var hi=/[#\/\?@]/g,bl=/[#\?:]/g,cu=/[#\?]/g,Ss=/[#\?@]/g,Qd=/#/g;function Un(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function Qn(a){a.g||(a.g=new Map,a.h=0,a.i&&Cn(a.i,function(f,_){a.add(decodeURIComponent(f.replace(/\+/g," ")),_)}))}t=Un.prototype,t.add=function(a,f){Qn(this),this.i=null,a=hs(this,a);var _=this.g.get(a);return _||this.g.set(a,_=[]),_.push(f),this.h+=1,this};function wl(a,f){Qn(a),f=hs(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function zi(a,f){return Qn(a),f=hs(a,f),a.g.has(f)}t.forEach=function(a,f){Qn(this),this.g.forEach(function(_,w){_.forEach(function(F){a.call(f,F,w,this)},this)},this)},t.na=function(){Qn(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),_=[];for(let w=0;w<f.length;w++){const F=a[w];for(let H=0;H<F.length;H++)_.push(f[w])}return _},t.V=function(a){Qn(this);let f=[];if(typeof a=="string")zi(this,a)&&(f=f.concat(this.g.get(hs(this,a))));else{a=Array.from(this.g.values());for(let _=0;_<a.length;_++)f=f.concat(a[_])}return f},t.set=function(a,f){return Qn(this),this.i=null,a=hs(this,a),zi(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function ea(a,f,_){wl(a,f),0<_.length&&(a.i=null,a.g.set(hs(a,f),x(_)),a.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var _=0;_<f.length;_++){var w=f[_];const H=encodeURIComponent(String(w)),ce=this.V(w);for(w=0;w<ce.length;w++){var F=H;ce[w]!==""&&(F+="="+encodeURIComponent(String(ce[w]))),a.push(F)}}return this.i=a.join("&")};function hs(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function uu(a,f){f&&!a.j&&(Qn(a),a.i=null,a.g.forEach(function(_,w){var F=w.toLowerCase();w!=F&&(wl(this,w),ea(this,F,_))},a)),a.j=f}function hu(a,f){const _=new Wr;if(l.Image){const w=new Image;w.onload=E(Pn,_,"TestLoadImage: loaded",!0,f,w),w.onerror=E(Pn,_,"TestLoadImage: error",!1,f,w),w.onabort=E(Pn,_,"TestLoadImage: abort",!1,f,w),w.ontimeout=E(Pn,_,"TestLoadImage: timeout",!1,f,w),l.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=a}else f(!1)}function du(a,f){const _=new Wr,w=new AbortController,F=setTimeout(()=>{w.abort(),Pn(_,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:w.signal}).then(H=>{clearTimeout(F),H.ok?Pn(_,"TestPingServer: ok",!0,f):Pn(_,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(F),Pn(_,"TestPingServer: error",!1,f)})}function Pn(a,f,_,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(_)}catch{}}function Yd(){this.g=new Wo}function fu(a,f,_){const w=_||"";try{El(a,function(F,H){let ce=F;h(F)&&(ce=Qt(F)),f.push(w+H+"="+encodeURIComponent(ce))})}catch(F){throw f.push(w+"type="+encodeURIComponent("_badmap")),F}}function Ki(a){this.l=a.Ub||null,this.j=a.eb||!1}I(Ki,hl),Ki.prototype.g=function(){return new di(this.l,this.j)},Ki.prototype.i=function(a){return function(){return a}}({});function di(a,f){Ae.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(di,Ae),t=di.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,Bs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||l).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qr(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Bs(this)),this.g&&(this.readyState=3,Bs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ta(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ta(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?Qr(this):Bs(this),this.readyState==3&&ta(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Qr(this))},t.Qa=function(a){this.g&&(this.response=a,Qr(this))},t.ga=function(){this.g&&Qr(this)};function Qr(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Bs(a)}t.setRequestHeader=function(a,f){this.u.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var _=f.next();!_.done;)_=_.value,a.push(_[0]+": "+_[1]),_=f.next();return a.join(`\r
`)};function Bs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function pu(a){let f="";return re(a,function(_,w){f+=w,f+=":",f+=_,f+=`\r
`}),f}function na(a,f,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=pu(_),typeof a=="string"?_!=null&&encodeURIComponent(String(_)):nt(a,f,_))}function bt(a){Ae.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(bt,Ae);var Tl=/^https?$/i,Al=["POST","PUT"];t=bt.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,f,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dl.g(),this.v=this.o?tu(this.o):tu(dl),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(H){Il(this,H);return}if(a=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)_.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const H of w.keys())_.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),F=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Al,f,void 0))||w||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ce]of _)this.g.setRequestHeader(H,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sl(this),this.u=!0,this.g.send(a),this.u=!1}catch(H){Il(this,H)}};function Il(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,Gi(a),Yr(a)}function Gi(a){a.A||(a.A=!0,Ne(a,"complete"),Ne(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ne(this,"complete"),Ne(this,"abort"),Yr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yr(this,!0)),bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},t.bb=function(){sa(this)};function sa(a){if(a.h&&typeof o<"u"&&(!a.v[1]||vn(a)!=4||a.Z()!=2)){if(a.u&&vn(a)==4)Nt(a.Ea,0,a);else if(Ne(a,"readystatechange"),vn(a)==4){a.h=!1;try{const ce=a.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var _;if(!(_=f)){var w;if(w=ce===0){var F=String(a.D).match(Kn)[1]||null;!F&&l.self&&l.self.location&&(F=l.self.location.protocol.slice(0,-1)),w=!Tl.test(F?F.toLowerCase():"")}_=w}if(_)Ne(a,"complete"),Ne(a,"success");else{a.m=6;try{var H=2<vn(a)?a.g.statusText:""}catch{H=""}a.l=H+" ["+a.Z()+"]",Gi(a)}}finally{Yr(a)}}}}function Yr(a,f){if(a.g){Sl(a);const _=a.g,w=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||Ne(a,"ready");try{_.onreadystatechange=w}catch{}}}function Sl(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function vn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),Fn(f)}};function mu(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function gu(a){const f={};a=(a.g&&2<=vn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<a.length;w++){if($(a[w]))continue;var _=O(a[w]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=f[F]||[];f[F]=H,H.push(_)}D(f,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qi(a,f,_){return _&&_.internalChannelParams&&_.internalChannelParams[a]||f}function Cl(a){this.Aa=0,this.i=[],this.j=new Wr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qi("baseRetryDelayMs",5e3,a),this.cb=Qi("retryDelaySeedMs",1e4,a),this.Wa=Qi("forwardChannelMaxRetries",2,a),this.wa=Qi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ml(a&&a.concurrentRequestLimit),this.Da=new Yd,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Cl.prototype,t.la=8,t.G=1,t.connect=function(a,f,_,w){Ft(0),this.W=a,this.H=f||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Dl(this,null,this.W),Jr(this)};function ia(a){if(ra(a),a.G==3){var f=a.U++,_=Lt(a.I);if(nt(_,"SID",a.K),nt(_,"RID",f),nt(_,"TYPE","terminate"),Yi(a,_),f=new Sn(a,a.j,f),f.L=2,f.v=ci(Lt(_)),_=!1,l.navigator&&l.navigator.sendBeacon)try{_=l.navigator.sendBeacon(f.v.toString(),"")}catch{}!_&&l.Image&&(new Image().src=f.v,_=!0),_||(f.g=yu(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Is(f)}vu(a)}function Xr(a){a.g&&(Ol(a),a.g.cancel(),a.g=null)}function ra(a){Xr(a),a.u&&(l.clearTimeout(a.u),a.u=null),eo(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Jr(a){if(!gl(a.h)&&!a.s){a.s=!0;var f=a.Ga;we||Q(),Be||(we(),Be=!0),Rt.add(f,a),a.B=0}}function Xd(a,f){return _l(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=qr(g(a.Ga,a,f),Hs(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const F=new Sn(this,this.j,a);let H=this.o;if(this.S&&(H?(H=S(H),R(H,this.S)):H=this.S),this.m!==null||this.O||(F.H=H,H=null),this.P)e:{for(var f=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(f+=w,4096<f){f=_;break e}if(f===4096||_===this.i.length-1){f=_+1;break e}}f=1e3}else f=1e3;f=Rl(this,F,f),_=Lt(this.I),nt(_,"RID",a),nt(_,"CVER",22),this.D&&nt(_,"X-HTTP-Session-Id",this.D),Yi(this,_),H&&(this.O?f="headers="+encodeURIComponent(String(pu(H)))+"&"+f:this.m&&na(_,this.m,H)),Zo(this.h,F),this.Ua&&nt(_,"TYPE","init"),this.P?(nt(_,"$req",f),nt(_,"SID","null"),F.T=!0,Yt(F,_,null)):Yt(F,_,f),this.G=2}}else this.G==3&&(a?_u(this,a):this.i.length==0||gl(this.h)||_u(this))};function _u(a,f){var _;f?_=f.l:_=a.U++;const w=Lt(a.I);nt(w,"SID",a.K),nt(w,"RID",_),nt(w,"AID",a.T),Yi(a,w),a.m&&a.o&&na(w,a.m,a.o),_=new Sn(a,a.j,_,a.B+1),a.m===null&&(_.H=a.o),f&&(a.i=f.D.concat(a.i)),f=Rl(a,_,1e3),_.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Zo(a.h,_),Yt(_,w,f)}function Yi(a,f){a.H&&re(a.H,function(_,w){nt(f,w,_)}),a.l&&El({},function(_,w){nt(f,w,_)})}function Rl(a,f,_){_=Math.min(a.i.length,_);var w=a.l?g(a.l.Na,a.l,a):null;e:{var F=a.i;let H=-1;for(;;){const ce=["count="+_];H==-1?0<_?(H=F[0].g,ce.push("ofs="+H)):H=0:ce.push("ofs="+H);let ft=!0;for(let Xt=0;Xt<_;Xt++){let Ze=F[Xt].g;const sn=F[Xt].map;if(Ze-=H,0>Ze)H=Math.max(0,F[Xt].g-100),ft=!1;else try{fu(sn,ce,"req"+Ze+"_")}catch{w&&w(sn)}}if(ft){w=ce.join("&");break e}}}return a=a.i.splice(0,_),f.D=a,w}function Zr(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;we||Q(),Be||(we(),Be=!0),Rt.add(f,a),a.v=0}}function Pl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=qr(g(a.Fa,a),Hs(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,oa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=qr(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),Xr(this),oa(this))};function Ol(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function oa(a){a.g=new Sn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=Lt(a.qa);nt(f,"RID","rpc"),nt(f,"SID",a.K),nt(f,"AID",a.T),nt(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&nt(f,"TO",a.ja),nt(f,"TYPE","xmlhttp"),Yi(a,f),a.m&&a.o&&na(f,a.m,a.o),a.L&&(a.g.I=a.L);var _=a.g;a=a.ia,_.L=1,_.v=ci(Lt(f)),_.m=null,_.P=!0,zr(_,a)}t.Za=function(){this.C!=null&&(this.C=null,Xr(this),Pl(this),Ft(19))};function eo(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function kl(a,f){var _=null;if(a.g==f){eo(a),Ol(a),a.g=null;var w=2}else if(Jo(a.h,f))_=f.D,vl(a.h,f),w=1;else return;if(a.G!=0){if(f.o)if(w==1){_=f.m?f.m.length:0,f=Date.now()-f.F;var F=a.B;w=Ko(),Ne(w,new ru(w,_)),Jr(a)}else Zr(a);else if(F=f.s,F==3||F==0&&0<f.X||!(w==1&&Xd(a,f)||w==2&&Pl(a)))switch(_&&0<_.length&&(f=a.h,f.i=f.i.concat(_)),F){case 1:Cs(a,5);break;case 4:Cs(a,10);break;case 3:Cs(a,6);break;default:Cs(a,2)}}}function Hs(a,f){let _=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(_*=2),_*f}function Cs(a,f){if(a.j.info("Error code "+f),f==2){var _=g(a.fb,a),w=a.Xa;const F=!w;w=new Rn(w||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||qi(w,"https"),ci(w),F?hu(w.toString(),_):du(w.toString(),_)}else Ft(2);a.G=0,a.l&&a.l.sa(f),vu(a),ra(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function vu(a){if(a.G=0,a.ka=[],a.l){const f=yl(a.h);(f.length!=0||a.i.length!=0)&&(N(a.ka,f),N(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function Dl(a,f,_){var w=_ instanceof Rn?Lt(_):new Rn(_);if(w.g!="")f&&(w.g=f+"."+w.g),Wi(w,w.s);else{var F=l.location;w=F.protocol,f=f?f+"."+F.hostname:F.hostname,F=+F.port;var H=new Rn(null);w&&qi(H,w),f&&(H.g=f),F&&Wi(H,F),_&&(H.l=_),w=H}return _=a.D,f=a.ya,_&&f&&nt(w,_,f),nt(w,"VER",a.la),Yi(a,w),w}function yu(a,f,_){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new bt(new Ki({eb:_})):new bt(a.pa),f.Ha(a.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}t=Eu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function aa(){}aa.prototype.g=function(a,f){return new On(a,f)};function On(a,f){Ae.call(this),this.g=new Cl(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!$(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!$(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Xi(this)}I(On,Ae),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){ia(this.g)},On.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var _={};_.__data__=a,a=_}else this.u&&(_={},_.__data__=Qt(a),a=_);f.i.push(new pl(f.Ya++,a)),f.G==3&&Jr(f)},On.prototype.N=function(){this.g.l=null,delete this.j,ia(this.g),delete this.g,On.aa.N.call(this)};function xl(a){Bi.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const _ in f){a=_;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}I(xl,Bi);function Nl(){zo.call(this),this.status=1}I(Nl,zo);function Xi(a){this.g=a}I(Xi,Eu),Xi.prototype.ua=function(){Ne(this.g,"a")},Xi.prototype.ta=function(a){Ne(this.g,new xl(a))},Xi.prototype.sa=function(a){Ne(this.g,new Nl)},Xi.prototype.ra=function(){Ne(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,Uw=function(){return new aa},Fw=function(){return Ko()},$w=Fs,Ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qo.NO_ERROR=0,Qo.TIMEOUT=8,Qo.HTTP_ERROR=6,Zu=Qo,Yo.COMPLETE="complete",Mw=Yo,nu.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,zl=nu,bt.prototype.listenOnce=bt.prototype.L,bt.prototype.getLastError=bt.prototype.Ka,bt.prototype.getLastErrorCode=bt.prototype.Ba,bt.prototype.getStatus=bt.prototype.Z,bt.prototype.getResponseJson=bt.prototype.Oa,bt.prototype.getResponseText=bt.prototype.oa,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Ha,Vw=bt}).apply(typeof Nu<"u"?Nu:typeof self<"u"?self:typeof window<"u"?window:{});const Fv="@firebase/firestore",Uv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new mm("@firebase/firestore");function _a(){return Po.logLevel}function _e(t,...e){if(Po.logLevel<=Ye.DEBUG){const n=e.map(vm);Po.debug(`Firestore (${tl}): ${t}`,...n)}}function Oi(t,...e){if(Po.logLevel<=Ye.ERROR){const n=e.map(vm);Po.error(`Firestore (${tl}): ${t}`,...n)}}function Ma(t,...e){if(Po.logLevel<=Ye.WARN){const n=e.map(vm);Po.warn(`Firestore (${tl}): ${t}`,...n)}}function vm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,jw(t,s,n)}function jw(t,e,n){let s=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Oi(s),new Error(s)}function dt(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||jw(e,i,s)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class WO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zO{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let s=this.i;const i=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let r=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Ai,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=r;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Ai)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(dt(typeof s.accessToken=="string",31837,{l:s}),new Bw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class KO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new KO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const s=r=>{r.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,_e("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=YO(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%62))}return s}}function Ke(t,e){return t<e?-1:t>e?1:0}function bp(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),i=e.codePointAt(n);if(s!==i){if(s<128&&i<128)return Ke(s,i);{const r=Hw(),o=XO(r.encode(Bv(t,n)),r.encode(Bv(e,n)));return o!==0?o:Ke(s,i)}}n+=s>65535?2:1}return Ke(t.length,e.length)}function Bv(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function XO(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ke(t[n],e[n]);return Ke(t.length,e.length)}function $a(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=-62135596800,qv=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*qv);return new Zt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Hv)throw new ge(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qv}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Hv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Zt(0,0))}static max(){return new Me(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="__name__";class Gs{constructor(e,n,s){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&De(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Gs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gs?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=Gs.compareSegments(e.get(i),n.get(i));if(r!==0)return r}return Ke(e.length,n.length)}static compareSegments(e,n){const s=Gs.isNumericId(e),i=Gs.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?Gs.extractNumericId(e).compare(Gs.extractNumericId(n)):bp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yr.fromString(e.substring(4,e.length-2))}}class Ct extends Gs{construct(e,n,s){return new Ct(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new Ct(n)}static emptyPath(){return new Ct([])}}const JO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Gs{construct(e,n,s){return new mn(e,n,s)}static isValidIdentifier(e){return JO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wv}static keyField(){return new mn([Wv])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new ge(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ge(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ge(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(s+=l,i++):(r(),i++)}if(r(),o)throw new ge(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(Ct.fromString(e))}static fromName(e){return new Ce(Ct.fromString(e).popFirst(5))}static empty(){return new Ce(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=-1;function ZO(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(s===1e9?new Zt(n+1,0):new Zt(n,s));return new wr(i,Ce.empty(),e)}function ek(t){return new wr(t.readTime,t.key,Tc)}class wr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new wr(Me.min(),Ce.empty(),Tc)}static max(){return new wr(Me.max(),Ce.empty(),Tc)}}function tk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==nk)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let i=0,r=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++r,o&&r===i&&n()},c=>s(c))}),o=!0,r===i&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(i=>i?J.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new J((s,i)=>{const r=e.length,o=new Array(r);let l=0;for(let c=0;c<r;c++){const h=c;n(e[h]).next(d=>{o[h]=d,++l,l===r&&s(o)},d=>i(d))}})}static doWhile(e,n){return new J((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function ik(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}md.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=-1;function gd(t){return t==null}function Ch(t){return t===0&&1/t==-1/0}function rk(t){return typeof t=="number"&&Number.isInteger(t)&&!Ch(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="";function ok(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zv(e)),e=ak(t.get(n),e);return zv(e)}function ak(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const r=t.charAt(i);switch(r){case"\0":n+="";break;case Ww:n+="";break;default:n+=r}}return n}function zv(t){return t+Ww+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??pn.RED,this.left=i??pn.EMPTY,this.right=r??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new pn(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pn.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,s,i,r){return this}insert(e,n,s){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gv(this.data.getIterator())}getIteratorFrom(e){return new Gv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class Gv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new ts([])}unionWith(e){let n=new en(mn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ts(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Kw("Invalid base64 string: "+r):r}}(e);return new gn(n)}static fromUint8Array(e){const n=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const lk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=lk.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ar(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="server_timestamp",Qw="__type__",Yw="__previous_value__",Xw="__local_write_time__";function Em(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Qw])===null||n===void 0?void 0:n.stringValue)===Gw}function _d(t){const e=t.mapValue.fields[Yw];return Em(e)?_d(e):e}function Ac(t){const e=Tr(t.mapValue.fields[Xw].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,s,i,r,o,l,c,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=d}}const Rh="(default)";class Ic{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new Ic("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof Ic&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="__type__",uk="__max__",Vu={mapValue:{}},Zw="__vector__",Ph="value";function Ir(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Em(t)?4:dk(t)?9007199254740991:hk(t)?10:11:De(28295,{value:t})}function ni(t,e){if(t===e)return!0;const n=Ir(t);if(n!==Ir(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ac(t).isEqual(Ac(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Tr(i.timestampValue),l=Tr(r.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return Ar(i.bytesValue).isEqual(Ar(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return jt(i.geoPointValue.latitude)===jt(r.geoPointValue.latitude)&&jt(i.geoPointValue.longitude)===jt(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return jt(i.integerValue)===jt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=jt(i.doubleValue),l=jt(r.doubleValue);return o===l?Ch(o)===Ch(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return $a(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(i,r){const o=i.mapValue.fields||{},l=r.mapValue.fields||{};if(Kv(o)!==Kv(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ni(o[c],l[c])))return!1;return!0}(t,e);default:return De(52216,{left:t})}}function Sc(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function Fa(t,e){if(t===e)return 0;const n=Ir(t),s=Ir(e);if(n!==s)return Ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(r,o){const l=jt(r.integerValue||r.doubleValue),c=jt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Qv(t.timestampValue,e.timestampValue);case 4:return Qv(Ac(t),Ac(e));case 5:return bp(t.stringValue,e.stringValue);case 6:return function(r,o){const l=Ar(r),c=Ar(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const l=r.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const d=Ke(l[h],c[h]);if(d!==0)return d}return Ke(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const l=Ke(jt(r.latitude),jt(o.latitude));return l!==0?l:Ke(jt(r.longitude),jt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Yv(t.arrayValue,e.arrayValue);case 10:return function(r,o){var l,c,h,d;const p=r.fields||{},g=o.fields||{},E=(l=p[Ph])===null||l===void 0?void 0:l.arrayValue,I=(c=g[Ph])===null||c===void 0?void 0:c.arrayValue,x=Ke(((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0,((d=I==null?void 0:I.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:Yv(E,I)}(t.mapValue,e.mapValue);case 11:return function(r,o){if(r===Vu.mapValue&&o===Vu.mapValue)return 0;if(r===Vu.mapValue)return 1;if(o===Vu.mapValue)return-1;const l=r.fields||{},c=Object.keys(l),h=o.fields||{},d=Object.keys(h);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const g=bp(c[p],d[p]);if(g!==0)return g;const E=Fa(l[c[p]],h[d[p]]);if(E!==0)return E}return Ke(c.length,d.length)}(t.mapValue,e.mapValue);default:throw De(23264,{Pe:n})}}function Qv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=Tr(t),s=Tr(e),i=Ke(n.seconds,s.seconds);return i!==0?i:Ke(n.nanos,s.nanos)}function Yv(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const r=Fa(n[i],s[i]);if(r)return r}return Ke(n.length,s.length)}function Ua(t){return wp(t)}function wp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Tr(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ar(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=wp(r);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const o of s)r?r=!1:i+=",",i+=`${o}:${wp(n.fields[o])}`;return i+"}"}(t.mapValue):De(61005,{value:t})}function eh(t){switch(Ir(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_d(t);return e?16+eh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ar(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+eh(r),0)}(t.arrayValue);case 10:case 11:return function(s){let i=0;return Lr(s.fields,(r,o)=>{i+=r.length+eh(o)}),i}(t.mapValue);default:throw De(13486,{value:t})}}function Xv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tp(t){return!!t&&"integerValue"in t}function bm(t){return!!t&&"arrayValue"in t}function Jv(t){return!!t&&"nullValue"in t}function Zv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function th(t){return!!t&&"mapValue"in t}function hk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Jw])===null||n===void 0?void 0:n.stringValue)===Zw}function oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Lr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=oc(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=mn.emptyPath(),s={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,i),s={},i=[],n=l.popLast()}o?s[l.lastSegment()]=oc(o):i.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Lr(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new qn(oc(this.value))}}function eT(t){const e=[];return Lr(t.fields,(n,s)=>{const i=new mn([n]);if(th(s)){const r=eT(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)}),new ts(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,s,i,r,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Tn(e,0,Me.min(),Me.min(),Me.min(),qn.empty(),0)}static newFoundDocument(e,n,s,i){return new Tn(e,1,n,Me.min(),s,i,0)}static newNoDocument(e,n){return new Tn(e,2,n,Me.min(),Me.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,Me.min(),Me.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.position=e,this.inclusive=n}}function ey(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],o=t.position[i];if(r.field.isKeyField()?s=Ce.comparator(Ce.fromName(o.referenceValue),n.key):s=Fa(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function ty(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n="asc"){this.field=e,this.dir=n}}function fk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{}class Kt extends tT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new mk(e,n,s):n==="array-contains"?new vk(e,s):n==="in"?new yk(e,s):n==="not-in"?new Ek(e,s):n==="array-contains-any"?new bk(e,s):new Kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new gk(e,s):new _k(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fa(n,this.value)):n!==null&&Ir(this.value)===Ir(n)&&this.matchesComparison(Fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vs extends tT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Vs(e,n)}matches(e){return nT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function nT(t){return t.op==="and"}function sT(t){return pk(t)&&nT(t)}function pk(t){for(const e of t.filters)if(e instanceof Vs)return!1;return!0}function Ap(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+Ua(t.value);if(sT(t))return t.filters.map(e=>Ap(e)).join(",");{const e=t.filters.map(n=>Ap(n)).join(",");return`${t.op}(${e})`}}function iT(t,e){return t instanceof Kt?function(s,i){return i instanceof Kt&&s.op===i.op&&s.field.isEqual(i.field)&&ni(s.value,i.value)}(t,e):t instanceof Vs?function(s,i){return i instanceof Vs&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,o,l)=>r&&iT(o,i.filters[l]),!0):!1}(t,e):void De(19439)}function rT(t){return t instanceof Kt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ua(n.value)}`}(t):t instanceof Vs?function(n){return n.op.toString()+" {"+n.getFilters().map(rT).join(" ,")+"}"}(t):"Filter"}class mk extends Kt{constructor(e,n,s){super(e,n,s),this.key=Ce.fromName(s.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class gk extends Kt{constructor(e,n){super(e,"in",n),this.keys=oT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _k extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=oT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ce.fromName(s.referenceValue))}class vk extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bm(n)&&Sc(n.arrayValue,this.value)}}class yk extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sc(this.value.arrayValue,n)}}class Ek extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sc(this.value.arrayValue,n)}}class bk extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Sc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n=null,s=[],i=[],r=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=l,this.Ie=null}}function ny(t,e=null,n=[],s=[],i=null,r=null,o=null){return new wk(t,e,n,s,i,r,o)}function wm(t){const e=je(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ap(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ua(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ua(s)).join(",")),e.Ie=n}return e.Ie}function Tm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ty(t.startAt,e.startAt)&&ty(t.endAt,e.endAt)}function Ip(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n=null,s=[],i=[],r=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Tk(t,e,n,s,i,r,o,l){return new il(t,e,n,s,i,r,o,l)}function vd(t){return new il(t)}function sy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aT(t){return t.collectionGroup!==null}function ac(t){const e=je(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ee.push(r),n.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new en(mn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ee.push(new Cc(r,s))}),n.has(mn.keyField().canonicalString())||e.Ee.push(new Cc(mn.keyField(),s))}return e.Ee}function Xs(t){const e=je(t);return e.de||(e.de=Ak(e,ac(t))),e.de}function Ak(t,e){if(t.limitType==="F")return ny(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new Cc(i.field,r)});const n=t.endAt?new Oh(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Oh(t.startAt.position,t.startAt.inclusive):null;return ny(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Sp(t,e){const n=t.filters.concat([e]);return new il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kh(t,e,n){return new il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yd(t,e){return Tm(Xs(t),Xs(e))&&t.limitType===e.limitType}function lT(t){return`${wm(Xs(t))}|lt:${t.limitType}`}function va(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>rT(i)).join(", ")}]`),gd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>Ua(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>Ua(i)).join(",")),`Target(${s})`}(Xs(t))}; limitType=${t.limitType})`}function Ed(t,e){return e.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):Ce.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(t,e)&&function(s,i){for(const r of ac(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(o,l,c){const h=ey(o,l,c);return o.inclusive?h<=0:h<0}(s.startAt,ac(s),i)||s.endAt&&!function(o,l,c){const h=ey(o,l,c);return o.inclusive?h>=0:h>0}(s.endAt,ac(s),i))}(t,e)}function Ik(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cT(t){return(e,n)=>{let s=!1;for(const i of ac(t)){const r=Sk(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function Sk(t,e,n){const s=t.field.isKeyField()?Ce.comparator(e.key,n.key):function(r,o,l){const c=o.data.field(r),h=l.data.field(r);return c!==null&&h!==null?Fa(c,h):De(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return De(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lr(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return zw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=new xt(Ce.comparator);function ki(){return Ck}const uT=new xt(Ce.comparator);function Kl(...t){let e=uT;for(const n of t)e=e.insert(n.key,n);return e}function hT(t){let e=uT;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function _o(){return lc()}function dT(){return lc()}function lc(){return new $o(t=>t.toString(),(t,e)=>t.isEqual(e))}const Rk=new xt(Ce.comparator),Pk=new en(Ce.comparator);function Xe(...t){let e=Pk;for(const n of t)e=e.add(n);return e}const Ok=new en(Ke);function kk(){return Ok}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function fT(t){return{integerValue:""+t}}function Dk(t,e){return rk(e)?fT(e):Am(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){this._=void 0}}function xk(t,e,n){return t instanceof Dh?function(i,r){const o={fields:{[Qw]:{stringValue:Gw},[Xw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Em(r)&&(r=_d(r)),r&&(o.fields[Yw]=r),{mapValue:o}}(n,e):t instanceof ja?mT(t,e):t instanceof Ba?gT(t,e):function(i,r){const o=pT(i,r),l=iy(o)+iy(i.Re);return Tp(o)&&Tp(i.Re)?fT(l):Am(i.serializer,l)}(t,e)}function Nk(t,e,n){return t instanceof ja?mT(t,e):t instanceof Ba?gT(t,e):n}function pT(t,e){return t instanceof xh?function(s){return Tp(s)||function(r){return!!r&&"doubleValue"in r}(s)}(e)?e:{integerValue:0}:null}class Dh extends bd{}class ja extends bd{constructor(e){super(),this.elements=e}}function mT(t,e){const n=_T(e);for(const s of t.elements)n.some(i=>ni(i,s))||n.push(s);return{arrayValue:{values:n}}}class Ba extends bd{constructor(e){super(),this.elements=e}}function gT(t,e){let n=_T(e);for(const s of t.elements)n=n.filter(i=>!ni(i,s));return{arrayValue:{values:n}}}class xh extends bd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function iy(t){return jt(t.integerValue||t.doubleValue)}function _T(t){return bm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n){this.field=e,this.transform=n}}function Lk(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof ja&&i instanceof ja||s instanceof Ba&&i instanceof Ba?$a(s.elements,i.elements,ni):s instanceof xh&&i instanceof xh?ni(s.Re,i.Re):s instanceof Dh&&i instanceof Dh}(t.transform,e.transform)}class Vk{constructor(e,n){this.version=e,this.transformResults=n}}class ks{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ks}static exists(e){return new ks(void 0,e)}static updateTime(e){return new ks(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wd{}function yT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Im(t.key,ks.none()):new $c(t.key,t.data,ks.none());{const n=t.data,s=qn.empty();let i=new en(mn.comparator);for(let r of e.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new Vr(t.key,s,new ts(i.toArray()),ks.none())}}function Mk(t,e,n){t instanceof $c?function(i,r,o){const l=i.value.clone(),c=oy(i.fieldTransforms,r,o.transformResults);l.setAll(c),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Vr?function(i,r,o){if(!nh(i.precondition,r))return void r.convertToUnknownDocument(o.version);const l=oy(i.fieldTransforms,r,o.transformResults),c=r.data;c.setAll(ET(i)),c.setAll(l),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function cc(t,e,n,s){return t instanceof $c?function(r,o,l,c){if(!nh(r.precondition,o))return l;const h=r.value.clone(),d=ay(r.fieldTransforms,c,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,s):t instanceof Vr?function(r,o,l,c){if(!nh(r.precondition,o))return l;const h=ay(r.fieldTransforms,c,o),d=o.data;return d.setAll(ET(r)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(p=>p.field))}(t,e,n,s):function(r,o,l){return nh(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function $k(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=pT(s.transform,i||null);r!=null&&(n===null&&(n=qn.empty()),n.set(s.field,r))}return n||null}function ry(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&$a(s,i,(r,o)=>Lk(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $c extends wd{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vr extends wd{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function ET(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function oy(t,e,n){const s=new Map;dt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const r=t[i],o=r.transform,l=e.data.field(r.field);s.set(r.field,Nk(o,l,n[i]))}return s}function ay(t,e,n){const s=new Map;for(const i of t){const r=i.transform,o=n.data.field(i.field);s.set(i.field,xk(r,o,e))}return s}class Im extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fk extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&Mk(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=cc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=cc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=dT();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let l=this.applyToLocalView(o,r.mutatedFields);l=n.has(i.key)?null:l;const c=yT(o,l);c!==null&&s.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Me.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,(n,s)=>ry(n,s))&&$a(this.baseMutations,e.baseMutations,(n,s)=>ry(n,s))}}class Sm{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){dt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let i=function(){return Rk}();const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new Sm(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,et;function Hk(t){switch(t){case X.OK:return De(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return De(15467,{code:t})}}function bT(t){if(t===void 0)return Oi("GRPC error has no .code"),X.UNKNOWN;switch(t){case Wt.OK:return X.OK;case Wt.CANCELLED:return X.CANCELLED;case Wt.UNKNOWN:return X.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return X.INTERNAL;case Wt.UNAVAILABLE:return X.UNAVAILABLE;case Wt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Wt.NOT_FOUND:return X.NOT_FOUND;case Wt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Wt.ABORTED:return X.ABORTED;case Wt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Wt.DATA_LOSS:return X.DATA_LOSS;default:return De(39323,{code:t})}}(et=Wt||(Wt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=new yr([4294967295,4294967295],0);function ly(t){const e=Hw().encode(t),n=new Lw;return n.update(e),new Uint8Array(n.digest())}function cy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new yr([n,s],0),new yr([i,r],0)]}class Cm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=yr.fromNumber(this.pe)}we(e,n,s){let i=e.add(n.multiply(yr.fromNumber(s)));return i.compare(qk)===1&&(i=new yr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=ly(e),[s,i]=cy(n);for(let r=0;r<this.hashCount;r++){const o=this.we(s,i,r);if(!this.be(o))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new Cm(r,i,n);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const n=ly(e),[s,i]=cy(n);for(let r=0;r<this.hashCount;r++){const o=this.we(s,i,r);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,Fc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Td(Me.min(),i,new xt(Ke),ki(),Xe())}}class Fc{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Fc(s,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,s,i){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=i}}class wT{constructor(e,n){this.targetId=e,this.Ce=n}}class TT{constructor(e,n,s=gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class uy{constructor(){this.Fe=0,this.Me=hy(),this.xe=gn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Xe(),n=Xe(),s=Xe();return this.Me.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:De(38017,{changeType:r})}}),new Fc(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=hy()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Wk{constructor(e){this.ze=e,this.je=new Map,this.He=ki(),this.Je=Mu(),this.Ye=Mu(),this.Ze=new xt(Ke)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:De(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,s=e.Ce.count,i=this._t(n);if(i){const r=i.target;if(Ip(r))if(s===0){const o=new Ce(r.path);this.tt(n,o,Tn.newNoDocument(o,Me.min()))}else dt(s===1,20013,{expectedCount:s});else{const o=this.ut(n);if(o!==s){const l=this.ct(e),c=l?this.lt(l,e,o):1;if(c!==0){this.st(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let o,l;try{o=Ar(s).toUint8Array()}catch(c){if(c instanceof Kw)return Ma("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Cm(o,i,r)}catch(c){return Ma(c instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let i=0;return s.forEach(r=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,r,null),i++)}),i}It(e){const n=new Map;this.je.forEach((r,o)=>{const l=this._t(o);if(l){if(r.current&&Ip(l.target)){const c=new Ce(l.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,Tn.newNoDocument(c,e))}r.Le&&(n.set(o,r.qe()),r.Qe())}});let s=Xe();this.Ye.forEach((r,o)=>{let l=!0;o.forEachWhile(c=>{const h=this._t(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(r))}),this.He.forEach((r,o)=>o.setReadTime(e));const i=new Td(e,n,this.Ze,this.He,s);return this.He=ki(),this.Je=Mu(),this.Ye=Mu(),this.Ze=new xt(Ke),i}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new uy,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new en(Ke),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new en(Ke),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new uy),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Mu(){return new xt(Ce.comparator)}function hy(){return new xt(Ce.comparator)}const zk={asc:"ASCENDING",desc:"DESCENDING"},Kk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gk={and:"AND",or:"OR"};class Qk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cp(t,e){return t.useProto3Json||gd(e)?e:{value:e}}function Nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Yk(t,e){return Nh(t,e.toTimestamp())}function Js(t){return dt(!!t,49232),Me.fromTimestamp(function(n){const s=Tr(n);return new Zt(s.seconds,s.nanos)}(t))}function Rm(t,e){return Rp(t,e).canonicalString()}function Rp(t,e){const n=function(i){return new Ct(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function IT(t){const e=Ct.fromString(t);return dt(OT(e),10190,{key:e.toString()}),e}function Pp(t,e){return Rm(t.databaseId,e.path)}function Df(t,e){const n=IT(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(CT(n))}function ST(t,e){return Rm(t.databaseId,e)}function Xk(t){const e=IT(t);return e.length===4?Ct.emptyPath():CT(e)}function Op(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CT(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function dy(t,e,n){return{name:Pp(t,e),fields:n.value.mapValue.fields}}function Jk(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:De(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(h,d){return h.useProto3Json?(dt(d===void 0||typeof d=="string",58123),gn.fromBase64String(d||"")):(dt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),gn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const d=h.code===void 0?X.UNKNOWN:bT(h.code);return new ge(d,h.message||"")}(o);n=new TT(s,i,r,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=Df(t,s.document.name),r=Js(s.document.updateTime),o=s.document.createTime?Js(s.document.createTime):Me.min(),l=new qn({mapValue:{fields:s.document.fields}}),c=Tn.newFoundDocument(i,r,o,l),h=s.targetIds||[],d=s.removedTargetIds||[];n=new sh(h,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=Df(t,s.document),r=s.readTime?Js(s.readTime):Me.min(),o=Tn.newNoDocument(i,r),l=s.removedTargetIds||[];n=new sh([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=Df(t,s.document),r=s.removedTargetIds||[];n=new sh([],r,i,null)}else{if(!("filter"in e))return De(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new Bk(i,r),l=s.targetId;n=new wT(l,o)}}return n}function Zk(t,e){let n;if(e instanceof $c)n={update:dy(t,e.key,e.value)};else if(e instanceof Im)n={delete:Pp(t,e.key)};else if(e instanceof Vr)n={update:dy(t,e.key,e.data),updateMask:lD(e.fieldMask)};else{if(!(e instanceof Fk))return De(16599,{ft:e.type});n={verify:Pp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,o){const l=o.transform;if(l instanceof Dh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ja)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ba)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof xh)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw De(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:Yk(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:De(27497)}(t,e.precondition)),n}function eD(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map(n=>function(i,r){let o=i.updateTime?Js(i.updateTime):Js(r);return o.isEqual(Me.min())&&(o=Js(r)),new Vk(o,i.transformResults||[])}(n,e))):[]}function tD(t,e){return{documents:[ST(t,e.path)]}}function nD(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ST(t,i);const r=function(h){if(h.length!==0)return PT(Vs.create(h,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(h){if(h.length!==0)return h.map(d=>function(g){return{field:ya(g.field),direction:rD(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Cp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:i}}function sD(t){let e=Xk(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){dt(s===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let r=[];n.where&&(r=function(p){const g=RT(p);return g instanceof Vs&&sT(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(I){return new Cc(Ea(I.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,gd(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(p){const g=!!p.before,E=p.values||[];return new Oh(E,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,E=p.values||[];return new Oh(E,g)}(n.endAt)),Tk(e,i,o,r,l,"F",c,h)}function iD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ea(n.unaryFilter.field);return Kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Ea(n.unaryFilter.field);return Kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ea(n.unaryFilter.field);return Kt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ea(n.unaryFilter.field);return Kt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}}(t):t.fieldFilter!==void 0?function(n){return Kt.create(Ea(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vs.create(n.compositeFilter.filters.map(s=>RT(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De(1026)}}(n.compositeFilter.op))}(t):De(30097,{filter:t})}function rD(t){return zk[t]}function oD(t){return Kk[t]}function aD(t){return Gk[t]}function ya(t){return{fieldPath:t.canonicalString()}}function Ea(t){return mn.fromServerFormat(t.fieldPath)}function PT(t){return t instanceof Kt?function(n){if(n.op==="=="){if(Zv(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NAN"}};if(Jv(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zv(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NAN"}};if(Jv(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(n.field),op:oD(n.op),value:n.value}}}(t):t instanceof Vs?function(n){const s=n.getFilters().map(i=>PT(i));return s.length===1?s[0]:{compositeFilter:{op:aD(n.op),filters:s}}}(t):De(54877,{filter:t})}function lD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n,s,i,r=Me.min(),o=Me.min(),l=gn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.wt=e}}function uD(t){const e=sD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.Cn=new dD}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(wr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class dD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new en(Ct.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new en(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kT=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(kT,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ha(0)}static lr(){return new Ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="LruGarbageCollector",fD=1048576;function my([t,e],[n,s]){const i=Ke(t,n);return i===0?Ke(e,s):i}class pD{constructor(e){this.Er=e,this.buffer=new en(my),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();my(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){_e(py,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sl(n)?_e(py,"Ignoring IndexedDB error during garbage collection: ",n):await nl(n)}await this.mr(3e5)})}}class gD{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(md.le);const s=new pD(n);return this.gr.forEachTarget(e,i=>s.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>s.Rr(i))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(fy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fy):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,i,r,o,l,c,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(s=p,l=Date.now(),this.removeTargets(e,s,n))).next(p=>(r=p,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(p=>(h=Date.now(),_a()<=Ye.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${r} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-d}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:p})))}}function _D(t,e){return new gD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.changes=new $o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&cc(s.mutation,i,ts.empty(),Zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Xe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Xe()){const i=_o();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let o=Kl();return r.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=_o();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Xe()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,s,i){let r=ki();const o=lc(),l=function(){return lc()}();return n.forEach((c,h)=>{const d=s.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof Vr)?r=r.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),cc(d.mutation,h,d.mutation.getFieldMask(),Zt.now())):o.set(h.key,ts.empty())}),this.recalculateAndSaveOverlays(e,r).next(c=>(c.forEach((h,d)=>o.set(h,d)),n.forEach((h,d)=>{var p;return l.set(h,new yD(d,(p=o.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const s=lc();let i=new xt((o,l)=>o-l),r=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let d=s.get(c)||ts.empty();d=l.applyToLocalView(h,d),s.set(c,d);const p=(i.get(l.batchId)||Xe()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,d=c.value,p=dT();d.forEach(g=>{if(!r.has(g)){const E=yT(n.get(g),s.get(g));E!==null&&p.set(g,E),r=r.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return J.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,i){return function(o){return Ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):J.resolve(_o());let l=Tc,c=r;return o.next(h=>J.forEach(h,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),r.get(d)?J.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,c,h,Xe())).next(d=>({batchId:l,changes:hT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(s=>{let i=Kl();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const r=n.collectionGroup;let o=Kl();return this.indexManager.getCollectionParents(e,r).next(l=>J.forEach(l,c=>{const h=function(p,g){return new il(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,s,i).next(d=>{d.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r,i))).next(o=>{r.forEach((c,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,Tn.newInvalidDocument(d)))});let l=Kl();return o.forEach((c,h)=>{const d=r.get(c);d!==void 0&&cc(d.mutation,h,ts.empty(),Zt.now()),Ed(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return J.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Js(i.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:uD(i.bundledQuery),readTime:Js(i.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.overlays=new xt(Ce.comparator),this.Qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=_o();return J.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.St(e,n,r)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.Qr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const i=_o(),r=n.length+1,o=new Ce(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&c.largestBatchId>s&&i.set(c.getKey(),c)}return J.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new xt((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>s){let d=r.get(h.largestBatchId);d===null&&(d=_o(),r=r.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=_o(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=i)););return J.resolve(l)}St(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(s.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new jk(n,s));let r=this.Qr.get(n);r===void 0&&(r=Xe(),this.Qr.set(n,r)),this.Qr.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.$r=new en(cn.Ur),this.Kr=new en(cn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new cn(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new cn(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Ce(new Ct([])),s=new cn(n,e),i=new cn(n,e+1),r=[];return this.Kr.forEachInRange([s,i],o=>{this.zr(o),r.push(o.key)}),r}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ce(new Ct([])),s=new cn(n,e),i=new cn(n,e+1);let r=Xe();return this.Kr.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new cn(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class cn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ce.comparator(e.key,n.key)||Ke(e.Zr,n.Zr)}static Wr(e,n){return Ke(e.Zr,n.Zr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new en(cn.Ur)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Uk(r,n,s,i);this.mutationQueue.push(o);for(const l of i)this.Xr=this.Xr.add(new cn(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,n){return J.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.ti(s),r=i<0?0:i;return J.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?ym:this.nr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new cn(n,0),i=new cn(n,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([s,i],o=>{const l=this.ei(o.Zr);r.push(l)}),J.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new en(Ke);return n.forEach(i=>{const r=new cn(i,0),o=new cn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,o],l=>{s=s.add(l.Zr)})}),J.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;Ce.isDocumentKey(r)||(r=r.child(""));const o=new cn(new Ce(r),0);let l=new en(Ke);return this.Xr.forEachWhile(c=>{const h=c.key.path;return!!s.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.Zr)),!0)},o),J.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(s=>{const i=this.ei(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){dt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return J.forEach(n.mutations,i=>{const r=new cn(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new cn(n,0),i=this.Xr.firstAfterOrEqual(s);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.ii=e,this.docs=function(){return new xt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let s=ki();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():Tn.newInvalidDocument(i))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=ki();const o=n.path,l=new Ce(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:d}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||tk(ek(d),s)<=0||(i.has(d.key)||Ed(n,d))&&(r=r.insert(d.key,d.mutableCopy()))}return J.resolve(r)}getAllFromCollectionGroup(e,n,s,i){De(9500)}si(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new SD(this)}getSize(e){return J.resolve(this.size)}}class SD extends vD{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.persistence=e,this.oi=new $o(n=>wm(n),Tm),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this._i=0,this.ai=new Pm,this.targetCount=0,this.ui=Ha.cr()}forEachTarget(e,n){return this.oi.forEach((s,i)=>n(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),J.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ha(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Tr(n),J.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.oi.delete(o),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),J.waitFor(r).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(e,o))}),J.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.ci={},this.overlays={},this.li=new md(0),this.hi=!1,this.hi=!0,this.Pi=new TD,this.referenceDelegate=e(this),this.Ti=new CD(this),this.indexManager=new hD,this.remoteDocumentCache=function(i){return new ID(i)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new cD(n),this.Ei=new bD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new AD(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){_e("MemoryPersistence","Starting transaction:",e);const i=new RD(this.li.next());return this.referenceDelegate.di(),s(i).next(r=>this.referenceDelegate.Ai(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ri(e,n){return J.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class RD extends sk{constructor(e){super(),this.currentSequenceNumber=e}}class Om{constructor(e){this.persistence=e,this.Vi=new Pm,this.mi=null}static fi(e){return new Om(e)}get gi(){if(this.mi)return this.mi;throw De(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.gi.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.gi,s=>{const i=Ce.fromPath(s);return this.pi(e,i).next(r=>{r||n.removeEntry(i,Me.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return J.or([()=>J.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.yi=new $o(s=>ok(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=_D(this,n)}static fi(e,n){return new Lh(e,n)}di(){}Ai(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(i=>s+i))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return J.forEach(this.yi,(s,i)=>this.Dr(e,s,i).next(r=>r?J.resolve():n(i)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(l=>{l||(s++,r.removeEntry(o,Me.min()))})).next(()=>r.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),J.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}Dr(e,n,s){return J.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return J.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.ds=s,this.As=i}static Rs(e,n){let s=Xe(),i=Xe();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new km(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return SP()?8:ik(In())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,i){const r={result:null};return this.ws(e,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.bs(e,n,i,s).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new PD;return this.Ss(e,n,o).next(l=>{if(r.result=l,this.fs)return this.Ds(e,n,o,l.size)})}).next(()=>r.result)}Ds(e,n,s,i){return s.documentReadCount<this.gs?(_a()<=Ye.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),J.resolve()):(_a()<=Ye.DEBUG&&_e("QueryEngine","Query:",va(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.ps*i?(_a()<=Ye.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xs(n))):J.resolve())}ws(e,n){if(sy(n))return J.resolve(null);let s=Xs(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=kh(n,null,"F"),s=Xs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const o=Xe(...r);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const h=this.vs(n,l);return this.Cs(n,h,o,c.readTime)?this.ws(e,kh(n,null,"F")):this.Fs(e,h,n,c)}))})))}bs(e,n,s,i){return sy(n)||i.isEqual(Me.min())?J.resolve(null):this.ys.getDocuments(e,s).next(r=>{const o=this.vs(n,r);return this.Cs(n,o,s,i)?J.resolve(null):(_a()<=Ye.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),va(n)),this.Fs(e,o,n,ZO(i,Tc)).next(l=>l))})}vs(e,n){let s=new en(cT(e));return n.forEach((i,r)=>{Ed(e,r)&&(s=s.add(r))}),s}Cs(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(e,n,s){return _a()<=Ye.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",va(n)),this.ys.getDocumentsMatchingQuery(e,n,wr.min(),s)}Fs(e,n,s,i){return this.ys.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="LocalStore",kD=3e8;class DD{constructor(e,n,s,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new xt(Ke),this.Os=new $o(r=>wm(r),Tm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ED(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function xD(t,e,n,s){return new DD(t,e,n,s)}async function xT(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],l=[];let c=Xe();for(const h of i){o.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}for(const h of r){l.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(s,c).next(h=>({ks:h,removedBatchIds:o,addedBatchIds:l}))})})}function ND(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,h,d){const p=h.batch,g=p.keys();let E=J.resolve();return g.forEach(I=>{E=E.next(()=>d.getEntry(c,I)).next(x=>{const N=h.docVersions.get(I);dt(N!==null,48541),x.version.compareTo(N)<0&&(p.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),d.addEntry(x)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=Xe();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function NT(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function LD(t,e){const n=je(t),s=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const l=[];e.targetChanges.forEach((d,p)=>{const g=i.get(p);if(!g)return;l.push(n.Ti.removeMatchingKeys(r,d.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(r,d.addedDocuments,p)));let E=g.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(p)!==null?E=E.withResumeToken(gn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):d.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(d.resumeToken,s)),i=i.insert(p,E),function(x,N,j){return x.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=kD?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(g,E,d)&&l.push(n.Ti.updateTargetData(r,E))});let c=ki(),h=Xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,d))}),l.push(VD(r,o,e.documentUpdates).next(d=>{c=d.qs,h=d.Qs})),!s.isEqual(Me.min())){const d=n.Ti.getLastRemoteSnapshotVersion(r).next(p=>n.Ti.setTargetsMetadata(r,r.currentSequenceNumber,s));l.push(d)}return J.waitFor(l).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,c,h)).next(()=>c)}).then(r=>(n.xs=i,r))}function VD(t,e,n){let s=Xe(),i=Xe();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let o=ki();return n.forEach((l,c)=>{const h=r.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Me.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):_e(Dm,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{qs:o,Qs:i}})}function MD(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ym),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function $D(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Ti.getTargetData(s,e).next(r=>r?(i=r,J.resolve(i)):n.Ti.allocateTargetId(s).next(o=>(i=new fr(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.xs.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function kp(t,e,n){const s=je(t),i=s.xs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!sl(o))throw o;_e(Dm,`Failed to update sequence numbers for target ${e}: ${o}`)}s.xs=s.xs.remove(e),s.Os.delete(i.target)}function gy(t,e,n){const s=je(t);let i=Me.min(),r=Xe();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,d){const p=je(c),g=p.Os.get(d);return g!==void 0?J.resolve(p.xs.get(g)):p.Ti.getTargetData(h,d)}(s,o,Xs(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(o,l.targetId).next(c=>{r=c})}).next(()=>s.Ms.getDocumentsMatchingQuery(o,e,n?i:Me.min(),n?r:Xe())).next(l=>(FD(s,Ik(e),l),{documents:l,$s:r})))}function FD(t,e,n){let s=t.Ns.get(e)||Me.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.Ns.set(e,s)}class _y{constructor(){this.activeTargetIds=kk()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UD{constructor(){this.xo=new _y,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new _y,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="ConnectivityMonitor";class yy{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){_e(vy,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){_e(vy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=null;function Dp(){return $u===null?$u=function(){return 268435456+Math.round(2147483648*Math.random())}():$u++,"0x"+$u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="RestConnection",BD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${i}`,this.Go=this.databaseId.database===Rh?`project_id=${s}`:`project_id=${s}&database_id=${i}`}zo(e,n,s,i,r){const o=Dp(),l=this.jo(e,n.toUriEncodedString());_e(xf,`Sending RPC '${e}' ${o}:`,l,s);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,r);const{host:h}=new URL(l),d=Za(h);return this.Jo(e,l,c,s,d).then(p=>(_e(xf,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Ma(xf,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",s),p})}Yo(e,n,s,i,r,o){return this.zo(e,n,s,i,r)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}jo(e,n){const s=BD[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class WD extends HD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,i,r){const o=Dp();return new Promise((l,c)=>{const h=new Vw;h.setWithCredentials(!0),h.listenOnce(Mw.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Zu.NO_ERROR:const p=h.getResponseJson();_e(yn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case Zu.TIMEOUT:_e(yn,`RPC '${e}' ${o} timed out`),c(new ge(X.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const g=h.getStatus();if(_e(yn,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E==null?void 0:E.error;if(I&&I.status&&I.message){const x=function(j){const $=j.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf($)>=0?$:X.UNKNOWN}(I.status);c(new ge(x,I.message))}else c(new ge(X.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ge(X.UNAVAILABLE,"Connection failed."));break;default:De(9055,{h_:e,streamId:o,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{_e(yn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);_e(yn,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",d,s,15)})}I_(e,n,s){const i=Dp(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Uw(),l=Fw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const d=r.join("");_e(yn,`Creating RPC '${e}' stream ${i}: ${d}`,c);const p=o.createWebChannel(d,c);this.E_(p);let g=!1,E=!1;const I=new qD({Zo:N=>{E?_e(yn,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(_e(yn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),_e(yn,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Xo:()=>p.close()}),x=(N,j,$)=>{N.listen(j,U=>{try{$(U)}catch(B){setTimeout(()=>{throw B},0)}})};return x(p,zl.EventType.OPEN,()=>{E||(_e(yn,`RPC '${e}' stream ${i} transport opened.`),I.__())}),x(p,zl.EventType.CLOSE,()=>{E||(E=!0,_e(yn,`RPC '${e}' stream ${i} transport closed`),I.u_(),this.d_(p))}),x(p,zl.EventType.ERROR,N=>{E||(E=!0,Ma(yn,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),I.u_(new ge(X.UNAVAILABLE,"The operation could not be completed")))}),x(p,zl.EventType.MESSAGE,N=>{var j;if(!E){const $=N.data[0];dt(!!$,16349);const U=$,B=(U==null?void 0:U.error)||((j=U[0])===null||j===void 0?void 0:j.error);if(B){_e(yn,`RPC '${e}' stream ${i} received error:`,B);const ne=B.status;let re=function(T){const R=Wt[T];if(R!==void 0)return bT(R)}(ne),D=B.message;re===void 0&&(re=X.INTERNAL,D="Unknown error status: "+ne+" with message "+B.message),E=!0,I.u_(new ge(re,D)),p.close()}else _e(yn,`RPC '${e}' stream ${i} received:`,$),I.c_($)}}),x(l,$w.STAT_EVENT,N=>{N.stat===Ep.PROXY?_e(yn,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Ep.NOPROXY&&_e(yn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.a_()},0),I}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){return new Qk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,s=1e3,i=1.5,r=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=i,this.V_=r,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-s);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="PersistentStream";class VT{constructor(e,n,s,i,r,o,l,c){this.xi=e,this.S_=s,this.D_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new LT(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Oi(n.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.v_===n&&this.z_(s,i)},s=>{e(()=>{const i=new ge(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(i)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{s(()=>this.j_(i))}),this.stream.onMessage(i=>{s(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return _e(Ey,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(_e(Ey,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zD extends VT{constructor(e,n,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=Jk(this.serializer,e),s=function(r){if(!("targetChange"in r))return Me.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Me.min():o.readTime?Js(o.readTime):Me.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=Op(this.serializer),n.addTarget=function(r,o){let l;const c=o.target;if(l=Ip(c)?{documents:tD(r,c)}:{query:nD(r,c).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=AT(r,o.resumeToken);const h=Cp(r,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(Me.min())>0){l.readTime=Nh(r,o.snapshotVersion.toTimestamp());const h=Cp(r,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const s=iD(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=Op(this.serializer),n.removeTarget=e,this.Q_(n)}}class KD extends VT{constructor(e,n,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=eD(e.writeResults,e.commitTime),s=Js(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=Op(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Zk(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{}class QD extends GD{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new ge(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.zo(e,Rp(n,s),i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ge(X.UNKNOWN,r.toString())})}Yo(e,n,s,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,Rp(n,s),i,o,l,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(X.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class YD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Oi(n),this.ua=!1):_e("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="RemoteStore";class XD{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=r,this.Ra.No(o=>{s.enqueueAndForget(async()=>{Fo(this)&&(_e(Oo,"Restarting streams for network reachability change."),await async function(c){const h=je(c);h.da.add(4),await Uc(h),h.Va.set("Unknown"),h.da.delete(4),await Id(h)}(this))})}),this.Va=new YD(s,i)}}async function Id(t){if(Fo(t))for(const e of t.Aa)await e(!0)}async function Uc(t){for(const e of t.Aa)await e(!1)}function MT(t,e){const n=je(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Vm(n)?Lm(n):rl(n).N_()&&Nm(n,e))}function xm(t,e){const n=je(t),s=rl(n);n.Ea.delete(e),s.N_()&&$T(n,e),n.Ea.size===0&&(s.N_()?s.k_():Fo(n)&&n.Va.set("Unknown"))}function Nm(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rl(t).Z_(e)}function $T(t,e){t.ma.Ke(e),rl(t).X_(e)}function Lm(t){t.ma=new Wk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),rl(t).start(),t.Va.ca()}function Vm(t){return Fo(t)&&!rl(t).O_()&&t.Ea.size>0}function Fo(t){return je(t).da.size===0}function FT(t){t.ma=void 0}async function JD(t){t.Va.set("Online")}async function ZD(t){t.Ea.forEach((e,n)=>{Nm(t,e)})}async function ex(t,e){FT(t),Vm(t)?(t.Va.Pa(e),Lm(t)):t.Va.set("Unknown")}async function tx(t,e,n){if(t.Va.set("Online"),e instanceof TT&&e.state===2&&e.cause)try{await async function(i,r){const o=r.cause;for(const l of r.targetIds)i.Ea.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ea.delete(l),i.ma.removeTarget(l))}(t,e)}catch(s){_e(Oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vh(t,s)}else if(e instanceof sh?t.ma.Xe(e):e instanceof wT?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Me.min()))try{const s=await NT(t.localStore);n.compareTo(s)>=0&&await function(r,o){const l=r.ma.It(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const d=r.Ea.get(h);d&&r.Ea.set(h,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const d=r.Ea.get(c);if(!d)return;r.Ea.set(c,d.withResumeToken(gn.EMPTY_BYTE_STRING,d.snapshotVersion)),$T(r,c);const p=new fr(d.target,c,h,d.sequenceNumber);Nm(r,p)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){_e(Oo,"Failed to raise snapshot:",s),await Vh(t,s)}}async function Vh(t,e,n){if(!sl(e))throw e;t.da.add(1),await Uc(t),t.Va.set("Offline"),n||(n=()=>NT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e(Oo,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Id(t)})}function UT(t,e){return e().catch(n=>Vh(t,n,e))}async function Sd(t){const e=je(t),n=Sr(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:ym;for(;nx(e);)try{const i=await MD(e.localStore,s);if(i===null){e.Ia.length===0&&n.k_();break}s=i.batchId,sx(e,i)}catch(i){await Vh(e,i)}jT(e)&&BT(e)}function nx(t){return Fo(t)&&t.Ia.length<10}function sx(t,e){t.Ia.push(e);const n=Sr(t);n.N_()&&n.ea&&n.ta(e.mutations)}function jT(t){return Fo(t)&&!Sr(t).O_()&&t.Ia.length>0}function BT(t){Sr(t).start()}async function ix(t){Sr(t).ia()}async function rx(t){const e=Sr(t);for(const n of t.Ia)e.ta(n.mutations)}async function ox(t,e,n){const s=t.Ia.shift(),i=Sm.from(s,e,n);await UT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sd(t)}async function ax(t,e){e&&Sr(t).ea&&await async function(s,i){if(function(o){return Hk(o)&&o!==X.ABORTED}(i.code)){const r=s.Ia.shift();Sr(s).L_(),await UT(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await Sd(s)}}(t,e),jT(t)&&BT(t)}async function by(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),_e(Oo,"RemoteStore received new credentials");const s=Fo(n);n.da.add(3),await Uc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Id(n)}async function lx(t,e){const n=je(t);e?(n.da.delete(2),await Id(n)):e||(n.da.add(2),await Uc(n),n.Va.set("Unknown"))}function rl(t){return t.fa||(t.fa=function(n,s,i){const r=je(n);return r.oa(),new zD(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{e_:JD.bind(null,t),n_:ZD.bind(null,t),i_:ex.bind(null,t),Y_:tx.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Vm(t)?Lm(t):t.Va.set("Unknown")):(await t.fa.stop(),FT(t))})),t.fa}function Sr(t){return t.ga||(t.ga=function(n,s,i){const r=je(n);return r.oa(),new KD(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:ix.bind(null,t),i_:ax.bind(null,t),na:rx.bind(null,t),ra:ox.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Sd(t)):(await t.ga.stop(),t.Ia.length>0&&(_e(Oo,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,r){const o=Date.now()+s,l=new Mm(e,n,o,i,r);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $m(t,e){if(Oi("AsyncQueue",`${e}: ${t}`),sl(t))return new ge(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{static emptySet(e){return new Pa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ce.comparator(n.key,s.key):(n,s)=>Ce.comparator(n.key,s.key),this.keyedMap=Kl(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Pa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this.pa=new xt(Ce.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):De(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class qa{constructor(e,n,s,i,r,o,l,c,h){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,s,i,r){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new qa(e,n,Pa.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class ux{constructor(){this.queries=Ty(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=je(n),r=i.queries;i.queries=Ty(),r.forEach((o,l)=>{for(const c of l.Sa)c.onError(s)})})(this,new ge(X.ABORTED,"Firestore shutting down"))}}function Ty(){return new $o(t=>lT(t),yd)}async function Fm(t,e){const n=je(t);let s=3;const i=e.query;let r=n.queries.get(i);r?!r.Da()&&e.va()&&(s=2):(r=new cx,s=e.va()?0:1);try{switch(s){case 0:r.ba=await n.onListen(i,!0);break;case 1:r.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=$m(o,`Initialization of query '${va(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,r),r.Sa.push(e),e.Fa(n.onlineState),r.ba&&e.Ma(r.ba)&&jm(n)}async function Um(t,e){const n=je(t),s=e.query;let i=3;const r=n.queries.get(s);if(r){const o=r.Sa.indexOf(e);o>=0&&(r.Sa.splice(o,1),r.Sa.length===0?i=e.va()?0:1:!r.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function hx(t,e){const n=je(t);let s=!1;for(const i of e){const r=i.query,o=n.queries.get(r);if(o){for(const l of o.Sa)l.Ma(i)&&(s=!0);o.ba=i}}s&&jm(n)}function dx(t,e,n){const s=je(t),i=s.queries.get(e);if(i)for(const r of i.Sa)r.onError(n);s.queries.delete(e)}function jm(t){t.Ca.forEach(e=>{e.next()})}var xp,Ay;(Ay=xp||(xp={})).xa="default",Ay.Cache="cache";class Bm{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new qa(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==xp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.key=e}}class qT{constructor(e){this.key=e}}class fx{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.Za=cT(e),this.Xa=new Pa(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new wy,i=n?n.Xa:this.Xa;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const g=i.get(d),E=Ed(this.query,p)?p:null,I=!!g&&this.mutatedKeys.has(g.key),x=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;g&&E?g.data.isEqual(E.data)?I!==x&&(s.track({type:3,doc:E}),N=!0):this.ru(g,E)||(s.track({type:2,doc:E}),N=!0,(c&&this.Za(E,c)>0||h&&this.Za(E,h)<0)&&(l=!0)):!g&&E?(s.track({type:0,doc:E}),N=!0):g&&!E&&(s.track({type:1,doc:g}),N=!0,(c||h)&&(l=!0)),N&&(E?(o=o.add(E),r=x?r.add(d):r.delete(d)):(o=o.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),r=r.delete(d.key),s.track({type:1,doc:d})}return{Xa:o,nu:s,Cs:l,mutatedKeys:r}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const r=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((d,p)=>function(E,I){const x=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Vt:N})}};return x(E)-x(I)}(d.type,p.type)||this.Za(d.doc,p.doc)),this.iu(s),i=i!=null&&i;const l=n&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,h=c!==this.Ja;return this.Ja=c,o.length!==0||h?{snapshot:new qa(this.query,e.Xa,r,o,e.mutatedKeys,c===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new wy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new qT(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new HT(s))}),n}au(e){this.Ha=e.$s,this.Ya=Xe();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return qa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Hm="SyncEngine";class px{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class mx{constructor(e){this.key=e,this.cu=!1}}class gx{constructor(e,n,s,i,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new $o(l=>lT(l),yd),this.Pu=new Map,this.Tu=new Set,this.Iu=new xt(Ce.comparator),this.Eu=new Map,this.du=new Pm,this.Au={},this.Ru=new Map,this.Vu=Ha.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function _x(t,e,n=!0){const s=YT(t);let i;const r=s.hu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.uu()):i=await WT(s,e,n,!0),i}async function vx(t,e){const n=YT(t);await WT(n,e,!0,!1)}async function WT(t,e,n,s){const i=await $D(t.localStore,Xs(e)),r=i.targetId,o=t.sharedClientState.addLocalQueryTarget(r,n);let l;return s&&(l=await yx(t,e,r,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&MT(t.remoteStore,i),l}async function yx(t,e,n,s,i){t.fu=(p,g,E)=>async function(x,N,j,$){let U=N.view.tu(j);U.Cs&&(U=await gy(x.localStore,N.query,!1).then(({documents:D})=>N.view.tu(D,U)));const B=$&&$.targetChanges.get(N.targetId),ne=$&&$.targetMismatches.get(N.targetId)!=null,re=N.view.applyChanges(U,x.isPrimaryClient,B,ne);return Sy(x,N.targetId,re.ou),re.snapshot}(t,p,g,E);const r=await gy(t.localStore,e,!0),o=new fx(e,r.$s),l=o.tu(r.documents),c=Fc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,c);Sy(t,n,h.ou);const d=new px(e,n,o);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),h.snapshot}async function Ex(t,e,n){const s=je(t),i=s.hu.get(e),r=s.Pu.get(i.targetId);if(r.length>1)return s.Pu.set(i.targetId,r.filter(o=>!yd(o,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await kp(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),n&&xm(s.remoteStore,i.targetId),Np(s,i.targetId)}).catch(nl)):(Np(s,i.targetId),await kp(s.localStore,i.targetId,!0))}async function bx(t,e){const n=je(t),s=n.hu.get(e),i=n.Pu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),xm(n.remoteStore,s.targetId))}async function wx(t,e,n){const s=Px(t);try{const i=await function(o,l){const c=je(o),h=Zt.now(),d=l.reduce((E,I)=>E.add(I.key),Xe());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",E=>{let I=ki(),x=Xe();return c.Bs.getEntries(E,d).next(N=>{I=N,I.forEach((j,$)=>{$.isValidDocument()||(x=x.add(j))})}).next(()=>c.localDocuments.getOverlayedDocuments(E,I)).next(N=>{p=N;const j=[];for(const $ of l){const U=$k($,p.get($.key).overlayedDocument);U!=null&&j.push(new Vr($.key,U,eT(U.value.mapValue),ks.exists(!0)))}return c.mutationQueue.addMutationBatch(E,h,j,l)}).next(N=>{g=N;const j=N.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(E,N.batchId,j)})}).then(()=>({batchId:g.batchId,changes:hT(p)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let h=o.Au[o.currentUser.toKey()];h||(h=new xt(Ke)),h=h.insert(l,c),o.Au[o.currentUser.toKey()]=h}(s,i.batchId,n),await jc(s,i.changes),await Sd(s.remoteStore)}catch(i){const r=$m(i,"Failed to persist write");n.reject(r)}}async function zT(t,e){const n=je(t);try{const s=await LD(n.localStore,e);e.targetChanges.forEach((i,r)=>{const o=n.Eu.get(r);o&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?dt(o.cu,14607):i.removedDocuments.size>0&&(dt(o.cu,42227),o.cu=!1))}),await jc(n,s,e)}catch(s){await nl(s)}}function Iy(t,e,n){const s=je(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.hu.forEach((r,o)=>{const l=o.view.Fa(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=je(o);c.onlineState=l;let h=!1;c.queries.forEach((d,p)=>{for(const g of p.Sa)g.Fa(l)&&(h=!0)}),h&&jm(c)}(s.eventManager,e),i.length&&s.lu.Y_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Tx(t,e,n){const s=je(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Eu.get(e),r=i&&i.key;if(r){let o=new xt(Ce.comparator);o=o.insert(r,Tn.newNoDocument(r,Me.min()));const l=Xe().add(r),c=new Td(Me.min(),new Map,new xt(Ke),o,l);await zT(s,c),s.Iu=s.Iu.remove(r),s.Eu.delete(e),qm(s)}else await kp(s.localStore,e,!1).then(()=>Np(s,e,n)).catch(nl)}async function Ax(t,e){const n=je(t),s=e.batch.batchId;try{const i=await ND(n.localStore,e);GT(n,s,null),KT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await jc(n,i)}catch(i){await nl(i)}}async function Ix(t,e,n){const s=je(t);try{const i=await function(o,l){const c=je(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return c.mutationQueue.lookupMutationBatch(h,l).next(p=>(dt(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(h,p))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>c.localDocuments.getDocuments(h,d))})}(s.localStore,e);GT(s,e,n),KT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await jc(s,i)}catch(i){await nl(i)}}function KT(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function GT(t,e,n){const s=je(t);let i=s.Au[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.Au[s.currentUser.toKey()]=i}}function Np(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Pu.get(e))t.hu.delete(s),n&&t.lu.gu(s,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(s=>{t.du.containsKey(s)||QT(t,s)})}function QT(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(xm(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),qm(t))}function Sy(t,e,n){for(const s of n)s instanceof HT?(t.du.addReference(s.key,e),Sx(t,s)):s instanceof qT?(_e(Hm,"Document no longer in limbo: "+s.key),t.du.removeReference(s.key,e),t.du.containsKey(s.key)||QT(t,s.key)):De(19791,{pu:s})}function Sx(t,e){const n=e.key,s=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(s)||(_e(Hm,"New document in limbo: "+n),t.Tu.add(s),qm(t))}function qm(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Ce(Ct.fromString(e)),s=t.Vu.next();t.Eu.set(s,new mx(n)),t.Iu=t.Iu.insert(n,s),MT(t.remoteStore,new fr(Xs(vd(n.path)),s,"TargetPurposeLimboResolution",md.le))}}async function jc(t,e,n){const s=je(t),i=[],r=[],o=[];s.hu.isEmpty()||(s.hu.forEach((l,c)=>{o.push(s.fu(c,e,n).then(h=>{var d;if((h||n)&&s.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;s.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(h){i.push(h);const p=km.Rs(c.targetId,h);r.push(p)}}))}),await Promise.all(o),s.lu.Y_(i),await async function(c,h){const d=je(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>J.forEach(h,g=>J.forEach(g.ds,E=>d.persistence.referenceDelegate.addReference(p,g.targetId,E)).next(()=>J.forEach(g.As,E=>d.persistence.referenceDelegate.removeReference(p,g.targetId,E)))))}catch(p){if(!sl(p))throw p;_e(Dm,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const E=d.xs.get(g),I=E.snapshotVersion,x=E.withLastLimboFreeSnapshotVersion(I);d.xs=d.xs.insert(g,x)}}}(s.localStore,r))}async function Cx(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){_e(Hm,"User change. New user:",e.toKey());const s=await xT(n.localStore,e);n.currentUser=e,function(r,o){r.Ru.forEach(l=>{l.forEach(c=>{c.reject(new ge(X.CANCELLED,o))})}),r.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await jc(n,s.ks)}}function Rx(t,e){const n=je(t),s=n.Eu.get(e);if(s&&s.cu)return Xe().add(s.key);{let i=Xe();const r=n.Pu.get(e);if(!r)return i;for(const o of r){const l=n.hu.get(o);i=i.unionWith(l.view.eu)}return i}}function YT(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tx.bind(null,e),e.lu.Y_=hx.bind(null,e.eventManager),e.lu.gu=dx.bind(null,e.eventManager),e}function Px(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ax.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ix.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ad(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return xD(this.persistence,new OD,e.initialUser,this.serializer)}Su(e){return new DT(Om.fi,this.serializer)}bu(e){return new UD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class Ox extends Mh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){dt(this.persistence.referenceDelegate instanceof Lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mD(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new DT(s=>Lh.fi(s,n),this.serializer)}}class Lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Iy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cx.bind(null,this.syncEngine),await lx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ux}()}createDatastore(e){const n=Ad(e.databaseInfo.databaseId),s=function(r){return new WD(r)}(e.databaseInfo);return function(r,o,l,c){return new QD(r,o,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,i,r,o,l){return new XD(s,i,r,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Iy(this.syncEngine,n,0),function(){return yy.C()?new yy:new jD}())}createSyncEngine(e,n){return function(i,r,o,l,c,h,d){const p=new gx(i,r,o,l,c,h);return d&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const r=je(i);_e(Oo,"RemoteStore shutting down."),r.da.add(5),await Uc(r),r.Ra.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Lp.provider={build:()=>new Lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="FirestoreClient";class kx{constructor(e,n,s,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=En.UNAUTHENTICATED,this.clientId=qw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async o=>{_e(Cr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(_e(Cr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=$m(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Lf(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Cr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await xT(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Cy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Dx(t);_e(Cr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>by(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>by(e.remoteStore,i)),t._onlineComponents=e}async function Dx(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Cr,"Using user provided OfflineComponentProvider");try{await Lf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ma("Error using user provided cache. Falling back to memory cache: "+n),await Lf(t,new Mh)}}else _e(Cr,"Using default OfflineComponentProvider"),await Lf(t,new Ox(void 0));return t._offlineComponents}async function XT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Cr,"Using user provided OnlineComponentProvider"),await Cy(t,t._uninitializedComponentsProvider._online)):(_e(Cr,"Using default OnlineComponentProvider"),await Cy(t,new Lp))),t._onlineComponents}function xx(t){return XT(t).then(e=>e.syncEngine)}async function $h(t){const e=await XT(t),n=e.eventManager;return n.onListen=_x.bind(null,e.syncEngine),n.onUnlisten=Ex.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bx.bind(null,e.syncEngine),n}function Nx(t,e,n={}){const s=new Ai;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,l,c,h){const d=new Wm({next:g=>{d.xu(),o.enqueueAndForget(()=>Um(r,p));const E=g.docs.has(l);!E&&g.fromCache?h.reject(new ge(X.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&g.fromCache&&c&&c.source==="server"?h.reject(new ge(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new Bm(vd(l.path),d,{includeMetadataChanges:!0,Qa:!0});return Fm(r,p)}(await $h(t),t.asyncQueue,e,n,s)),s.promise}function Lx(t,e,n={}){const s=new Ai;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,l,c,h){const d=new Wm({next:g=>{d.xu(),o.enqueueAndForget(()=>Um(r,p)),g.fromCache&&c.source==="server"?h.reject(new ge(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new Bm(l,d,{includeMetadataChanges:!0,Qa:!0});return Fm(r,p)}(await $h(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t,e,n){if(!n)throw new ge(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Vx(t,e,n,s){if(e===!0&&s===!0)throw new ge(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Py(t){if(!Ce.isDocumentKey(t))throw new ge(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Oy(t){if(Ce.isDocumentKey(t))throw new ge(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De(12329,{type:typeof t})}function ss(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cd(t);throw new ge(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Mx(t,e){if(e<=0)throw new ge(X.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firestore.googleapis.com",ky=!0;class Dy{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eA,this.ssl=ky}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ky;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fD)throw new ge(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rd{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new qO;switch(s.type){case"firstParty":return new GO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Ry.get(n);s&&(_e("ComponentProvider","Removing Datastore"),Ry.delete(n),s.terminate())}(this),Promise.resolve()}}function $x(t,e,n,s={}){var i;t=ss(t,Rd);const r=Za(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;r&&(Cw(`https://${c}`),Rw("Firestore",!0)),o.host!==eA&&o.host!==c&&Ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:c,ssl:r,emulatorOptions:s});if(!Ri(h,l)&&(t._setSettings(h),s.mockUserToken)){let d,p;if(typeof s.mockUserToken=="string")d=s.mockUserToken,p=En.MOCK_USER;else{d=_P(s.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new ge(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new En(g)}t._authCredentials=new WO(new Bw(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vi(this.firestore,e,this._query)}}class An{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Er(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new An(this.firestore,e,this._key)}}class Er extends Vi{constructor(e,n,s){super(e,n,vd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new Ce(e))}withConverter(e){return new Er(this.firestore,e,this._path)}}function Mr(t,e,...n){if(t=Mt(t),ZT("collection","path",e),t instanceof Rd){const s=Ct.fromString(e,...n);return Oy(s),new Er(t,null,s)}{if(!(t instanceof An||t instanceof Er))throw new ge(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ct.fromString(e,...n));return Oy(s),new Er(t.firestore,null,s)}}function is(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=qw.newId()),ZT("doc","path",e),t instanceof Rd){const s=Ct.fromString(e,...n);return Py(s),new An(t,null,new Ce(s))}{if(!(t instanceof An||t instanceof Er))throw new ge(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ct.fromString(e,...n));return Py(s),new An(t.firestore,t instanceof Er?t.converter:null,new Ce(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="AsyncQueue";class Ny{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new LT(this,"async_queue_retry"),this.rc=()=>{const s=Nf();s&&_e(xy,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=Nf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Nf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ai;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!sl(e))throw e;_e(xy,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,Oi("INTERNAL UNHANDLED ERROR: ",Ly(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=Mm.createAndSchedule(this,e,n,s,r=>this.uc(r));return this.Zu.push(i),i}oc(){this.Xu&&De(47125,{cc:Ly(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Ly(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const i=n;for(const r of s)if(r in i&&typeof i[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Rr extends Rd{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new Ny,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ny(e),this._firestoreClient=void 0,await e}}}function Fx(t,e){const n=typeof t=="object"?t:Dw(),s=typeof t=="string"?t:Rh,i=_m(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=mP("firestore");r&&$x(i,...r)}return i}function Pd(t){if(t._terminated)throw new ge(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ux(t),t._firestoreClient}function Ux(t){var e,n,s;const i=t._freezeSettings(),r=function(l,c,h,d){return new ck(l,c,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,JT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=i.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new kx(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wa(gn.fromBase64String(e))}catch(n){throw new ge(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wa(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=/^__.*__$/;class Bx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new $c(e,this.data,n,this.fieldTransforms)}}class tA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Vr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ic:t})}}class kd{constructor(e,n,s,i,r,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Ec(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new kd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:s,Rc:!1});return i.Vc(e),i}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:s,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Fh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(nA(this.Ic)&&jx.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Hx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ad(e)}bc(e,n,s,i=!1){return new kd({Ic:e,methodName:n,wc:s,path:mn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gm(t){const e=t._freezeSettings(),n=Ad(t._databaseId);return new Hx(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qx(t,e,n,s,i,r={}){const o=t.bc(r.merge||r.mergeFields?2:0,e,n,i);Xm("Data must be an object, but it was:",o,s);const l=iA(s,o);let c,h;if(r.merge)c=new ts(o.fieldMask),h=o.fieldTransforms;else if(r.mergeFields){const d=[];for(const p of r.mergeFields){const g=Vp(e,p,n);if(!o.contains(g))throw new ge(X.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);oA(d,g)||d.push(g)}c=new ts(d),h=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,h=o.fieldTransforms;return new Bx(new qn(l),c,h)}class Dd extends Bc{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dd}}function sA(t,e,n){return new kd({Ic:3,wc:e.settings.wc,methodName:t._methodName,Rc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Qm extends Bc{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=sA(this,e,!0),s=this.Sc.map(r=>Uo(r,n)),i=new ja(s);return new vT(e.path,i)}isEqual(e){return e instanceof Qm&&Ri(this.Sc,e.Sc)}}class Ym extends Bc{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=sA(this,e,!0),s=this.Sc.map(r=>Uo(r,n)),i=new Ba(s);return new vT(e.path,i)}isEqual(e){return e instanceof Ym&&Ri(this.Sc,e.Sc)}}function Wx(t,e,n,s){const i=t.bc(1,e,n);Xm("Data must be an object, but it was:",i,s);const r=[],o=qn.empty();Lr(s,(c,h)=>{const d=Jm(e,c,n);h=Mt(h);const p=i.mc(d);if(h instanceof Dd)r.push(d);else{const g=Uo(h,p);g!=null&&(r.push(d),o.set(d,g))}});const l=new ts(r);return new tA(o,l,i.fieldTransforms)}function zx(t,e,n,s,i,r){const o=t.bc(1,e,n),l=[Vp(e,s,n)],c=[i];if(r.length%2!=0)throw new ge(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<r.length;g+=2)l.push(Vp(e,r[g])),c.push(r[g+1]);const h=[],d=qn.empty();for(let g=l.length-1;g>=0;--g)if(!oA(h,l[g])){const E=l[g];let I=c[g];I=Mt(I);const x=o.mc(E);if(I instanceof Dd)h.push(E);else{const N=Uo(I,x);N!=null&&(h.push(E),d.set(E,N))}}const p=new ts(h);return new tA(d,p,o.fieldTransforms)}function Kx(t,e,n,s=!1){return Uo(n,t.bc(s?4:3,e))}function Uo(t,e){if(rA(t=Mt(t)))return Xm("Unsupported field value:",e,t),iA(t,e);if(t instanceof Bc)return function(s,i){if(!nA(i.Ic))throw i.gc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,i){const r=[];let o=0;for(const l of s){let c=Uo(l,i.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),r.push(c),o++}return{arrayValue:{values:r}}}(t,e)}return function(s,i){if((s=Mt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Dk(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=Zt.fromDate(s);return{timestampValue:Nh(i.serializer,r)}}if(s instanceof Zt){const r=new Zt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(i.serializer,r)}}if(s instanceof zm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wa)return{bytesValue:AT(i.serializer,s._byteString)};if(s instanceof An){const r=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(r))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Rm(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof Km)return function(o,l){return{mapValue:{fields:{[Jw]:{stringValue:Zw},[Ph]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return Am(l.serializer,h)})}}}}}}(s,i);throw i.gc(`Unsupported field value: ${Cd(s)}`)}(t,e)}function iA(t,e){const n={};return zw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lr(t,(s,i)=>{const r=Uo(i,e.Ac(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function rA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof zm||t instanceof Wa||t instanceof An||t instanceof Bc||t instanceof Km)}function Xm(t,e,n){if(!rA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const s=Cd(n);throw s==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+s)}}function Vp(t,e,n){if((e=Mt(e))instanceof Od)return e._internalPath;if(typeof e=="string")return Jm(t,e);throw Fh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Gx=new RegExp("[~\\*/\\[\\]]");function Jm(t,e,n){if(e.search(Gx)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Od(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fh(t,e,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(r||o)&&(c+=" (found",r&&(c+=` in field ${s}`),o&&(c+=` in document ${i}`),c+=")"),new ge(X.INVALID_ARGUMENT,l+t+c)}function oA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Qx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Qx extends aA{data(){return super.data()}}function xd(t,e){return typeof e=="string"?Jm(t,e):e instanceof Od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zm{}class eg extends Zm{}function jo(t,e,...n){let s=[];e instanceof Zm&&s.push(e),s=s.concat(n),function(r){const o=r.filter(c=>c instanceof tg).length,l=r.filter(c=>c instanceof Nd).length;if(o>1||o>0&&l>0)throw new ge(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)t=i._apply(t);return t}class Nd extends eg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Nd(e,n,s)}_apply(e){const n=this._parse(e);return uA(e._query,n),new Vi(e.firestore,e.converter,Sp(e._query,n))}_parse(e){const n=Gm(e.firestore);return function(r,o,l,c,h,d,p){let g;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ge(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){$y(p,d);const I=[];for(const x of p)I.push(My(c,r,x));g={arrayValue:{values:I}}}else g=My(c,r,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||$y(p,d),g=Kx(l,o,p,d==="in"||d==="not-in");return Kt.create(h,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Pr(t,e,n){const s=e,i=xd("where",t);return Nd._create(i,s,n)}class tg extends Zm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Vs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,r){let o=i;const l=r.getFlattenedFilters();for(const c of l)uA(o,c),o=Sp(o,c)}(e._query,n),new Vi(e.firestore,e.converter,Sp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ng extends eg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ng(e,n)}_apply(e){const n=function(i,r,o){if(i.startAt!==null)throw new ge(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ge(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cc(r,o)}(e._query,this._field,this._direction);return new Vi(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new il(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Hc(t,e="asc"){const n=e,s=xd("orderBy",t);return ng._create(s,n)}class sg extends eg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new sg(e,n,s)}_apply(e){return new Vi(e.firestore,e.converter,kh(e._query,this._limit,this._limitType))}}function cA(t){return Mx("limit",t),sg._create("limit",t,"F")}function My(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new ge(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aT(e)&&n.indexOf("/")!==-1)throw new ge(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ct.fromString(n));if(!Ce.isDocumentKey(s))throw new ge(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Xv(t,new Ce(s))}if(n instanceof An)return Xv(t,n._key);throw new ge(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cd(n)}.`)}function $y(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uA(t,e){const n=function(i,r){for(const o of i)for(const l of o.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Yx{convertValue(e,n="none"){switch(Ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Lr(e,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertVectorValue(e){var n,s,i;const r=(i=(s=(n=e.fields)===null||n===void 0?void 0:n[Ph].arrayValue)===null||s===void 0?void 0:s.values)===null||i===void 0?void 0:i.map(o=>jt(o.doubleValue));return new Km(r)}convertGeoPoint(e){return new zm(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=_d(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}convertTimestamp(e){const n=Tr(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ct.fromString(e);dt(OT(s),9688,{name:e});const i=new Ic(s.get(1),s.get(3)),r=new Ce(s.popFirst(5));return i.isEqual(n)||Oi(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hA extends aA{constructor(e,n,s,i,r,o){super(e,n,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(xd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ih extends hA{data(e={}){return super.data(e)}}class dA{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ql(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ih(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new ih(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ql(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const c=new ih(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ql(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:Jx(l.type),doc:c,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Jx(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t){t=ss(t,An);const e=ss(t.firestore,Rr);return Nx(Pd(e),t._key).then(n=>fA(e,t,n))}class ig extends Yx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,n)}}function $r(t){t=ss(t,Vi);const e=ss(t.firestore,Rr),n=Pd(e),s=new ig(e);return lA(t._query),Lx(n,t._query).then(i=>new dA(e,s,t,i))}function qc(t,e,n){t=ss(t,An);const s=ss(t.firestore,Rr),i=Xx(t.converter,e,n);return rg(s,[qx(Gm(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ks.none())])}function Mp(t,e,n,...s){t=ss(t,An);const i=ss(t.firestore,Rr),r=Gm(i);let o;return o=typeof(e=Mt(e))=="string"||e instanceof Od?zx(r,"updateDoc",t._key,e,n,s):Wx(r,"updateDoc",t._key,e),rg(i,[o.toMutation(t._key,ks.exists(!0))])}function Zx(t){return rg(ss(t.firestore,Rr),[new Im(t._key,ks.none())])}function eN(t,...e){var n,s,i;t=Mt(t);let r={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Vy(e[o])||(r=e[o],o++);const l={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(Vy(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(s=p.error)===null||s===void 0?void 0:s.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,h,d;if(t instanceof An)h=ss(t.firestore,Rr),d=vd(t._key.path),c={next:p=>{e[o]&&e[o](fA(h,t,p))},error:e[o+1],complete:e[o+2]};else{const p=ss(t,Vi);h=ss(p.firestore,Rr),d=p._query;const g=new ig(h);c={next:E=>{e[o]&&e[o](new dA(h,g,p,E))},error:e[o+1],complete:e[o+2]},lA(t._query)}return function(g,E,I,x){const N=new Wm(x),j=new Bm(E,N,I);return g.asyncQueue.enqueueAndForget(async()=>Fm(await $h(g),j)),()=>{N.xu(),g.asyncQueue.enqueueAndForget(async()=>Um(await $h(g),j))}}(Pd(h),d,l,c)}function rg(t,e){return function(s,i){const r=new Ai;return s.asyncQueue.enqueueAndForget(async()=>wx(await xx(s),i,r)),r.promise}(Pd(t),e)}function fA(t,e,n){const s=n.docs.get(e._key),i=new ig(t);return new hA(t,i,e._key,s,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}function tN(...t){return new Qm("arrayUnion",t)}function nN(...t){return new Ym("arrayRemove",t)}(function(e,n=!0){(function(i){tl=i})(el),Va(new Ro("firestore",(s,{instanceIdentifier:i,options:r})=>{const o=s.getProvider("app").getImmediate(),l=new Rr(new zO(s.getProvider("auth-internal")),new QO(o,s.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ge(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ic(h.options.projectId,d)}(o,i),o);return r=Object.assign({useFetchStreams:n},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),vr(Fv,Uv,e),vr(Fv,Uv,"esm2017")})();var sN="firebase",iN="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr(sN,iN,"app");function og(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function pA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rN=pA,mA=new Vc("auth","Firebase",pA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new mm("@firebase/auth");function oN(t,...e){Uh.logLevel<=Ye.WARN&&Uh.warn(`Auth (${el}): ${t}`,...e)}function rh(t,...e){Uh.logLevel<=Ye.ERROR&&Uh.error(`Auth (${el}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t,...e){throw lg(t,...e)}function Ds(t,...e){return lg(t,...e)}function ag(t,e,n){const s=Object.assign(Object.assign({},rN()),{[e]:n});return new Vc("auth","Firebase",s).create(e,{appName:t.name})}function Ii(t){return ag(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aN(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&bs(t,"argument-error"),ag(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lg(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return mA.create(t,...e)}function ke(t,e,...n){if(!t)throw lg(e,...n)}function wi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rh(e),new Error(e)}function Di(t,e){t||wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lN(){return Fy()==="http:"||Fy()==="https:"}function Fy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lN()||TP()||"connection"in navigator)?navigator.onLine:!0}function uN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Di(n>e,"Short delay should be less than long delay!"),this.isMobile=EP()||AP()}get(){return cN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t,e){Di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fN=new Wc(3e4,6e4);function Mi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ii(t,e,n,s,i={}){return _A(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const l=Mc(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:c},r);return wP()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Za(t.emulatorConfig.host)&&(h.credentials="include"),gA.fetch()(await vA(t,t.config.apiHost,n,l),h)})}async function _A(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},hN),e);try{const i=new mN(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Fu(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const l=r.ok?o.errorMessage:o.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Fu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Fu(t,"user-disabled",o);const d=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw ag(t,d,h);bs(t,d)}}catch(i){if(i instanceof Li)throw i;bs(t,"network-request-failed",{message:String(i)})}}async function zc(t,e,n,s,i={}){const r=await ii(t,e,n,s,i);return"mfaPendingCredential"in r&&bs(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function vA(t,e,n,s){const i=`${e}${n}?${s}`,r=t,o=r.config.emulator?cg(t.config,i):`${t.config.apiScheme}://${i}`;return dN.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(o).toString():o}function pN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ds(this.auth,"network-request-failed")),fN.get())})}}function Fu(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=Ds(t,e,s);return i.customData._tokenResponse=n,i}function Uy(t){return t!==void 0&&t.enterprise!==void 0}class gN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _N(t,e){return ii(t,"GET","/v2/recaptchaConfig",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(t,e){return ii(t,"POST","/v1/accounts:delete",e)}async function jh(t,e){return ii(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yN(t,e=!1){const n=Mt(t),s=await n.getIdToken(e),i=ug(s);ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:uc(Vf(i.auth_time)),issuedAtTime:uc(Vf(i.iat)),expirationTime:uc(Vf(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Vf(t){return Number(t)*1e3}function ug(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tw(n);return i?JSON.parse(i):(rh("Failed to decode base64 JWT payload"),null)}catch(i){return rh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jy(t){const e=ug(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Li&&EN(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function EN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(t){var e;const n=t.auth,s=await t.getIdToken(),i=await za(t,jh(n,{idToken:s}));ke(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?yA(r.providerUserInfo):[],l=TN(t.providerData,o),c=t.isAnonymous,h=!(t.email&&r.passwordHash)&&!(l!=null&&l.length),d=c?h:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Fp(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function wN(t){const e=Mt(t);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TN(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function yA(t){return t.map(e=>{var{providerId:n}=e,s=og(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e){const n=await _A(t,{},async()=>{const s=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=await vA(t,i,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&Za(t.emulatorConfig.host)&&(c.credentials="include"),gA.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function IN(t,e){return ii(t,"POST","/v2/accounts:revokeToken",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=jy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await AN(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new Oa;return s&&(ke(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(ke(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(ke(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oa,this.toJSON())}_performRefresh(){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ps{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=og(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Fp(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await za(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yN(this,e)}reload(){return wN(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Ii(this.auth));const e=await this.getIdToken();return await za(this,vN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,l,c,h,d;const p=(s=n.displayName)!==null&&s!==void 0?s:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,E=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,I=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(l=n.tenantId)!==null&&l!==void 0?l:void 0,N=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,j=(h=n.createdAt)!==null&&h!==void 0?h:void 0,$=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:U,emailVerified:B,isAnonymous:ne,providerData:re,stsTokenManager:D}=n;ke(U&&D,e,"internal-error");const S=Oa.fromJSON(this.name,D);ke(typeof U=="string",e,"internal-error"),nr(p,e.name),nr(g,e.name),ke(typeof B=="boolean",e,"internal-error"),ke(typeof ne=="boolean",e,"internal-error"),nr(E,e.name),nr(I,e.name),nr(x,e.name),nr(N,e.name),nr(j,e.name),nr($,e.name);const T=new Ps({uid:U,auth:e,email:g,emailVerified:B,displayName:p,isAnonymous:ne,photoURL:I,phoneNumber:E,tenantId:x,stsTokenManager:S,createdAt:j,lastLoginAt:$});return re&&Array.isArray(re)&&(T.providerData=re.map(R=>Object.assign({},R))),N&&(T._redirectEventId=N),T}static async _fromIdTokenResponse(e,n,s=!1){const i=new Oa;i.updateFromServerResponse(n);const r=new Ps({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Bh(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];ke(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?yA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),l=new Oa;l.updateFromIdToken(s);const c=new Ps({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Fp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=new Map;function Ti(t){Di(t instanceof Function,"Expected a class definition");let e=By.get(t);return e?(Di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,By.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EA.type="NONE";const Hy=EA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t,e,n){return`firebase:${t}:${e}:${n}`}class ka{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=oh(this.userKey,i.apiKey,r),this.fullPersistenceKey=oh("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jh(this.auth,{idToken:e}).catch(()=>{});return n?Ps._fromGetAccountInfoResponse(this.auth,n,e):null}return Ps._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ka(Ti(Hy),e,s);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=i[0]||Ti(Hy);const o=oh(s,e.config.apiKey,e.name);let l=null;for(const h of n)try{const d=await h._get(o);if(d){let p;if(typeof d=="string"){const g=await jh(e,{idToken:d}).catch(()=>{});if(!g)break;p=await Ps._fromGetAccountInfoResponse(e,g,d)}else p=Ps._fromJSON(e,d);h!==r&&(l=p),r=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new ka(r,e,s):(r=c[0],l&&await r._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(o)}catch{}})),new ka(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SA(e))return"Blackberry";if(CA(e))return"Webos";if(wA(e))return"Safari";if((e.includes("chrome/")||TA(e))&&!e.includes("edge/"))return"Chrome";if(IA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function bA(t=In()){return/firefox\//i.test(t)}function wA(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TA(t=In()){return/crios\//i.test(t)}function AA(t=In()){return/iemobile/i.test(t)}function IA(t=In()){return/android/i.test(t)}function SA(t=In()){return/blackberry/i.test(t)}function CA(t=In()){return/webos/i.test(t)}function hg(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SN(t=In()){var e;return hg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CN(){return IP()&&document.documentMode===10}function RA(t=In()){return hg(t)||IA(t)||CA(t)||SA(t)||/windows phone/i.test(t)||AA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t,e=[]){let n;switch(t){case"Browser":n=qy(In());break;case"Worker":n=`${qy(In())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${el}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,l)=>{try{const c=e(r);o(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t,e={}){return ii(t,"GET","/v2/passwordPolicy",Mi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=6;class kN{constructor(e){var n,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ON,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,r,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsUppercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wy(this),this.idTokenSubscription=new Wy(this),this.beforeStateQueue=new RN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(async()=>{var s,i,r;if(!this._deleted&&(this.persistenceManager=await ka.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jh(this,{idToken:e}),s=await Ps._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Ii(this));const n=e?Mt(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PN(this),n=new kN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await IN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ti(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[Ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(l,this,"internal-error"),l.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&oN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $i(t){return Mt(t)}class Wy{constructor(e){this.auth=e,this.observer=null,this.addObserver=xP(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xN(t){Ld=t}function OA(t){return Ld.loadJS(t)}function NN(){return Ld.recaptchaEnterpriseScript}function LN(){return Ld.gapiScript}function VN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class MN{constructor(){this.enterprise=new $N}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $N{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const FN="recaptcha-enterprise",kA="NO_RECAPTCHA";class UN{constructor(e){this.type=FN,this.auth=$i(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,l)=>{_N(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new gN(c);return r.tenantId==null?r._agentRecaptchaConfig=h:r._tenantRecaptchaConfigs[r.tenantId]=h,o(h.siteKey)}}).catch(c=>{l(c)})})}function i(r,o,l){const c=window.grecaptcha;Uy(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:e}).then(h=>{o(h)}).catch(()=>{o(kA)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MN().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(l=>{if(!n&&Uy(window.grecaptcha))i(l,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=NN();c.length!==0&&(c+=l),OA(c).then(()=>{i(l,r,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function zy(t,e,n,s=!1,i=!1){const r=new UN(t);let o;if(i)o=kA;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Hh(t,e,n,s,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await zy(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await zy(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t,e){const n=_m(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(Ri(r,e??{}))return i;bs(i,"already-initialized")}return n.initialize({options:e})}function BN(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function HN(t,e,n){const s=$i(t);ke(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=DA(e),{host:o,port:l}=qN(e),c=l===null?"":`:${l}`,h={url:`${r}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){ke(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ke(Ri(h,s.config.emulator)&&Ri(d,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,Za(o)?(Cw(`${r}//${o}${c}`),Rw("Auth",!0)):WN()}function DA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qN(t){const e=DA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Ky(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:Ky(o)}}}function Ky(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,n){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}async function zN(t,e){return ii(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e){return zc(t,"POST","/v1/accounts:signInWithPassword",Mi(t,e))}async function GN(t,e){return ii(t,"POST","/v1/accounts:sendOobCode",Mi(t,e))}async function QN(t,e){return GN(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(t,e){return zc(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))}async function XN(t,e){return zc(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends dg{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Rc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hh(e,n,"signInWithPassword",KN);case"emailLink":return YN(e,{email:this._email,oobCode:this._password});default:bs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hh(e,s,"signUpPassword",zN);case"emailLink":return XN(e,{idToken:n,email:this._email,oobCode:this._password});default:bs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(t,e){return zc(t,"POST","/v1/accounts:signInWithIdp",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="http://localhost";class Do extends dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Do(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=og(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new Do(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Da(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Da(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Da(e,n)}buildRequest(){const e={requestUri:JN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eL(t){const e=ql(Wl(t)).link,n=e?ql(Wl(e)).deep_link_id:null,s=ql(Wl(t)).deep_link_id;return(s?ql(Wl(s)).link:null)||s||n||e||t}class fg{constructor(e){var n,s,i,r,o,l;const c=ql(Wl(e)),h=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(s=c.oobCode)!==null&&s!==void 0?s:null,p=ZN((i=c.mode)!==null&&i!==void 0?i:null);ke(h&&d&&p,"argument-error"),this.apiKey=h,this.operation=p,this.code=d,this.continueUrl=(r=c.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=eL(e);try{return new fg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,n){return Rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=fg.parseLink(n);return ke(s,"argument-error"),Rc._fromEmailAndCode(e,s.code,s.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends pg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Kc{constructor(){super("facebook.com")}static credential(e){return Do._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Do._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return bi.credential(n,s)}catch{return null}}}bi.GOOGLE_SIGN_IN_METHOD="google.com";bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Kc{constructor(){super("github.com")}static credential(e){return Do._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Kc{constructor(){super("twitter.com")}static credential(e,n){return Do._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return hr.credential(n,s)}catch{return null}}}hr.TWITTER_SIGN_IN_METHOD="twitter.com";hr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(t,e){return zc(t,"POST","/v1/accounts:signUp",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await Ps._fromIdTokenResponse(e,s,i),o=Gy(s);return new xo({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Gy(s);return new xo({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Gy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends Li{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new qh(e,n,s,i)}}function xA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(t,r,e,s):r})}async function nL(t,e,n=!1){const s=await za(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xo._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(t,e,n=!1){const{auth:s}=t;if(Zn(s.app))return Promise.reject(Ii(s));const i="reauthenticate";try{const r=await za(t,xA(s,i,e,t),n);ke(r.idToken,s,"internal-error");const o=ug(r.idToken);ke(o,s,"internal-error");const{sub:l}=o;return ke(t.uid===l,s,"user-mismatch"),xo._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&bs(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(t,e,n=!1){if(Zn(t.app))return Promise.reject(Ii(t));const s="signIn",i=await xA(t,s,e),r=await xo._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function sL(t,e){return LA($i(t),e)}async function iL(t,e){return NA(Mt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(t){const e=$i(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rL(t,e,n){const s=$i(t);await Hh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",QN)}async function oL(t,e,n){if(Zn(t.app))return Promise.reject(Ii(t));const s=$i(t),o=await Hh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tL).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&VA(t),c}),l=await xo._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function aL(t,e,n){return Zn(t.app)?Promise.reject(Ii(t)):sL(Mt(t),Bo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&VA(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e){return ii(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Mt(t),r={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await za(s,lL(s.auth,r));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function cL(t,e,n,s){return Mt(t).onIdTokenChanged(e,n,s)}function uL(t,e,n){return Mt(t).beforeAuthStateChanged(e,n)}function hL(t,e,n,s){return Mt(t).onAuthStateChanged(e,n,s)}function dL(t){return Mt(t).signOut()}async function fL(t){return Mt(t).delete()}const Wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=1e3,mL=10;class FA extends $A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);CN()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mL):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},pL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FA.type="LOCAL";const gL=FA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA extends $A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UA.type="SESSION";const jA=UA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Vd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const l=Array.from(o).map(async h=>h(n.origin,r)),c=await _L(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((l,c)=>{const h=mg("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(g.data.response);break;default:clearTimeout(d),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(){return window}function yL(t){Zs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){return typeof Zs().WorkerGlobalScope<"u"&&typeof Zs().importScripts=="function"}async function EL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wL(){return BA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="firebaseLocalStorageDb",TL=1,zh="firebaseLocalStorage",qA="fbase_key";class Gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Md(t,e){return t.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function AL(){const t=indexedDB.deleteDatabase(HA);return new Gc(t).toPromise()}function Up(){const t=indexedDB.open(HA,TL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(zh,{keyPath:qA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(zh)?e(s):(s.close(),await AL(),e(await Up()))})})}async function Qy(t,e,n){const s=Md(t,!0).put({[qA]:e,value:n});return new Gc(s).toPromise()}async function IL(t,e){const n=Md(t,!1).get(e),s=await new Gc(n).toPromise();return s===void 0?null:s.value}function Yy(t,e){const n=Md(t,!0).delete(e);return new Gc(n).toPromise()}const SL=800,CL=3;class WA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Up(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>CL)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vd._getInstance(wL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await EL(),!this.activeServiceWorker)return;this.sender=new vL(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Up();return await Qy(e,Wh,"1"),await Yy(e,Wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Qy(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>IL(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=Md(i,!1).getAll();return new Gc(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WA.type="LOCAL";const RL=WA;new Wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t,e){return e?Ti(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends dg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Da(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Da(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Da(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PL(t){return LA(t.auth,new gg(t),t.bypassAuthState)}function OL(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),NA(n,new gg(t),t.bypassAuthState)}async function kL(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),nL(n,new gg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PL;case"linkViaPopup":case"linkViaRedirect":return kL;case"reauthViaPopup":case"reauthViaRedirect":return OL;default:bs(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=new Wc(2e3,1e4);async function xL(t,e,n){if(Zn(t.app))return Promise.reject(Ds(t,"operation-not-supported-in-this-environment"));const s=$i(t);aN(t,e,pg);const i=zA(s,n);return new vo(s,"signInViaPopup",e,i).executeNotNull()}class vo extends KA{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,vo.currentPopupAction&&vo.currentPopupAction.cancel(),vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DL.get())};e()}}vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="pendingRedirect",ah=new Map;class LL extends KA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const s=await VL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VL(t,e){const n=FL(e),s=$L(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function ML(t,e){ah.set(t._key(),e)}function $L(t){return Ti(t._redirectPersistence)}function FL(t){return oh(NL,t.config.apiKey,t.name)}async function UL(t,e,n=!1){if(Zn(t.app))return Promise.reject(Ii(t));const s=$i(t),i=zA(s,e),o=await new LL(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=10*60*1e3;class BL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!GA(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ds(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xy(e))}saveEventToCache(e){this.cachedEventUids.add(Xy(e)),this.lastProcessedEventTime=Date.now()}}function Xy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e={}){return ii(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zL=/^https?/;async function KL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qL(t);for(const n of e)try{if(GL(n))return}catch{}bs(t,"unauthorized-domain")}function GL(t){const e=$p(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!zL.test(n))return!1;if(WL.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=new Wc(3e4,6e4);function Jy(){const t=Zs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YL(t){return new Promise((e,n)=>{var s,i,r;function o(){Jy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jy(),n(Ds(t,"network-request-failed"))},timeout:QL.get()})}if(!((i=(s=Zs().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=Zs().gapi)===null||r===void 0)&&r.load)o();else{const l=VN("iframefcb");return Zs()[l]=()=>{gapi.load?o():n(Ds(t,"network-request-failed"))},OA(`${LN()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw lh=null,e})}let lh=null;function XL(t){return lh=lh||YL(t),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=new Wc(5e3,15e3),ZL="__/auth/iframe",eV="emulator/auth/iframe",tV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sV(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cg(e,eV):`https://${t.config.authDomain}/${ZL}`,s={apiKey:e.apiKey,appName:t.name,v:el},i=nV.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Mc(s).slice(1)}`}async function iV(t){const e=await XL(t),n=Zs().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:sV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tV,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=Ds(t,"network-request-failed"),l=Zs().setTimeout(()=>{r(o)},JL.get());function c(){Zs().clearTimeout(l),i(s)}s.ping(c).then(c,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oV=500,aV=600,lV="_blank",cV="http://localhost";class Zy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uV(t,e,n,s=oV,i=aV){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c=Object.assign(Object.assign({},rV),{width:s.toString(),height:i.toString(),top:r,left:o}),h=In().toLowerCase();n&&(l=TA(h)?lV:n),bA(h)&&(e=e||cV,c.scrollbars="yes");const d=Object.entries(c).reduce((g,[E,I])=>`${g}${E}=${I},`,"");if(SN(h)&&l!=="_self")return hV(e||"",l),new Zy(null);const p=window.open(e||"",l,d);ke(p,t,"popup-blocked");try{p.focus()}catch{}return new Zy(p)}function hV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV="__/auth/handler",fV="emulator/auth/handler",pV=encodeURIComponent("fac");async function eE(t,e,n,s,i,r){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:el,eventId:i};if(e instanceof pg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Kc){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),h=c?`#${pV}=${encodeURIComponent(c)}`:"";return`${mV(t)}?${Mc(l).slice(1)}${h}`}function mV({config:t}){return t.emulator?cg(t,fV):`https://${t.authDomain}/${dV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="webStorageSupport";class gV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jA,this._completeRedirectFn=UL,this._overrideRedirectResult=ML}async _openPopup(e,n,s,i){var r;Di((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await eE(e,n,s,$p(),i);return uV(e,o,mg())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await eE(e,n,s,$p(),i);return yL(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(Di(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await iV(e),s=new BL(e);return n.register("authEvent",i=>(ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mf,{type:Mf},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[Mf];o!==void 0&&n(!!o),bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RA()||wA()||hg()}}const _V=gV;var tE="@firebase/auth",nE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EV(t){Va(new Ro("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;ke(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PA(t)},h=new DN(s,i,r,c);return BN(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Va(new Ro("auth-internal",e=>{const n=$i(e.getProvider("auth").getImmediate());return(s=>new vV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(tE,nE,yV(t)),vr(tE,nE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=5*60,wV=Sw("authIdTokenMaxAge")||bV;let sE=null;const TV=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>wV)return;const i=n==null?void 0:n.token;sE!==i&&(sE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function AV(t=Dw()){const e=_m(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jN(t,{popupRedirectResolver:_V,persistence:[RL,gL,jA]}),s=Sw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=TV(r.toString());uL(n,o,()=>o(n.currentUser)),cL(n,l=>o(l))}}const i=Aw("auth");return i&&HN(n,`http://${i}`),n}function IV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}xN({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=Ds("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",IV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EV("Browser");const SV={apiKey:"AIzaSyCwjBfaaOxu0q3af_aPIlvDnpvSE1z3ms0",authDomain:"instant-geek.firebaseapp.com",projectId:"instant-geek",storageBucket:"instant-geek.firebasestorage.app",messagingSenderId:"317020332794",appId:"1:317020332794:web:933ab287d47fafd86cdf43",measurementId:"G-5F717TETW2"},QA=kw(SV),Fi=AV(QA),Bt=Fx(QA),xa=dm("auth",{state:()=>({user:null,isLoading:!0,userData:null,_authListenerUnsubscribe:null}),getters:{isLoggedIn:t=>!!t.user,currentUsername:t=>t.userData&&t.userData.displayName?t.userData.displayName:t.user&&t.user.displayName?t.user.displayName:t.user&&t.user.email?t.user.email.split("@")[0]:"Invit"},actions:{initAuthListener(){this._authListenerUnsubscribe||(this._authListenerUnsubscribe=hL(Fi,async t=>{this.isLoading=!0;const e=Qc();if(t){this.user=t;const n=is(Bt,"users",t.uid),s=await ko(n);s.exists()?this.userData=s.data():this.userData=null,await e.fetchWishlist()}else this.user=null,this.userData=null,e.$reset();this.isLoading=!1}))},cleanupListeners(){this._authListenerUnsubscribe&&this._authListenerUnsubscribe()}}}),Qc=dm("wishlist",{state:()=>({gameIds:[],isLoading:!1}),getters:{isInWishlist:t=>e=>t.gameIds.includes(e),wishlistCount:t=>t.gameIds.length},actions:{async fetchWishlist(){const t=xa();if(!t.isLoggedIn)return;this.isLoading=!0;const e=is(Bt,"users",t.user.uid,"wishlist","items"),n=await ko(e);n.exists()?this.gameIds=n.data().ids||[]:this.gameIds=[],this.isLoading=!1},async addToWishlist(t){const e=xa();if(!e.isLoggedIn){alert("Veuillez vous connecter pour ajouter des jeux  votre wishlist.");return}const n=is(Bt,"users",e.user.uid,"wishlist","items");(await ko(n)).exists()?await Mp(n,{ids:tN(t)}):await qc(n,{ids:[t]}),this.gameIds.includes(t)||this.gameIds.push(t)},async removeFromWishlist(t){const e=xa();if(!e.isLoggedIn)return;const n=is(Bt,"users",e.user.uid,"wishlist","items");await Mp(n,{ids:nN(t)}),this.gameIds=this.gameIds.filter(s=>s!==t)}}}),tn=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},CV={class:"container-fluid",id:"main-content"},RV={class:"row justify-content-center"},PV={class:"col-12 col-md-10 col-lg-8 p-0 w-100"},OV={class:"slider-wrapper"},kV=["src","alt"],DV=["onClick"],xV=["src","alt"],NV=["src","alt"],LV=["src","alt"],VV={class:"game-info mt-3"},MV=["href"],$V=["src"],FV={__name:"slider",setup(t){const e=Qc(),n=Ie([{src:"/assets/img/icon/gtavi.png",alt:"Image 1"},{src:"/assets/img/icon/metaphor.png",alt:"Image 2"},{src:"/assets/img/icon/nightrein.png",alt:"Image 3"},{src:"/assets/img/icon/TLOU2.jpg",alt:"Image 4"},{src:"/assets/img/icon/Clair_Obscur.jpg",alt:"Image 5"}]),s=Ie([{src:"https://www.instant-gaming.com/fr/2462-acheter-grand-theft-auto-vi-pc-jeu-rockstar/",alt:"Page GTA VI"},{src:"https://www.instant-gaming.com/fr/14352-acheter-metaphor-refantazio-pc-jeu-steam-europe/",alt:"Page Metaphor"},{src:"https://www.instant-gaming.com/fr/18294-acheter-elden-ring-nightreign-pc-jeu-steam-europe/",alt:"Page Elden Ring Nightrein"},{src:"https://www.instant-gaming.com/fr/6215-acheter-the-last-of-us-part-ii-remastered-pc-jeu-steam-europe/",alt:"Page The Last of Us 2"},{src:"https://www.instant-gaming.com/fr/17015-acheter-clair-obscur-expedition-33-pc-jeu-steam-europe-us-canada/",alt:"Page Clair Obscur"}]),i=[{src:"https://cdn2.steamgriddb.com/hero_thumb/b80be7960918982fceea91afaf4d5e27.jpg",alt:"Image Hero GTA VI"},{src:"https://cdn2.steamgriddb.com/hero_thumb/aaecbb83e18bf24199bc5b2d3a280054.jpg",alt:"Image Hero Metaphor"},{src:"https://cdn2.steamgriddb.com/hero_thumb/8ec28b09ec95f08279e82459f1289c34.jpg",alt:"Image Hero Nightrein"},{src:"https://cdn2.steamgriddb.com/hero_thumb/5b465c13fd8cac3b9baf4af74bc0069a.png",alt:"Image Hero TLOU2"},{src:"https://cdn2.steamgriddb.com/hero_thumb/d2d195657240f493374e95e2b75cc8cf.jpg",alt:"Image Hero Clair Obscur"}],r=Ie([{name:"Grand Thief Auto VI",description:"Comme toujours, le jeu se droule dans un monde ouvert, dans une version fictive de Miami, en Floride, appele Vice City, Leonida...",price:"99.99",id:"tEZ8WKToNXRdUw30WBpN"},{name:"Metaphor: ReFantazio",description:"Les crateurs de Persona 3, 4 et 5 ont donn naissance  Metaphor: ReFantazio. Prparez-vous  la prochaine volution du JRPG fantastique...",price:"39.99",id:"ouRWQoFisMSRMbu5RncX"},{name:"Elden Ring Nightrein",description:"ELDEN RING NIGHTREIGN est une aventure indpendante se droulant dans l'univers d'ELDEN RING, conue pour offrir...",price:"31.52",id:"HT3qJHVa9pXQJZSXRkQR"},{name:"The Last of Us Part II REMASTERED",description:"Cinq ans aprs leur prilleux voyage  travers une Amrique ravage par une pandmie...",price:"35.43",id:"HuvvEF5GQmSZ7ylXW1zW"},{name:"Clair Obscur : Expdition 33",description:"Une fois par an, la Peintresse se rveille. Sur son Monolithe, elle peint son nombre maudit...",price:"29.99",id:"ZuL3BlFzp83IyXuTQ4DF"}]),o=Ie(0),l=Ie(!1);kt(()=>(o.value-1+n.value.length)%n.value.length),kt(()=>(o.value+1)%n.value.length);const c=kt(()=>{const $=n.value.length;return[n.value[(o.value-1+$)%$],n.value[o.value],n.value[(o.value+1)%$]]}),h=kt(()=>{const $=n.value.length;return[n.value[(o.value-2+$)%$],n.value[(o.value+2)%$]]}),d=$=>$===1?{width:"50%"}:{width:"25%"},p=kt(()=>{var U;const $=(U=r.value[o.value])==null?void 0:U.id;return $?e.isInWishlist($):!1});let g=null;function E(){g&&clearInterval(g),g=setInterval(()=>{I()},6e3)}zn(async()=>{E()}),ad(()=>{clearInterval(g)});const I=()=>{l.value=!0,setTimeout(()=>{o.value=(o.value+1)%n.value.length,l.value=!1,E()},500)},x=()=>{l.value=!0,setTimeout(()=>{o.value=(o.value-1+n.value.length)%n.value.length,l.value=!1,E()},500)},N=$=>{$===0&&x(),$===2&&I()},j=()=>{const $=r.value[o.value];$!=null&&$.id&&(p.value?e.removeFromWishlist($.id):e.addToWishlist($.id))};return($,U)=>{const B=ls("router-link");return ee(),se("div",CV,[v("div",RV,[v("div",PV,[v("div",{class:"carousel-container mx-auto",style:Io({"--carousel-bg":`url('${i[o.value].src}')`})},[v("div",OV,[v("div",{class:Jt(["slide","prev"]),onClick:U[0]||(U[0]=ne=>N(0))},[v("img",{src:h.value[0].src,alt:h.value[0].alt,class:"img-fluid rounded-4 w-50"},null,8,kV)]),(ee(!0),se(He,null,Ot(c.value,(ne,re)=>(ee(),se("div",{key:re,class:Jt(["slide",re===0?"prev":re===1?"active":"next",re===1&&l.value?"fading":""]),style:Io(d(re)),onClick:D=>N(re)},[re===1?(ee(),cm(B,{key:0,to:`/game/${r.value[o.value].id}`},{default:ut(()=>[v("img",{src:ne.src,alt:ne.alt,class:"img-fluid rounded-4",style:{cursor:"pointer"}},null,8,xV)]),_:2},1032,["to"])):(ee(),se("img",{key:1,src:ne.src,alt:ne.alt,class:"img-fluid rounded-4"},null,8,NV))],14,DV))),128)),v("div",{class:Jt(["slide","next"]),onClick:U[1]||(U[1]=ne=>N(2))},[v("img",{src:h.value[1].src,alt:h.value[1].alt,class:"img-fluid rounded-4 w-50"},null,8,LV)])]),v("div",{class:"controls d-flex justify-content-between mt-3"},[v("button",{class:"btn",onClick:x},U[2]||(U[2]=[v("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1)])),v("button",{class:"btn",onClick:I},U[3]||(U[3]=[v("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1)]))]),v("div",VV,[v("h2",null,pe(r.value[o.value].name),1),v("p",null,pe(r.value[o.value].description),1),v("p",null,pe(r.value[o.value].price),1),U[4]||(U[4]=v("a",{class:"btn btn-page me-2"},"Acheter",-1)),v("a",{href:s.value[o.value].src,target:"_blank",class:"btn btn-page me-2"},"Page du jeu",8,MV),v("a",{class:"btn btn-danger",onClick:j},[v("img",{src:p.value?"/assets/img/favorite_black.png":"/assets/img/favorite_empty.png",alt:"Icne de favori",style:{width:"24px",height:"24px"}},null,8,$V)])])],4)])])])}}},UV=tn(FV,[["__scopeId","data-v-6065439a"]]),jV={class:"container-fluid py-2 preco"},BV={class:"media-scroller snaps-inline",id:"precoIn"},HV={class:"game-card"},qV=["src","alt"],WV={class:"game-text"},zV={class:"titre"},KV={class:"prix"},GV={__name:"Preco",setup(t){const e=Ie([]),n=async()=>{const s=Mr(Bt,"games"),i=new Date;i.setHours(0,0,0,0);const r=jo(s,Pr("dateSortie",">=",i),Hc("dateSortie"),cA(8));try{const o=await $r(r);e.value=[],o.forEach(l=>{const c=l.data();e.value.push({id:l.id,titre:c.name,link:c.link,image:c.image,price:`${c.price}`})})}catch(o){console.error("Erreur lors de la rcupration des jeux :",o)}};return zn(()=>{n()}),(s,i)=>{const r=ls("router-link");return ee(),se("div",jV,[i[1]||(i[1]=v("h2",{class:"font-weight-light"},"Prcommandes",-1)),v("div",null,[v("ul",BV,[(ee(!0),se(He,null,Ot(e.value,o=>(ee(),se("li",{key:o.id},[v("div",HV,[me(r,{class:"nav-link",to:`/game/${o.id}`},{default:ut(()=>[v("img",{src:`/assets/img/preview/${o.image}`,alt:o.titre},null,8,qV)]),_:2},1032,["to"]),v("div",WV,[v("h3",zV,pe(o.titre),1),v("h3",KV,pe(o.price),1)]),i[0]||(i[0]=v("h2",null,null,-1))])]))),128))])])])}}},QV=tn(GV,[["__scopeId","data-v-ed81dbaa"]]);var ch={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var YV=ch.exports,iE;function XV(){return iE||(iE=1,function(t,e){(function(n,s){t.exports=s()})(YV,function(){const n=new Map,s={set(y,u,m){n.has(y)||n.set(y,new Map);const b=n.get(y);b.has(u)||b.size===0?b.set(u,m):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(b.keys())[0]}.`)},get:(y,u)=>n.has(y)&&n.get(y).get(u)||null,remove(y,u){if(!n.has(y))return;const m=n.get(y);m.delete(u),m.size===0&&n.delete(y)}},i="transitionend",r=y=>(y&&window.CSS&&window.CSS.escape&&(y=y.replace(/#([^\s"#']+)/g,(u,m)=>`#${CSS.escape(m)}`)),y),o=y=>{y.dispatchEvent(new Event(i))},l=y=>!(!y||typeof y!="object")&&(y.jquery!==void 0&&(y=y[0]),y.nodeType!==void 0),c=y=>l(y)?y.jquery?y[0]:y:typeof y=="string"&&y.length>0?document.querySelector(r(y)):null,h=y=>{if(!l(y)||y.getClientRects().length===0)return!1;const u=getComputedStyle(y).getPropertyValue("visibility")==="visible",m=y.closest("details:not([open])");if(!m)return u;if(m!==y){const b=y.closest("summary");if(b&&b.parentNode!==m||b===null)return!1}return u},d=y=>!y||y.nodeType!==Node.ELEMENT_NODE||!!y.classList.contains("disabled")||(y.disabled!==void 0?y.disabled:y.hasAttribute("disabled")&&y.getAttribute("disabled")!=="false"),p=y=>{if(!document.documentElement.attachShadow)return null;if(typeof y.getRootNode=="function"){const u=y.getRootNode();return u instanceof ShadowRoot?u:null}return y instanceof ShadowRoot?y:y.parentNode?p(y.parentNode):null},g=()=>{},E=y=>{y.offsetHeight},I=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,x=[],N=()=>document.documentElement.dir==="rtl",j=y=>{var u;u=()=>{const m=I();if(m){const b=y.NAME,L=m.fn[b];m.fn[b]=y.jQueryInterface,m.fn[b].Constructor=y,m.fn[b].noConflict=()=>(m.fn[b]=L,y.jQueryInterface)}},document.readyState==="loading"?(x.length||document.addEventListener("DOMContentLoaded",()=>{for(const m of x)m()}),x.push(u)):u()},$=(y,u=[],m=y)=>typeof y=="function"?y.call(...u):m,U=(y,u,m=!0)=>{if(!m)return void $(y);const b=(q=>{if(!q)return 0;let{transitionDuration:Z,transitionDelay:ue}=window.getComputedStyle(q);const ye=Number.parseFloat(Z),be=Number.parseFloat(ue);return ye||be?(Z=Z.split(",")[0],ue=ue.split(",")[0],1e3*(Number.parseFloat(Z)+Number.parseFloat(ue))):0})(u)+5;let L=!1;const V=({target:q})=>{q===u&&(L=!0,u.removeEventListener(i,V),$(y))};u.addEventListener(i,V),setTimeout(()=>{L||o(u)},b)},B=(y,u,m,b)=>{const L=y.length;let V=y.indexOf(u);return V===-1?!m&&b?y[L-1]:y[0]:(V+=m?1:-1,b&&(V=(V+L)%L),y[Math.max(0,Math.min(V,L-1))])},ne=/[^.]*(?=\..*)\.|.*/,re=/\..*/,D=/::\d+$/,S={};let T=1;const R={mouseenter:"mouseover",mouseleave:"mouseout"},O=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function A(y,u){return u&&`${u}::${T++}`||y.uidEvent||T++}function C(y){const u=A(y);return y.uidEvent=u,S[u]=S[u]||{},S[u]}function xe(y,u,m=null){return Object.values(y).find(b=>b.callable===u&&b.delegationSelector===m)}function it(y,u,m){const b=typeof u=="string",L=b?m:u||m;let V=Rt(y);return O.has(V)||(V=y),[b,L,V]}function Le(y,u,m,b,L){if(typeof u!="string"||!y)return;let[V,q,Z]=it(u,m,b);u in R&&(q=($e=>function(Ve){if(!Ve.relatedTarget||Ve.relatedTarget!==Ve.delegateTarget&&!Ve.delegateTarget.contains(Ve.relatedTarget))return $e.call(this,Ve)})(q));const ue=C(y),ye=ue[Z]||(ue[Z]={}),be=xe(ye,q,V?m:null);if(be)return void(be.oneOff=be.oneOff&&L);const fe=A(q,u.replace(ne,"")),qe=V?function(Oe,$e,Ve){return function Fe(gt){const wt=Oe.querySelectorAll($e);for(let{target:Qe}=gt;Qe&&Qe!==this;Qe=Qe.parentNode)for(const lt of wt)if(lt===Qe)return qt(gt,{delegateTarget:Qe}),Fe.oneOff&&Q.off(Oe,gt.type,$e,Ve),Ve.apply(Qe,[gt])}}(y,m,q):function(Oe,$e){return function Ve(Fe){return qt(Fe,{delegateTarget:Oe}),Ve.oneOff&&Q.off(Oe,Fe.type,$e),$e.apply(Oe,[Fe])}}(y,q);qe.delegationSelector=V?m:null,qe.callable=q,qe.oneOff=L,qe.uidEvent=fe,ye[fe]=qe,y.addEventListener(Z,qe,V)}function we(y,u,m,b,L){const V=xe(u[m],b,L);V&&(y.removeEventListener(m,V,!!L),delete u[m][V.uidEvent])}function Be(y,u,m,b){const L=u[m]||{};for(const[V,q]of Object.entries(L))V.includes(b)&&we(y,u,m,q.callable,q.delegationSelector)}function Rt(y){return y=y.replace(re,""),R[y]||y}const Q={on(y,u,m,b){Le(y,u,m,b,!1)},one(y,u,m,b){Le(y,u,m,b,!0)},off(y,u,m,b){if(typeof u!="string"||!y)return;const[L,V,q]=it(u,m,b),Z=q!==u,ue=C(y),ye=ue[q]||{},be=u.startsWith(".");if(V===void 0){if(be)for(const fe of Object.keys(ue))Be(y,ue,fe,u.slice(1));for(const[fe,qe]of Object.entries(ye)){const Oe=fe.replace(D,"");Z&&!u.includes(Oe)||we(y,ue,q,qe.callable,qe.delegationSelector)}}else{if(!Object.keys(ye).length)return;we(y,ue,q,V,L?m:null)}},trigger(y,u,m){if(typeof u!="string"||!y)return null;const b=I();let L=null,V=!0,q=!0,Z=!1;u!==Rt(u)&&b&&(L=b.Event(u,m),b(y).trigger(L),V=!L.isPropagationStopped(),q=!L.isImmediatePropagationStopped(),Z=L.isDefaultPrevented());const ue=qt(new Event(u,{bubbles:V,cancelable:!0}),m);return Z&&ue.preventDefault(),q&&y.dispatchEvent(ue),ue.defaultPrevented&&L&&L.preventDefault(),ue}};function qt(y,u={}){for(const[m,b]of Object.entries(u))try{y[m]=b}catch{Object.defineProperty(y,m,{configurable:!0,get:()=>b})}return y}function rt(y){if(y==="true")return!0;if(y==="false")return!1;if(y===Number(y).toString())return Number(y);if(y===""||y==="null")return null;if(typeof y!="string")return y;try{return JSON.parse(decodeURIComponent(y))}catch{return y}}function ot(y){return y.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const At={setDataAttribute(y,u,m){y.setAttribute(`data-bs-${ot(u)}`,m)},removeDataAttribute(y,u){y.removeAttribute(`data-bs-${ot(u)}`)},getDataAttributes(y){if(!y)return{};const u={},m=Object.keys(y.dataset).filter(b=>b.startsWith("bs")&&!b.startsWith("bsConfig"));for(const b of m){let L=b.replace(/^bs/,"");L=L.charAt(0).toLowerCase()+L.slice(1),u[L]=rt(y.dataset[b])}return u},getDataAttribute:(y,u)=>rt(y.getAttribute(`data-bs-${ot(u)}`))};class It{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,m){const b=l(m)?At.getDataAttribute(m,"config"):{};return{...this.constructor.Default,...typeof b=="object"?b:{},...l(m)?At.getDataAttributes(m):{},...typeof u=="object"?u:{}}}_typeCheckConfig(u,m=this.constructor.DefaultType){for(const[L,V]of Object.entries(m)){const q=u[L],Z=l(q)?"element":(b=q)==null?`${b}`:Object.prototype.toString.call(b).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(V).test(Z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${L}" provided type "${Z}" but expected type "${V}".`)}var b}}class at extends It{constructor(u,m){super(),(u=c(u))&&(this._element=u,this._config=this._getConfig(m),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),Q.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,m,b=!0){U(u,m,b)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return s.get(c(u),this.DATA_KEY)}static getOrCreateInstance(u,m={}){return this.getInstance(u)||new this(u,typeof m=="object"?m:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const z=y=>{let u=y.getAttribute("data-bs-target");if(!u||u==="#"){let m=y.getAttribute("href");if(!m||!m.includes("#")&&!m.startsWith("."))return null;m.includes("#")&&!m.startsWith("#")&&(m=`#${m.split("#")[1]}`),u=m&&m!=="#"?m.trim():null}return u?u.split(",").map(m=>r(m)).join(","):null},W={find:(y,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,y)),findOne:(y,u=document.documentElement)=>Element.prototype.querySelector.call(u,y),children:(y,u)=>[].concat(...y.children).filter(m=>m.matches(u)),parents(y,u){const m=[];let b=y.parentNode.closest(u);for(;b;)m.push(b),b=b.parentNode.closest(u);return m},prev(y,u){let m=y.previousElementSibling;for(;m;){if(m.matches(u))return[m];m=m.previousElementSibling}return[]},next(y,u){let m=y.nextElementSibling;for(;m;){if(m.matches(u))return[m];m=m.nextElementSibling}return[]},focusableChildren(y){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(m=>`${m}:not([tabindex^="-"])`).join(",");return this.find(u,y).filter(m=>!d(m)&&h(m))},getSelectorFromElement(y){const u=z(y);return u&&W.findOne(u)?u:null},getElementFromSelector(y){const u=z(y);return u?W.findOne(u):null},getMultipleElementsFromSelector(y){const u=z(y);return u?W.find(u):[]}},le=(y,u="hide")=>{const m=`click.dismiss${y.EVENT_KEY}`,b=y.NAME;Q.on(document,m,`[data-bs-dismiss="${b}"]`,function(L){if(["A","AREA"].includes(this.tagName)&&L.preventDefault(),d(this))return;const V=W.getElementFromSelector(this)||this.closest(`.${b}`);y.getOrCreateInstance(V)[u]()})},ve=".bs.alert",Ge=`close${ve}`,P=`closed${ve}`;class k extends at{static get NAME(){return"alert"}close(){if(Q.trigger(this._element,Ge).defaultPrevented)return;this._element.classList.remove("show");const u=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,u)}_destroyElement(){this._element.remove(),Q.trigger(this._element,P),this.dispose()}static jQueryInterface(u){return this.each(function(){const m=k.getOrCreateInstance(this);if(typeof u=="string"){if(m[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);m[u](this)}})}}le(k,"close"),j(k);const M='[data-bs-toggle="button"]';class K extends at{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const m=K.getOrCreateInstance(this);u==="toggle"&&m[u]()})}}Q.on(document,"click.bs.button.data-api",M,y=>{y.preventDefault();const u=y.target.closest(M);K.getOrCreateInstance(u).toggle()}),j(K);const G=".bs.swipe",Y=`touchstart${G}`,he=`touchmove${G}`,ae=`touchend${G}`,oe=`pointerdown${G}`,te=`pointerup${G}`,Se={endCallback:null,leftCallback:null,rightCallback:null},de={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ee extends It{constructor(u,m){super(),this._element=u,u&&Ee.isSupported()&&(this._config=this._getConfig(m),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Se}static get DefaultType(){return de}static get NAME(){return"swipe"}dispose(){Q.off(this._element,G)}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),$(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const m=u/this._deltaX;this._deltaX=0,m&&$(m>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Q.on(this._element,oe,u=>this._start(u)),Q.on(this._element,te,u=>this._end(u)),this._element.classList.add("pointer-event")):(Q.on(this._element,Y,u=>this._start(u)),Q.on(this._element,he,u=>this._move(u)),Q.on(this._element,ae,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&(u.pointerType==="pen"||u.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Te=".bs.carousel",Ae=".data-api",Ne="ArrowLeft",ze="ArrowRight",Nt="next",Pt="prev",Gt="left",$t="right",$s=`slide${Te}`,ri=`slid${Te}`,Qt=`keydown${Te}`,Fn=`mouseenter${Te}`,Wo=`mouseleave${Te}`,hl=`dragstart${Te}`,tu=`load${Te}${Ae}`,nu=`click${Te}${Ae}`,ji="carousel",Bi="active",zo=".active",Fs=".carousel-item",su=zo+Fs,Ko={[Ne]:$t,[ze]:Gt},iu={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Hr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class oi extends at{constructor(u,m){super(u,m),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=W.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ji&&this.cycle()}static get Default(){return iu}static get DefaultType(){return Hr}static get NAME(){return"carousel"}next(){this._slide(Nt)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._slide(Pt)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Q.one(this._element,ri,()=>this.cycle()):this.cycle())}to(u){const m=this._getItems();if(u>m.length-1||u<0)return;if(this._isSliding)return void Q.one(this._element,ri,()=>this.to(u));const b=this._getItemIndex(this._getActive());if(b===u)return;const L=u>b?Nt:Pt;this._slide(L,m[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&Q.on(this._element,Qt,u=>this._keydown(u)),this._config.pause==="hover"&&(Q.on(this._element,Fn,()=>this.pause()),Q.on(this._element,Wo,()=>this._maybeEnableCycle())),this._config.touch&&Ee.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const m of W.find(".carousel-item img",this._element))Q.on(m,hl,b=>b.preventDefault());const u={leftCallback:()=>this._slide(this._directionToOrder(Gt)),rightCallback:()=>this._slide(this._directionToOrder($t)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Ee(this._element,u)}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const m=Ko[u.key];m&&(u.preventDefault(),this._slide(this._directionToOrder(m)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const m=W.findOne(zo,this._indicatorsElement);m.classList.remove(Bi),m.removeAttribute("aria-current");const b=W.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);b&&(b.classList.add(Bi),b.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const m=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=m||this._config.defaultInterval}_slide(u,m=null){if(this._isSliding)return;const b=this._getActive(),L=u===Nt,V=m||B(this._getItems(),b,L,this._config.wrap);if(V===b)return;const q=this._getItemIndex(V),Z=fe=>Q.trigger(this._element,fe,{relatedTarget:V,direction:this._orderToDirection(u),from:this._getItemIndex(b),to:q});if(Z($s).defaultPrevented||!b||!V)return;const ue=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(q),this._activeElement=V;const ye=L?"carousel-item-start":"carousel-item-end",be=L?"carousel-item-next":"carousel-item-prev";V.classList.add(be),E(V),b.classList.add(ye),V.classList.add(ye),this._queueCallback(()=>{V.classList.remove(ye,be),V.classList.add(Bi),b.classList.remove(Bi,be,ye),this._isSliding=!1,Z(ri)},b,this._isAnimated()),ue&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return W.findOne(su,this._element)}_getItems(){return W.find(Fs,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return N()?u===Gt?Pt:Nt:u===Gt?Nt:Pt}_orderToDirection(u){return N()?u===Pt?Gt:$t:u===Pt?$t:Gt}static jQueryInterface(u){return this.each(function(){const m=oi.getOrCreateInstance(this,u);if(typeof u!="number"){if(typeof u=="string"){if(m[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);m[u]()}}else m.to(u)})}}Q.on(document,nu,"[data-bs-slide], [data-bs-slide-to]",function(y){const u=W.getElementFromSelector(this);if(!u||!u.classList.contains(ji))return;y.preventDefault();const m=oi.getOrCreateInstance(u),b=this.getAttribute("data-bs-slide-to");return b?(m.to(b),void m._maybeEnableCycle()):At.getDataAttribute(this,"slide")==="next"?(m.next(),void m._maybeEnableCycle()):(m.prev(),void m._maybeEnableCycle())}),Q.on(window,tu,()=>{const y=W.find('[data-bs-ride="carousel"]');for(const u of y)oi.getOrCreateInstance(u)}),j(oi);const Ft=".bs.collapse",ru=`show${Ft}`,qr=`shown${Ft}`,Wr=`hide${Ft}`,Kd=`hidden${Ft}`,Gd=`click${Ft}.data-api`,Us="show",Hi="collapse",Go="collapsing",Qo=`:scope .${Hi} .${Hi}`,Yo='[data-bs-toggle="collapse"]',dl={parent:null,toggle:!0},Xo={parent:"(null|element)",toggle:"boolean"};class Sn extends at{constructor(u,m){super(u,m),this._isTransitioning=!1,this._triggerArray=[];const b=W.find(Yo);for(const L of b){const V=W.getSelectorFromElement(L),q=W.find(V).filter(Z=>Z===this._element);V!==null&&q.length&&this._triggerArray.push(L)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return dl}static get DefaultType(){return Xo}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(L=>L!==this._element).map(L=>Sn.getOrCreateInstance(L,{toggle:!1}))),u.length&&u[0]._isTransitioning||Q.trigger(this._element,ru).defaultPrevented)return;for(const L of u)L.hide();const m=this._getDimension();this._element.classList.remove(Hi),this._element.classList.add(Go),this._element.style[m]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const b=`scroll${m[0].toUpperCase()+m.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Go),this._element.classList.add(Hi,Us),this._element.style[m]="",Q.trigger(this._element,qr)},this._element,!0),this._element.style[m]=`${this._element[b]}px`}hide(){if(this._isTransitioning||!this._isShown()||Q.trigger(this._element,Wr).defaultPrevented)return;const u=this._getDimension();this._element.style[u]=`${this._element.getBoundingClientRect()[u]}px`,E(this._element),this._element.classList.add(Go),this._element.classList.remove(Hi,Us);for(const m of this._triggerArray){const b=W.getElementFromSelector(m);b&&!this._isShown(b)&&this._addAriaAndCollapsedClass([m],!1)}this._isTransitioning=!0,this._element.style[u]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Go),this._element.classList.add(Hi),Q.trigger(this._element,Kd)},this._element,!0)}_isShown(u=this._element){return u.classList.contains(Us)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=c(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(Yo);for(const m of u){const b=W.getElementFromSelector(m);b&&this._addAriaAndCollapsedClass([m],this._isShown(b))}}_getFirstLevelChildren(u){const m=W.find(Qo,this._config.parent);return W.find(u,this._config.parent).filter(b=>!m.includes(b))}_addAriaAndCollapsedClass(u,m){if(u.length)for(const b of u)b.classList.toggle("collapsed",!m),b.setAttribute("aria-expanded",m)}static jQueryInterface(u){const m={};return typeof u=="string"&&/show|hide/.test(u)&&(m.toggle=!1),this.each(function(){const b=Sn.getOrCreateInstance(this,m);if(typeof u=="string"){if(b[u]===void 0)throw new TypeError(`No method named "${u}"`);b[u]()}})}}Q.on(document,Gd,Yo,function(y){(y.target.tagName==="A"||y.delegateTarget&&y.delegateTarget.tagName==="A")&&y.preventDefault();for(const u of W.getMultipleElementsFromSelector(this))Sn.getOrCreateInstance(u,{toggle:!1}).toggle()}),j(Sn);var nn="top",_n="bottom",dn="right",Yt="left",zr="auto",ai=[nn,_n,dn,Yt],li="start",Is="end",fl="clippingParents",Kr="viewport",cs="popper",js="reference",Gr=ai.reduce(function(y,u){return y.concat([u+"-"+li,u+"-"+Is])},[]),pl=[].concat(ai,[zr]).reduce(function(y,u){return y.concat([u,u+"-"+li,u+"-"+Is])},[]),ml="beforeRead",gl="read",_l="afterRead",Jo="beforeMain",Zo="main",vl="afterMain",yl="beforeWrite",ou="write",au="afterWrite",El=[ml,gl,_l,Jo,Zo,vl,yl,ou,au];function Kn(y){return y?(y.nodeName||"").toLowerCase():null}function Cn(y){if(y==null)return window;if(y.toString()!=="[object Window]"){var u=y.ownerDocument;return u&&u.defaultView||window}return y}function Rn(y){return y instanceof Cn(y).Element||y instanceof Element}function Lt(y){return y instanceof Cn(y).HTMLElement||y instanceof HTMLElement}function qi(y){return typeof ShadowRoot<"u"&&(y instanceof Cn(y).ShadowRoot||y instanceof ShadowRoot)}const Wi={name:"applyStyles",enabled:!0,phase:"write",fn:function(y){var u=y.state;Object.keys(u.elements).forEach(function(m){var b=u.styles[m]||{},L=u.attributes[m]||{},V=u.elements[m];Lt(V)&&Kn(V)&&(Object.assign(V.style,b),Object.keys(L).forEach(function(q){var Z=L[q];Z===!1?V.removeAttribute(q):V.setAttribute(q,Z===!0?"":Z)}))})},effect:function(y){var u=y.state,m={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,m.popper),u.styles=m,u.elements.arrow&&Object.assign(u.elements.arrow.style,m.arrow),function(){Object.keys(u.elements).forEach(function(b){var L=u.elements[b],V=u.attributes[b]||{},q=Object.keys(u.styles.hasOwnProperty(b)?u.styles[b]:m[b]).reduce(function(Z,ue){return Z[ue]="",Z},{});Lt(L)&&Kn(L)&&(Object.assign(L.style,q),Object.keys(V).forEach(function(Z){L.removeAttribute(Z)}))})}},requires:["computeStyles"]};function Gn(y){return y.split("-")[0]}var nt=Math.max,ci=Math.min,us=Math.round;function ui(){var y=navigator.userAgentData;return y!=null&&y.brands&&Array.isArray(y.brands)?y.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function lu(){return!/^((?!chrome|android).)*safari/i.test(ui())}function hi(y,u,m){u===void 0&&(u=!1),m===void 0&&(m=!1);var b=y.getBoundingClientRect(),L=1,V=1;u&&Lt(y)&&(L=y.offsetWidth>0&&us(b.width)/y.offsetWidth||1,V=y.offsetHeight>0&&us(b.height)/y.offsetHeight||1);var q=(Rn(y)?Cn(y):window).visualViewport,Z=!lu()&&m,ue=(b.left+(Z&&q?q.offsetLeft:0))/L,ye=(b.top+(Z&&q?q.offsetTop:0))/V,be=b.width/L,fe=b.height/V;return{width:be,height:fe,top:ye,right:ue+be,bottom:ye+fe,left:ue,x:ue,y:ye}}function bl(y){var u=hi(y),m=y.offsetWidth,b=y.offsetHeight;return Math.abs(u.width-m)<=1&&(m=u.width),Math.abs(u.height-b)<=1&&(b=u.height),{x:y.offsetLeft,y:y.offsetTop,width:m,height:b}}function cu(y,u){var m=u.getRootNode&&u.getRootNode();if(y.contains(u))return!0;if(m&&qi(m)){var b=u;do{if(b&&y.isSameNode(b))return!0;b=b.parentNode||b.host}while(b)}return!1}function Ss(y){return Cn(y).getComputedStyle(y)}function Qd(y){return["table","td","th"].indexOf(Kn(y))>=0}function Un(y){return((Rn(y)?y.ownerDocument:y.document)||window.document).documentElement}function Qn(y){return Kn(y)==="html"?y:y.assignedSlot||y.parentNode||(qi(y)?y.host:null)||Un(y)}function wl(y){return Lt(y)&&Ss(y).position!=="fixed"?y.offsetParent:null}function zi(y){for(var u=Cn(y),m=wl(y);m&&Qd(m)&&Ss(m).position==="static";)m=wl(m);return m&&(Kn(m)==="html"||Kn(m)==="body"&&Ss(m).position==="static")?u:m||function(b){var L=/firefox/i.test(ui());if(/Trident/i.test(ui())&&Lt(b)&&Ss(b).position==="fixed")return null;var V=Qn(b);for(qi(V)&&(V=V.host);Lt(V)&&["html","body"].indexOf(Kn(V))<0;){var q=Ss(V);if(q.transform!=="none"||q.perspective!=="none"||q.contain==="paint"||["transform","perspective"].indexOf(q.willChange)!==-1||L&&q.willChange==="filter"||L&&q.filter&&q.filter!=="none")return V;V=V.parentNode}return null}(y)||u}function ea(y){return["top","bottom"].indexOf(y)>=0?"x":"y"}function hs(y,u,m){return nt(y,ci(u,m))}function uu(y){return Object.assign({},{top:0,right:0,bottom:0,left:0},y)}function hu(y,u){return u.reduce(function(m,b){return m[b]=y,m},{})}const du={name:"arrow",enabled:!0,phase:"main",fn:function(y){var u,m=y.state,b=y.name,L=y.options,V=m.elements.arrow,q=m.modifiersData.popperOffsets,Z=Gn(m.placement),ue=ea(Z),ye=[Yt,dn].indexOf(Z)>=0?"height":"width";if(V&&q){var be=function(_t,mt){return uu(typeof(_t=typeof _t=="function"?_t(Object.assign({},mt.rects,{placement:mt.placement})):_t)!="number"?_t:hu(_t,ai))}(L.padding,m),fe=bl(V),qe=ue==="y"?nn:Yt,Oe=ue==="y"?_n:dn,$e=m.rects.reference[ye]+m.rects.reference[ue]-q[ue]-m.rects.popper[ye],Ve=q[ue]-m.rects.reference[ue],Fe=zi(V),gt=Fe?ue==="y"?Fe.clientHeight||0:Fe.clientWidth||0:0,wt=$e/2-Ve/2,Qe=be[qe],lt=gt-fe[ye]-be[Oe],We=gt/2-fe[ye]/2+wt,Je=hs(Qe,We,lt),pt=ue;m.modifiersData[b]=((u={})[pt]=Je,u.centerOffset=Je-We,u)}},effect:function(y){var u=y.state,m=y.options.element,b=m===void 0?"[data-popper-arrow]":m;b!=null&&(typeof b!="string"||(b=u.elements.popper.querySelector(b)))&&cu(u.elements.popper,b)&&(u.elements.arrow=b)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Pn(y){return y.split("-")[1]}var Yd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fu(y){var u,m=y.popper,b=y.popperRect,L=y.placement,V=y.variation,q=y.offsets,Z=y.position,ue=y.gpuAcceleration,ye=y.adaptive,be=y.roundOffsets,fe=y.isFixed,qe=q.x,Oe=qe===void 0?0:qe,$e=q.y,Ve=$e===void 0?0:$e,Fe=typeof be=="function"?be({x:Oe,y:Ve}):{x:Oe,y:Ve};Oe=Fe.x,Ve=Fe.y;var gt=q.hasOwnProperty("x"),wt=q.hasOwnProperty("y"),Qe=Yt,lt=nn,We=window;if(ye){var Je=zi(m),pt="clientHeight",_t="clientWidth";Je===Cn(m)&&Ss(Je=Un(m)).position!=="static"&&Z==="absolute"&&(pt="scrollHeight",_t="scrollWidth"),(L===nn||(L===Yt||L===dn)&&V===Is)&&(lt=_n,Ve-=(fe&&Je===We&&We.visualViewport?We.visualViewport.height:Je[pt])-b.height,Ve*=ue?1:-1),L!==Yt&&(L!==nn&&L!==_n||V!==Is)||(Qe=dn,Oe-=(fe&&Je===We&&We.visualViewport?We.visualViewport.width:Je[_t])-b.width,Oe*=ue?1:-1)}var mt,Ut=Object.assign({position:Z},ye&&Yd),Yn=be===!0?function(Rs,kn){var fs=Rs.x,ps=Rs.y,Vt=kn.devicePixelRatio||1;return{x:us(fs*Vt)/Vt||0,y:us(ps*Vt)/Vt||0}}({x:Oe,y:Ve},Cn(m)):{x:Oe,y:Ve};return Oe=Yn.x,Ve=Yn.y,ue?Object.assign({},Ut,((mt={})[lt]=wt?"0":"",mt[Qe]=gt?"0":"",mt.transform=(We.devicePixelRatio||1)<=1?"translate("+Oe+"px, "+Ve+"px)":"translate3d("+Oe+"px, "+Ve+"px, 0)",mt)):Object.assign({},Ut,((u={})[lt]=wt?Ve+"px":"",u[Qe]=gt?Oe+"px":"",u.transform="",u))}const Ki={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(y){var u=y.state,m=y.options,b=m.gpuAcceleration,L=b===void 0||b,V=m.adaptive,q=V===void 0||V,Z=m.roundOffsets,ue=Z===void 0||Z,ye={placement:Gn(u.placement),variation:Pn(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:L,isFixed:u.options.strategy==="fixed"};u.modifiersData.popperOffsets!=null&&(u.styles.popper=Object.assign({},u.styles.popper,fu(Object.assign({},ye,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:q,roundOffsets:ue})))),u.modifiersData.arrow!=null&&(u.styles.arrow=Object.assign({},u.styles.arrow,fu(Object.assign({},ye,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ue})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}};var di={passive:!0};const ta={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(y){var u=y.state,m=y.instance,b=y.options,L=b.scroll,V=L===void 0||L,q=b.resize,Z=q===void 0||q,ue=Cn(u.elements.popper),ye=[].concat(u.scrollParents.reference,u.scrollParents.popper);return V&&ye.forEach(function(be){be.addEventListener("scroll",m.update,di)}),Z&&ue.addEventListener("resize",m.update,di),function(){V&&ye.forEach(function(be){be.removeEventListener("scroll",m.update,di)}),Z&&ue.removeEventListener("resize",m.update,di)}},data:{}};var Qr={left:"right",right:"left",bottom:"top",top:"bottom"};function Bs(y){return y.replace(/left|right|bottom|top/g,function(u){return Qr[u]})}var pu={start:"end",end:"start"};function na(y){return y.replace(/start|end/g,function(u){return pu[u]})}function bt(y){var u=Cn(y);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function Tl(y){return hi(Un(y)).left+bt(y).scrollLeft}function Al(y){var u=Ss(y),m=u.overflow,b=u.overflowX,L=u.overflowY;return/auto|scroll|overlay|hidden/.test(m+L+b)}function Il(y){return["html","body","#document"].indexOf(Kn(y))>=0?y.ownerDocument.body:Lt(y)&&Al(y)?y:Il(Qn(y))}function Gi(y,u){var m;u===void 0&&(u=[]);var b=Il(y),L=b===((m=y.ownerDocument)==null?void 0:m.body),V=Cn(b),q=L?[V].concat(V.visualViewport||[],Al(b)?b:[]):b,Z=u.concat(q);return L?Z:Z.concat(Gi(Qn(q)))}function sa(y){return Object.assign({},y,{left:y.x,top:y.y,right:y.x+y.width,bottom:y.y+y.height})}function Yr(y,u,m){return u===Kr?sa(function(b,L){var V=Cn(b),q=Un(b),Z=V.visualViewport,ue=q.clientWidth,ye=q.clientHeight,be=0,fe=0;if(Z){ue=Z.width,ye=Z.height;var qe=lu();(qe||!qe&&L==="fixed")&&(be=Z.offsetLeft,fe=Z.offsetTop)}return{width:ue,height:ye,x:be+Tl(b),y:fe}}(y,m)):Rn(u)?function(b,L){var V=hi(b,!1,L==="fixed");return V.top=V.top+b.clientTop,V.left=V.left+b.clientLeft,V.bottom=V.top+b.clientHeight,V.right=V.left+b.clientWidth,V.width=b.clientWidth,V.height=b.clientHeight,V.x=V.left,V.y=V.top,V}(u,m):sa(function(b){var L,V=Un(b),q=bt(b),Z=(L=b.ownerDocument)==null?void 0:L.body,ue=nt(V.scrollWidth,V.clientWidth,Z?Z.scrollWidth:0,Z?Z.clientWidth:0),ye=nt(V.scrollHeight,V.clientHeight,Z?Z.scrollHeight:0,Z?Z.clientHeight:0),be=-q.scrollLeft+Tl(b),fe=-q.scrollTop;return Ss(Z||V).direction==="rtl"&&(be+=nt(V.clientWidth,Z?Z.clientWidth:0)-ue),{width:ue,height:ye,x:be,y:fe}}(Un(y)))}function Sl(y){var u,m=y.reference,b=y.element,L=y.placement,V=L?Gn(L):null,q=L?Pn(L):null,Z=m.x+m.width/2-b.width/2,ue=m.y+m.height/2-b.height/2;switch(V){case nn:u={x:Z,y:m.y-b.height};break;case _n:u={x:Z,y:m.y+m.height};break;case dn:u={x:m.x+m.width,y:ue};break;case Yt:u={x:m.x-b.width,y:ue};break;default:u={x:m.x,y:m.y}}var ye=V?ea(V):null;if(ye!=null){var be=ye==="y"?"height":"width";switch(q){case li:u[ye]=u[ye]-(m[be]/2-b[be]/2);break;case Is:u[ye]=u[ye]+(m[be]/2-b[be]/2)}}return u}function vn(y,u){u===void 0&&(u={});var m=u,b=m.placement,L=b===void 0?y.placement:b,V=m.strategy,q=V===void 0?y.strategy:V,Z=m.boundary,ue=Z===void 0?fl:Z,ye=m.rootBoundary,be=ye===void 0?Kr:ye,fe=m.elementContext,qe=fe===void 0?cs:fe,Oe=m.altBoundary,$e=Oe!==void 0&&Oe,Ve=m.padding,Fe=Ve===void 0?0:Ve,gt=uu(typeof Fe!="number"?Fe:hu(Fe,ai)),wt=qe===cs?js:cs,Qe=y.rects.popper,lt=y.elements[$e?wt:qe],We=function(kn,fs,ps,Vt){var qs=fs==="clippingParents"?function(vt){var Dn=Gi(Qn(vt)),ms=["absolute","fixed"].indexOf(Ss(vt).position)>=0&&Lt(vt)?zi(vt):vt;return Rn(ms)?Dn.filter(function(Zi){return Rn(Zi)&&cu(Zi,ms)&&Kn(Zi)!=="body"}):[]}(kn):[].concat(fs),Ws=[].concat(qs,[ps]),ua=Ws[0],an=Ws.reduce(function(vt,Dn){var ms=Yr(kn,Dn,Vt);return vt.top=nt(ms.top,vt.top),vt.right=ci(ms.right,vt.right),vt.bottom=ci(ms.bottom,vt.bottom),vt.left=nt(ms.left,vt.left),vt},Yr(kn,ua,Vt));return an.width=an.right-an.left,an.height=an.bottom-an.top,an.x=an.left,an.y=an.top,an}(Rn(lt)?lt:lt.contextElement||Un(y.elements.popper),ue,be,q),Je=hi(y.elements.reference),pt=Sl({reference:Je,element:Qe,placement:L}),_t=sa(Object.assign({},Qe,pt)),mt=qe===cs?_t:Je,Ut={top:We.top-mt.top+gt.top,bottom:mt.bottom-We.bottom+gt.bottom,left:We.left-mt.left+gt.left,right:mt.right-We.right+gt.right},Yn=y.modifiersData.offset;if(qe===cs&&Yn){var Rs=Yn[L];Object.keys(Ut).forEach(function(kn){var fs=[dn,_n].indexOf(kn)>=0?1:-1,ps=[nn,_n].indexOf(kn)>=0?"y":"x";Ut[kn]+=Rs[ps]*fs})}return Ut}function mu(y,u){u===void 0&&(u={});var m=u,b=m.placement,L=m.boundary,V=m.rootBoundary,q=m.padding,Z=m.flipVariations,ue=m.allowedAutoPlacements,ye=ue===void 0?pl:ue,be=Pn(b),fe=be?Z?Gr:Gr.filter(function($e){return Pn($e)===be}):ai,qe=fe.filter(function($e){return ye.indexOf($e)>=0});qe.length===0&&(qe=fe);var Oe=qe.reduce(function($e,Ve){return $e[Ve]=vn(y,{placement:Ve,boundary:L,rootBoundary:V,padding:q})[Gn(Ve)],$e},{});return Object.keys(Oe).sort(function($e,Ve){return Oe[$e]-Oe[Ve]})}const gu={name:"flip",enabled:!0,phase:"main",fn:function(y){var u=y.state,m=y.options,b=y.name;if(!u.modifiersData[b]._skip){for(var L=m.mainAxis,V=L===void 0||L,q=m.altAxis,Z=q===void 0||q,ue=m.fallbackPlacements,ye=m.padding,be=m.boundary,fe=m.rootBoundary,qe=m.altBoundary,Oe=m.flipVariations,$e=Oe===void 0||Oe,Ve=m.allowedAutoPlacements,Fe=u.options.placement,gt=Gn(Fe),wt=ue||(gt!==Fe&&$e?function(vt){if(Gn(vt)===zr)return[];var Dn=Bs(vt);return[na(vt),Dn,na(Dn)]}(Fe):[Bs(Fe)]),Qe=[Fe].concat(wt).reduce(function(vt,Dn){return vt.concat(Gn(Dn)===zr?mu(u,{placement:Dn,boundary:be,rootBoundary:fe,padding:ye,flipVariations:$e,allowedAutoPlacements:Ve}):Dn)},[]),lt=u.rects.reference,We=u.rects.popper,Je=new Map,pt=!0,_t=Qe[0],mt=0;mt<Qe.length;mt++){var Ut=Qe[mt],Yn=Gn(Ut),Rs=Pn(Ut)===li,kn=[nn,_n].indexOf(Yn)>=0,fs=kn?"width":"height",ps=vn(u,{placement:Ut,boundary:be,rootBoundary:fe,altBoundary:qe,padding:ye}),Vt=kn?Rs?dn:Yt:Rs?_n:nn;lt[fs]>We[fs]&&(Vt=Bs(Vt));var qs=Bs(Vt),Ws=[];if(V&&Ws.push(ps[Yn]<=0),Z&&Ws.push(ps[Vt]<=0,ps[qs]<=0),Ws.every(function(vt){return vt})){_t=Ut,pt=!1;break}Je.set(Ut,Ws)}if(pt)for(var ua=function(vt){var Dn=Qe.find(function(ms){var Zi=Je.get(ms);if(Zi)return Zi.slice(0,vt).every(function(Cu){return Cu})});if(Dn)return _t=Dn,"break"},an=$e?3:1;an>0&&ua(an)!=="break";an--);u.placement!==_t&&(u.modifiersData[b]._skip=!0,u.placement=_t,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Qi(y,u,m){return m===void 0&&(m={x:0,y:0}),{top:y.top-u.height-m.y,right:y.right-u.width+m.x,bottom:y.bottom-u.height+m.y,left:y.left-u.width-m.x}}function Cl(y){return[nn,dn,_n,Yt].some(function(u){return y[u]>=0})}const ia={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(y){var u=y.state,m=y.name,b=u.rects.reference,L=u.rects.popper,V=u.modifiersData.preventOverflow,q=vn(u,{elementContext:"reference"}),Z=vn(u,{altBoundary:!0}),ue=Qi(q,b),ye=Qi(Z,L,V),be=Cl(ue),fe=Cl(ye);u.modifiersData[m]={referenceClippingOffsets:ue,popperEscapeOffsets:ye,isReferenceHidden:be,hasPopperEscaped:fe},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":be,"data-popper-escaped":fe})}},Xr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(y){var u=y.state,m=y.options,b=y.name,L=m.offset,V=L===void 0?[0,0]:L,q=pl.reduce(function(be,fe){return be[fe]=function(qe,Oe,$e){var Ve=Gn(qe),Fe=[Yt,nn].indexOf(Ve)>=0?-1:1,gt=typeof $e=="function"?$e(Object.assign({},Oe,{placement:qe})):$e,wt=gt[0],Qe=gt[1];return wt=wt||0,Qe=(Qe||0)*Fe,[Yt,dn].indexOf(Ve)>=0?{x:Qe,y:wt}:{x:wt,y:Qe}}(fe,u.rects,V),be},{}),Z=q[u.placement],ue=Z.x,ye=Z.y;u.modifiersData.popperOffsets!=null&&(u.modifiersData.popperOffsets.x+=ue,u.modifiersData.popperOffsets.y+=ye),u.modifiersData[b]=q}},ra={name:"popperOffsets",enabled:!0,phase:"read",fn:function(y){var u=y.state,m=y.name;u.modifiersData[m]=Sl({reference:u.rects.reference,element:u.rects.popper,placement:u.placement})},data:{}},Jr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(y){var u=y.state,m=y.options,b=y.name,L=m.mainAxis,V=L===void 0||L,q=m.altAxis,Z=q!==void 0&&q,ue=m.boundary,ye=m.rootBoundary,be=m.altBoundary,fe=m.padding,qe=m.tether,Oe=qe===void 0||qe,$e=m.tetherOffset,Ve=$e===void 0?0:$e,Fe=vn(u,{boundary:ue,rootBoundary:ye,padding:fe,altBoundary:be}),gt=Gn(u.placement),wt=Pn(u.placement),Qe=!wt,lt=ea(gt),We=lt==="x"?"y":"x",Je=u.modifiersData.popperOffsets,pt=u.rects.reference,_t=u.rects.popper,mt=typeof Ve=="function"?Ve(Object.assign({},u.rects,{placement:u.placement})):Ve,Ut=typeof mt=="number"?{mainAxis:mt,altAxis:mt}:Object.assign({mainAxis:0,altAxis:0},mt),Yn=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,Rs={x:0,y:0};if(Je){if(V){var kn,fs=lt==="y"?nn:Yt,ps=lt==="y"?_n:dn,Vt=lt==="y"?"height":"width",qs=Je[lt],Ws=qs+Fe[fs],ua=qs-Fe[ps],an=Oe?-_t[Vt]/2:0,vt=wt===li?pt[Vt]:_t[Vt],Dn=wt===li?-_t[Vt]:-pt[Vt],ms=u.elements.arrow,Zi=Oe&&ms?bl(ms):{width:0,height:0},Cu=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},h_=Cu[fs],d_=Cu[ps],Ru=hs(0,pt[Vt],Zi[Vt]),cS=Qe?pt[Vt]/2-an-Ru-h_-Ut.mainAxis:vt-Ru-h_-Ut.mainAxis,uS=Qe?-pt[Vt]/2+an+Ru+d_+Ut.mainAxis:Dn+Ru+d_+Ut.mainAxis,cf=u.elements.arrow&&zi(u.elements.arrow),hS=cf?lt==="y"?cf.clientTop||0:cf.clientLeft||0:0,f_=(kn=Yn==null?void 0:Yn[lt])!=null?kn:0,dS=qs+uS-f_,p_=hs(Oe?ci(Ws,qs+cS-f_-hS):Ws,qs,Oe?nt(ua,dS):ua);Je[lt]=p_,Rs[lt]=p_-qs}if(Z){var m_,fS=lt==="x"?nn:Yt,pS=lt==="x"?_n:dn,ao=Je[We],Pu=We==="y"?"height":"width",g_=ao+Fe[fS],__=ao-Fe[pS],uf=[nn,Yt].indexOf(gt)!==-1,v_=(m_=Yn==null?void 0:Yn[We])!=null?m_:0,y_=uf?g_:ao-pt[Pu]-_t[Pu]-v_+Ut.altAxis,E_=uf?ao+pt[Pu]+_t[Pu]-v_-Ut.altAxis:__,b_=Oe&&uf?function(mS,gS,hf){var w_=hs(mS,gS,hf);return w_>hf?hf:w_}(y_,ao,E_):hs(Oe?y_:g_,ao,Oe?E_:__);Je[We]=b_,Rs[We]=b_-ao}u.modifiersData[b]=Rs}},requiresIfExists:["offset"]};function Xd(y,u,m){m===void 0&&(m=!1);var b,L,V=Lt(u),q=Lt(u)&&function(fe){var qe=fe.getBoundingClientRect(),Oe=us(qe.width)/fe.offsetWidth||1,$e=us(qe.height)/fe.offsetHeight||1;return Oe!==1||$e!==1}(u),Z=Un(u),ue=hi(y,q,m),ye={scrollLeft:0,scrollTop:0},be={x:0,y:0};return(V||!V&&!m)&&((Kn(u)!=="body"||Al(Z))&&(ye=(b=u)!==Cn(b)&&Lt(b)?{scrollLeft:(L=b).scrollLeft,scrollTop:L.scrollTop}:bt(b)),Lt(u)?((be=hi(u,!0)).x+=u.clientLeft,be.y+=u.clientTop):Z&&(be.x=Tl(Z))),{x:ue.left+ye.scrollLeft-be.x,y:ue.top+ye.scrollTop-be.y,width:ue.width,height:ue.height}}function _u(y){var u=new Map,m=new Set,b=[];function L(V){m.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function(q){if(!m.has(q)){var Z=u.get(q);Z&&L(Z)}}),b.push(V)}return y.forEach(function(V){u.set(V.name,V)}),y.forEach(function(V){m.has(V.name)||L(V)}),b}var Yi={placement:"bottom",modifiers:[],strategy:"absolute"};function Rl(){for(var y=arguments.length,u=new Array(y),m=0;m<y;m++)u[m]=arguments[m];return!u.some(function(b){return!(b&&typeof b.getBoundingClientRect=="function")})}function Zr(y){y===void 0&&(y={});var u=y,m=u.defaultModifiers,b=m===void 0?[]:m,L=u.defaultOptions,V=L===void 0?Yi:L;return function(q,Z,ue){ue===void 0&&(ue=V);var ye,be,fe={placement:"bottom",orderedModifiers:[],options:Object.assign({},Yi,V),modifiersData:{},elements:{reference:q,popper:Z},attributes:{},styles:{}},qe=[],Oe=!1,$e={state:fe,setOptions:function(Fe){var gt=typeof Fe=="function"?Fe(fe.options):Fe;Ve(),fe.options=Object.assign({},V,fe.options,gt),fe.scrollParents={reference:Rn(q)?Gi(q):q.contextElement?Gi(q.contextElement):[],popper:Gi(Z)};var wt,Qe,lt=function(We){var Je=_u(We);return El.reduce(function(pt,_t){return pt.concat(Je.filter(function(mt){return mt.phase===_t}))},[])}((wt=[].concat(b,fe.options.modifiers),Qe=wt.reduce(function(We,Je){var pt=We[Je.name];return We[Je.name]=pt?Object.assign({},pt,Je,{options:Object.assign({},pt.options,Je.options),data:Object.assign({},pt.data,Je.data)}):Je,We},{}),Object.keys(Qe).map(function(We){return Qe[We]})));return fe.orderedModifiers=lt.filter(function(We){return We.enabled}),fe.orderedModifiers.forEach(function(We){var Je=We.name,pt=We.options,_t=pt===void 0?{}:pt,mt=We.effect;if(typeof mt=="function"){var Ut=mt({state:fe,name:Je,instance:$e,options:_t});qe.push(Ut||function(){})}}),$e.update()},forceUpdate:function(){if(!Oe){var Fe=fe.elements,gt=Fe.reference,wt=Fe.popper;if(Rl(gt,wt)){fe.rects={reference:Xd(gt,zi(wt),fe.options.strategy==="fixed"),popper:bl(wt)},fe.reset=!1,fe.placement=fe.options.placement,fe.orderedModifiers.forEach(function(mt){return fe.modifiersData[mt.name]=Object.assign({},mt.data)});for(var Qe=0;Qe<fe.orderedModifiers.length;Qe++)if(fe.reset!==!0){var lt=fe.orderedModifiers[Qe],We=lt.fn,Je=lt.options,pt=Je===void 0?{}:Je,_t=lt.name;typeof We=="function"&&(fe=We({state:fe,options:pt,name:_t,instance:$e})||fe)}else fe.reset=!1,Qe=-1}}},update:(ye=function(){return new Promise(function(Fe){$e.forceUpdate(),Fe(fe)})},function(){return be||(be=new Promise(function(Fe){Promise.resolve().then(function(){be=void 0,Fe(ye())})})),be}),destroy:function(){Ve(),Oe=!0}};if(!Rl(q,Z))return $e;function Ve(){qe.forEach(function(Fe){return Fe()}),qe=[]}return $e.setOptions(ue).then(function(Fe){!Oe&&ue.onFirstUpdate&&ue.onFirstUpdate(Fe)}),$e}}var Pl=Zr(),Ol=Zr({defaultModifiers:[ta,ra,Ki,Wi]}),oa=Zr({defaultModifiers:[ta,ra,Ki,Wi,Xr,gu,Jr,du,ia]});const eo=Object.freeze(Object.defineProperty({__proto__:null,afterMain:vl,afterRead:_l,afterWrite:au,applyStyles:Wi,arrow:du,auto:zr,basePlacements:ai,beforeMain:Jo,beforeRead:ml,beforeWrite:yl,bottom:_n,clippingParents:fl,computeStyles:Ki,createPopper:oa,createPopperBase:Pl,createPopperLite:Ol,detectOverflow:vn,end:Is,eventListeners:ta,flip:gu,hide:ia,left:Yt,main:Zo,modifierPhases:El,offset:Xr,placements:pl,popper:cs,popperGenerator:Zr,popperOffsets:ra,preventOverflow:Jr,read:gl,reference:js,right:dn,start:li,top:nn,variationPlacements:Gr,viewport:Kr,write:ou},Symbol.toStringTag,{value:"Module"})),kl="dropdown",Hs=".bs.dropdown",Cs=".data-api",vu="ArrowUp",Dl="ArrowDown",yu=`hide${Hs}`,Eu=`hidden${Hs}`,aa=`show${Hs}`,On=`shown${Hs}`,xl=`click${Hs}${Cs}`,Nl=`keydown${Hs}${Cs}`,Xi=`keyup${Hs}${Cs}`,a="show",f='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',_=`${f}.${a}`,w=".dropdown-menu",F=N()?"top-end":"top-start",H=N()?"top-start":"top-end",ce=N()?"bottom-end":"bottom-start",ft=N()?"bottom-start":"bottom-end",Xt=N()?"left-start":"right-start",Ze=N()?"right-start":"left-start",sn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},rn={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class on extends at{constructor(u,m){super(u,m),this._popper=null,this._parent=this._element.parentNode,this._menu=W.next(this._element,w)[0]||W.prev(this._element,w)[0]||W.findOne(w,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return sn}static get DefaultType(){return rn}static get NAME(){return kl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(d(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!Q.trigger(this._element,aa,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const m of[].concat(...document.body.children))Q.on(m,"mouseover",g);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(a),this._element.classList.add(a),Q.trigger(this._element,On,u)}}hide(){if(d(this._element)||!this._isShown())return;const u={relatedTarget:this._element};this._completeHide(u)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!Q.trigger(this._element,yu,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))Q.off(m,"mouseover",g);this._popper&&this._popper.destroy(),this._menu.classList.remove(a),this._element.classList.remove(a),this._element.setAttribute("aria-expanded","false"),At.removeDataAttribute(this._menu,"popper"),Q.trigger(this._element,Eu,u),this._element.focus()}}_getConfig(u){if(typeof(u=super._getConfig(u)).reference=="object"&&!l(u.reference)&&typeof u.reference.getBoundingClientRect!="function")throw new TypeError(`${kl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(eo===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let u=this._element;this._config.reference==="parent"?u=this._parent:l(this._config.reference)?u=c(this._config.reference):typeof this._config.reference=="object"&&(u=this._config.reference);const m=this._getPopperConfig();this._popper=oa(u,this._menu,m)}_isShown(){return this._menu.classList.contains(a)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return Xt;if(u.classList.contains("dropstart"))return Ze;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const m=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return u.classList.contains("dropup")?m?H:F:m?ft:ce}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(m=>Number.parseInt(m,10)):typeof u=="function"?m=>u(m,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(At.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...$(this._config.popperConfig,[void 0,u])}}_selectMenuItem({key:u,target:m}){const b=W.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(L=>h(L));b.length&&B(b,m,u===Dl,!b.includes(m)).focus()}static jQueryInterface(u){return this.each(function(){const m=on.getOrCreateInstance(this,u);if(typeof u=="string"){if(m[u]===void 0)throw new TypeError(`No method named "${u}"`);m[u]()}})}static clearMenus(u){if(u.button===2||u.type==="keyup"&&u.key!=="Tab")return;const m=W.find(_);for(const b of m){const L=on.getInstance(b);if(!L||L._config.autoClose===!1)continue;const V=u.composedPath(),q=V.includes(L._menu);if(V.includes(L._element)||L._config.autoClose==="inside"&&!q||L._config.autoClose==="outside"&&q||L._menu.contains(u.target)&&(u.type==="keyup"&&u.key==="Tab"||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const Z={relatedTarget:L._element};u.type==="click"&&(Z.clickEvent=u),L._completeHide(Z)}}static dataApiKeydownHandler(u){const m=/input|textarea/i.test(u.target.tagName),b=u.key==="Escape",L=[vu,Dl].includes(u.key);if(!L&&!b||m&&!b)return;u.preventDefault();const V=this.matches(f)?this:W.prev(this,f)[0]||W.next(this,f)[0]||W.findOne(f,u.delegateTarget.parentNode),q=on.getOrCreateInstance(V);if(L)return u.stopPropagation(),q.show(),void q._selectMenuItem(u);q._isShown()&&(u.stopPropagation(),q.hide(),V.focus())}}Q.on(document,Nl,f,on.dataApiKeydownHandler),Q.on(document,Nl,w,on.dataApiKeydownHandler),Q.on(document,xl,on.clearMenus),Q.on(document,Xi,on.clearMenus),Q.on(document,xl,f,function(y){y.preventDefault(),on.getOrCreateInstance(this).toggle()}),j(on);const jn="backdrop",to="show",la=`mousedown.bs.${jn}`,XI={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},JI={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Vg extends It{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return XI}static get DefaultType(){return JI}static get NAME(){return jn}show(u){if(!this._config.isVisible)return void $(u);this._append();const m=this._getElement();this._config.isAnimated&&E(m),m.classList.add(to),this._emulateAnimation(()=>{$(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove(to),this._emulateAnimation(()=>{this.dispose(),$(u)})):$(u)}dispose(){this._isAppended&&(Q.off(this._element,la),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=c(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),Q.on(u,la,()=>{$(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){U(u,this._getElement(),this._config.isAnimated)}}const bu=".bs.focustrap",ZI=`focusin${bu}`,e0=`keydown.tab${bu}`,Mg="backward",t0={autofocus:!0,trapElement:null},n0={autofocus:"boolean",trapElement:"element"};class $g extends It{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return t0}static get DefaultType(){return n0}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Q.off(document,bu),Q.on(document,ZI,u=>this._handleFocusin(u)),Q.on(document,e0,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Q.off(document,bu))}_handleFocusin(u){const{trapElement:m}=this._config;if(u.target===document||u.target===m||m.contains(u.target))return;const b=W.focusableChildren(m);b.length===0?m.focus():this._lastTabNavDirection===Mg?b[b.length-1].focus():b[0].focus()}_handleKeydown(u){u.key==="Tab"&&(this._lastTabNavDirection=u.shiftKey?Mg:"forward")}}const Fg=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ug=".sticky-top",wu="padding-right",jg="margin-right";class Jd{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,wu,m=>m+u),this._setElementAttributes(Fg,wu,m=>m+u),this._setElementAttributes(Ug,jg,m=>m-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,wu),this._resetElementAttributes(Fg,wu),this._resetElementAttributes(Ug,jg)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,m,b){const L=this.getWidth();this._applyManipulationCallback(u,V=>{if(V!==this._element&&window.innerWidth>V.clientWidth+L)return;this._saveInitialAttribute(V,m);const q=window.getComputedStyle(V).getPropertyValue(m);V.style.setProperty(m,`${b(Number.parseFloat(q))}px`)})}_saveInitialAttribute(u,m){const b=u.style.getPropertyValue(m);b&&At.setDataAttribute(u,m,b)}_resetElementAttributes(u,m){this._applyManipulationCallback(u,b=>{const L=At.getDataAttribute(b,m);L!==null?(At.removeDataAttribute(b,m),b.style.setProperty(m,L)):b.style.removeProperty(m)})}_applyManipulationCallback(u,m){if(l(u))m(u);else for(const b of W.find(u,this._element))m(b)}}const ds=".bs.modal",s0=`hide${ds}`,i0=`hidePrevented${ds}`,Bg=`hidden${ds}`,Hg=`show${ds}`,r0=`shown${ds}`,o0=`resize${ds}`,a0=`click.dismiss${ds}`,l0=`mousedown.dismiss${ds}`,c0=`keydown.dismiss${ds}`,u0=`click${ds}.data-api`,qg="modal-open",Wg="show",Zd="modal-static",h0={backdrop:!0,focus:!0,keyboard:!0},d0={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class no extends at{constructor(u,m){super(u,m),this._dialog=W.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Jd,this._addEventListeners()}static get Default(){return h0}static get DefaultType(){return d0}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||Q.trigger(this._element,Hg,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(qg),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){this._isShown&&!this._isTransitioning&&(Q.trigger(this._element,s0).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Wg),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Q.off(window,ds),Q.off(this._dialog,ds),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Vg({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new $g({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const m=W.findOne(".modal-body",this._dialog);m&&(m.scrollTop=0),E(this._element),this._element.classList.add(Wg),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Q.trigger(this._element,r0,{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){Q.on(this._element,c0,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),Q.on(window,o0,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Q.on(this._element,l0,u=>{Q.one(this._element,a0,m=>{this._element===u.target&&this._element===m.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(qg),this._resetAdjustments(),this._scrollBar.reset(),Q.trigger(this._element,Bg)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Q.trigger(this._element,i0).defaultPrevented)return;const u=this._element.scrollHeight>document.documentElement.clientHeight,m=this._element.style.overflowY;m==="hidden"||this._element.classList.contains(Zd)||(u||(this._element.style.overflowY="hidden"),this._element.classList.add(Zd),this._queueCallback(()=>{this._element.classList.remove(Zd),this._queueCallback(()=>{this._element.style.overflowY=m},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,m=this._scrollBar.getWidth(),b=m>0;if(b&&!u){const L=N()?"paddingLeft":"paddingRight";this._element.style[L]=`${m}px`}if(!b&&u){const L=N()?"paddingRight":"paddingLeft";this._element.style[L]=`${m}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,m){return this.each(function(){const b=no.getOrCreateInstance(this,u);if(typeof u=="string"){if(b[u]===void 0)throw new TypeError(`No method named "${u}"`);b[u](m)}})}}Q.on(document,u0,'[data-bs-toggle="modal"]',function(y){const u=W.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&y.preventDefault(),Q.one(u,Hg,b=>{b.defaultPrevented||Q.one(u,Bg,()=>{h(this)&&this.focus()})});const m=W.findOne(".modal.show");m&&no.getInstance(m).hide(),no.getOrCreateInstance(u).toggle(this)}),le(no),j(no);const fi=".bs.offcanvas",zg=".data-api",f0=`load${fi}${zg}`,Kg="show",Gg="showing",Qg="hiding",Yg=".offcanvas.show",p0=`show${fi}`,m0=`shown${fi}`,g0=`hide${fi}`,Xg=`hidePrevented${fi}`,Jg=`hidden${fi}`,_0=`resize${fi}`,v0=`click${fi}${zg}`,y0=`keydown.dismiss${fi}`,E0={backdrop:!0,keyboard:!0,scroll:!1},b0={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class pi extends at{constructor(u,m){super(u,m),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return E0}static get DefaultType(){return b0}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||Q.trigger(this._element,p0,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Jd().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Gg),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Kg),this._element.classList.remove(Gg),Q.trigger(this._element,m0,{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&(Q.trigger(this._element,g0).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Qg),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Kg,Qg),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Jd().reset(),Q.trigger(this._element,Jg)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const u=!!this._config.backdrop;return new Vg({className:"offcanvas-backdrop",isVisible:u,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:u?()=>{this._config.backdrop!=="static"?this.hide():Q.trigger(this._element,Xg)}:null})}_initializeFocusTrap(){return new $g({trapElement:this._element})}_addEventListeners(){Q.on(this._element,y0,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():Q.trigger(this._element,Xg))})}static jQueryInterface(u){return this.each(function(){const m=pi.getOrCreateInstance(this,u);if(typeof u=="string"){if(m[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);m[u](this)}})}}Q.on(document,v0,'[data-bs-toggle="offcanvas"]',function(y){const u=W.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&y.preventDefault(),d(this))return;Q.one(u,Jg,()=>{h(this)&&this.focus()});const m=W.findOne(Yg);m&&m!==u&&pi.getInstance(m).hide(),pi.getOrCreateInstance(u).toggle(this)}),Q.on(window,f0,()=>{for(const y of W.find(Yg))pi.getOrCreateInstance(y).show()}),Q.on(window,_0,()=>{for(const y of W.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(y).position!=="fixed"&&pi.getOrCreateInstance(y).hide()}),le(pi),j(pi);const Zg={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},w0=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),T0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,A0=(y,u)=>{const m=y.nodeName.toLowerCase();return u.includes(m)?!w0.has(m)||!!T0.test(y.nodeValue):u.filter(b=>b instanceof RegExp).some(b=>b.test(m))},I0={allowList:Zg,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},S0={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},C0={entry:"(string|element|function|null)",selector:"(string|element)"};class R0 extends It{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return I0}static get DefaultType(){return S0}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[L,V]of Object.entries(this._config.content))this._setContent(u,V,L);const m=u.children[0],b=this._resolvePossibleFunction(this._config.extraClass);return b&&m.classList.add(...b.split(" ")),m}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[m,b]of Object.entries(u))super._typeCheckConfig({selector:m,entry:b},C0)}_setContent(u,m,b){const L=W.findOne(b,u);L&&((m=this._resolvePossibleFunction(m))?l(m)?this._putElementInTemplate(c(m),L):this._config.html?L.innerHTML=this._maybeSanitize(m):L.textContent=m:L.remove())}_maybeSanitize(u){return this._config.sanitize?function(m,b,L){if(!m.length)return m;if(L&&typeof L=="function")return L(m);const V=new window.DOMParser().parseFromString(m,"text/html"),q=[].concat(...V.body.querySelectorAll("*"));for(const Z of q){const ue=Z.nodeName.toLowerCase();if(!Object.keys(b).includes(ue)){Z.remove();continue}const ye=[].concat(...Z.attributes),be=[].concat(b["*"]||[],b[ue]||[]);for(const fe of ye)A0(fe,be)||Z.removeAttribute(fe.nodeName)}return V.body.innerHTML}(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return $(u,[void 0,this])}_putElementInTemplate(u,m){if(this._config.html)return m.innerHTML="",void m.append(u);m.textContent=u.textContent}}const P0=new Set(["sanitize","allowList","sanitizeFn"]),ef="fade",Tu="show",O0=".tooltip-inner",e_=".modal",t_="hide.bs.modal",Ll="hover",tf="focus",k0={AUTO:"auto",TOP:"top",RIGHT:N()?"left":"right",BOTTOM:"bottom",LEFT:N()?"right":"left"},D0={allowList:Zg,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},x0={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class so extends at{constructor(u,m){if(eo===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(u,m),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return D0}static get DefaultType(){return x0}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Q.off(this._element.closest(e_),t_,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=Q.trigger(this._element,this.constructor.eventName("show")),m=(p(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!m)return;this._disposePopper();const b=this._getTipElement();this._element.setAttribute("aria-describedby",b.getAttribute("id"));const{container:L}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(L.append(b),Q.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(b),b.classList.add(Tu),"ontouchstart"in document.documentElement)for(const V of[].concat(...document.body.children))Q.on(V,"mouseover",g);this._queueCallback(()=>{Q.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Q.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Tu),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))Q.off(u,"mouseover",g);this._activeTrigger.click=!1,this._activeTrigger[tf]=!1,this._activeTrigger[Ll]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Q.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const m=this._getTemplateFactory(u).toHtml();if(!m)return null;m.classList.remove(ef,Tu),m.classList.add(`bs-${this.constructor.NAME}-auto`);const b=(L=>{do L+=Math.floor(1e6*Math.random());while(document.getElementById(L));return L})(this.constructor.NAME).toString();return m.setAttribute("id",b),this._isAnimated()&&m.classList.add(ef),m}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new R0({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[O0]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ef)}_isShown(){return this.tip&&this.tip.classList.contains(Tu)}_createPopper(u){const m=$(this._config.placement,[this,u,this._element]),b=k0[m.toUpperCase()];return oa(this._element,u,this._getPopperConfig(b))}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(m=>Number.parseInt(m,10)):typeof u=="function"?m=>u(m,this._element):u}_resolvePossibleFunction(u){return $(u,[this._element,this._element])}_getPopperConfig(u){const m={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:b=>{this._getTipElement().setAttribute("data-popper-placement",b.state.placement)}}]};return{...m,...$(this._config.popperConfig,[void 0,m])}}_setListeners(){const u=this._config.trigger.split(" ");for(const m of u)if(m==="click")Q.on(this._element,this.constructor.eventName("click"),this._config.selector,b=>{this._initializeOnDelegatedTarget(b).toggle()});else if(m!=="manual"){const b=m===Ll?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),L=m===Ll?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Q.on(this._element,b,this._config.selector,V=>{const q=this._initializeOnDelegatedTarget(V);q._activeTrigger[V.type==="focusin"?tf:Ll]=!0,q._enter()}),Q.on(this._element,L,this._config.selector,V=>{const q=this._initializeOnDelegatedTarget(V);q._activeTrigger[V.type==="focusout"?tf:Ll]=q._element.contains(V.relatedTarget),q._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Q.on(this._element.closest(e_),t_,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,m){clearTimeout(this._timeout),this._timeout=setTimeout(u,m)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const m=At.getDataAttributes(this._element);for(const b of Object.keys(m))P0.has(b)&&delete m[b];return u={...m,...typeof u=="object"&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=u.container===!1?document.body:c(u.container),typeof u.delay=="number"&&(u.delay={show:u.delay,hide:u.delay}),typeof u.title=="number"&&(u.title=u.title.toString()),typeof u.content=="number"&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[m,b]of Object.entries(this._config))this.constructor.Default[m]!==b&&(u[m]=b);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const m=so.getOrCreateInstance(this,u);if(typeof u=="string"){if(m[u]===void 0)throw new TypeError(`No method named "${u}"`);m[u]()}})}}j(so);const N0=".popover-header",L0=".popover-body",V0={...so.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},M0={...so.DefaultType,content:"(null|string|element|function)"};class Au extends so{static get Default(){return V0}static get DefaultType(){return M0}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[N0]:this._getTitle(),[L0]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const m=Au.getOrCreateInstance(this,u);if(typeof u=="string"){if(m[u]===void 0)throw new TypeError(`No method named "${u}"`);m[u]()}})}}j(Au);const nf=".bs.scrollspy",$0=`activate${nf}`,n_=`click${nf}`,F0=`load${nf}.data-api`,ca="active",sf="[href]",s_=".nav-link",U0=`${s_}, .nav-item > ${s_}, .list-group-item`,j0={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},B0={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Vl extends at{constructor(u,m){super(u,m),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return j0}static get DefaultType(){return B0}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=c(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,typeof u.threshold=="string"&&(u.threshold=u.threshold.split(",").map(m=>Number.parseFloat(m))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Q.off(this._config.target,n_),Q.on(this._config.target,n_,sf,u=>{const m=this._observableSections.get(u.target.hash);if(m){u.preventDefault();const b=this._rootElement||window,L=m.offsetTop-this._element.offsetTop;if(b.scrollTo)return void b.scrollTo({top:L,behavior:"smooth"});b.scrollTop=L}}))}_getNewObserver(){const u={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(m=>this._observerCallback(m),u)}_observerCallback(u){const m=q=>this._targetLinks.get(`#${q.target.id}`),b=q=>{this._previousScrollData.visibleEntryTop=q.target.offsetTop,this._process(m(q))},L=(this._rootElement||document.documentElement).scrollTop,V=L>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=L;for(const q of u){if(!q.isIntersecting){this._activeTarget=null,this._clearActiveClass(m(q));continue}const Z=q.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(V&&Z){if(b(q),!L)return}else V||Z||b(q)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=W.find(sf,this._config.target);for(const m of u){if(!m.hash||d(m))continue;const b=W.findOne(decodeURI(m.hash),this._element);h(b)&&(this._targetLinks.set(decodeURI(m.hash),m),this._observableSections.set(m.hash,b))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(ca),this._activateParents(u),Q.trigger(this._element,$0,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))W.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(ca);else for(const m of W.parents(u,".nav, .list-group"))for(const b of W.prev(m,U0))b.classList.add(ca)}_clearActiveClass(u){u.classList.remove(ca);const m=W.find(`${sf}.${ca}`,u);for(const b of m)b.classList.remove(ca)}static jQueryInterface(u){return this.each(function(){const m=Vl.getOrCreateInstance(this,u);if(typeof u=="string"){if(m[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);m[u]()}})}}Q.on(window,F0,()=>{for(const y of W.find('[data-bs-spy="scroll"]'))Vl.getOrCreateInstance(y)}),j(Vl);const io=".bs.tab",H0=`hide${io}`,q0=`hidden${io}`,W0=`show${io}`,z0=`shown${io}`,K0=`click${io}`,G0=`keydown${io}`,Q0=`load${io}`,Y0="ArrowLeft",i_="ArrowRight",X0="ArrowUp",r_="ArrowDown",rf="Home",o_="End",ro="active",a_="fade",of="show",l_=".dropdown-toggle",af=`:not(${l_})`,c_='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',lf=`.nav-link${af}, .list-group-item${af}, [role="tab"]${af}, ${c_}`,J0=`.${ro}[data-bs-toggle="tab"], .${ro}[data-bs-toggle="pill"], .${ro}[data-bs-toggle="list"]`;class oo extends at{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Q.on(this._element,G0,m=>this._keydown(m)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const m=this._getActiveElem(),b=m?Q.trigger(m,H0,{relatedTarget:u}):null;Q.trigger(u,W0,{relatedTarget:m}).defaultPrevented||b&&b.defaultPrevented||(this._deactivate(m,u),this._activate(u,m))}_activate(u,m){u&&(u.classList.add(ro),this._activate(W.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),Q.trigger(u,z0,{relatedTarget:m})):u.classList.add(of)},u,u.classList.contains(a_)))}_deactivate(u,m){u&&(u.classList.remove(ro),u.blur(),this._deactivate(W.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),Q.trigger(u,q0,{relatedTarget:m})):u.classList.remove(of)},u,u.classList.contains(a_)))}_keydown(u){if(![Y0,i_,X0,r_,rf,o_].includes(u.key))return;u.stopPropagation(),u.preventDefault();const m=this._getChildren().filter(L=>!d(L));let b;if([rf,o_].includes(u.key))b=m[u.key===rf?0:m.length-1];else{const L=[i_,r_].includes(u.key);b=B(m,u.target,L,!0)}b&&(b.focus({preventScroll:!0}),oo.getOrCreateInstance(b).show())}_getChildren(){return W.find(lf,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,m){this._setAttributeIfNotExists(u,"role","tablist");for(const b of m)this._setInitialAttributesOnChild(b)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const m=this._elemIsActive(u),b=this._getOuterElement(u);u.setAttribute("aria-selected",m),b!==u&&this._setAttributeIfNotExists(b,"role","presentation"),m||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const m=W.getElementFromSelector(u);m&&(this._setAttributeIfNotExists(m,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(m,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,m){const b=this._getOuterElement(u);if(!b.classList.contains("dropdown"))return;const L=(V,q)=>{const Z=W.findOne(V,b);Z&&Z.classList.toggle(q,m)};L(l_,ro),L(".dropdown-menu",of),b.setAttribute("aria-expanded",m)}_setAttributeIfNotExists(u,m,b){u.hasAttribute(m)||u.setAttribute(m,b)}_elemIsActive(u){return u.classList.contains(ro)}_getInnerElement(u){return u.matches(lf)?u:W.findOne(lf,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const m=oo.getOrCreateInstance(this);if(typeof u=="string"){if(m[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);m[u]()}})}}Q.on(document,K0,c_,function(y){["A","AREA"].includes(this.tagName)&&y.preventDefault(),d(this)||oo.getOrCreateInstance(this).show()}),Q.on(window,Q0,()=>{for(const y of W.find(J0))oo.getOrCreateInstance(y)}),j(oo);const Ji=".bs.toast",Z0=`mouseover${Ji}`,eS=`mouseout${Ji}`,tS=`focusin${Ji}`,nS=`focusout${Ji}`,sS=`hide${Ji}`,iS=`hidden${Ji}`,rS=`show${Ji}`,oS=`shown${Ji}`,u_="hide",Iu="show",Su="showing",aS={animation:"boolean",autohide:"boolean",delay:"number"},lS={animation:!0,autohide:!0,delay:5e3};class Ml extends at{constructor(u,m){super(u,m),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return lS}static get DefaultType(){return aS}static get NAME(){return"toast"}show(){Q.trigger(this._element,rS).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(u_),E(this._element),this._element.classList.add(Iu,Su),this._queueCallback(()=>{this._element.classList.remove(Su),Q.trigger(this._element,oS),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Q.trigger(this._element,sS).defaultPrevented||(this._element.classList.add(Su),this._queueCallback(()=>{this._element.classList.add(u_),this._element.classList.remove(Su,Iu),Q.trigger(this._element,iS)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Iu),super.dispose()}isShown(){return this._element.classList.contains(Iu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,m){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=m;break;case"focusin":case"focusout":this._hasKeyboardInteraction=m}if(m)return void this._clearTimeout();const b=u.relatedTarget;this._element===b||this._element.contains(b)||this._maybeScheduleHide()}_setListeners(){Q.on(this._element,Z0,u=>this._onInteraction(u,!0)),Q.on(this._element,eS,u=>this._onInteraction(u,!1)),Q.on(this._element,tS,u=>this._onInteraction(u,!0)),Q.on(this._element,nS,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const m=Ml.getOrCreateInstance(this,u);if(typeof u=="string"){if(m[u]===void 0)throw new TypeError(`No method named "${u}"`);m[u](this)}})}}return le(Ml),j(Ml),{Alert:k,Button:K,Carousel:oi,Collapse:Sn,Dropdown:on,Modal:no,Offcanvas:pi,Popover:Au,ScrollSpy:Vl,Tab:oo,Toast:Ml,Tooltip:so}})}(ch)),ch.exports}XV();const JV={props:{text:{type:String,required:!0},maxLength:{type:Number,default:100}},computed:{truncatedText(){return this.text.length<=this.maxLength?this.text:this.text.slice(0,this.maxLength).trim()+"..."}}};function ZV(t,e,n,s,i,r){return ee(),se("div",null,[v("p",null,pe(r.truncatedText),1)])}const jp=tn(JV,[["render",ZV]]),eM={class:"container-fluid py-2 commentaires"},tM={class:"font-weight-light"},nM={class:"media-scroller snaps-inline comms",id:"commentairesIn"},sM={class:"comm-card"},iM={class:"small"},rM={class:"user"},oM=["src","alt"],aM={class:"username"},lM={class:"stars"},cM={__name:"Comments",setup(t){const e=Ie([{id:1,username:"xXDarkSasukeDu44Xx",picture:"/assets/img/gtavi.png",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"1"},{id:2,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"2"},{id:3,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"},{id:4,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"5"},{id:5,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"},{id:6,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"}]);return(n,s)=>(ee(),se("div",eM,[v("h2",tM,pe(e.value.length)+" Commentaires :",1),v("div",null,[v("ul",nM,[(ee(!0),se(He,null,Ot(e.value,i=>(ee(),se("li",{key:i.id},[v("div",sM,[v("div",iM,[v("div",rM,[v("img",{src:i.picture,alt:i.username},null,8,oM),v("h3",aM,pe(i.username),1)]),v("div",lM,[(ee(),se(He,null,Ot(5,(r,o)=>v("span",{key:o},pe(o<i.rating?"":""),1)),64))])]),s[0]||(s[0]=v("div",{class:"texte"},null,-1)),v("h4",null,[me(jp,{text:i.text,maxLength:80},null,8,["text"])]),s[1]||(s[1]=v("h2",null,null,-1))])]))),128))])])]))}},uM=tn(cM,[["__scopeId","data-v-410a89e0"]]),hM={class:"container-fluid py-2"},dM={class:"media-scroller snaps-inline"},fM={class:"game-card mt-4 mb-5"},pM=["src","alt"],mM={class:"game-text"},gM={class:"titre"},_M={class:"prix"},vM={__name:"Promo",setup(t){const e=Ie([]),n=async()=>{const s=Mr(Bt,"games"),i=jo(s,Pr("featured","==",!0),cA(3));try{const r=await $r(i);e.value=[],r.forEach(o=>{const l=o.data();e.value.push({id:o.id,titre:l.name,link:l.link,image:l.image,price:`${l.price}`})})}catch(r){console.error("Erreur lors de la rcupration des jeux :",r)}};return zn(()=>{n()}),(s,i)=>{const r=ls("router-link");return ee(),se("div",hM,[i[1]||(i[1]=v("h2",{class:"font-weight-light"},"Les jeux de la semaine",-1)),v("div",null,[v("ul",dM,[(ee(!0),se(He,null,Ot(e.value,o=>(ee(),se("li",{key:o.id},[v("div",fM,[me(r,{class:"nav-link",to:`/game/${o.id}`},{default:ut(()=>[v("img",{src:`/assets/img/preview/${o.image}`,alt:o.titre},null,8,pM)]),_:2},1032,["to"]),v("div",mM,[v("h3",gM,pe(o.titre)+" :",1),v("h3",_M,pe(o.price),1)]),i[0]||(i[0]=v("h2",null,null,-1))])]))),128))])])])}}},yM=tn(vM,[["__scopeId","data-v-05a3d4f5"]]);var Mn="top",rs="bottom",os="right",$n="left",$d="auto",ol=[Mn,rs,os,$n],No="start",Ka="end",YA="clippingParents",_g="viewport",ba="popper",XA="reference",Bp=ol.reduce(function(t,e){return t.concat([e+"-"+No,e+"-"+Ka])},[]),vg=[].concat(ol,[$d]).reduce(function(t,e){return t.concat([e,e+"-"+No,e+"-"+Ka])},[]),JA="beforeRead",ZA="read",eI="afterRead",tI="beforeMain",nI="main",sI="afterMain",iI="beforeWrite",rI="write",oI="afterWrite",aI=[JA,ZA,eI,tI,nI,sI,iI,rI,oI];function si(t){return t?(t.nodeName||"").toLowerCase():null}function as(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Lo(t){var e=as(t).Element;return t instanceof e||t instanceof Element}function ys(t){var e=as(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function yg(t){if(typeof ShadowRoot>"u")return!1;var e=as(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function EM(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},i=e.attributes[n]||{},r=e.elements[n];!ys(r)||!si(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(o){var l=i[o];l===!1?r.removeAttribute(o):r.setAttribute(o,l===!0?"":l)}))})}function bM(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var i=e.elements[s],r=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),l=o.reduce(function(c,h){return c[h]="",c},{});!ys(i)||!si(i)||(Object.assign(i.style,l),Object.keys(r).forEach(function(c){i.removeAttribute(c)}))})}}const Eg={name:"applyStyles",enabled:!0,phase:"write",fn:EM,effect:bM,requires:["computeStyles"]};function ei(t){return t.split("-")[0]}var Ao=Math.max,Kh=Math.min,Ga=Math.round;function Hp(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function lI(){return!/^((?!chrome|android).)*safari/i.test(Hp())}function Qa(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),i=1,r=1;e&&ys(t)&&(i=t.offsetWidth>0&&Ga(s.width)/t.offsetWidth||1,r=t.offsetHeight>0&&Ga(s.height)/t.offsetHeight||1);var o=Lo(t)?as(t):window,l=o.visualViewport,c=!lI()&&n,h=(s.left+(c&&l?l.offsetLeft:0))/i,d=(s.top+(c&&l?l.offsetTop:0))/r,p=s.width/i,g=s.height/r;return{width:p,height:g,top:d,right:h+p,bottom:d+g,left:h,x:h,y:d}}function bg(t){var e=Qa(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function cI(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&yg(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function xi(t){return as(t).getComputedStyle(t)}function wM(t){return["table","td","th"].indexOf(si(t))>=0}function Fr(t){return((Lo(t)?t.ownerDocument:t.document)||window.document).documentElement}function Fd(t){return si(t)==="html"?t:t.assignedSlot||t.parentNode||(yg(t)?t.host:null)||Fr(t)}function rE(t){return!ys(t)||xi(t).position==="fixed"?null:t.offsetParent}function TM(t){var e=/firefox/i.test(Hp()),n=/Trident/i.test(Hp());if(n&&ys(t)){var s=xi(t);if(s.position==="fixed")return null}var i=Fd(t);for(yg(i)&&(i=i.host);ys(i)&&["html","body"].indexOf(si(i))<0;){var r=xi(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function Yc(t){for(var e=as(t),n=rE(t);n&&wM(n)&&xi(n).position==="static";)n=rE(n);return n&&(si(n)==="html"||si(n)==="body"&&xi(n).position==="static")?e:n||TM(t)||e}function wg(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function hc(t,e,n){return Ao(t,Kh(e,n))}function AM(t,e,n){var s=hc(t,e,n);return s>n?n:s}function uI(){return{top:0,right:0,bottom:0,left:0}}function hI(t){return Object.assign({},uI(),t)}function dI(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var IM=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,hI(typeof e!="number"?e:dI(e,ol))};function SM(t){var e,n=t.state,s=t.name,i=t.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,l=ei(n.placement),c=wg(l),h=[$n,os].indexOf(l)>=0,d=h?"height":"width";if(!(!r||!o)){var p=IM(i.padding,n),g=bg(r),E=c==="y"?Mn:$n,I=c==="y"?rs:os,x=n.rects.reference[d]+n.rects.reference[c]-o[c]-n.rects.popper[d],N=o[c]-n.rects.reference[c],j=Yc(r),$=j?c==="y"?j.clientHeight||0:j.clientWidth||0:0,U=x/2-N/2,B=p[E],ne=$-g[d]-p[I],re=$/2-g[d]/2+U,D=hc(B,re,ne),S=c;n.modifiersData[s]=(e={},e[S]=D,e.centerOffset=D-re,e)}}function CM(t){var e=t.state,n=t.options,s=n.element,i=s===void 0?"[data-popper-arrow]":s;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||cI(e.elements.popper,i)&&(e.elements.arrow=i))}const fI={name:"arrow",enabled:!0,phase:"main",fn:SM,effect:CM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ya(t){return t.split("-")[1]}var RM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function PM(t,e){var n=t.x,s=t.y,i=e.devicePixelRatio||1;return{x:Ga(n*i)/i||0,y:Ga(s*i)/i||0}}function oE(t){var e,n=t.popper,s=t.popperRect,i=t.placement,r=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,h=t.adaptive,d=t.roundOffsets,p=t.isFixed,g=o.x,E=g===void 0?0:g,I=o.y,x=I===void 0?0:I,N=typeof d=="function"?d({x:E,y:x}):{x:E,y:x};E=N.x,x=N.y;var j=o.hasOwnProperty("x"),$=o.hasOwnProperty("y"),U=$n,B=Mn,ne=window;if(h){var re=Yc(n),D="clientHeight",S="clientWidth";if(re===as(n)&&(re=Fr(n),xi(re).position!=="static"&&l==="absolute"&&(D="scrollHeight",S="scrollWidth")),re=re,i===Mn||(i===$n||i===os)&&r===Ka){B=rs;var T=p&&re===ne&&ne.visualViewport?ne.visualViewport.height:re[D];x-=T-s.height,x*=c?1:-1}if(i===$n||(i===Mn||i===rs)&&r===Ka){U=os;var R=p&&re===ne&&ne.visualViewport?ne.visualViewport.width:re[S];E-=R-s.width,E*=c?1:-1}}var O=Object.assign({position:l},h&&RM),A=d===!0?PM({x:E,y:x},as(n)):{x:E,y:x};if(E=A.x,x=A.y,c){var C;return Object.assign({},O,(C={},C[B]=$?"0":"",C[U]=j?"0":"",C.transform=(ne.devicePixelRatio||1)<=1?"translate("+E+"px, "+x+"px)":"translate3d("+E+"px, "+x+"px, 0)",C))}return Object.assign({},O,(e={},e[B]=$?x+"px":"",e[U]=j?E+"px":"",e.transform="",e))}function OM(t){var e=t.state,n=t.options,s=n.gpuAcceleration,i=s===void 0?!0:s,r=n.adaptive,o=r===void 0?!0:r,l=n.roundOffsets,c=l===void 0?!0:l,h={placement:ei(e.placement),variation:Ya(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,oE(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,oE(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Tg={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:OM,data:{}};var Uu={passive:!0};function kM(t){var e=t.state,n=t.instance,s=t.options,i=s.scroll,r=i===void 0?!0:i,o=s.resize,l=o===void 0?!0:o,c=as(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&h.forEach(function(d){d.addEventListener("scroll",n.update,Uu)}),l&&c.addEventListener("resize",n.update,Uu),function(){r&&h.forEach(function(d){d.removeEventListener("scroll",n.update,Uu)}),l&&c.removeEventListener("resize",n.update,Uu)}}const Ag={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:kM,data:{}};var DM={left:"right",right:"left",bottom:"top",top:"bottom"};function uh(t){return t.replace(/left|right|bottom|top/g,function(e){return DM[e]})}var xM={start:"end",end:"start"};function aE(t){return t.replace(/start|end/g,function(e){return xM[e]})}function Ig(t){var e=as(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function Sg(t){return Qa(Fr(t)).left+Ig(t).scrollLeft}function NM(t,e){var n=as(t),s=Fr(t),i=n.visualViewport,r=s.clientWidth,o=s.clientHeight,l=0,c=0;if(i){r=i.width,o=i.height;var h=lI();(h||!h&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:r,height:o,x:l+Sg(t),y:c}}function LM(t){var e,n=Fr(t),s=Ig(t),i=(e=t.ownerDocument)==null?void 0:e.body,r=Ao(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ao(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-s.scrollLeft+Sg(t),c=-s.scrollTop;return xi(i||n).direction==="rtl"&&(l+=Ao(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:o,x:l,y:c}}function Cg(t){var e=xi(t),n=e.overflow,s=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+s)}function pI(t){return["html","body","#document"].indexOf(si(t))>=0?t.ownerDocument.body:ys(t)&&Cg(t)?t:pI(Fd(t))}function dc(t,e){var n;e===void 0&&(e=[]);var s=pI(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),r=as(s),o=i?[r].concat(r.visualViewport||[],Cg(s)?s:[]):s,l=e.concat(o);return i?l:l.concat(dc(Fd(o)))}function qp(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function VM(t,e){var n=Qa(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function lE(t,e,n){return e===_g?qp(NM(t,n)):Lo(e)?VM(e,n):qp(LM(Fr(t)))}function MM(t){var e=dc(Fd(t)),n=["absolute","fixed"].indexOf(xi(t).position)>=0,s=n&&ys(t)?Yc(t):t;return Lo(s)?e.filter(function(i){return Lo(i)&&cI(i,s)&&si(i)!=="body"}):[]}function $M(t,e,n,s){var i=e==="clippingParents"?MM(t):[].concat(e),r=[].concat(i,[n]),o=r[0],l=r.reduce(function(c,h){var d=lE(t,h,s);return c.top=Ao(d.top,c.top),c.right=Kh(d.right,c.right),c.bottom=Kh(d.bottom,c.bottom),c.left=Ao(d.left,c.left),c},lE(t,o,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function mI(t){var e=t.reference,n=t.element,s=t.placement,i=s?ei(s):null,r=s?Ya(s):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(i){case Mn:c={x:o,y:e.y-n.height};break;case rs:c={x:o,y:e.y+e.height};break;case os:c={x:e.x+e.width,y:l};break;case $n:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var h=i?wg(i):null;if(h!=null){var d=h==="y"?"height":"width";switch(r){case No:c[h]=c[h]-(e[d]/2-n[d]/2);break;case Ka:c[h]=c[h]+(e[d]/2-n[d]/2);break}}return c}function Xa(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=s===void 0?t.placement:s,r=n.strategy,o=r===void 0?t.strategy:r,l=n.boundary,c=l===void 0?YA:l,h=n.rootBoundary,d=h===void 0?_g:h,p=n.elementContext,g=p===void 0?ba:p,E=n.altBoundary,I=E===void 0?!1:E,x=n.padding,N=x===void 0?0:x,j=hI(typeof N!="number"?N:dI(N,ol)),$=g===ba?XA:ba,U=t.rects.popper,B=t.elements[I?$:g],ne=$M(Lo(B)?B:B.contextElement||Fr(t.elements.popper),c,d,o),re=Qa(t.elements.reference),D=mI({reference:re,element:U,placement:i}),S=qp(Object.assign({},U,D)),T=g===ba?S:re,R={top:ne.top-T.top+j.top,bottom:T.bottom-ne.bottom+j.bottom,left:ne.left-T.left+j.left,right:T.right-ne.right+j.right},O=t.modifiersData.offset;if(g===ba&&O){var A=O[i];Object.keys(R).forEach(function(C){var xe=[os,rs].indexOf(C)>=0?1:-1,it=[Mn,rs].indexOf(C)>=0?"y":"x";R[C]+=A[it]*xe})}return R}function FM(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=n.boundary,r=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,h=c===void 0?vg:c,d=Ya(s),p=d?l?Bp:Bp.filter(function(I){return Ya(I)===d}):ol,g=p.filter(function(I){return h.indexOf(I)>=0});g.length===0&&(g=p);var E=g.reduce(function(I,x){return I[x]=Xa(t,{placement:x,boundary:i,rootBoundary:r,padding:o})[ei(x)],I},{});return Object.keys(E).sort(function(I,x){return E[I]-E[x]})}function UM(t){if(ei(t)===$d)return[];var e=uh(t);return[aE(t),e,aE(e)]}function jM(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,h=n.padding,d=n.boundary,p=n.rootBoundary,g=n.altBoundary,E=n.flipVariations,I=E===void 0?!0:E,x=n.allowedAutoPlacements,N=e.options.placement,j=ei(N),$=j===N,U=c||($||!I?[uh(N)]:UM(N)),B=[N].concat(U).reduce(function(At,It){return At.concat(ei(It)===$d?FM(e,{placement:It,boundary:d,rootBoundary:p,padding:h,flipVariations:I,allowedAutoPlacements:x}):It)},[]),ne=e.rects.reference,re=e.rects.popper,D=new Map,S=!0,T=B[0],R=0;R<B.length;R++){var O=B[R],A=ei(O),C=Ya(O)===No,xe=[Mn,rs].indexOf(A)>=0,it=xe?"width":"height",Le=Xa(e,{placement:O,boundary:d,rootBoundary:p,altBoundary:g,padding:h}),we=xe?C?os:$n:C?rs:Mn;ne[it]>re[it]&&(we=uh(we));var Be=uh(we),Rt=[];if(r&&Rt.push(Le[A]<=0),l&&Rt.push(Le[we]<=0,Le[Be]<=0),Rt.every(function(At){return At})){T=O,S=!1;break}D.set(O,Rt)}if(S)for(var Q=I?3:1,qt=function(It){var at=B.find(function(z){var W=D.get(z);if(W)return W.slice(0,It).every(function(le){return le})});if(at)return T=at,"break"},rt=Q;rt>0;rt--){var ot=qt(rt);if(ot==="break")break}e.placement!==T&&(e.modifiersData[s]._skip=!0,e.placement=T,e.reset=!0)}}const gI={name:"flip",enabled:!0,phase:"main",fn:jM,requiresIfExists:["offset"],data:{_skip:!1}};function cE(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function uE(t){return[Mn,os,rs,$n].some(function(e){return t[e]>=0})}function BM(t){var e=t.state,n=t.name,s=e.rects.reference,i=e.rects.popper,r=e.modifiersData.preventOverflow,o=Xa(e,{elementContext:"reference"}),l=Xa(e,{altBoundary:!0}),c=cE(o,s),h=cE(l,i,r),d=uE(c),p=uE(h);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}const _I={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:BM};function HM(t,e,n){var s=ei(t),i=[$n,Mn].indexOf(s)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=r[0],l=r[1];return o=o||0,l=(l||0)*i,[$n,os].indexOf(s)>=0?{x:l,y:o}:{x:o,y:l}}function qM(t){var e=t.state,n=t.options,s=t.name,i=n.offset,r=i===void 0?[0,0]:i,o=vg.reduce(function(d,p){return d[p]=HM(p,e.rects,r),d},{}),l=o[e.placement],c=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=h),e.modifiersData[s]=o}const vI={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:qM};function WM(t){var e=t.state,n=t.name;e.modifiersData[n]=mI({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Rg={name:"popperOffsets",enabled:!0,phase:"read",fn:WM,data:{}};function zM(t){return t==="x"?"y":"x"}function KM(t){var e=t.state,n=t.options,s=t.name,i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,h=n.rootBoundary,d=n.altBoundary,p=n.padding,g=n.tether,E=g===void 0?!0:g,I=n.tetherOffset,x=I===void 0?0:I,N=Xa(e,{boundary:c,rootBoundary:h,padding:p,altBoundary:d}),j=ei(e.placement),$=Ya(e.placement),U=!$,B=wg(j),ne=zM(B),re=e.modifiersData.popperOffsets,D=e.rects.reference,S=e.rects.popper,T=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,R=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,A={x:0,y:0};if(re){if(r){var C,xe=B==="y"?Mn:$n,it=B==="y"?rs:os,Le=B==="y"?"height":"width",we=re[B],Be=we+N[xe],Rt=we-N[it],Q=E?-S[Le]/2:0,qt=$===No?D[Le]:S[Le],rt=$===No?-S[Le]:-D[Le],ot=e.elements.arrow,At=E&&ot?bg(ot):{width:0,height:0},It=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:uI(),at=It[xe],z=It[it],W=hc(0,D[Le],At[Le]),le=U?D[Le]/2-Q-W-at-R.mainAxis:qt-W-at-R.mainAxis,ve=U?-D[Le]/2+Q+W+z+R.mainAxis:rt+W+z+R.mainAxis,Ge=e.elements.arrow&&Yc(e.elements.arrow),P=Ge?B==="y"?Ge.clientTop||0:Ge.clientLeft||0:0,k=(C=O==null?void 0:O[B])!=null?C:0,M=we+le-k-P,K=we+ve-k,G=hc(E?Kh(Be,M):Be,we,E?Ao(Rt,K):Rt);re[B]=G,A[B]=G-we}if(l){var Y,he=B==="x"?Mn:$n,ae=B==="x"?rs:os,oe=re[ne],te=ne==="y"?"height":"width",Se=oe+N[he],de=oe-N[ae],Ee=[Mn,$n].indexOf(j)!==-1,Te=(Y=O==null?void 0:O[ne])!=null?Y:0,Ae=Ee?Se:oe-D[te]-S[te]-Te+R.altAxis,Ne=Ee?oe+D[te]+S[te]-Te-R.altAxis:de,ze=E&&Ee?AM(Ae,oe,Ne):hc(E?Ae:Se,oe,E?Ne:de);re[ne]=ze,A[ne]=ze-oe}e.modifiersData[s]=A}}const yI={name:"preventOverflow",enabled:!0,phase:"main",fn:KM,requiresIfExists:["offset"]};function GM(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function QM(t){return t===as(t)||!ys(t)?Ig(t):GM(t)}function YM(t){var e=t.getBoundingClientRect(),n=Ga(e.width)/t.offsetWidth||1,s=Ga(e.height)/t.offsetHeight||1;return n!==1||s!==1}function XM(t,e,n){n===void 0&&(n=!1);var s=ys(e),i=ys(e)&&YM(e),r=Fr(e),o=Qa(t,i,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!n)&&((si(e)!=="body"||Cg(r))&&(l=QM(e)),ys(e)?(c=Qa(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):r&&(c.x=Sg(r))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function JM(t){var e=new Map,n=new Set,s=[];t.forEach(function(r){e.set(r.name,r)});function i(r){n.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&i(c)}}),s.push(r)}return t.forEach(function(r){n.has(r.name)||i(r)}),s}function ZM(t){var e=JM(t);return aI.reduce(function(n,s){return n.concat(e.filter(function(i){return i.phase===s}))},[])}function e2(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function t2(t){var e=t.reduce(function(n,s){var i=n[s.name];return n[s.name]=i?Object.assign({},i,s,{options:Object.assign({},i.options,s.options),data:Object.assign({},i.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var hE={placement:"bottom",modifiers:[],strategy:"absolute"};function dE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Ud(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,i=e.defaultOptions,r=i===void 0?hE:i;return function(l,c,h){h===void 0&&(h=r);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},hE,r),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],g=!1,E={state:d,setOptions:function(j){var $=typeof j=="function"?j(d.options):j;x(),d.options=Object.assign({},r,d.options,$),d.scrollParents={reference:Lo(l)?dc(l):l.contextElement?dc(l.contextElement):[],popper:dc(c)};var U=ZM(t2([].concat(s,d.options.modifiers)));return d.orderedModifiers=U.filter(function(B){return B.enabled}),I(),E.update()},forceUpdate:function(){if(!g){var j=d.elements,$=j.reference,U=j.popper;if(dE($,U)){d.rects={reference:XM($,Yc(U),d.options.strategy==="fixed"),popper:bg(U)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(R){return d.modifiersData[R.name]=Object.assign({},R.data)});for(var B=0;B<d.orderedModifiers.length;B++){if(d.reset===!0){d.reset=!1,B=-1;continue}var ne=d.orderedModifiers[B],re=ne.fn,D=ne.options,S=D===void 0?{}:D,T=ne.name;typeof re=="function"&&(d=re({state:d,options:S,name:T,instance:E})||d)}}}},update:e2(function(){return new Promise(function(N){E.forceUpdate(),N(d)})}),destroy:function(){x(),g=!0}};if(!dE(l,c))return E;E.setOptions(h).then(function(N){!g&&h.onFirstUpdate&&h.onFirstUpdate(N)});function I(){d.orderedModifiers.forEach(function(N){var j=N.name,$=N.options,U=$===void 0?{}:$,B=N.effect;if(typeof B=="function"){var ne=B({state:d,name:j,instance:E,options:U}),re=function(){};p.push(ne||re)}})}function x(){p.forEach(function(N){return N()}),p=[]}return E}}var n2=Ud(),s2=[Ag,Rg,Tg,Eg],i2=Ud({defaultModifiers:s2}),r2=[Ag,Rg,Tg,Eg,vI,gI,yI,fI,_I],Pg=Ud({defaultModifiers:r2});const EI=Object.freeze(Object.defineProperty({__proto__:null,afterMain:sI,afterRead:eI,afterWrite:oI,applyStyles:Eg,arrow:fI,auto:$d,basePlacements:ol,beforeMain:tI,beforeRead:JA,beforeWrite:iI,bottom:rs,clippingParents:YA,computeStyles:Tg,createPopper:Pg,createPopperBase:n2,createPopperLite:i2,detectOverflow:Xa,end:Ka,eventListeners:Ag,flip:gI,hide:_I,left:$n,main:nI,modifierPhases:aI,offset:vI,placements:vg,popper:ba,popperGenerator:Ud,popperOffsets:Rg,preventOverflow:yI,read:ZA,reference:XA,right:os,start:No,top:Mn,variationPlacements:Bp,viewport:_g,write:rI},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const sr=new Map,$f={set(t,e,n){sr.has(t)||sr.set(t,new Map);const s=sr.get(t);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,n)},get(t,e){return sr.has(t)&&sr.get(t).get(e)||null},remove(t,e){if(!sr.has(t))return;const n=sr.get(t);n.delete(e),n.size===0&&sr.delete(t)}},o2=1e6,a2=1e3,Wp="transitionend",bI=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),l2=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),c2=t=>{do t+=Math.floor(Math.random()*o2);while(document.getElementById(t));return t},u2=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const s=Number.parseFloat(e),i=Number.parseFloat(n);return!s&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*a2)},wI=t=>{t.dispatchEvent(new Event(Wp))},Si=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Or=t=>Si(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(bI(t)):null,al=t=>{if(!Si(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const s=t.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return e},kr=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",TI=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?TI(t.parentNode):null},Gh=()=>{},Xc=t=>{t.offsetHeight},AI=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ff=[],h2=t=>{document.readyState==="loading"?(Ff.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Ff)e()}),Ff.push(t)):t()},ws=()=>document.documentElement.dir==="rtl",As=t=>{h2(()=>{const e=AI();if(e){const n=t.NAME,s=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=s,t.jQueryInterface)}})},Wn=(t,e=[],n=t)=>typeof t=="function"?t.call(...e):n,II=(t,e,n=!0)=>{if(!n){Wn(t);return}const i=u2(e)+5;let r=!1;const o=({target:l})=>{l===e&&(r=!0,e.removeEventListener(Wp,o),Wn(t))};e.addEventListener(Wp,o),setTimeout(()=>{r||wI(e)},i)},Og=(t,e,n,s)=>{const i=t.length;let r=t.indexOf(e);return r===-1?!n&&s?t[i-1]:t[0]:(r+=n?1:-1,s&&(r=(r+i)%i),t[Math.max(0,Math.min(r,i-1))])},d2=/[^.]*(?=\..*)\.|.*/,f2=/\..*/,p2=/::\d+$/,Uf={};let fE=1;const SI={mouseenter:"mouseover",mouseleave:"mouseout"},m2=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function CI(t,e){return e&&`${e}::${fE++}`||t.uidEvent||fE++}function RI(t){const e=CI(t);return t.uidEvent=e,Uf[e]=Uf[e]||{},Uf[e]}function g2(t,e){return function n(s){return kg(s,{delegateTarget:t}),n.oneOff&&ie.off(t,s.type,e),e.apply(t,[s])}}function _2(t,e,n){return function s(i){const r=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const l of r)if(l===o)return kg(i,{delegateTarget:o}),s.oneOff&&ie.off(t,i.type,e,n),n.apply(o,[i])}}function PI(t,e,n=null){return Object.values(t).find(s=>s.callable===e&&s.delegationSelector===n)}function OI(t,e,n){const s=typeof e=="string",i=s?n:e||n;let r=kI(t);return m2.has(r)||(r=t),[s,i,r]}function pE(t,e,n,s,i){if(typeof e!="string"||!t)return;let[r,o,l]=OI(e,n,s);e in SI&&(o=(I=>function(x){if(!x.relatedTarget||x.relatedTarget!==x.delegateTarget&&!x.delegateTarget.contains(x.relatedTarget))return I.call(this,x)})(o));const c=RI(t),h=c[l]||(c[l]={}),d=PI(h,o,r?n:null);if(d){d.oneOff=d.oneOff&&i;return}const p=CI(o,e.replace(d2,"")),g=r?_2(t,n,o):g2(t,o);g.delegationSelector=r?n:null,g.callable=o,g.oneOff=i,g.uidEvent=p,h[p]=g,t.addEventListener(l,g,r)}function zp(t,e,n,s,i){const r=PI(e[n],s,i);r&&(t.removeEventListener(n,r,!!i),delete e[n][r.uidEvent])}function v2(t,e,n,s){const i=e[n]||{};for(const[r,o]of Object.entries(i))r.includes(s)&&zp(t,e,n,o.callable,o.delegationSelector)}function kI(t){return t=t.replace(f2,""),SI[t]||t}const ie={on(t,e,n,s){pE(t,e,n,s,!1)},one(t,e,n,s){pE(t,e,n,s,!0)},off(t,e,n,s){if(typeof e!="string"||!t)return;const[i,r,o]=OI(e,n,s),l=o!==e,c=RI(t),h=c[o]||{},d=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(h).length)return;zp(t,c,o,r,i?n:null);return}if(d)for(const p of Object.keys(c))v2(t,c,p,e.slice(1));for(const[p,g]of Object.entries(h)){const E=p.replace(p2,"");(!l||e.includes(E))&&zp(t,c,o,g.callable,g.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const s=AI(),i=kI(e),r=e!==i;let o=null,l=!0,c=!0,h=!1;r&&s&&(o=s.Event(e,n),s(t).trigger(o),l=!o.isPropagationStopped(),c=!o.isImmediatePropagationStopped(),h=o.isDefaultPrevented());const d=kg(new Event(e,{bubbles:l,cancelable:!0}),n);return h&&d.preventDefault(),c&&t.dispatchEvent(d),d.defaultPrevented&&o&&o.preventDefault(),d}};function kg(t,e={}){for(const[n,s]of Object.entries(e))try{t[n]=s}catch{Object.defineProperty(t,n,{configurable:!0,get(){return s}})}return t}function mE(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function jf(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Ci={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${jf(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${jf(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=mE(t.dataset[s])}return e},getDataAttribute(t,e){return mE(t.getAttribute(`data-bs-${jf(e)}`))}};class Jc{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const s=Si(n)?Ci.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...Si(n)?Ci.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[s,i]of Object.entries(n)){const r=e[s],o=Si(r)?"element":l2(r);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${i}".`)}}}const y2="5.3.6";class Ms extends Jc{constructor(e,n){super(),e=Or(e),e&&(this._element=e,this._config=this._getConfig(n),$f.set(this._element,this.constructor.DATA_KEY,this))}dispose(){$f.remove(this._element,this.constructor.DATA_KEY),ie.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,s=!0){II(e,n,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return $f.get(Or(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return y2}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Bf=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>bI(n)).join(","):null},Re={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let s=t.parentNode.closest(e);for(;s;)n.push(s),s=s.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!kr(n)&&al(n))},getSelectorFromElement(t){const e=Bf(t);return e&&Re.findOne(e)?e:null},getElementFromSelector(t){const e=Bf(t);return e?Re.findOne(e):null},getMultipleElementsFromSelector(t){const e=Bf(t);return e?Re.find(e):[]}},jd=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;ie.on(document,n,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),kr(this))return;const r=Re.getElementFromSelector(this)||this.closest(`.${s}`);t.getOrCreateInstance(r)[e]()})},E2="alert",b2="bs.alert",DI=`.${b2}`,w2=`close${DI}`,T2=`closed${DI}`,A2="fade",I2="show";class Bd extends Ms{static get NAME(){return E2}close(){if(ie.trigger(this._element,w2).defaultPrevented)return;this._element.classList.remove(I2);const n=this._element.classList.contains(A2);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),ie.trigger(this._element,T2),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=Bd.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}jd(Bd,"close");As(Bd);const S2="button",C2="bs.button",R2=`.${C2}`,P2=".data-api",O2="active",gE='[data-bs-toggle="button"]',k2=`click${R2}${P2}`;class Hd extends Ms{static get NAME(){return S2}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(O2))}static jQueryInterface(e){return this.each(function(){const n=Hd.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}ie.on(document,k2,gE,t=>{t.preventDefault();const e=t.target.closest(gE);Hd.getOrCreateInstance(e).toggle()});As(Hd);const D2="swipe",ll=".bs.swipe",x2=`touchstart${ll}`,N2=`touchmove${ll}`,L2=`touchend${ll}`,V2=`pointerdown${ll}`,M2=`pointerup${ll}`,$2="touch",F2="pen",U2="pointer-event",j2=40,B2={endCallback:null,leftCallback:null,rightCallback:null},H2={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Qh extends Jc{constructor(e,n){super(),this._element=e,!(!e||!Qh.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return B2}static get DefaultType(){return H2}static get NAME(){return D2}dispose(){ie.off(this._element,ll)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Wn(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=j2)return;const n=e/this._deltaX;this._deltaX=0,n&&Wn(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ie.on(this._element,V2,e=>this._start(e)),ie.on(this._element,M2,e=>this._end(e)),this._element.classList.add(U2)):(ie.on(this._element,x2,e=>this._start(e)),ie.on(this._element,N2,e=>this._move(e)),ie.on(this._element,L2,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===F2||e.pointerType===$2)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const q2="carousel",W2="bs.carousel",Ur=`.${W2}`,xI=".data-api",z2="ArrowLeft",K2="ArrowRight",G2=500,jl="next",fa="prev",wa="left",hh="right",Q2=`slide${Ur}`,Hf=`slid${Ur}`,Y2=`keydown${Ur}`,X2=`mouseenter${Ur}`,J2=`mouseleave${Ur}`,Z2=`dragstart${Ur}`,e$=`load${Ur}${xI}`,t$=`click${Ur}${xI}`,NI="carousel",ju="active",n$="slide",s$="carousel-item-end",i$="carousel-item-start",r$="carousel-item-next",o$="carousel-item-prev",LI=".active",VI=".carousel-item",a$=LI+VI,l$=".carousel-item img",c$=".carousel-indicators",u$="[data-bs-slide], [data-bs-slide-to]",h$='[data-bs-ride="carousel"]',d$={[z2]:hh,[K2]:wa},f$={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},p$={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Zc extends Ms{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Re.findOne(c$,this._element),this._addEventListeners(),this._config.ride===NI&&this.cycle()}static get Default(){return f$}static get DefaultType(){return p$}static get NAME(){return q2}next(){this._slide(jl)}nextWhenVisible(){!document.hidden&&al(this._element)&&this.next()}prev(){this._slide(fa)}pause(){this._isSliding&&wI(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ie.one(this._element,Hf,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){ie.one(this._element,Hf,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const i=e>s?jl:fa;this._slide(i,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ie.on(this._element,Y2,e=>this._keydown(e)),this._config.pause==="hover"&&(ie.on(this._element,X2,()=>this.pause()),ie.on(this._element,J2,()=>this._maybeEnableCycle())),this._config.touch&&Qh.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of Re.find(l$,this._element))ie.on(s,Z2,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(wa)),rightCallback:()=>this._slide(this._directionToOrder(hh)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),G2+this._config.interval))}};this._swipeHelper=new Qh(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=d$[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=Re.findOne(LI,this._indicatorsElement);n.classList.remove(ju),n.removeAttribute("aria-current");const s=Re.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(ju),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const s=this._getActive(),i=e===jl,r=n||Og(this._getItems(),s,i,this._config.wrap);if(r===s)return;const o=this._getItemIndex(r),l=E=>ie.trigger(this._element,E,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:o});if(l(Q2).defaultPrevented||!s||!r)return;const h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const d=i?i$:s$,p=i?r$:o$;r.classList.add(p),Xc(r),s.classList.add(d),r.classList.add(d);const g=()=>{r.classList.remove(d,p),r.classList.add(ju),s.classList.remove(ju,p,d),this._isSliding=!1,l(Hf)};this._queueCallback(g,s,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(n$)}_getActive(){return Re.findOne(a$,this._element)}_getItems(){return Re.find(VI,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ws()?e===wa?fa:jl:e===wa?jl:fa}_orderToDirection(e){return ws()?e===fa?wa:hh:e===fa?hh:wa}static jQueryInterface(e){return this.each(function(){const n=Zc.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ie.on(document,t$,u$,function(t){const e=Re.getElementFromSelector(this);if(!e||!e.classList.contains(NI))return;t.preventDefault();const n=Zc.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(Ci.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});ie.on(window,e$,()=>{const t=Re.find(h$);for(const e of t)Zc.getOrCreateInstance(e)});As(Zc);const m$="collapse",g$="bs.collapse",eu=`.${g$}`,_$=".data-api",v$=`show${eu}`,y$=`shown${eu}`,E$=`hide${eu}`,b$=`hidden${eu}`,w$=`click${eu}${_$}`,qf="show",Aa="collapse",Bu="collapsing",T$="collapsed",A$=`:scope .${Aa} .${Aa}`,I$="collapse-horizontal",S$="width",C$="height",R$=".collapse.show, .collapse.collapsing",Kp='[data-bs-toggle="collapse"]',P$={parent:null,toggle:!0},O$={parent:"(null|element)",toggle:"boolean"};class Pc extends Ms{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const s=Re.find(Kp);for(const i of s){const r=Re.getSelectorFromElement(i),o=Re.find(r).filter(l=>l===this._element);r!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return P$}static get DefaultType(){return O$}static get NAME(){return m$}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(R$).filter(l=>l!==this._element).map(l=>Pc.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||ie.trigger(this._element,v$).defaultPrevented)return;for(const l of e)l.hide();const s=this._getDimension();this._element.classList.remove(Aa),this._element.classList.add(Bu),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Bu),this._element.classList.add(Aa,qf),this._element.style[s]="",ie.trigger(this._element,y$)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||ie.trigger(this._element,E$).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Xc(this._element),this._element.classList.add(Bu),this._element.classList.remove(Aa,qf);for(const i of this._triggerArray){const r=Re.getElementFromSelector(i);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(Bu),this._element.classList.add(Aa),ie.trigger(this._element,b$)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(qf)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Or(e.parent),e}_getDimension(){return this._element.classList.contains(I$)?S$:C$}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Kp);for(const n of e){const s=Re.getElementFromSelector(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(e){const n=Re.find(A$,this._config.parent);return Re.find(e,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const s of e)s.classList.toggle(T$,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const s=Pc.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}ie.on(document,w$,Kp,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of Re.getMultipleElementsFromSelector(this))Pc.getOrCreateInstance(e,{toggle:!1}).toggle()});As(Pc);const _E="dropdown",k$="bs.dropdown",Ho=`.${k$}`,Dg=".data-api",D$="Escape",vE="Tab",x$="ArrowUp",yE="ArrowDown",N$=2,L$=`hide${Ho}`,V$=`hidden${Ho}`,M$=`show${Ho}`,$$=`shown${Ho}`,MI=`click${Ho}${Dg}`,$I=`keydown${Ho}${Dg}`,F$=`keyup${Ho}${Dg}`,Ta="show",U$="dropup",j$="dropend",B$="dropstart",H$="dropup-center",q$="dropdown-center",yo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',W$=`${yo}.${Ta}`,dh=".dropdown-menu",z$=".navbar",K$=".navbar-nav",G$=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Q$=ws()?"top-end":"top-start",Y$=ws()?"top-start":"top-end",X$=ws()?"bottom-end":"bottom-start",J$=ws()?"bottom-start":"bottom-end",Z$=ws()?"left-start":"right-start",e4=ws()?"right-start":"left-start",t4="top",n4="bottom",s4={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},i4={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class xs extends Ms{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=Re.next(this._element,dh)[0]||Re.prev(this._element,dh)[0]||Re.findOne(dh,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return s4}static get DefaultType(){return i4}static get NAME(){return _E}toggle(){return this._isShown()?this.hide():this.show()}show(){if(kr(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ie.trigger(this._element,M$,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(K$))for(const s of[].concat(...document.body.children))ie.on(s,"mouseover",Gh);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ta),this._element.classList.add(Ta),ie.trigger(this._element,$$,e)}}hide(){if(kr(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ie.trigger(this._element,L$,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))ie.off(s,"mouseover",Gh);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ta),this._element.classList.remove(Ta),this._element.setAttribute("aria-expanded","false"),Ci.removeDataAttribute(this._menu,"popper"),ie.trigger(this._element,V$,e),this._element.focus()}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Si(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${_E.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof EI>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:Si(this._config.reference)?e=Or(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=Pg(e,this._menu,n)}_isShown(){return this._menu.classList.contains(Ta)}_getPlacement(){const e=this._parent;if(e.classList.contains(j$))return Z$;if(e.classList.contains(B$))return e4;if(e.classList.contains(H$))return t4;if(e.classList.contains(q$))return n4;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(U$)?n?Y$:Q$:n?J$:X$}_detectNavbar(){return this._element.closest(z$)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ci.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Wn(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:n}){const s=Re.find(G$,this._menu).filter(i=>al(i));s.length&&Og(s,n,e===yE,!s.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=xs.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===N$||e.type==="keyup"&&e.key!==vE)return;const n=Re.find(W$);for(const s of n){const i=xs.getInstance(s);if(!i||i._config.autoClose===!1)continue;const r=e.composedPath(),o=r.includes(i._menu);if(r.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===vE||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const l={relatedTarget:i._element};e.type==="click"&&(l.clickEvent=e),i._completeHide(l)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),s=e.key===D$,i=[x$,yE].includes(e.key);if(!i&&!s||n&&!s)return;e.preventDefault();const r=this.matches(yo)?this:Re.prev(this,yo)[0]||Re.next(this,yo)[0]||Re.findOne(yo,e.delegateTarget.parentNode),o=xs.getOrCreateInstance(r);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}ie.on(document,$I,yo,xs.dataApiKeydownHandler);ie.on(document,$I,dh,xs.dataApiKeydownHandler);ie.on(document,MI,xs.clearMenus);ie.on(document,F$,xs.clearMenus);ie.on(document,MI,yo,function(t){t.preventDefault(),xs.getOrCreateInstance(this).toggle()});As(xs);const FI="backdrop",r4="fade",EE="show",bE=`mousedown.bs.${FI}`,o4={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},a4={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class UI extends Jc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return o4}static get DefaultType(){return a4}static get NAME(){return FI}show(e){if(!this._config.isVisible){Wn(e);return}this._append();const n=this._getElement();this._config.isAnimated&&Xc(n),n.classList.add(EE),this._emulateAnimation(()=>{Wn(e)})}hide(e){if(!this._config.isVisible){Wn(e);return}this._getElement().classList.remove(EE),this._emulateAnimation(()=>{this.dispose(),Wn(e)})}dispose(){this._isAppended&&(ie.off(this._element,bE),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(r4),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Or(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ie.on(e,bE,()=>{Wn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){II(e,this._getElement(),this._config.isAnimated)}}const l4="focustrap",c4="bs.focustrap",Yh=`.${c4}`,u4=`focusin${Yh}`,h4=`keydown.tab${Yh}`,d4="Tab",f4="forward",wE="backward",p4={autofocus:!0,trapElement:null},m4={autofocus:"boolean",trapElement:"element"};class jI extends Jc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return p4}static get DefaultType(){return m4}static get NAME(){return l4}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ie.off(document,Yh),ie.on(document,u4,e=>this._handleFocusin(e)),ie.on(document,h4,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ie.off(document,Yh))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const s=Re.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===wE?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===d4&&(this._lastTabNavDirection=e.shiftKey?wE:f4)}}const TE=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",AE=".sticky-top",Hu="padding-right",IE="margin-right";class Gp{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Hu,n=>n+e),this._setElementAttributes(TE,Hu,n=>n+e),this._setElementAttributes(AE,IE,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Hu),this._resetElementAttributes(TE,Hu),this._resetElementAttributes(AE,IE)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,s){const i=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,n);const l=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${s(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,n){const s=e.style.getPropertyValue(n);s&&Ci.setDataAttribute(e,n,s)}_resetElementAttributes(e,n){const s=i=>{const r=Ci.getDataAttribute(i,n);if(r===null){i.style.removeProperty(n);return}Ci.removeDataAttribute(i,n),i.style.setProperty(n,r)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,n){if(Si(e)){n(e);return}for(const s of Re.find(e,this._element))n(s)}}const g4="modal",_4="bs.modal",Ts=`.${_4}`,v4=".data-api",y4="Escape",E4=`hide${Ts}`,b4=`hidePrevented${Ts}`,BI=`hidden${Ts}`,HI=`show${Ts}`,w4=`shown${Ts}`,T4=`resize${Ts}`,A4=`click.dismiss${Ts}`,I4=`mousedown.dismiss${Ts}`,S4=`keydown.dismiss${Ts}`,C4=`click${Ts}${v4}`,SE="modal-open",R4="fade",CE="show",Wf="modal-static",P4=".modal.show",O4=".modal-dialog",k4=".modal-body",D4='[data-bs-toggle="modal"]',x4={backdrop:!0,focus:!0,keyboard:!0},N4={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Vo extends Ms{constructor(e,n){super(e,n),this._dialog=Re.findOne(O4,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Gp,this._addEventListeners()}static get Default(){return x4}static get DefaultType(){return N4}static get NAME(){return g4}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ie.trigger(this._element,HI,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(SE),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||ie.trigger(this._element,E4).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(CE),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ie.off(window,Ts),ie.off(this._dialog,Ts),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new UI({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new jI({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=Re.findOne(k4,this._dialog);n&&(n.scrollTop=0),Xc(this._element),this._element.classList.add(CE);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ie.trigger(this._element,w4,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){ie.on(this._element,S4,e=>{if(e.key===y4){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ie.on(window,T4,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ie.on(this._element,I4,e=>{ie.one(this._element,A4,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(SE),this._resetAdjustments(),this._scrollBar.reset(),ie.trigger(this._element,BI)})}_isAnimated(){return this._element.classList.contains(R4)}_triggerBackdropTransition(){if(ie.trigger(this._element,b4).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(Wf)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Wf),this._queueCallback(()=>{this._element.classList.remove(Wf),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!e){const i=ws()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!s&&e){const i=ws()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const s=Vo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](n)}})}}ie.on(document,C4,D4,function(t){const e=Re.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),ie.one(e,HI,i=>{i.defaultPrevented||ie.one(e,BI,()=>{al(this)&&this.focus()})});const n=Re.findOne(P4);n&&Vo.getInstance(n).hide(),Vo.getOrCreateInstance(e).toggle(this)});jd(Vo);As(Vo);const L4="offcanvas",V4="bs.offcanvas",Ui=`.${V4}`,qI=".data-api",M4=`load${Ui}${qI}`,$4="Escape",RE="show",PE="showing",OE="hiding",F4="offcanvas-backdrop",WI=".offcanvas.show",U4=`show${Ui}`,j4=`shown${Ui}`,B4=`hide${Ui}`,kE=`hidePrevented${Ui}`,zI=`hidden${Ui}`,H4=`resize${Ui}`,q4=`click${Ui}${qI}`,W4=`keydown.dismiss${Ui}`,z4='[data-bs-toggle="offcanvas"]',K4={backdrop:!0,keyboard:!0,scroll:!1},G4={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Dr extends Ms{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return K4}static get DefaultType(){return G4}static get NAME(){return L4}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||ie.trigger(this._element,U4,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Gp().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(PE);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(RE),this._element.classList.remove(PE),ie.trigger(this._element,j4,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||ie.trigger(this._element,B4).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(OE),this._backdrop.hide();const n=()=>{this._element.classList.remove(RE,OE),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Gp().reset(),ie.trigger(this._element,zI)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){ie.trigger(this._element,kE);return}this.hide()},n=!!this._config.backdrop;return new UI({className:F4,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new jI({trapElement:this._element})}_addEventListeners(){ie.on(this._element,W4,e=>{if(e.key===$4){if(this._config.keyboard){this.hide();return}ie.trigger(this._element,kE)}})}static jQueryInterface(e){return this.each(function(){const n=Dr.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}ie.on(document,q4,z4,function(t){const e=Re.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),kr(this))return;ie.one(e,zI,()=>{al(this)&&this.focus()});const n=Re.findOne(WI);n&&n!==e&&Dr.getInstance(n).hide(),Dr.getOrCreateInstance(e).toggle(this)});ie.on(window,M4,()=>{for(const t of Re.find(WI))Dr.getOrCreateInstance(t).show()});ie.on(window,H4,()=>{for(const t of Re.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Dr.getOrCreateInstance(t).hide()});jd(Dr);As(Dr);const Q4=/^aria-[\w-]*$/i,KI={"*":["class","dir","id","lang","role",Q4],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Y4=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),X4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,J4=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?Y4.has(n)?!!X4.test(t.nodeValue):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(n))};function Z4(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const i=new window.DOMParser().parseFromString(t,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const o of r){const l=o.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){o.remove();continue}const c=[].concat(...o.attributes),h=[].concat(e["*"]||[],e[l]||[]);for(const d of c)J4(d,h)||o.removeAttribute(d.nodeName)}return i.body.innerHTML}const eF="TemplateFactory",tF={allowList:KI,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},nF={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},sF={entry:"(string|element|function|null)",selector:"(string|element)"};class iF extends Jc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return tF}static get DefaultType(){return nF}static get NAME(){return eF}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(e,r,i);const n=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,s]of Object.entries(e))super._typeCheckConfig({selector:n,entry:s},sF)}_setContent(e,n,s){const i=Re.findOne(s,e);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(Si(n)){this._putElementInTemplate(Or(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(e){return this._config.sanitize?Z4(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Wn(e,[void 0,this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const rF="tooltip",oF=new Set(["sanitize","allowList","sanitizeFn"]),zf="fade",aF="modal",qu="show",lF=".tooltip-inner",DE=`.${aF}`,xE="hide.bs.modal",Bl="hover",Kf="focus",cF="click",uF="manual",hF="hide",dF="hidden",fF="show",pF="shown",mF="inserted",gF="click",_F="focusin",vF="focusout",yF="mouseenter",EF="mouseleave",bF={AUTO:"auto",TOP:"top",RIGHT:ws()?"left":"right",BOTTOM:"bottom",LEFT:ws()?"right":"left"},wF={allowList:KI,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},TF={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class cl extends Ms{constructor(e,n){if(typeof EI>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return wF}static get DefaultType(){return TF}static get NAME(){return rF}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ie.off(this._element.closest(DE),xE,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=ie.trigger(this._element,this.constructor.eventName(fF)),s=(TI(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),ie.trigger(this._element,this.constructor.eventName(mF))),this._popper=this._createPopper(i),i.classList.add(qu),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))ie.on(l,"mouseover",Gh);const o=()=>{ie.trigger(this._element,this.constructor.eventName(pF)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ie.trigger(this._element,this.constructor.eventName(hF)).defaultPrevented)return;if(this._getTipElement().classList.remove(qu),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ie.off(i,"mouseover",Gh);this._activeTrigger[cF]=!1,this._activeTrigger[Kf]=!1,this._activeTrigger[Bl]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ie.trigger(this._element,this.constructor.eventName(dF)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(zf,qu),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=c2(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(zf),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new iF({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[lF]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(zf)}_isShown(){return this.tip&&this.tip.classList.contains(qu)}_createPopper(e){const n=Wn(this._config.placement,[this,e,this._element]),s=bF[n.toUpperCase()];return Pg(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return Wn(e,[this._element,this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...Wn(this._config.popperConfig,[void 0,n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")ie.on(this._element,this.constructor.eventName(gF),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==uF){const s=n===Bl?this.constructor.eventName(yF):this.constructor.eventName(_F),i=n===Bl?this.constructor.eventName(EF):this.constructor.eventName(vF);ie.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusin"?Kf:Bl]=!0,o._enter()}),ie.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusout"?Kf:Bl]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ie.on(this._element.closest(DE),xE,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=Ci.getDataAttributes(this._element);for(const s of Object.keys(n))oF.has(s)&&delete n[s];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Or(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,s]of Object.entries(this._config))this.constructor.Default[n]!==s&&(e[n]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=cl.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}As(cl);const AF="popover",IF=".popover-header",SF=".popover-body",CF={...cl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},RF={...cl.DefaultType,content:"(null|string|element|function)"};class xg extends cl{static get Default(){return CF}static get DefaultType(){return RF}static get NAME(){return AF}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[IF]:this._getTitle(),[SF]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=xg.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}As(xg);const PF="scrollspy",OF="bs.scrollspy",Ng=`.${OF}`,kF=".data-api",DF=`activate${Ng}`,NE=`click${Ng}`,xF=`load${Ng}${kF}`,NF="dropdown-item",pa="active",LF='[data-bs-spy="scroll"]',Gf="[href]",VF=".nav, .list-group",LE=".nav-link",MF=".nav-item",$F=".list-group-item",FF=`${LE}, ${MF} > ${LE}, ${$F}`,UF=".dropdown",jF=".dropdown-toggle",BF={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},HF={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class qd extends Ms{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return BF}static get DefaultType(){return HF}static get NAME(){return PF}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Or(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ie.off(this._config.target,NE),ie.on(this._config.target,NE,Gf,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const s=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:i,behavior:"smooth"});return}s.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const l=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&l){if(s(o),!i)return;continue}!r&&!l&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Re.find(Gf,this._config.target);for(const n of e){if(!n.hash||kr(n))continue;const s=Re.findOne(decodeURI(n.hash),this._element);al(s)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(pa),this._activateParents(e),ie.trigger(this._element,DF,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(NF)){Re.findOne(jF,e.closest(UF)).classList.add(pa);return}for(const n of Re.parents(e,VF))for(const s of Re.prev(n,FF))s.classList.add(pa)}_clearActiveClass(e){e.classList.remove(pa);const n=Re.find(`${Gf}.${pa}`,e);for(const s of n)s.classList.remove(pa)}static jQueryInterface(e){return this.each(function(){const n=qd.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ie.on(window,xF,()=>{for(const t of Re.find(LF))qd.getOrCreateInstance(t)});As(qd);const qF="tab",WF="bs.tab",qo=`.${WF}`,zF=`hide${qo}`,KF=`hidden${qo}`,GF=`show${qo}`,QF=`shown${qo}`,YF=`click${qo}`,XF=`keydown${qo}`,JF=`load${qo}`,ZF="ArrowLeft",VE="ArrowRight",e3="ArrowUp",ME="ArrowDown",Qf="Home",$E="End",Eo="active",FE="fade",Yf="show",t3="dropdown",GI=".dropdown-toggle",n3=".dropdown-menu",Xf=`:not(${GI})`,s3='.list-group, .nav, [role="tablist"]',i3=".nav-item, .list-group-item",r3=`.nav-link${Xf}, .list-group-item${Xf}, [role="tab"]${Xf}`,QI='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Jf=`${r3}, ${QI}`,o3=`.${Eo}[data-bs-toggle="tab"], .${Eo}[data-bs-toggle="pill"], .${Eo}[data-bs-toggle="list"]`;class Ja extends Ms{constructor(e){super(e),this._parent=this._element.closest(s3),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ie.on(this._element,XF,n=>this._keydown(n)))}static get NAME(){return qF}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),s=n?ie.trigger(n,zF,{relatedTarget:e}):null;ie.trigger(e,GF,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(Eo),this._activate(Re.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Yf);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ie.trigger(e,QF,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(FE))}_deactivate(e,n){if(!e)return;e.classList.remove(Eo),e.blur(),this._deactivate(Re.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Yf);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ie.trigger(e,KF,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(FE))}_keydown(e){if(![ZF,VE,e3,ME,Qf,$E].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(i=>!kr(i));let s;if([Qf,$E].includes(e.key))s=n[e.key===Qf?0:n.length-1];else{const i=[VE,ME].includes(e.key);s=Og(n,e.target,i,!0)}s&&(s.focus({preventScroll:!0}),Ja.getOrCreateInstance(s).show())}_getChildren(){return Re.find(Jf,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",n),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=Re.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const s=this._getOuterElement(e);if(!s.classList.contains(t3))return;const i=(r,o)=>{const l=Re.findOne(r,s);l&&l.classList.toggle(o,n)};i(GI,Eo),i(n3,Yf),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,s){e.hasAttribute(n)||e.setAttribute(n,s)}_elemIsActive(e){return e.classList.contains(Eo)}_getInnerElement(e){return e.matches(Jf)?e:Re.findOne(Jf,e)}_getOuterElement(e){return e.closest(i3)||e}static jQueryInterface(e){return this.each(function(){const n=Ja.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ie.on(document,YF,QI,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!kr(this)&&Ja.getOrCreateInstance(this).show()});ie.on(window,JF,()=>{for(const t of Re.find(o3))Ja.getOrCreateInstance(t)});As(Ja);const a3="toast",l3="bs.toast",jr=`.${l3}`,c3=`mouseover${jr}`,u3=`mouseout${jr}`,h3=`focusin${jr}`,d3=`focusout${jr}`,f3=`hide${jr}`,p3=`hidden${jr}`,m3=`show${jr}`,g3=`shown${jr}`,_3="fade",UE="hide",Wu="show",zu="showing",v3={animation:"boolean",autohide:"boolean",delay:"number"},y3={animation:!0,autohide:!0,delay:5e3};class Wd extends Ms{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return y3}static get DefaultType(){return v3}static get NAME(){return a3}show(){if(ie.trigger(this._element,m3).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(_3);const n=()=>{this._element.classList.remove(zu),ie.trigger(this._element,g3),this._maybeScheduleHide()};this._element.classList.remove(UE),Xc(this._element),this._element.classList.add(Wu,zu),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||ie.trigger(this._element,f3).defaultPrevented)return;const n=()=>{this._element.classList.add(UE),this._element.classList.remove(zu,Wu),ie.trigger(this._element,p3)};this._element.classList.add(zu),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Wu),super.dispose()}isShown(){return this._element.classList.contains(Wu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){ie.on(this._element,c3,e=>this._onInteraction(e,!0)),ie.on(this._element,u3,e=>this._onInteraction(e,!1)),ie.on(this._element,h3,e=>this._onInteraction(e,!0)),ie.on(this._element,d3,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Wd.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}jd(Wd);As(Wd);const E3={name:"Footer",data(){return{modalInstance:null,selectedLangue:"fr",selectedDevise:"EUR",langues:[{value:"fr",text:"Franais"},{value:"en",text:"Anglais"},{value:"es",text:"Espagnol"}],devises:[{value:"EUR",text:"Euro ()"},{value:"USD",text:"Dollar ($)"},{value:"GBP",text:"Livre ()"}]}},mounted(){const t=this.$refs.preferencesModal;this.modalInstance=new Vo(t);const e=localStorage.getItem("langue"),n=localStorage.getItem("devise");e&&(this.selectedLangue=e),n&&(this.selectedDevise=n)},methods:{getLangueText(t){const e=this.langues.find(n=>n.value===t);return e?e.text:"Langue"},getDeviseText(t){const e=this.devises.find(n=>n.value===t);return e?e.text:"Devise"},openModal(){this.modalInstance&&this.modalInstance.show()},appliquerPreferences(){localStorage.setItem("langue",this.selectedLangue),localStorage.setItem("devise",this.selectedDevise),this.modalInstance&&this.modalInstance.hide()}}},b3={class:"modal fade",id:"preferencesModal",ref:"preferencesModal",tabindex:"-1","aria-labelledby":"preferencesModalLabel","aria-hidden":"true"},w3={class:"modal-dialog modal-dialog-centered"},T3={class:"modal-content"},A3={class:"modal-body"},I3={class:"mb-3"},S3=["value"],C3={class:"mb-3"},R3=["value"],P3={class:"modal-footer"};function O3(t,e,n,s,i,r){return ee(),se("footer",null,[e[8]||(e[8]=bh('<p class="footer-text" data-v-788f7ea2> 2025 Instant Geek</p><div class="footer-links" data-v-788f7ea2><a class="footer-link" href="/about" data-v-788f7ea2> propos</a> | <a class="footer-link" href="/privacy-policy" data-v-788f7ea2>Politique de confidentialit</a> | <a class="footer-link" href="/terms-of-service" data-v-788f7ea2>Conditions de ventes</a> | <a class="footer-link" href="/contact" data-v-788f7ea2>Nous Contacter</a></div>',2)),v("div",null,[v("button",{class:"footer-button btn btn-primary",onClick:e[0]||(e[0]=(...o)=>r.openModal&&r.openModal(...o))},pe(r.getLangueText(i.selectedLangue))+" | "+pe(r.getDeviseText(i.selectedDevise)),1)]),v("div",b3,[v("div",w3,[v("div",T3,[e[7]||(e[7]=v("div",{class:"modal-header"},[v("h5",{class:"modal-title",id:"preferencesModalLabel"},"Prfrences"),v("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),v("div",A3,[v("form",null,[v("div",I3,[e[4]||(e[4]=v("label",{for:"langueSelect",class:"form-label"},"Langue :",-1)),zt(v("select",{class:"form-select",id:"langueSelect","onUpdate:modelValue":e[1]||(e[1]=o=>i.selectedLangue=o)},[(ee(!0),se(He,null,Ot(i.langues,o=>(ee(),se("option",{key:o.value,value:o.value},pe(o.text),9,S3))),128))],512),[[Co,i.selectedLangue]])]),v("div",C3,[e[5]||(e[5]=v("label",{for:"deviseSelect",class:"form-label"},"Devise :",-1)),zt(v("select",{class:"form-select",id:"deviseSelect","onUpdate:modelValue":e[2]||(e[2]=o=>i.selectedDevise=o)},[(ee(!0),se(He,null,Ot(i.devises,o=>(ee(),se("option",{key:o.value,value:o.value},pe(o.text),9,R3))),128))],512),[[Co,i.selectedDevise]])])])]),v("div",P3,[e[6]||(e[6]=v("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Annuler",-1)),v("button",{type:"button",class:"btn btn-primary",onClick:e[3]||(e[3]=(...o)=>r.appliquerPreferences&&r.appliquerPreferences(...o))},"Appliquer")])])])],512)])}const ul=tn(E3,[["render",O3],["__scopeId","data-v-788f7ea2"]]),k3="/assets/img/Logo.png";async function D3(t,e,n){const i=(await oL(Fi,t,e)).user,r=t.split("@")[0];return await MA(i,{displayName:r}),await qc(is(Bt,"users",i.uid),{uid:i.uid,email:i.email,displayName:r,createdAt:new Date}),i}async function x3(t,e){return(await aL(Fi,t,e)).user}async function N3(){const t=new bi,n=(await xL(Fi,t)).user,s=is(Bt,"users",n.uid),i=await ko(s),r={uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL};return i.exists()||(r.createdAt=new Date),await qc(s,r,{merge:!0}),n}async function L3(){await dL(Fi)}async function V3(t){await rL(Fi,t)}async function M3(t){const e=Fi.currentUser;if(!e)throw new Error("Aucun utilisateur n'est actuellement connect.");const n=Bo.credential(e.email,t);await iL(e,n);const s=e.uid,i=is(Bt,"users",s);await Zx(i),await fL(e)}async function $3(t,e){if(!t)throw new Error("UID de l'utilisateur non fourni.");const n=is(Bt,"users",t);if(await Mp(n,e),e.displayName){const s=Fi.currentUser;s&&await MA(s,{displayName:e.displayName})}}function jE(t,e,n){const s=new Date;s.setTime(s.getTime()+n*24*60*60*1e3),document.cookie=`${t}=${e};expires=${s.toUTCString()};path=/`}function F3(t){const e=document.cookie.split(";");for(let n=0;n<e.length;n++){const s=e[n].trim();if(s.startsWith(`${t}=`))return s.substring(t.length+1)}return null}const Oc=Ie(F3("dark-mode")==="active");function YI(){Oc.value?(document.body.classList.add("dark-mode"),jE("dark-mode","active",365)):(document.body.classList.remove("dark-mode"),jE("dark-mode","inactive",365))}YI();const BE=()=>{Oc.value=!Oc.value,YI()},ln=Ie(""),Ku="guestCart",zd=dm("cart",()=>{const t=Ie([]),e=xa();let n=null;const s=kt(()=>t.value.reduce((E,I)=>E+I.quantity,0)),i=kt(()=>t.value.reduce((I,x)=>I+x.price*x.quantity,0).toFixed(2));async function r(){if(e.isLoggedIn&&e.user){const E=is(Bt,"users",e.user.uid,"privateData","cart");await qc(E,{items:JSON.parse(JSON.stringify(t.value))})}}function o(){e.isLoggedIn||localStorage.setItem(Ku,JSON.stringify(t.value))}function l(E){const I=t.value.find(x=>x.id===E.id);I?I.quantity++:t.value.push({...E,quantity:1}),e.isLoggedIn?r():o()}function c(E){t.value=t.value.filter(I=>I.id!==E),e.isLoggedIn?r():o()}function h(E){const I=t.value.find(x=>x.id===E);I&&I.quantity++,e.isLoggedIn?r():o()}function d(E){const I=t.value.find(x=>x.id===E);if(I&&I.quantity>1)I.quantity--;else if(I&&I.quantity===1){c(E);return}e.isLoggedIn?r():o()}function p(){t.value=[],e.isLoggedIn?r():o()}async function g(){ns(()=>e.user,async(E,I)=>{if(n&&(n(),n=null),E){const x=is(Bt,"users",E.uid,"privateData","cart"),N=JSON.parse(localStorage.getItem(Ku)||"[]"),j=await ko(x),U=[...j.exists()?j.data().items:[]];N.forEach(B=>{const ne=U.find(re=>re.id===B.id);ne?ne.quantity+=B.quantity:U.push(B)}),t.value=U,await r(),localStorage.removeItem(Ku),n=eN(x,B=>{t.value=B.exists()?B.data().items:[]})}else{const x=JSON.parse(localStorage.getItem(Ku)||"[]");t.value=x}},{immediate:!0})}return{items:t,totalItems:s,totalPrice:i,addItem:l,removeItem:c,increaseQuantity:h,decreaseQuantity:d,clearCart:p,init:g}}),U3={class:"navbar navbar-expand-lg shadow-sm"},j3={class:"container-fluid"},B3={class:"navbar-center-content flex-grow-1 d-flex justify-content-center align-items-center"},H3={class:"ig-stepper"},q3={class:"navbar-nav d-none d-lg-flex position-absolute top-50 start-50 translate-middle"},W3={class:"nav-item"},z3={class:"nav-item"},K3={class:"nav-item"},G3={class:"d-flex align-items-center ms-auto"},Q3={class:"nav-item dropdown"},Y3={key:0,class:"bi bi-person-fill connected-profile-icon navbar-icon"},X3={key:1,class:"bi bi-person-circle navbar-icon"},J3={key:0},Z3={class:"dropdown-header"},eU={class:"d-lg-none"},tU={class:"d-lg-none"},nU={class:"d-lg-none"},sU={key:1,class:"d-lg-none"},iU={key:2},rU={key:3},oU={class:"badge bg-danger rounded-pill"},aU={key:4},lU={key:5},cU={key:6},uU={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger cart-badge"},hU={__name:"Navbar",setup(t){const e=Lc(),n=Ew(),s=xa(),i=Qc(),r=zd(),o=Ie(!1);let l=null;const c=Ie(!1),h=Ie(!1),d=Ie(null),p=Ie(null),g=Ie(!1),E=Ie(null),I=()=>{e.push({path:"/recherche"})},x=()=>{ln.value.trim()!==""&&n.query.q!==ln.value.trim()&&(c.value=!0,e.push({path:"/recherche",query:{q:ln.value}}))},N=()=>{x()},j=()=>{x()},$=()=>{h.value=!h.value,h.value?wo(()=>{var O;return(O=d.value)==null?void 0:O.focus()}):ln.value=""},U=()=>{h.value=!1,ln.value=""},B=()=>{setTimeout(()=>{p.value&&!p.value.contains(document.activeElement)&&U()},150)},ne=()=>{g.value=!g.value,g.value?(o.value&&(l==null||l.hide()),wo(()=>{var O;return(O=E.value)==null?void 0:O.focus()})):ln.value=""},re=()=>{g.value=!1,ln.value=""},D=async()=>{try{await L3()}catch(O){console.error("Erreur lors de la dconnexion :",O)}},S=()=>{l&&(o.value?l.hide():l.show()),g.value&&re()};zn(()=>{n.path==="/recherche"&&n.query.q&&(ln.value=n.query.q);const O=document.getElementById("navbarDropdownProfile");O&&(l=new xs(O),O.addEventListener("show.bs.dropdown",()=>o.value=!0),O.addEventListener("hide.bs.dropdown",()=>o.value=!1))}),ns(ln,O=>{O.trim()!==""?x():n.path==="/recherche"&&e.push("/")}),ns(()=>n.fullPath,(O,A)=>{O!==A&&(c.value?(wo(()=>{h.value&&d.value?d.value.focus():g.value&&E.value&&E.value.focus()}),c.value=!1):(o.value&&(l==null||l.hide()),h.value&&U(),g.value&&re()))},{flush:"post"});const T=kt(()=>["/panier","/paiement","/validation"].includes(n.path)),R=kt(()=>{switch(n.path){case"/panier":return 1;case"/paiement":return 2;case"/validation":return 3;default:return 0}});return(O,A)=>{const C=ls("router-link");return ee(),se("nav",U3,[v("div",j3,[me(C,{class:"navbar-brand fw-bold me-auto",to:"/"},{default:ut(()=>A[3]||(A[3]=[v("img",{src:k3,alt:"Logo",width:"150",height:"50",class:"d-inline-block align-text-top"},null,-1)])),_:1}),T.value?(ee(),se(He,{key:0},[v("div",B3,[v("div",H3,[v("div",{class:Jt(["step",{completed:R.value>1,active:R.value===1}])},A[4]||(A[4]=[v("div",{class:"step-circle"},"1",-1),v("div",{class:"step-label d-none d-sm-block"},"Panier",-1)]),2),v("div",{class:Jt(["step-line",{completed:R.value>=2}])},null,2),v("div",{class:Jt(["step",{completed:R.value>2,active:R.value===2}])},A[5]||(A[5]=[v("div",{class:"step-circle"},"2",-1),v("div",{class:"step-label d-none d-sm-block"},"Paiement",-1)]),2),v("div",{class:Jt(["step-line",{completed:R.value>=3}])},null,2),v("div",{class:Jt(["step",{completed:R.value>3,active:R.value===3}])},A[6]||(A[6]=[v("div",{class:"step-circle"},"3",-1),v("div",{class:"step-label d-none d-sm-block"},"Validation",-1)]),2)])]),A[7]||(A[7]=bh('<div class="secure-payment-cart d-none d-md-flex align-items-center ms-auto" data-v-391b5dbe><i class="bi bi-check-circle-fill secure-icon-cart me-2" data-v-391b5dbe></i><div class="text-end" data-v-391b5dbe><span class="secure-text-cart d-block" data-v-391b5dbe>Paiement scuris</span><span class="ssl-text-cart d-block" data-v-391b5dbe>SSL Secured</span></div></div>',1))],64)):(ee(),se(He,{key:1},[v("form",{class:Jt(["search-form-mobile d-lg-none",{active:g.value}]),onSubmit:dr(j,["prevent"])},[zt(v("input",{class:"form-control me-2 search-input-mobile",type:"search",placeholder:"Rechercher...","aria-label":"Search","onUpdate:modelValue":A[0]||(A[0]=xe=>Dt(ln)?ln.value=xe:null),ref_key:"searchInputMobileRef",ref:E},null,512),[[Jn,tt(ln)]]),v("button",{class:"btn search-filter-btn-mobile",type:"button",onClick:I},A[8]||(A[8]=[v("i",{class:"bi bi-filter"},null,-1)])),v("button",{class:"btn search-close-btn-mobile",type:"button",onClick:re},A[9]||(A[9]=[v("i",{class:"bi bi-x-lg"},null,-1)]))],34),v("ul",q3,[v("li",W3,[me(C,{class:"nav-link",to:"/nouveautes"},{default:ut(()=>A[10]||(A[10]=[St("Nouveauts")])),_:1})]),v("li",z3,[me(C,{class:"nav-link",to:"/precommandes"},{default:ut(()=>A[11]||(A[11]=[St("Prcommandes")])),_:1})]),v("li",K3,[me(C,{class:"nav-link",to:"/prochaines-sorties"},{default:ut(()=>A[12]||(A[12]=[St("Prochaines sorties")])),_:1})])]),v("div",G3,[me(H_,{name:"fade"},{default:ut(()=>[g.value?fn("",!0):(ee(),se("button",{key:0,class:"btn btn-outline-secondary d-lg-none search-icon-mobile",type:"button",onClick:ne},A[13]||(A[13]=[v("i",{class:"bi bi-search navbar-icon"},null,-1)])))]),_:1}),me(H_,{name:"fade"},{default:ut(()=>[h.value?fn("",!0):(ee(),se("button",{key:0,class:"btn btn-outline-secondary d-none d-lg-block search-icon-desktop",type:"button",onClick:$},A[14]||(A[14]=[v("i",{class:"bi bi-search navbar-icon"},null,-1)])))]),_:1}),v("form",{class:Jt(["search-form d-none d-lg-flex",{active:h.value}]),onSubmit:dr(N,["prevent"]),ref_key:"searchFormRef",ref:p},[zt(v("input",{class:"form-control me-2 search-input",type:"search",placeholder:"Rechercher...","aria-label":"Search","onUpdate:modelValue":A[1]||(A[1]=xe=>Dt(ln)?ln.value=xe:null),ref_key:"searchInputRef",ref:d,onBlur:B},null,544),[[Jn,tt(ln)]]),h.value?(ee(),se("button",{key:0,class:"btn search-filter-btn",type:"button",onClick:I},A[15]||(A[15]=[v("i",{class:"bi bi-filter"},null,-1)]))):fn("",!0),h.value?(ee(),se("button",{key:1,class:"btn search-close-btn",type:"button",onClick:U},A[16]||(A[16]=[v("i",{class:"bi bi-x-lg"},null,-1)]))):fn("",!0)],34),v("div",Q3,[v("a",{class:"nav-link text ms-2 dropdown-toggle-no-caret",href:"#",id:"navbarDropdownProfile",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:S},[tt(s).isLoggedIn?(ee(),se("i",Y3)):(ee(),se("i",X3))]),v("ul",{class:Jt(["dropdown-menu dropdown-menu-end profile-dropdown-menu",{show:o.value}]),"aria-labelledby":"navbarDropdownProfile"},[tt(s).isLoggedIn?(ee(),se("li",J3,[v("span",Z3,"Bienvenue, "+pe(tt(s).currentUsername)+"!",1),A[17]||(A[17]=v("hr",{class:"dropdown-divider"},null,-1))])):fn("",!0),v("li",eU,[me(C,{class:"dropdown-item",to:"/nouveautes"},{default:ut(()=>A[18]||(A[18]=[St("Nouveauts")])),_:1})]),v("li",tU,[me(C,{class:"dropdown-item",to:"/precommandes"},{default:ut(()=>A[19]||(A[19]=[St("Prcommandes")])),_:1})]),v("li",nU,[me(C,{class:"dropdown-item",to:"/prochaines-sorties"},{default:ut(()=>A[20]||(A[20]=[St("Prochaines sorties")])),_:1})]),tt(s).isLoggedIn?fn("",!0):(ee(),se("li",sU,A[21]||(A[21]=[v("hr",{class:"dropdown-divider"},null,-1)]))),tt(s).isLoggedIn?(ee(),se("li",iU,[me(C,{class:"dropdown-item",to:"/mes-achats"},{default:ut(()=>A[22]||(A[22]=[St("Mes achats")])),_:1})])):fn("",!0),tt(s).isLoggedIn?(ee(),se("li",rU,[me(C,{class:"dropdown-item d-flex justify-content-between align-items-center",to:"/wishlist"},{default:ut(()=>[A[23]||(A[23]=St("Wishlist ")),v("span",oU,pe(tt(i).wishlistCount),1)]),_:1})])):fn("",!0),tt(s).isLoggedIn?(ee(),se("li",aU,[me(C,{class:"dropdown-item",to:"/parametres"},{default:ut(()=>A[24]||(A[24]=[St("Paramtres")])),_:1})])):fn("",!0),tt(s).isLoggedIn?(ee(),se("li",lU,A[25]||(A[25]=[v("hr",{class:"dropdown-divider"},null,-1)]))):fn("",!0),v("li",null,[v("button",{class:"dropdown-item d-flex justify-content-between align-items-center",onClick:A[2]||(A[2]=dr((...xe)=>tt(BE)&&tt(BE)(...xe),["stop"]))},[v("span",null,pe(tt(Oc)?"Mode clair":"Mode sombre"),1),v("i",{class:Jt(tt(Oc)?"bi bi-sun-fill":"bi bi-moon-stars-fill")},null,2)])]),tt(s).isLoggedIn?(ee(),se("li",cU,A[26]||(A[26]=[v("hr",{class:"dropdown-divider"},null,-1)]))):fn("",!0),v("li",null,[tt(s).isLoggedIn?(ee(),se("a",{key:1,class:"dropdown-item custom-auth-link",href:"#",onClick:dr(D,["prevent"])},"Dconnexion")):(ee(),cm(C,{key:0,class:"dropdown-item custom-auth-link",to:"/connexion"},{default:ut(()=>A[27]||(A[27]=[St("Se connecter")])),_:1}))])],2)]),me(C,{class:"nav-link text ms-2 position-relative",to:"/panier"},{default:ut(()=>[A[29]||(A[29]=v("i",{class:"bi bi-cart3 navbar-icon"},null,-1)),tt(r).totalItems>0?(ee(),se("span",uU,[St(pe(tt(r).totalItems)+" ",1),A[28]||(A[28]=v("span",{class:"visually-hidden"},"articles dans le panier",-1))])):fn("",!0)]),_:1})])],64))])])}}},Br=tn(hU,[["__scopeId","data-v-391b5dbe"]]),dU={__name:"Accueil",setup(t){return(e,n)=>(ee(),se(He,null,[me(Br),me(UV),me(QV),me(uM),me(yM),me(ul)],64))}},fU={class:"container-fluid py-2 preco",id:"main-content"},pU={id:"precoIn"},mU={class:"game-card"},gU=["src","alt"],_U={class:"game-text"},vU={class:"titre"},yU={class:"prix"},EU={class:"dateSortie"},bU={__name:"NewGames",setup(t){const e=Ie([]),n=async()=>{const s=Mr(Bt,"games"),i=new Date;i.setHours(0,0,0,0);const r=new Date(i);r.setDate(i.getDate()-180);const o=jo(s,Pr("dateSortie",">=",r),Pr("dateSortie","<=",i),Hc("dateSortie"));try{const l=await $r(o);e.value=[],l.forEach(c=>{const h=c.data();e.value.push({id:c.id,titre:h.name,link:h.link,image:h.image,price:`${h.price}`,date:h.dateSortie.toDate().toLocaleDateString("fr-FR")})})}catch(l){console.error("Erreur lors de la rcupration des jeux :",l)}};return zn(()=>{n()}),(s,i)=>{const r=ls("router-link");return ee(),se("div",fU,[v("div",null,[i[0]||(i[0]=v("h1",{class:"mt-3 mb-5"},"Nouveauts",-1)),v("ul",pU,[(ee(!0),se(He,null,Ot(e.value,o=>(ee(),se("li",{key:o.id},[v("div",mU,[me(r,{class:"nav-link",to:`/game/${o.id}`},{default:ut(()=>[v("img",{src:`/assets/img/preview/${o.image}`,alt:o.titre},null,8,gU)]),_:2},1032,["to"]),v("div",_U,[v("h3",vU,pe(o.titre),1),v("h3",yU,pe(o.price),1)]),v("p",EU,pe(o.date),1)])]))),128))])])])}}},wU=tn(bU,[["__scopeId","data-v-1f773c91"]]),TU={__name:"Nouveautes",setup(t){return(e,n)=>(ee(),se(He,null,[me(Br),v("div",null,[me(wU)]),me(ul)],64))}},AU={class:"container-fluid py-2 preco",id:"main-content"},IU={id:"precoIn"},SU={class:"game-card"},CU=["src","alt"],RU={class:"game-text"},PU={class:"titre"},OU={class:"prix"},kU={class:"dateSortie"},DU={__name:"PrecoPage",setup(t){const e=Ie([]),n=async()=>{const s=Mr(Bt,"games"),i=new Date;i.setHours(0,0,0,0);const r=jo(s,Pr("dateSortie",">=",i),Hc("dateSortie"));try{const o=await $r(r);e.value=[],o.forEach(l=>{const c=l.data();e.value.push({id:l.id,titre:c.name,link:c.link,image:c.image,price:`${c.price}`,date:c.dateSortie.toDate().toLocaleDateString("fr-FR")})})}catch(o){console.error("Erreur lors de la rcupration des jeux :",o)}};return zn(()=>{n()}),(s,i)=>{const r=ls("router-link");return ee(),se("div",AU,[v("div",null,[i[0]||(i[0]=v("h1",{class:"mt-3"},"Prcommandes",-1)),i[1]||(i[1]=v("p",{class:"mb-5"},"Rservez ds maintenant les articles  venir.",-1)),v("ul",IU,[(ee(!0),se(He,null,Ot(e.value,o=>(ee(),se("li",{key:o.id},[v("div",SU,[me(r,{class:"nav-link",to:`/game/${o.id}`},{default:ut(()=>[v("img",{src:`/assets/img/preview/${o.image}`,alt:o.titre},null,8,CU)]),_:2},1032,["to"]),v("div",RU,[v("h3",PU,pe(o.titre),1),v("h3",OU,pe(o.price),1)]),v("p",kU,pe(o.date),1)])]))),128))])])])}}},xU=tn(DU,[["__scopeId","data-v-18b1776a"]]),NU={__name:"Precommandes",setup(t){return(e,n)=>(ee(),se(He,null,[me(Br),v("div",null,[me(xU)]),me(ul)],64))}},LU={class:"container-fluid py-2 preco",id:"main-content"},VU={id:"precoIn"},MU={class:"game-card GameJuill"},$U=["href"],FU=["src","alt"],UU={class:"game-text"},jU={class:"titre"},BU={class:"prix"},HU={class:"dateSortie"},qU={id:"precoIn"},WU={class:"game-card GameAout"},zU=["href"],KU=["src","alt"],GU={class:"game-text"},QU={class:"titre"},YU={class:"prix"},XU={class:"dateSortie"},JU={id:"precoIn"},ZU={class:"game-card GameAout"},e6=["href"],t6=["src","alt"],n6={class:"game-text"},s6={class:"titre"},i6={class:"prix"},r6={class:"dateSortie"},o6={id:"precoIn"},a6={class:"game-card GameAout"},l6=["href"],c6=["src","alt"],u6={class:"game-text"},h6={class:"titre"},d6={class:"prix"},f6={class:"dateSortie"},p6={id:"precoIn"},m6={class:"game-card GameAout"},g6=["href"],_6=["src","alt"],v6={class:"game-text"},y6={class:"titre"},E6={class:"prix"},b6={class:"dateSortie"},w6={id:"precoIn"},T6={class:"game-card GameAout"},A6=["href"],I6=["src","alt"],S6={class:"game-text"},C6={class:"titre"},R6={class:"prix"},P6={class:"dateSortie"},O6={__name:"PlanningSortie",setup(t){const e=Ie([]),n=Ie([]),s=Ie([]),i=Ie([]),r=Ie([]),o=Ie([]),l=async()=>{const c=Mr(Bt,"games"),h=new Date("2025-07-01T00:00:00"),d=new Date("2025-12-31T23:59:59"),p=jo(c,Pr("dateSortie",">=",h),Pr("dateSortie","<=",d),Hc("dateSortie"));try{const g=await $r(p);e.value=[],n.value=[],s.value=[],i.value=[],r.value=[],o.value=[],g.forEach(E=>{const I=E.data(),x=I.dateSortie.toDate(),N={id:E.id,titre:I.name,link:I.link,image:I.image,price:`${I.price}`,date:x.toLocaleDateString("fr-FR")};switch(x.getMonth()){case 6:e.value.push(N);break;case 7:n.value.push(N);break;case 8:s.value.push(N);break;case 9:i.value.push(N);break;case 10:r.value.push(N);break;case 11:o.value.push(N);break}})}catch(g){console.error("Erreur lors de la rcupration des jeux :",g)}};return zn(()=>{l()}),(c,h)=>(ee(),se("div",LU,[v("div",null,[h[0]||(h[0]=v("h1",{class:"mt-3 mb-5"},"Prochaines sorties",-1)),h[1]||(h[1]=v("h2",{class:"text-center"},[v("u",null,"Juillet")],-1)),h[2]||(h[2]=v("br",null,null,-1)),v("ul",VU,[(ee(!0),se(He,null,Ot(e.value,d=>(ee(),se("li",{key:d.id},[v("div",MU,[v("a",{href:d.link},[v("img",{src:`/assets/img/preview/${d.image}`,alt:d.titre},null,8,FU)],8,$U),v("div",UU,[v("h3",jU,pe(d.titre),1),v("h3",BU,pe(d.price),1)]),v("p",HU,pe(d.date),1)])]))),128))]),h[3]||(h[3]=v("h2",{class:"text-center mt-4 mb-5"},[v("u",null,"Aot")],-1)),v("ul",qU,[(ee(!0),se(He,null,Ot(n.value,d=>(ee(),se("li",{key:d.id},[v("div",WU,[v("a",{href:d.link},[v("img",{src:`/assets/img/preview/${d.image}`,alt:d.titre},null,8,KU)],8,zU),v("div",GU,[v("h3",QU,pe(d.titre),1),v("h3",YU,pe(d.price),1)]),v("p",XU,pe(d.date),1)])]))),128))]),h[4]||(h[4]=v("h2",{class:"text-center mt-4 mb-5"},[v("u",null,"Septembre")],-1)),v("ul",JU,[(ee(!0),se(He,null,Ot(s.value,d=>(ee(),se("li",{key:d.id},[v("div",ZU,[v("a",{href:d.link},[v("img",{src:`/assets/img/preview/${d.image}`,alt:d.titre},null,8,t6)],8,e6),v("div",n6,[v("h3",s6,pe(d.titre),1),v("h3",i6,pe(d.price),1)]),v("p",r6,pe(d.date),1)])]))),128))]),h[5]||(h[5]=v("h2",{class:"text-center mt-4 mb-5"},[v("u",null,"Octobre")],-1)),v("ul",o6,[(ee(!0),se(He,null,Ot(i.value,d=>(ee(),se("li",{key:d.id},[v("div",a6,[v("a",{href:d.link},[v("img",{src:`/assets/img/preview/${d.image}`,alt:d.titre},null,8,c6)],8,l6),v("div",u6,[v("h3",h6,pe(d.titre),1),v("h3",d6,pe(d.price),1)]),v("p",f6,pe(d.date),1)])]))),128))]),h[6]||(h[6]=v("h2",{class:"text-center mt-4 mb-5"},[v("u",null,"Novembre")],-1)),v("ul",p6,[(ee(!0),se(He,null,Ot(r.value,d=>(ee(),se("li",{key:d.id},[v("div",m6,[v("a",{href:d.link},[v("img",{src:`/assets/img/preview/${d.image}`,alt:d.titre},null,8,_6)],8,g6),v("div",v6,[v("h3",y6,pe(d.titre),1),v("h3",E6,pe(d.price),1)]),v("p",b6,pe(d.date),1)])]))),128))]),h[7]||(h[7]=v("h2",{class:"text-center mt-4 mb-5"},[v("u",null,"Dcembre")],-1)),v("ul",w6,[(ee(!0),se(He,null,Ot(o.value,d=>(ee(),se("li",{key:d.id},[v("div",T6,[v("a",{href:d.link},[v("img",{src:`/assets/img/preview/${d.image}`,alt:d.titre},null,8,I6)],8,A6),v("div",S6,[v("h3",C6,pe(d.titre),1),v("h3",R6,pe(d.price),1)]),v("p",P6,pe(d.date),1)])]))),128))])])]))}},k6=tn(O6,[["__scopeId","data-v-fca069ad"]]),D6={__name:"ProchainesSorties",setup(t){return(e,n)=>(ee(),se(He,null,[me(Br),v("div",null,[me(k6)]),me(ul)],64))}},x6="/assets/img/inscription.jpg",N6={class:"login-page-wrapper vh-100 d-flex align-items-center justify-content-center"},L6={class:"login-card-container d-flex shadow-lg"},V6={class:"login-form-section p-4 d-flex flex-column justify-content-center align-items-center text-center"},M6={class:"form-group mb-3 text-start"},$6={class:"form-group mb-3 text-start"},F6={class:"form-group mb-3 text-start"},U6={class:"form-group mb-3 text-start"},j6={class:"form-group mb-3 text-start"},B6={class:"form-group mb-4 text-start"},H6=["value"],q6={class:"d-flex justify-content-center w-100 mt-4 small-links"},W6={class:"login-image-section d-none d-md-flex align-items-center justify-content-center p-0"},z6={__name:"Inscription",setup(t){const e=Ie(""),n=Ie(""),s=Ie(""),i=Ie(""),r=Ie(""),o=Ie(""),l=Ie([]),c=Lc();async function h(){try{const p=await fetch("https://restcountries.com/v3.1/all?fields=name,cca3");if(!p.ok)throw new Error("Failed to fetch countries");const g=await p.json();l.value=g.sort((E,I)=>E.name.common.localeCompare(I.name.common))}catch(p){console.error(p.message)}}zn(()=>{h()});async function d(){const p=new Date,g=new Date(r.value),E=new Date(p.getFullYear()-18,p.getMonth(),p.getDate());if(g>E){alert("Vous devez avoir au moins 18 ans pour vous inscrire.");return}try{const I=await D3(e.value,n.value);if(I&&I.uid)await qc(is(Bt,"users",I.uid),{email:e.value,username:s.value,firstname:i.value,birthdate:r.value,country:o.value,createdAt:new Date},{merge:!0}),alert("Compte cr avec succs !"),c.push("/");else throw new Error("L'utilisateur n'a pas t cr correctement par Firebase.")}catch(I){alert("Erreur lors de l'inscription : "+I.message)}}return(p,g)=>{const E=ls("router-link");return ee(),se("div",N6,[v("div",L6,[v("div",V6,[g[15]||(g[15]=v("h2",{class:"login-title mb-4 text-white"},"inscription",-1)),v("form",{onSubmit:dr(d,["prevent"]),class:"w-100"},[v("div",M6,[g[6]||(g[6]=v("label",{for:"email",class:"form-label text-uppercase text-white-50"},"Email",-1)),zt(v("input",{id:"email","onUpdate:modelValue":g[0]||(g[0]=I=>e.value=I),type:"email",class:"form-control login-input",required:"","aria-label":"Email"},null,512),[[Jn,e.value]])]),v("div",$6,[g[7]||(g[7]=v("label",{for:"password",class:"form-label text-uppercase text-white-50"},"Mot de passe",-1)),zt(v("input",{id:"password","onUpdate:modelValue":g[1]||(g[1]=I=>n.value=I),type:"password",class:"form-control login-input",required:"","aria-label":"Mot de passe"},null,512),[[Jn,n.value]])]),v("div",F6,[g[8]||(g[8]=v("label",{for:"username",class:"form-label text-uppercase text-white-50"},"Nom",-1)),zt(v("input",{id:"username","onUpdate:modelValue":g[2]||(g[2]=I=>s.value=I),type:"text",class:"form-control login-input",required:"","aria-label":"Nom d'utilisateur"},null,512),[[Jn,s.value]])]),v("div",U6,[g[9]||(g[9]=v("label",{for:"firstname",class:"form-label text-uppercase text-white-50"},"Prnom",-1)),zt(v("input",{id:"firstname","onUpdate:modelValue":g[3]||(g[3]=I=>i.value=I),type:"text",class:"form-control login-input",required:"","aria-label":"Prnom"},null,512),[[Jn,i.value]])]),v("div",j6,[g[10]||(g[10]=v("label",{for:"birthdate",class:"form-label text-uppercase text-white-50"},"Date de naissance",-1)),zt(v("input",{id:"birthdate","onUpdate:modelValue":g[4]||(g[4]=I=>r.value=I),type:"date",class:"form-control login-input",required:"","aria-label":"Date de naissance"},null,512),[[Jn,r.value]])]),v("div",B6,[g[12]||(g[12]=v("label",{for:"country",class:"form-label text-uppercase text-white-50"},"Pays",-1)),zt(v("select",{id:"country","onUpdate:modelValue":g[5]||(g[5]=I=>o.value=I),class:"form-control login-input",required:"","aria-label":"Pays"},[g[11]||(g[11]=v("option",{disabled:"",value:""},"Veuillez slectionner un pays",-1)),(ee(!0),se(He,null,Ot(l.value,I=>(ee(),se("option",{key:I.cca3,value:I.name.common},pe(I.name.common),9,H6))),128))],512),[[Co,o.value]])]),g[13]||(g[13]=v("button",{type:"submit",class:"btn login-btn w-100"},"valider",-1))],32),v("div",q6,[me(E,{to:"/connexion",class:"text-decoration-none text-white-50"},{default:ut(()=>g[14]||(g[14]=[v("i",{class:"bi bi-arrow-left me-2"},null,-1),St(" RETOUR ")])),_:1})])]),v("div",W6,[me(E,{to:"/",class:"close-button","aria-label":"Retour  l'accueil"},{default:ut(()=>g[16]||(g[16]=[v("i",{class:"bi bi-x-lg"},null,-1)])),_:1}),g[17]||(g[17]=v("img",{src:x6,alt:"Illustration de jeux vido pour l'inscription",class:"img-fluid login-background-image"},null,-1))])])])}}},K6=tn(z6,[["__scopeId","data-v-8a284661"]]),G6="/assets/img/connexion.jpg",Q6={class:"login-page-wrapper vh-100 d-flex align-items-center justify-content-center"},Y6={class:"login-card-container d-flex shadow-lg"},X6={class:"login-form-section p-4 d-flex flex-column justify-content-center align-items-center text-center"},J6={class:"form-group mb-3 text-start"},Z6={class:"form-group mb-4 text-start"},e9={class:"d-flex justify-content-between w-100 mt-3 small-links"},t9={class:"login-image-section d-none d-md-flex align-items-center justify-content-center p-0"},n9={__name:"Connexion",setup(t){const e=Ie(""),n=Ie(""),s=Lc();async function i(){try{await x3(e.value,n.value),alert("Connexion russie !"),s.push("/")}catch(l){alert("Erreur lors de la connexion : "+l.message)}}async function r(){try{await N3(),alert("Connexion Google russie !"),s.push("/")}catch(l){alert("Erreur avec Google : "+l.message)}}async function o(){if(!e.value){alert('Veuillez entrer votre adresse email dans le champ "Email" pour rinitialiser votre mot de passe.');return}try{await V3(e.value),alert("Un e-mail de rinitialisation de mot de passe a t envoy  "+e.value+". Veuillez vrifier votre bote de rception.")}catch(l){alert("Erreur lors de l'envoi de l'e-mail de rinitialisation : "+l.message)}}return(l,c)=>{const h=ls("router-link");return ee(),se("div",Q6,[v("div",Y6,[v("div",X6,[c[9]||(c[9]=v("h2",{class:"login-title mb-4"},"Se connecter",-1)),v("div",{class:"social-icons d-flex justify-content-center w-100 mb-4"},[v("button",{onClick:r,class:"btn social-icon-btn google-btn me-3","aria-label":"Se connecter avec Google"},c[2]||(c[2]=[v("i",{class:"bi bi-google"},null,-1)])),c[3]||(c[3]=v("button",{class:"btn social-icon-btn discord-btn me-3","aria-label":"Se connecter avec Discord"},[v("i",{class:"bi bi-discord"})],-1)),c[4]||(c[4]=v("button",{class:"btn social-icon-btn facebook-btn","aria-label":"Se connecter avec Facebook"},[v("i",{class:"bi bi-facebook"})],-1))]),c[10]||(c[10]=v("div",{class:"social-login-separator my-3"}," ou ",-1)),v("form",{onSubmit:dr(i,["prevent"]),class:"w-100"},[v("div",J6,[c[5]||(c[5]=v("label",{for:"email",class:"form-label text-uppercase"},"Email",-1)),zt(v("input",{id:"email","onUpdate:modelValue":c[0]||(c[0]=d=>e.value=d),type:"email",class:"form-control login-input",required:"","aria-label":"Email"},null,512),[[Jn,e.value]])]),v("div",Z6,[c[6]||(c[6]=v("label",{for:"password",class:"form-label text-uppercase"},"Mot de passe",-1)),zt(v("input",{id:"password","onUpdate:modelValue":c[1]||(c[1]=d=>n.value=d),type:"password",class:"form-control login-input",required:"","aria-label":"Mot de passe"},null,512),[[Jn,n.value]])]),c[7]||(c[7]=v("button",{type:"submit",class:"btn login-btn w-100"},"Se connecter",-1))],32),v("div",e9,[me(h,{to:"/inscription",class:"text-decoration-none"},{default:ut(()=>c[8]||(c[8]=[St(" J'ai besoin de compte ? ")])),_:1}),v("a",{href:"#",onClick:dr(o,["prevent"]),class:"text-decoration-none"}," Mot de passe oubli ? ")])]),v("div",t9,[me(h,{to:"/",class:"close-button","aria-label":"Retour  l'accueil"},{default:ut(()=>c[11]||(c[11]=[v("i",{class:"bi bi-x-lg"},null,-1)])),_:1}),c[12]||(c[12]=v("img",{src:G6,alt:"Illustration de jeux vido",class:"img-fluid login-background-image"},null,-1))])])])}}},s9=tn(n9,[["__scopeId","data-v-6422ba25"]]),i9={class:"panier-container container py-5",id:"main-content"},r9={class:"row g-4 mt-4"},o9={class:"col-lg-8"},a9={class:"cart-items-list"},l9={key:0,class:"empty-cart-message"},c9=["src","alt"],u9={class:"item-details"},h9={class:"item-name"},d9={class:"item-price-unit"},f9={class:"item-quantity-controls"},p9=["onClick"],m9={class:"quantity-display"},g9=["onClick"],_9={class:"item-subtotal"},v9={class:"mb-0"},y9=["onClick"],E9={class:"col-lg-4"},b9={class:"order-summary"},w9={class:"summary-details mt-4"},T9={class:"d-flex justify-content-between fw-bold summary-total-final"},A9={class:"display-6"},I9=["disabled"],S9={__name:"Panier",setup(t){const e=zd();return Lc(),(n,s)=>{const i=ls("router-link");return ee(),se(He,null,[me(Br),v("div",i9,[v("div",r9,[v("div",o9,[v("div",a9,[tt(e).items.length===0?(ee(),se("div",l9,[s[1]||(s[1]=v("i",{class:"bi bi-bag-fill empty-cart-icon"},null,-1)),s[2]||(s[2]=v("h3",null,"Votre panier est vide.",-1)),s[3]||(s[3]=v("p",null,"Dcouvrez notre catalogue de jeux et remplissez votre collection !",-1)),me(i,{to:"/",class:"btn btn-primary mt-3"},{default:ut(()=>s[0]||(s[0]=[St("Explorer le catalogue")])),_:1})])):(ee(!0),se(He,{key:1},Ot(tt(e).items,r=>(ee(),se("div",{key:r.id,class:"cart-item"},[v("img",{src:r.image,alt:r.name,class:"item-image"},null,8,c9),v("div",u9,[v("h5",h9,pe(r.name),1),v("p",d9,pe(r.price)+" ",1)]),v("div",f9,[v("button",{class:"btn-quantity",onClick:o=>tt(e).decreaseQuantity(r.id)},s[4]||(s[4]=[v("i",{class:"bi bi-dash"},null,-1)]),8,p9),v("span",m9,pe(r.quantity),1),v("button",{class:"btn-quantity",onClick:o=>tt(e).increaseQuantity(r.id)},s[5]||(s[5]=[v("i",{class:"bi bi-plus"},null,-1)]),8,g9)]),v("div",_9,[v("p",v9,pe((r.price*r.quantity).toFixed(2))+" ",1)]),v("button",{class:"btn-delete",onClick:o=>tt(e).removeItem(r.id)},s[6]||(s[6]=[v("i",{class:"bi bi-trash-fill"},null,-1)]),8,y9)]))),128))])]),v("div",E9,[v("div",b9,[s[10]||(s[10]=v("h3",{class:"summary-title"},"RSUM DE LA COMMANDE",-1)),v("div",w9,[v("div",T9,[s[7]||(s[7]=v("span",null,"TOTAL :",-1)),v("span",A9,pe(tt(e).totalPrice)+" ",1)]),s[8]||(s[8]=v("p",{class:"mt-3 text-muted small"}," *Livraison instantane par cl numrique. ",-1))]),v("button",{class:"btn-validate",disabled:tt(e).items.length===0}," VALIDER MA COMMANDE ",8,I9),me(i,{to:"/",class:"btn btn-continue-shopping mt-3"},{default:ut(()=>s[9]||(s[9]=[St(" Continuer mes achats ")])),_:1})])])])])],64)}}},C9=tn(S9,[["__scopeId","data-v-09e86819"]]),R9={key:0,class:"similar"},P9={class:"row"},O9={class:"media-scroller snaps-inline",id:"similarIn"},k9={class:"game-card mt-4 mb-5"},D9=["src","alt"],x9={class:"game-text"},N9={class:"titre"},L9={class:"prix"},V9={__name:"SimilarGames",props:{tags:{type:Array,required:!0},currentGameId:{type:String,required:!0}},setup(t){const e=t,n=Ie([]);return ns(()=>e.tags,async()=>{const i=Mr(Bt,"games"),r=[];(await $r(i)).forEach(l=>{const c=l.data(),h=c.tag||[];if(l.id!==e.currentGameId){const d=h.filter(p=>e.tags.includes(p));d.length>=2&&r.push({id:l.id,titre:c.name,image:c.image,price:`${c.price}`,commonTagCount:d.length})}}),r.sort((l,c)=>c.commonTagCount-l.commonTagCount),n.value=r.slice(0,12)},{immediate:!0}),(i,r)=>{const o=ls("router-link");return n.value.length?(ee(),se("div",R9,[r[1]||(r[1]=v("h2",null,"Jeux similaires",-1)),v("div",P9,[v("ul",O9,[(ee(!0),se(He,null,Ot(n.value,l=>(ee(),se("div",{key:l.id,class:"col-6 col-md-3 mb-4"},[me(o,{to:`/game/${l.id}`,class:"text-decoration-none"},{default:ut(()=>[v("div",k9,[me(o,{class:"nav-link",to:`/game/${l.id}`},{default:ut(()=>[v("img",{src:`/assets/img/preview/${l.image}`,alt:l.titre},null,8,D9)]),_:2},1032,["to"]),v("div",x9,[v("h3",N9,pe(l.titre)+" :",1),v("h3",L9,pe(l.price),1)]),r[0]||(r[0]=v("h2",null,null,-1))])]),_:2},1032,["to"])]))),128))])])])):fn("",!0)}}},M9=tn(V9,[["__scopeId","data-v-17334b8b"]]),$9={key:0,class:"container-fluid py-2 gameDetail",id:"main-content"},F9={key:0},U9={class:"title"},j9={class:"game-info"},B9={class:"tags"},H9={class:"tag-list"},q9={class:"synopsis"},W9={class:"game-details"},z9={class:"infos"},K9={class:"infos1"},G9={class:"paltform"},Q9={class:"price"},Y9={class:"buttons"},X9={class:"description"},J9={key:1},Z9=["src","alt"],e5={class:"desktop"},t5={class:"title"},n5={class:"game-info"},s5={class:"tags"},i5={class:"tag-list"},r5={class:"synopsis"},o5={class:"game-details"},a5={class:"infos"},l5={class:"infos1"},c5={class:"paltform"},u5={class:"price"},h5={class:"buttons"},d5={class:"description"},f5={key:1},p5={__name:"GameDetail",setup(t){const e=zd(),n=Qc(),s=Ew(),i=Ie(s.params.id),r=Ie(null),o=async g=>{try{const E=is(Bt,"games",g),I=await ko(E);if(I.exists()){const x=I.data();r.value={id:I.id,titre:x.name,link:x.link,image:x.image,price:`${Number(x.price).toFixed(2)}`,date:x.dateSortie.toDate().toLocaleDateString("fr-FR"),description:x.description,tags:x.tag,platform:x.plateforme,hero:x.hero}}else router.replace({name:"NotFound"})}catch(E){console.error("Erreur lors de la rcupration du jeu :",E)}},l=kt(()=>{var g;return(g=r.value)!=null&&g.id?n.isInWishlist(r.value.id):!1}),c=()=>{var g;(g=r.value)!=null&&g.id&&(l.value?n.removeFromWishlist(r.value.id):n.addToWishlist(r.value.id))};function h(){e.addItem({id:r.value.id,name:r.value.titre,image:r.value.hero,price:parseFloat(r.value.price)})}ns(()=>s.params.id,g=>{i.value=g,o(g)});const d=Ie(window.innerWidth<768),p=()=>{d.value=window.innerWidth<768};return zn(()=>{i.value&&o(i.value),window.addEventListener("resize",p)}),ad(()=>{window.removeEventListener("resize",p)}),ns(()=>s.params.id,g=>{g&&(i.value=g,o(g))}),(g,E)=>r.value?(ee(),se("div",$9,[d.value?(ee(),se("div",F9,[v("div",{class:"background",style:Io({backgroundImage:`url(/assets/img/preview/${r.value.image})`})},[v("h1",U9,pe(r.value.titre),1),v("div",j9,[v("h3",B9,[v("ul",H9,[(ee(!0),se(He,null,Ot(r.value.tags,(I,x)=>(ee(),se("li",{key:x,class:"tag"},pe(I),1))),128))])]),v("p",q9,[me(jp,{text:r.value.description,maxLength:200},null,8,["text"])])])],4),v("div",W9,[v("div",z9,[v("div",K9,[v("div",G9,[v("h3",null,pe(r.value.platform),1)]),E[0]||(E[0]=v("p",null,"|",-1)),E[1]||(E[1]=v("div",{class:"stock"},[v("h3",null,"En stock")],-1))]),v("h3",Q9,pe(r.value.price),1)]),v("div",Y9,[v("button",{class:Jt(["favorite",{"in-wishlist":l.value}]),onClick:c},[v("i",{class:Jt(["bi",l.value?"bi-heart-fill":"bi-heart"])},null,2)],2),v("button",{class:"cart",onClick:h},E[2]||(E[2]=[v("h3",null,"Ajouter au panier",-1),St(),v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[St("!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--> "),v("path",{d:"M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"})],-1)]))]),v("div",X9,[E[3]||(E[3]=v("h3",null,"Description",-1)),St(" "+pe(r.value.description),1)])])])):(ee(),se("div",J9,[v("div",{class:"background",style:Io({backgroundImage:`url(${r.value.hero})`})},[v("div",null,[v("img",{src:`/assets/img/preview/${r.value.image}`,alt:r.value.titre},null,8,Z9)]),v("div",e5,[v("h1",t5,pe(r.value.titre),1),v("div",n5,[v("h3",s5,[v("ul",i5,[(ee(!0),se(He,null,Ot(r.value.tags,(I,x)=>(ee(),se("li",{key:x,class:"tag"},pe(I),1))),128))])]),v("p",r5,[me(jp,{text:r.value.description,maxLength:450},null,8,["text"])])]),v("div",o5,[v("div",a5,[v("div",l5,[v("div",c5,[v("h3",null,pe(r.value.platform),1)]),E[4]||(E[4]=v("p",null,"|",-1)),E[5]||(E[5]=v("div",{class:"stock"},[v("h3",null,"En stock")],-1))]),v("h3",u5,pe(r.value.price),1)]),v("div",h5,[v("button",{class:Jt(["favorite",{"in-wishlist":l.value}]),onClick:c},[v("i",{class:Jt(["bi",l.value?"bi-heart-fill":"bi-heart"])},null,2),v("span",null,pe(l.value?"Dans la wishlist":"Ajouter aux favoris"),1)],2),v("button",{class:"cart",onClick:h},E[6]||(E[6]=[v("h3",null,"Ajouter au panier",-1),St(),v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[St("!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--> "),v("path",{d:"M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"})],-1)]))])])])],4),v("div",d5,[E[7]||(E[7]=v("h3",null,"Description",-1)),St(" "+pe(r.value.description),1)])])),me(M9,{tags:r.value.tags,currentGameId:r.value.id},null,8,["tags","currentGameId"])])):(ee(),se("div",f5,E[8]||(E[8]=[v("p",null,"Chargement du jeu...",-1)])))}},m5=tn(p5,[["__scopeId","data-v-5d29e58c"]]),HE={__name:"GameDetailPage",setup(t){return(e,n)=>(ee(),se(He,null,[me(Br),v("div",null,[me(m5)]),me(ul)],64))}},g5={};function _5(t,e){const n=ls("router-link");return ee(),se("div",null,[e[1]||(e[1]=v("h1",null,"404 - Page introuvable",-1)),e[2]||(e[2]=v("p",null,"Cette page n'existe pas.",-1)),me(n,{to:"/"},{default:ut(()=>e[0]||(e[0]=[St("Retour  l'accueil")])),_:1})])}const qE=tn(g5,[["render",_5]]),v5={class:"container-fluid py-2 preco",id:"main-content"},y5={id:"filter"},E5={class:"price"},b5={id:"precoIn"},w5={class:"game-card"},T5=["href"],A5=["src","alt"],I5={class:"game-text"},S5={class:"titre"},C5={class:"prix"},R5={class:"dateSortie"},P5={key:0,class:"text-center mt-2"},O5={__name:"Search",setup(t){const e=Ie([]),n=Ie([]),s=Ie(""),i=Ie(""),r=Ie(null),o=Ie(null),l=async()=>{const h=Mr(Bt,"games"),d=jo(h,Hc("name"));try{const p=await $r(d);e.value=[],p.forEach(g=>{const E=g.data();e.value.push({id:g.id,titre:E.name,link:E.link,image:E.image,plateforme:E.plateforme,price:`${E.price}`,date:E.dateSortie.toDate().toLocaleDateString("fr-FR"),tag:E.tag||[]})}),c()}catch(p){console.error("Erreur lors de la rcupration des jeux :",p)}};function c(){let h=e.value;ln.value&&(h=h.filter(d=>d.titre.toLowerCase().includes(ln.value.toLowerCase()))),s.value&&(h=h.filter(d=>d.plateforme.includes(s.value))),i.value&&(h=h.filter(d=>d.tag.includes(i.value))),r.value!==null&&r.value!==""&&(h=h.filter(d=>parseFloat(d.price.replace("",""))>=r.value)),o.value!==null&&o.value!==""&&(h=h.filter(d=>parseFloat(d.price.replace("",""))<=o.value)),n.value=h}return ns([ln,s,i],c),zn(()=>{l()}),(h,d)=>(ee(),se("div",v5,[v("div",null,[d[10]||(d[10]=v("h1",{class:"mt-3 mb-5"},"Recherche",-1)),v("form",y5,[zt(v("select",{"onUpdate:modelValue":d[0]||(d[0]=p=>s.value=p),onChange:c,class:"form-select"},d[4]||(d[4]=[bh('<option value="" data-v-6fd9a345>Systmes</option><option value="Steam" data-v-6fd9a345>Steam</option><option value="Switch" data-v-6fd9a345>Nintendo Switch</option><option value="Playstation" data-v-6fd9a345>PlayStation</option><option value="Xbox" data-v-6fd9a345>Xbox Series</option>',5)]),544),[[Co,s.value]]),zt(v("select",{"onUpdate:modelValue":d[1]||(d[1]=p=>i.value=p),onChange:c,class:"form-select"},d[5]||(d[5]=[bh('<option value="" data-v-6fd9a345>Genres</option><option value="Action" data-v-6fd9a345>Action</option><option value="Aventure" data-v-6fd9a345>Aventure</option><option value="Histoire" data-v-6fd9a345>Histoire</option><option value="Horreur" data-v-6fd9a345>Horreur</option><option value="Indies" data-v-6fd9a345>Indies</option><option value="Infiltration" data-v-6fd9a345>Infiltration</option><option value="Multijoueur" data-v-6fd9a345>Multijoueur</option><option value="RPG" data-v-6fd9a345>RPG</option><option value="Difficult" data-v-6fd9a345>Difficult</option><option value="FPS" data-v-6fd9a345>FPS</option><option value="Roguelite" data-v-6fd9a345>Roguelite</option><option value="Sport" data-v-6fd9a345>Sport</option><option value="Anime" data-v-6fd9a345>Anime</option><option value="Gestion" data-v-6fd9a345>Gestion</option><option value="Stratgie" data-v-6fd9a345>Stratgie</option><option value="Course" data-v-6fd9a345>Course</option><option value="Simulation" data-v-6fd9a345>Simulation</option>',18)]),544),[[Co,i.value]]),v("div",E5,[d[6]||(d[6]=v("span",null,"Entre",-1)),zt(v("input",{type:"number","onUpdate:modelValue":d[2]||(d[2]=p=>r.value=p),placeholder:"Prix min",onInput:c,class:"form-control"},null,544),[[Jn,r.value]]),d[7]||(d[7]=v("span",null,"",-1)),zt(v("input",{type:"number","onUpdate:modelValue":d[3]||(d[3]=p=>o.value=p),placeholder:"Prix max",onInput:c,class:"form-control"},null,544),[[Jn,o.value]]),d[8]||(d[8]=v("span",null,"",-1))])]),v("ul",b5,[(ee(!0),se(He,null,Ot(n.value,p=>(ee(),se("li",{key:p.id},[v("div",w5,[v("a",{href:p.link},[v("img",{src:`/assets/img/preview/${p.image}`,alt:p.titre},null,8,A5)],8,T5),v("div",I5,[v("h3",S5,pe(p.titre),1),v("h3",C5,pe(p.price),1)]),v("p",R5,pe(p.date),1)])]))),128))]),n.value.length===0?(ee(),se("div",P5,d[9]||(d[9]=[v("h4",null,"Aucun jeu trouv pour cette recherche.",-1)]))):fn("",!0)])]))}},k5=tn(O5,[["__scopeId","data-v-6fd9a345"]]),D5={__name:"Recherche",setup(t){return(e,n)=>(ee(),se(He,null,[me(Br),v("div",null,[me(k5)]),me(ul)],64))}},x5={class:"settings-page-wrapper"},N5={class:"container py-5"},L5={class:"row justify-content-center"},V5={class:"col-md-8"},M5={class:"card"},$5={class:"card-body"},F5={key:0,class:"alert alert-success"},U5={key:1,class:"alert alert-warning"},j5={class:"mb-3 text-start"},B5=["value"],H5={class:"row"},q5={class:"col-md-6 mb-3 text-start"},W5={class:"col-md-6 mb-3 text-start"},z5={class:"mb-3 text-start"},K5={key:0,value:""},G5=["value"],Q5={__name:"Parametres",setup(t){const e=Lc(),n=Fi.currentUser,s=Ie(""),i=Ie(""),r=Ie(""),o=Ie([]),l=Ie(""),c=Ie("");async function h(){try{const E=await fetch("https://restcountries.com/v3.1/all?fields=name,cca3");if(!E.ok)throw new Error("Failed to fetch countries");const I=await E.json();o.value=I.sort((x,N)=>x.name.common.localeCompare(N.name.common))}catch(E){console.error(E.message)}}zn(async()=>{if(n){const E=is(Bt,"users",n.uid),I=await ko(E);if(I.exists()){const x=I.data();s.value=x.firstname||"",i.value=x.username||"",r.value=x.country||""}}await h()});async function d(){if(l.value="",c.value="",!n){c.value="Utilisateur non trouv.";return}const E={firstname:s.value,username:i.value,country:r.value,displayName:`${s.value} ${i.value}`};try{await $3(n.uid,E),l.value="Vos informations ont t mises  jour avec succs !"}catch(I){console.error("Erreur lors de la mise  jour du profil:",I),c.value="Une erreur est survenue lors de la mise  jour."}}function p(){e.back()}async function g(){if(c.value="",!confirm("tes-vous absolument certain de vouloir supprimer votre compte ? Cette action est irrversible."))return;const I=prompt("Pour confirmer la suppression, veuillez entrer votre mot de passe :");if(!I){c.value="La suppression a t annule. Mot de passe non fourni.";return}try{await M3(I),alert("Votre compte a t supprim avec succs."),e.push("/")}catch(x){console.error("Erreur lors de la suppression du compte:",x),x.code==="auth/wrong-password"?c.value="Mot de passe incorrect. La suppression a t annule.":c.value="Une erreur est survenue lors de la suppression du compte."}}return(E,I)=>{var x;return ee(),se("div",x5,[v("div",N5,[v("div",L5,[v("div",V5,[v("div",M5,[I[13]||(I[13]=v("div",{class:"card-header"},[v("h1",null,"Paramtres du compte")],-1)),v("div",$5,[I[11]||(I[11]=v("h3",{class:"mb-3"},"Informations Personnelles",-1)),l.value?(ee(),se("div",F5,pe(l.value),1)):fn("",!0),c.value?(ee(),se("div",U5,pe(c.value),1)):fn("",!0),v("form",{onSubmit:dr(d,["prevent"])},[v("div",j5,[I[3]||(I[3]=v("label",{for:"email",class:"form-label"},"Adresse e-mail",-1)),v("input",{type:"email",id:"email",class:"form-control",value:(x=tt(n))==null?void 0:x.email,disabled:""},null,8,B5),I[4]||(I[4]=v("div",{class:"form-text"},"L'adresse e-mail ne peut pas tre modifie.",-1))]),v("div",H5,[v("div",q5,[I[5]||(I[5]=v("label",{for:"firstname",class:"form-label"},"Prnom",-1)),zt(v("input",{type:"text",id:"firstname",class:"form-control","onUpdate:modelValue":I[0]||(I[0]=N=>s.value=N)},null,512),[[Jn,s.value]])]),v("div",W5,[I[6]||(I[6]=v("label",{for:"username",class:"form-label"},"Nom",-1)),zt(v("input",{type:"text",id:"username",class:"form-control","onUpdate:modelValue":I[1]||(I[1]=N=>i.value=N)},null,512),[[Jn,i.value]])])]),v("div",z5,[I[7]||(I[7]=v("label",{for:"country",class:"form-label"},"Pays",-1)),zt(v("select",{id:"country",class:"form-control","onUpdate:modelValue":I[2]||(I[2]=N=>r.value=N)},[r.value?fn("",!0):(ee(),se("option",K5,"Slectionnez votre pays")),(ee(!0),se(He,null,Ot(o.value,N=>(ee(),se("option",{key:N.cca3,value:N.name.common},pe(N.name.common),9,G5))),128))],512),[[Co,r.value]])]),I[8]||(I[8]=v("button",{type:"submit",class:"btn btn-primary w-100"},"Sauvegarder les modifications",-1))],32),I[12]||(I[12]=v("hr",{class:"my-4"},null,-1)),v("div",{class:"alert alert-danger"},[I[9]||(I[9]=v("h4",{class:"alert-heading"},"Zone de Danger",-1)),I[10]||(I[10]=v("p",null," La suppression de votre compte est une action permanente et irrversible. ",-1)),v("button",{onClick:g,class:"btn btn-danger"}," Supprimer mon compte ")]),v("div",{class:"mt-4 text-center"},[v("button",{onClick:p,class:"btn btn-secondary"},"Retour")])])])])])])])}}},Y5=tn(Q5,[["__scopeId","data-v-9346893c"]]),X5={class:"container py-5"},J5={class:"mb-4"},Z5={class:"d-flex justify-content-end mb-4"},ej={key:0,class:"text-center"},tj={key:1,class:"text-center p-5 empty-wishlist-card"},nj={key:2,class:"row g-4"},sj={class:"card h-100 game-card"},ij=["src","alt"],rj={class:"card-body d-flex flex-column"},oj={class:"card-title"},aj={class:"card-text mt-auto mb-2 price"},lj=["onClick"],cj={__name:"Wishlist",setup(t){const e=Qc(),n=Ie([]),s=Ie(!1),i=Ie("default"),r=c=>{const h=c.data(),d=h.dateSortie.toDate();return{id:c.id,titre:h.name,link:h.link,image:h.image,hero:h.hero,price:`${h.price.toFixed(2)}`,numericPrice:h.price,date:d.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),dateObject:d,description:h.description,tags:h.tag,platform:h.plateforme}},o=kt(()=>{const c=[...n.value];switch(i.value){case"price-asc":return c.sort((h,d)=>h.numericPrice-d.numericPrice);case"price-desc":return c.sort((h,d)=>d.numericPrice-h.numericPrice);case"date-desc":return c.sort((h,d)=>d.dateObject-h.dateObject);default:return c}}),l=async c=>{if(c.length===0){n.value=[];return}s.value=!0;const h=Mr(Bt,"games"),d=jo(h,Pr("__name__","in",c)),p=await $r(d);n.value=p.docs.map(g=>r(g)),s.value=!1};return zn(async()=>{await e.fetchWishlist(),l(e.gameIds)}),ns(()=>e.gameIds,c=>{l(c)}),(c,h)=>{const d=ls("router-link");return ee(),se(He,null,[me(Br),v("main",null,[v("div",X5,[v("h1",J5,"Ma Wishlist ("+pe(o.value.length)+" jeux)",1),v("div",Z5,[zt(v("select",{class:"form-select",style:{"max-width":"200px"},"onUpdate:modelValue":h[0]||(h[0]=p=>i.value=p)},h[1]||(h[1]=[v("option",{value:"default"},"Trier par...",-1),v("option",{value:"price-asc"},"Prix : le moins cher",-1),v("option",{value:"price-desc"},"Prix : le plus cher",-1),v("option",{value:"date-desc"},"Nouveauts",-1)]),512),[[Co,i.value]])]),s.value?(ee(),se("div",ej,h[2]||(h[2]=[v("div",{class:"spinner-border",role:"status"},[v("span",{class:"visually-hidden"},"Loading...")],-1)]))):n.value.length?(ee(),se("div",nj,[(ee(!0),se(He,null,Ot(o.value,p=>(ee(),se("div",{key:p.id,class:"col-6 col-md-4 col-lg-3"},[v("div",sj,[v("img",{src:p.hero,class:"card-img-top",alt:p.titre},null,8,ij),v("div",rj,[v("h5",oj,pe(p.titre),1),v("p",aj,pe(p.price)+" ",1),v("button",{onClick:g=>tt(e).removeFromWishlist(p.id),class:"btn btn-danger btn-sm"},h[6]||(h[6]=[v("i",{class:"bi bi-trash-fill"},null,-1),St(" Retirer ")]),8,lj)])])]))),128))])):(ee(),se("div",tj,[h[4]||(h[4]=v("h3",null,"Votre wishlist est vide",-1)),h[5]||(h[5]=v("p",null,"Parcourez nos jeux et cliquez sur le cur pour les ajouter !",-1)),me(d,{to:"/",class:"btn btn-primary"},{default:ut(()=>h[3]||(h[3]=[St("Explorer les jeux")])),_:1})]))])])],64)}}},uj=tn(cj,[["__scopeId","data-v-124a09bc"]]),hj=rP({history:NR("/"),routes:[{path:"/",name:"accueil",component:dU},{path:"/nouveautes",name:"nouveautes",component:TU},{path:"/precommandes",name:"precommandes",component:NU},{path:"/prochaines-sorties",name:"prochaines-sorties",component:D6},{path:"/inscription",name:"inscription",component:K6},{path:"/connexion",name:"connexion",component:s9},{path:"/parametres",name:"Parametres",component:Y5},{path:"/panier",name:"panier",component:C9},{path:"/game/:id",name:"gameDetailPage",component:HE},{path:"/:pathMatch(.*)*",name:"not-found",component:qE},{path:"/recherche",name:"recherche",component:D5},{path:"/game/:id",name:"gameDetailPage",component:HE},{path:"/:pathMatch(.*)*",name:"not-found",component:qE},{path:"/wishlist",name:"wishlist",component:uj}],linkActiveClass:"active",scrollBehavior(t,e,n){return{top:0}}}),Lg=z1(sR),dj=Q1();Lg.use(dj);Lg.use(hj);const fj=xa();fj.initAuthListener();const pj=zd();pj.init();Lg.mount("#app");
