(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Cp(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const gt={},ua=[],Bs=()=>{},YC=()=>!1,xh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Sp=t=>t.startsWith("onUpdate:"),sn=Object.assign,Rp=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},QC=Object.prototype.hasOwnProperty,at=(t,e)=>QC.call(t,e),Se=Array.isArray,ha=t=>vc(t)==="[object Map]",Lh=t=>vc(t)==="[object Set]",s_=t=>vc(t)==="[object Date]",Me=t=>typeof t=="function",$t=t=>typeof t=="string",Gs=t=>typeof t=="symbol",vt=t=>t!==null&&typeof t=="object",wE=t=>(vt(t)||Me(t))&&Me(t.then)&&Me(t.catch),TE=Object.prototype.toString,vc=t=>TE.call(t),XC=t=>vc(t).slice(8,-1),AE=t=>vc(t)==="[object Object]",Pp=t=>$t(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ll=Cp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vh=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},JC=/-(\w)/g,cs=Vh(t=>t.replace(JC,(e,n)=>n?n.toUpperCase():"")),ZC=/\B([A-Z])/g,wo=Vh(t=>t.replace(ZC,"-$1").toLowerCase()),Mh=Vh(t=>t.charAt(0).toUpperCase()+t.slice(1)),Wd=Vh(t=>t?`on${Mh(t)}`:""),or=(t,e)=>!Object.is(t,e),Nu=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},IE=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Xu=t=>{const e=parseFloat(t);return isNaN(e)?t:e},eS=t=>{const e=$t(t)?Number(t):NaN;return isNaN(e)?t:e};let i_;const $h=()=>i_||(i_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Jl(t){if(Se(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=$t(s)?iS(s):Jl(s);if(i)for(const r in i)e[r]=i[r]}return e}else if($t(t)||vt(t))return t}const tS=/;(?![^(]*\))/g,nS=/:([^]+)/,sS=/\/\*[^]*?\*\//g;function iS(t){const e={};return t.replace(sS,"").split(tS).forEach(n=>{if(n){const s=n.split(nS);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Cn(t){let e="";if($t(t))e=t;else if(Se(t))for(let n=0;n<t.length;n++){const s=Cn(t[n]);s&&(e+=s+" ")}else if(vt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const rS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",oS=Cp(rS);function CE(t){return!!t||t===""}function aS(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Fh(t[s],e[s]);return n}function Fh(t,e){if(t===e)return!0;let n=s_(t),s=s_(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Gs(t),s=Gs(e),n||s)return t===e;if(n=Se(t),s=Se(e),n||s)return n&&s?aS(t,e):!1;if(n=vt(t),s=vt(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const l=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(l&&!c||!l&&c||!Fh(t[o],e[o]))return!1}}return String(t)===String(e)}function lS(t,e){return t.findIndex(n=>Fh(n,e))}const SE=t=>!!(t&&t.__v_isRef===!0),_t=t=>$t(t)?t:t==null?"":Se(t)||vt(t)&&(t.toString===TE||!Me(t.toString))?SE(t)?_t(t.value):JSON.stringify(t,RE,2):String(t),RE=(t,e)=>SE(e)?RE(t,e.value):ha(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[zd(s,r)+" =>"]=i,n),{})}:Lh(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>zd(n))}:Gs(e)?zd(e):vt(e)&&!Se(e)&&!AE(e)?String(e):e,zd=(t,e="")=>{var n;return Gs(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Sn;class PE{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Sn,!e&&Sn&&(this.index=(Sn.scopes||(Sn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Sn;try{return Sn=this,e()}finally{Sn=n}}}on(){Sn=this}off(){Sn=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function OE(t){return new PE(t)}function DE(){return Sn}function cS(t,e=!1){Sn&&Sn.cleanups.push(t)}let bt;const Kd=new WeakSet;class NE{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Sn&&Sn.active&&Sn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Kd.has(this)&&(Kd.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xE(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,r_(this),LE(this);const e=bt,n=Es;bt=this,Es=!0;try{return this.fn()}finally{VE(this),bt=e,Es=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Np(e);this.deps=this.depsTail=void 0,r_(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Kd.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){kf(this)&&this.run()}get dirty(){return kf(this)}}let kE=0,Vl,Ml;function xE(t,e=!1){if(t.flags|=8,e){t.next=Ml,Ml=t;return}t.next=Vl,Vl=t}function Op(){kE++}function Dp(){if(--kE>0)return;if(Ml){let e=Ml;for(Ml=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Vl;){let e=Vl;for(Vl=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function LE(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function VE(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Np(s),uS(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function kf(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ME(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ME(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Zl))return;t.globalVersion=Zl;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!kf(t)){t.flags&=-3;return}const n=bt,s=Es;bt=t,Es=!0;try{LE(t);const i=t.fn(t._value);(e.version===0||or(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{bt=n,Es=s,VE(t),t.flags&=-3}}function Np(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Np(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function uS(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Es=!0;const $E=[];function Ir(){$E.push(Es),Es=!1}function Cr(){const t=$E.pop();Es=t===void 0?!0:t}function r_(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=bt;bt=void 0;try{e()}finally{bt=n}}}let Zl=0;class hS{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class kp{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!bt||!Es||bt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==bt)n=this.activeLink=new hS(bt,this),bt.deps?(n.prevDep=bt.depsTail,bt.depsTail.nextDep=n,bt.depsTail=n):bt.deps=bt.depsTail=n,FE(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=bt.depsTail,n.nextDep=void 0,bt.depsTail.nextDep=n,bt.depsTail=n,bt.deps===n&&(bt.deps=s)}return n}trigger(e){this.version++,Zl++,this.notify(e)}notify(e){Op();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Dp()}}}function FE(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)FE(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ju=new WeakMap,lo=Symbol(""),xf=Symbol(""),ec=Symbol("");function pn(t,e,n){if(Es&&bt){let s=Ju.get(t);s||Ju.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new kp),i.map=s,i.key=n),i.track()}}function di(t,e,n,s,i,r){const o=Ju.get(t);if(!o){Zl++;return}const l=c=>{c&&c.trigger()};if(Op(),e==="clear")o.forEach(l);else{const c=Se(t),h=c&&Pp(n);if(c&&n==="length"){const d=Number(s);o.forEach((m,_)=>{(_==="length"||_===ec||!Gs(_)&&_>=d)&&l(m)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),h&&l(o.get(ec)),e){case"add":c?h&&l(o.get("length")):(l(o.get(lo)),ha(t)&&l(o.get(xf)));break;case"delete":c||(l(o.get(lo)),ha(t)&&l(o.get(xf)));break;case"set":ha(t)&&l(o.get(lo));break}}Dp()}function dS(t,e){const n=Ju.get(t);return n&&n.get(e)}function Qo(t){const e=Ze(t);return e===t?e:(pn(e,"iterate",ec),os(t)?e:e.map(mn))}function Uh(t){return pn(t=Ze(t),"iterate",ec),t}const fS={__proto__:null,[Symbol.iterator](){return Gd(this,Symbol.iterator,mn)},concat(...t){return Qo(this).concat(...t.map(e=>Se(e)?Qo(e):e))},entries(){return Gd(this,"entries",t=>(t[1]=mn(t[1]),t))},every(t,e){return li(this,"every",t,e,void 0,arguments)},filter(t,e){return li(this,"filter",t,e,n=>n.map(mn),arguments)},find(t,e){return li(this,"find",t,e,mn,arguments)},findIndex(t,e){return li(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return li(this,"findLast",t,e,mn,arguments)},findLastIndex(t,e){return li(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return li(this,"forEach",t,e,void 0,arguments)},includes(...t){return Yd(this,"includes",t)},indexOf(...t){return Yd(this,"indexOf",t)},join(t){return Qo(this).join(t)},lastIndexOf(...t){return Yd(this,"lastIndexOf",t)},map(t,e){return li(this,"map",t,e,void 0,arguments)},pop(){return Tl(this,"pop")},push(...t){return Tl(this,"push",t)},reduce(t,...e){return o_(this,"reduce",t,e)},reduceRight(t,...e){return o_(this,"reduceRight",t,e)},shift(){return Tl(this,"shift")},some(t,e){return li(this,"some",t,e,void 0,arguments)},splice(...t){return Tl(this,"splice",t)},toReversed(){return Qo(this).toReversed()},toSorted(t){return Qo(this).toSorted(t)},toSpliced(...t){return Qo(this).toSpliced(...t)},unshift(...t){return Tl(this,"unshift",t)},values(){return Gd(this,"values",mn)}};function Gd(t,e,n){const s=Uh(t),i=s[e]();return s!==t&&!os(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const pS=Array.prototype;function li(t,e,n,s,i,r){const o=Uh(t),l=o!==t&&!os(t),c=o[e];if(c!==pS[e]){const m=c.apply(t,r);return l?mn(m):m}let h=n;o!==t&&(l?h=function(m,_){return n.call(this,mn(m),_,t)}:n.length>2&&(h=function(m,_){return n.call(this,m,_,t)}));const d=c.call(o,h,s);return l&&i?i(d):d}function o_(t,e,n,s){const i=Uh(t);let r=n;return i!==t&&(os(t)?n.length>3&&(r=function(o,l,c){return n.call(this,o,l,c,t)}):r=function(o,l,c){return n.call(this,o,mn(l),c,t)}),i[e](r,...s)}function Yd(t,e,n){const s=Ze(t);pn(s,"iterate",ec);const i=s[e](...n);return(i===-1||i===!1)&&Vp(n[0])?(n[0]=Ze(n[0]),s[e](...n)):i}function Tl(t,e,n=[]){Ir(),Op();const s=Ze(t)[e].apply(t,n);return Dp(),Cr(),s}const mS=Cp("__proto__,__v_isRef,__isVue"),UE=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Gs));function gS(t){Gs(t)||(t=String(t));const e=Ze(this);return pn(e,"has",t),e.hasOwnProperty(t)}class jE{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?CS:WE:r?qE:HE).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=Se(e);if(!i){let c;if(o&&(c=fS[n]))return c;if(n==="hasOwnProperty")return gS}const l=Reflect.get(e,n,Mt(e)?e:s);return(Gs(n)?UE.has(n):mS(n))||(i||pn(e,"get",n),r)?l:Mt(l)?o&&Pp(n)?l:l.value:vt(l)?i?KE(l):yc(l):l}}class BE extends jE{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const c=ho(r);if(!os(s)&&!ho(s)&&(r=Ze(r),s=Ze(s)),!Se(e)&&Mt(r)&&!Mt(s))return c?!1:(r.value=s,!0)}const o=Se(e)&&Pp(n)?Number(n)<e.length:at(e,n),l=Reflect.set(e,n,s,Mt(e)?e:i);return e===Ze(i)&&(o?or(s,r)&&di(e,"set",n,s):di(e,"add",n,s)),l}deleteProperty(e,n){const s=at(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&di(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Gs(n)||!UE.has(n))&&pn(e,"has",n),s}ownKeys(e){return pn(e,"iterate",Se(e)?"length":lo),Reflect.ownKeys(e)}}class _S extends jE{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const vS=new BE,yS=new _S,ES=new BE(!0);const Lf=t=>t,pu=t=>Reflect.getPrototypeOf(t);function bS(t,e,n){return function(...s){const i=this.__v_raw,r=Ze(i),o=ha(r),l=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,h=i[t](...s),d=n?Lf:e?Vf:mn;return!e&&pn(r,"iterate",c?xf:lo),{next(){const{value:m,done:_}=h.next();return _?{value:m,done:_}:{value:l?[d(m[0]),d(m[1])]:d(m),done:_}},[Symbol.iterator](){return this}}}}function mu(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function wS(t,e){const n={get(i){const r=this.__v_raw,o=Ze(r),l=Ze(i);t||(or(i,l)&&pn(o,"get",i),pn(o,"get",l));const{has:c}=pu(o),h=e?Lf:t?Vf:mn;if(c.call(o,i))return h(r.get(i));if(c.call(o,l))return h(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&pn(Ze(i),"iterate",lo),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=Ze(r),l=Ze(i);return t||(or(i,l)&&pn(o,"has",i),pn(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,c=Ze(l),h=e?Lf:t?Vf:mn;return!t&&pn(c,"iterate",lo),l.forEach((d,m)=>i.call(r,h(d),h(m),o))}};return sn(n,t?{add:mu("add"),set:mu("set"),delete:mu("delete"),clear:mu("clear")}:{add(i){!e&&!os(i)&&!ho(i)&&(i=Ze(i));const r=Ze(this);return pu(r).has.call(r,i)||(r.add(i),di(r,"add",i,i)),this},set(i,r){!e&&!os(r)&&!ho(r)&&(r=Ze(r));const o=Ze(this),{has:l,get:c}=pu(o);let h=l.call(o,i);h||(i=Ze(i),h=l.call(o,i));const d=c.call(o,i);return o.set(i,r),h?or(r,d)&&di(o,"set",i,r):di(o,"add",i,r),this},delete(i){const r=Ze(this),{has:o,get:l}=pu(r);let c=o.call(r,i);c||(i=Ze(i),c=o.call(r,i)),l&&l.call(r,i);const h=r.delete(i);return c&&di(r,"delete",i,void 0),h},clear(){const i=Ze(this),r=i.size!==0,o=i.clear();return r&&di(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=bS(i,t,e)}),n}function xp(t,e){const n=wS(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(at(n,i)&&i in s?n:s,i,r)}const TS={get:xp(!1,!1)},AS={get:xp(!1,!0)},IS={get:xp(!0,!1)};const HE=new WeakMap,qE=new WeakMap,WE=new WeakMap,CS=new WeakMap;function SS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function RS(t){return t.__v_skip||!Object.isExtensible(t)?0:SS(XC(t))}function yc(t){return ho(t)?t:Lp(t,!1,vS,TS,HE)}function zE(t){return Lp(t,!1,ES,AS,qE)}function KE(t){return Lp(t,!0,yS,IS,WE)}function Lp(t,e,n,s,i){if(!vt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=RS(t);if(o===0)return t;const l=new Proxy(t,o===2?s:n);return i.set(t,l),l}function ar(t){return ho(t)?ar(t.__v_raw):!!(t&&t.__v_isReactive)}function ho(t){return!!(t&&t.__v_isReadonly)}function os(t){return!!(t&&t.__v_isShallow)}function Vp(t){return t?!!t.__v_raw:!1}function Ze(t){const e=t&&t.__v_raw;return e?Ze(e):t}function Mp(t){return!at(t,"__v_skip")&&Object.isExtensible(t)&&IE(t,"__v_skip",!0),t}const mn=t=>vt(t)?yc(t):t,Vf=t=>vt(t)?KE(t):t;function Mt(t){return t?t.__v_isRef===!0:!1}function it(t){return GE(t,!1)}function PS(t){return GE(t,!0)}function GE(t,e){return Mt(t)?t:new OS(t,e)}class OS{constructor(e,n){this.dep=new kp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ze(e),this._value=n?e:mn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||os(e)||ho(e);e=s?e:Ze(e),or(e,n)&&(this._rawValue=e,this._value=s?e:mn(e),this.dep.trigger())}}function mt(t){return Mt(t)?t.value:t}const DS={get:(t,e,n)=>e==="__v_raw"?t:mt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Mt(i)&&!Mt(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function YE(t){return ar(t)?t:new Proxy(t,DS)}function NS(t){const e=Se(t)?new Array(t.length):{};for(const n in t)e[n]=xS(t,n);return e}class kS{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return dS(Ze(this._object),this._key)}}function xS(t,e,n){const s=t[e];return Mt(s)?s:new kS(t,e,n)}class LS{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new kp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Zl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&bt!==this)return xE(this,!0),!0}get value(){const e=this.dep.track();return ME(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function VS(t,e,n=!1){let s,i;return Me(t)?s=t:(s=t.get,i=t.set),new LS(s,i,n)}const gu={},Zu=new WeakMap;let Zr;function MS(t,e=!1,n=Zr){if(n){let s=Zu.get(n);s||Zu.set(n,s=[]),s.push(t)}}function $S(t,e,n=gt){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:l,call:c}=n,h=j=>i?j:os(j)||i===!1||i===0?fi(j,1):fi(j);let d,m,_,y,N=!1,k=!1;if(Mt(t)?(m=()=>t.value,N=os(t)):ar(t)?(m=()=>h(t),N=!0):Se(t)?(k=!0,N=t.some(j=>ar(j)||os(j)),m=()=>t.map(j=>{if(Mt(j))return j.value;if(ar(j))return h(j);if(Me(j))return c?c(j,2):j()})):Me(t)?e?m=c?()=>c(t,2):t:m=()=>{if(_){Ir();try{_()}finally{Cr()}}const j=Zr;Zr=d;try{return c?c(t,3,[y]):t(y)}finally{Zr=j}}:m=Bs,e&&i){const j=m,ne=i===!0?1/0:i;m=()=>fi(j(),ne)}const L=DE(),F=()=>{d.stop(),L&&L.active&&Rp(L.effects,d)};if(r&&e){const j=e;e=(...ne)=>{j(...ne),F()}}let U=k?new Array(t.length).fill(gu):gu;const B=j=>{if(!(!(d.flags&1)||!d.dirty&&!j))if(e){const ne=d.run();if(i||N||(k?ne.some((ie,O)=>or(ie,U[O])):or(ne,U))){_&&_();const ie=Zr;Zr=d;try{const O=[ne,U===gu?void 0:k&&U[0]===gu?[]:U,y];c?c(e,3,O):e(...O),U=ne}finally{Zr=ie}}}else d.run()};return l&&l(B),d=new NE(m),d.scheduler=o?()=>o(B,!1):B,y=j=>MS(j,!1,d),_=d.onStop=()=>{const j=Zu.get(d);if(j){if(c)c(j,4);else for(const ne of j)ne();Zu.delete(d)}},e?s?B(!0):U=d.run():o?o(B.bind(null,!0),!0):d.run(),F.pause=d.pause.bind(d),F.resume=d.resume.bind(d),F.stop=F,F}function fi(t,e=1/0,n){if(e<=0||!vt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Mt(t))fi(t.value,e,n);else if(Se(t))for(let s=0;s<t.length;s++)fi(t[s],e,n);else if(Lh(t)||ha(t))t.forEach(s=>{fi(s,e,n)});else if(AE(t)){for(const s in t)fi(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&fi(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ec(t,e,n,s){try{return s?t(...s):t()}catch(i){jh(i,e,n)}}function Ts(t,e,n,s){if(Me(t)){const i=Ec(t,e,n,s);return i&&wE(i)&&i.catch(r=>{jh(r,e,n)}),i}if(Se(t)){const i=[];for(let r=0;r<t.length;r++)i.push(Ts(t[r],e,n,s));return i}}function jh(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||gt;if(e){let l=e.parent;const c=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](t,c,h)===!1)return}l=l.parent}if(r){Ir(),Ec(r,null,10,[t,c,h]),Cr();return}}FS(t,n,i,s,o)}function FS(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const Rn=[];let $s=-1;const da=[];let Ji=null,ea=0;const QE=Promise.resolve();let eh=null;function va(t){const e=eh||QE;return t?e.then(this?t.bind(this):t):e}function US(t){let e=$s+1,n=Rn.length;for(;e<n;){const s=e+n>>>1,i=Rn[s],r=tc(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function $p(t){if(!(t.flags&1)){const e=tc(t),n=Rn[Rn.length-1];!n||!(t.flags&2)&&e>=tc(n)?Rn.push(t):Rn.splice(US(e),0,t),t.flags|=1,XE()}}function XE(){eh||(eh=QE.then(ZE))}function jS(t){Se(t)?da.push(...t):Ji&&t.id===-1?Ji.splice(ea+1,0,t):t.flags&1||(da.push(t),t.flags|=1),XE()}function a_(t,e,n=$s+1){for(;n<Rn.length;n++){const s=Rn[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Rn.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function JE(t){if(da.length){const e=[...new Set(da)].sort((n,s)=>tc(n)-tc(s));if(da.length=0,Ji){Ji.push(...e);return}for(Ji=e,ea=0;ea<Ji.length;ea++){const n=Ji[ea];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ji=null,ea=0}}const tc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ZE(t){try{for($s=0;$s<Rn.length;$s++){const e=Rn[$s];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ec(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;$s<Rn.length;$s++){const e=Rn[$s];e&&(e.flags&=-2)}$s=-1,Rn.length=0,JE(),eh=null,(Rn.length||da.length)&&ZE()}}let Pn=null,eb=null;function th(t){const e=Pn;return Pn=t,eb=t&&t.type.__scopeId||null,e}function Rt(t,e=Pn,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&v_(-1);const r=th(e);let o;try{o=t(...i)}finally{th(r),s._d&&v_(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function is(t,e){if(Pn===null)return t;const n=zh(Pn),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,l,c=gt]=e[i];r&&(Me(r)&&(r={mounted:r,updated:r}),r.deep&&fi(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return t}function Yr(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let c=l.dir[s];c&&(Ir(),Ts(c,n,8,[t.el,l,t,e]),Cr())}}const BS=Symbol("_vte"),tb=t=>t.__isTeleport,Zi=Symbol("_leaveCb"),_u=Symbol("_enterCb");function HS(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return To(()=>{t.isMounted=!0}),ub(()=>{t.isUnmounting=!0}),t}const ns=[Function,Array],nb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ns,onEnter:ns,onAfterEnter:ns,onEnterCancelled:ns,onBeforeLeave:ns,onLeave:ns,onAfterLeave:ns,onLeaveCancelled:ns,onBeforeAppear:ns,onAppear:ns,onAfterAppear:ns,onAppearCancelled:ns},sb=t=>{const e=t.subTree;return e.component?sb(e.component):e},qS={name:"BaseTransition",props:nb,setup(t,{slots:e}){const n=j0(),s=HS();return()=>{const i=e.default&&ob(e.default(),!0);if(!i||!i.length)return;const r=ib(i),o=Ze(t),{mode:l}=o;if(s.isLeaving)return Qd(r);const c=l_(r);if(!c)return Qd(r);let h=Mf(c,o,s,n,m=>h=m);c.type!==Mn&&nc(c,h);let d=n.subTree&&l_(n.subTree);if(d&&d.type!==Mn&&!to(c,d)&&sb(n).type!==Mn){let m=Mf(d,o,s,n);if(nc(d,m),l==="out-in"&&c.type!==Mn)return s.isLeaving=!0,m.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave,d=void 0},Qd(r);l==="in-out"&&c.type!==Mn?m.delayLeave=(_,y,N)=>{const k=rb(s,d);k[String(d.key)]=d,_[Zi]=()=>{y(),_[Zi]=void 0,delete h.delayedLeave,d=void 0},h.delayedLeave=()=>{N(),delete h.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return r}}};function ib(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Mn){e=n;break}}return e}const WS=qS;function rb(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Mf(t,e,n,s,i){const{appear:r,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:h,onAfterEnter:d,onEnterCancelled:m,onBeforeLeave:_,onLeave:y,onAfterLeave:N,onLeaveCancelled:k,onBeforeAppear:L,onAppear:F,onAfterAppear:U,onAppearCancelled:B}=e,j=String(t.key),ne=rb(n,t),ie=(w,C)=>{w&&Ts(w,s,9,C)},O=(w,C)=>{const A=C[1];ie(w,C),Se(w)?w.every(S=>S.length<=1)&&A():w.length<=1&&A()},T={mode:o,persisted:l,beforeEnter(w){let C=c;if(!n.isMounted)if(r)C=L||c;else return;w[Zi]&&w[Zi](!0);const A=ne[j];A&&to(t,A)&&A.el[Zi]&&A.el[Zi](),ie(C,[w])},enter(w){let C=h,A=d,S=m;if(!n.isMounted)if(r)C=F||h,A=U||d,S=B||m;else return;let I=!1;const Ue=w[_u]=et=>{I||(I=!0,et?ie(S,[w]):ie(A,[w]),T.delayedLeave&&T.delayedLeave(),w[_u]=void 0)};C?O(C,[w,Ue]):Ue()},leave(w,C){const A=String(t.key);if(w[_u]&&w[_u](!0),n.isUnmounting)return C();ie(_,[w]);let S=!1;const I=w[Zi]=Ue=>{S||(S=!0,C(),Ue?ie(k,[w]):ie(N,[w]),w[Zi]=void 0,ne[A]===t&&delete ne[A])};ne[A]=t,y?O(y,[w,I]):I()},clone(w){const C=Mf(w,e,n,s,i);return i&&i(C),C}};return T}function Qd(t){if(Bh(t))return t=pr(t),t.children=null,t}function l_(t){if(!Bh(t))return tb(t.type)&&t.children?ib(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Me(n.default))return n.default()}}function nc(t,e){t.shapeFlag&6&&t.component?(t.transition=e,nc(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ob(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===wt?(o.patchFlag&128&&i++,s=s.concat(ob(o.children,e,l))):(e||o.type!==Mn)&&s.push(l!=null?pr(o,{key:l}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function ab(t,e){return Me(t)?sn({name:t.name},e,{setup:t}):t}function lb(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function nh(t,e,n,s,i=!1){if(Se(t)){t.forEach((N,k)=>nh(N,e&&(Se(e)?e[k]:e),n,s,i));return}if($l(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&nh(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?zh(s.component):s.el,o=i?null:r,{i:l,r:c}=t,h=e&&e.r,d=l.refs===gt?l.refs={}:l.refs,m=l.setupState,_=Ze(m),y=m===gt?()=>!1:N=>at(_,N);if(h!=null&&h!==c&&($t(h)?(d[h]=null,y(h)&&(m[h]=null)):Mt(h)&&(h.value=null)),Me(c))Ec(c,l,12,[o,d]);else{const N=$t(c),k=Mt(c);if(N||k){const L=()=>{if(t.f){const F=N?y(c)?m[c]:d[c]:c.value;i?Se(F)&&Rp(F,r):Se(F)?F.includes(r)||F.push(r):N?(d[c]=[r],y(c)&&(m[c]=d[c])):(c.value=[r],t.k&&(d[t.k]=c.value))}else N?(d[c]=o,y(c)&&(m[c]=o)):k&&(c.value=o,t.k&&(d[t.k]=o))};o?(L.id=-1,Hn(L,n)):L()}}}$h().requestIdleCallback;$h().cancelIdleCallback;const $l=t=>!!t.type.__asyncLoader,Bh=t=>t.type.__isKeepAlive;function zS(t,e){cb(t,"a",e)}function KS(t,e){cb(t,"da",e)}function cb(t,e,n=nn){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Hh(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Bh(i.parent.vnode)&&GS(s,e,n,i),i=i.parent}}function GS(t,e,n,s){const i=Hh(e,t,s,!0);Fp(()=>{Rp(s[e],i)},n)}function Hh(t,e,n=nn,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Ir();const l=wc(n),c=Ts(e,n,t,o);return l(),Cr(),c});return s?i.unshift(r):i.push(r),r}}const Ri=t=>(e,n=nn)=>{(!ic||t==="sp")&&Hh(t,(...s)=>e(...s),n)},YS=Ri("bm"),To=Ri("m"),QS=Ri("bu"),XS=Ri("u"),ub=Ri("bum"),Fp=Ri("um"),JS=Ri("sp"),ZS=Ri("rtg"),e0=Ri("rtc");function t0(t,e=nn){Hh("ec",t,e)}const n0="components";function bc(t,e){return i0(n0,t,!0,e)||t}const s0=Symbol.for("v-ndc");function i0(t,e,n=!0,s=!1){const i=Pn||nn;if(i){const r=i.type;{const l=z0(r,!1);if(l&&(l===e||l===cs(e)||l===Mh(cs(e))))return r}const o=c_(i[t]||r[t],e)||c_(i.appContext[t],e);return!o&&s?r:o}}function c_(t,e){return t&&(t[e]||t[cs(e)]||t[Mh(cs(e))])}function wi(t,e,n,s){let i;const r=n,o=Se(t);if(o||$t(t)){const l=o&&ar(t);let c=!1;l&&(c=!os(t),t=Uh(t)),i=new Array(t.length);for(let h=0,d=t.length;h<d;h++)i[h]=e(c?mn(t[h]):t[h],h,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,r)}else if(vt(t))if(t[Symbol.iterator])i=Array.from(t,(l,c)=>e(l,c,void 0,r));else{const l=Object.keys(t);i=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const d=l[c];i[c]=e(t[d],d,c,r)}}else i=[];return i}const $f=t=>t?kb(t)?zh(t):$f(t.parent):null,Fl=sn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>$f(t.parent),$root:t=>$f(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>db(t),$forceUpdate:t=>t.f||(t.f=()=>{$p(t.update)}),$nextTick:t=>t.n||(t.n=va.bind(t.proxy)),$watch:t=>C0.bind(t)}),Xd=(t,e)=>t!==gt&&!t.__isScriptSetup&&at(t,e),r0={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:c}=t;let h;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(Xd(s,e))return o[e]=1,s[e];if(i!==gt&&at(i,e))return o[e]=2,i[e];if((h=t.propsOptions[0])&&at(h,e))return o[e]=3,r[e];if(n!==gt&&at(n,e))return o[e]=4,n[e];Ff&&(o[e]=0)}}const d=Fl[e];let m,_;if(d)return e==="$attrs"&&pn(t.attrs,"get",""),d(t);if((m=l.__cssModules)&&(m=m[e]))return m;if(n!==gt&&at(n,e))return o[e]=4,n[e];if(_=c.config.globalProperties,at(_,e))return _[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return Xd(i,e)?(i[e]=n,!0):s!==gt&&at(s,e)?(s[e]=n,!0):at(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let l;return!!n[o]||t!==gt&&at(t,o)||Xd(e,o)||(l=r[0])&&at(l,o)||at(s,o)||at(Fl,o)||at(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:at(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function u_(t){return Se(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Ff=!0;function o0(t){const e=db(t),n=t.proxy,s=t.ctx;Ff=!1,e.beforeCreate&&h_(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:l,provide:c,inject:h,created:d,beforeMount:m,mounted:_,beforeUpdate:y,updated:N,activated:k,deactivated:L,beforeDestroy:F,beforeUnmount:U,destroyed:B,unmounted:j,render:ne,renderTracked:ie,renderTriggered:O,errorCaptured:T,serverPrefetch:w,expose:C,inheritAttrs:A,components:S,directives:I,filters:Ue}=e;if(h&&a0(h,s,null),o)for(const ve in o){const Fe=o[ve];Me(Fe)&&(s[ve]=Fe.bind(n))}if(i){const ve=i.call(n,n);vt(ve)&&(t.data=yc(ve))}if(Ff=!0,r)for(const ve in r){const Fe=r[ve],Ct=Me(Fe)?Fe.bind(n,n):Me(Fe.get)?Fe.get.bind(n,n):Bs,Y=!Me(Fe)&&Me(Fe.set)?Fe.set.bind(n):Bs,Ft=jt({get:Ct,set:Y});Object.defineProperty(s,ve,{enumerable:!0,configurable:!0,get:()=>Ft.value,set:tt=>Ft.value=tt})}if(l)for(const ve in l)hb(l[ve],s,n,ve);if(c){const ve=Me(c)?c.call(n):c;Reflect.ownKeys(ve).forEach(Fe=>{ku(Fe,ve[Fe])})}d&&h_(d,t,"c");function Ne(ve,Fe){Se(Fe)?Fe.forEach(Ct=>ve(Ct.bind(n))):Fe&&ve(Fe.bind(n))}if(Ne(YS,m),Ne(To,_),Ne(QS,y),Ne(XS,N),Ne(zS,k),Ne(KS,L),Ne(t0,T),Ne(e0,ie),Ne(ZS,O),Ne(ub,U),Ne(Fp,j),Ne(JS,w),Se(C))if(C.length){const ve=t.exposed||(t.exposed={});C.forEach(Fe=>{Object.defineProperty(ve,Fe,{get:()=>n[Fe],set:Ct=>n[Fe]=Ct})})}else t.exposed||(t.exposed={});ne&&t.render===Bs&&(t.render=ne),A!=null&&(t.inheritAttrs=A),S&&(t.components=S),I&&(t.directives=I),w&&lb(t)}function a0(t,e,n=Bs){Se(t)&&(t=Uf(t));for(const s in t){const i=t[s];let r;vt(i)?"default"in i?r=as(i.from||s,i.default,!0):r=as(i.from||s):r=as(i),Mt(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function h_(t,e,n){Ts(Se(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function hb(t,e,n,s){let i=s.includes(".")?Cb(n,s):()=>n[s];if($t(t)){const r=e[t];Me(r)&&lr(i,r)}else if(Me(t))lr(i,t.bind(n));else if(vt(t))if(Se(t))t.forEach(r=>hb(r,e,n,s));else{const r=Me(t.handler)?t.handler.bind(n):e[t.handler];Me(r)&&lr(i,r,t)}}function db(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(e);let c;return l?c=l:!i.length&&!n&&!s?c=e:(c={},i.length&&i.forEach(h=>sh(c,h,o,!0)),sh(c,e,o)),vt(e)&&r.set(e,c),c}function sh(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&sh(t,r,n,!0),i&&i.forEach(o=>sh(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=l0[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const l0={data:d_,props:f_,emits:f_,methods:Rl,computed:Rl,beforeCreate:In,created:In,beforeMount:In,mounted:In,beforeUpdate:In,updated:In,beforeDestroy:In,beforeUnmount:In,destroyed:In,unmounted:In,activated:In,deactivated:In,errorCaptured:In,serverPrefetch:In,components:Rl,directives:Rl,watch:u0,provide:d_,inject:c0};function d_(t,e){return e?t?function(){return sn(Me(t)?t.call(this,this):t,Me(e)?e.call(this,this):e)}:e:t}function c0(t,e){return Rl(Uf(t),Uf(e))}function Uf(t){if(Se(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function In(t,e){return t?[...new Set([].concat(t,e))]:e}function Rl(t,e){return t?sn(Object.create(null),t,e):e}function f_(t,e){return t?Se(t)&&Se(e)?[...new Set([...t,...e])]:sn(Object.create(null),u_(t),u_(e??{})):e}function u0(t,e){if(!t)return e;if(!e)return t;const n=sn(Object.create(null),t);for(const s in e)n[s]=In(t[s],e[s]);return n}function fb(){return{app:null,config:{isNativeTag:YC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let h0=0;function d0(t,e){return function(s,i=null){Me(s)||(s=sn({},s)),i!=null&&!vt(i)&&(i=null);const r=fb(),o=new WeakSet,l=[];let c=!1;const h=r.app={_uid:h0++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:G0,get config(){return r.config},set config(d){},use(d,...m){return o.has(d)||(d&&Me(d.install)?(o.add(d),d.install(h,...m)):Me(d)&&(o.add(d),d(h,...m))),h},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),h},component(d,m){return m?(r.components[d]=m,h):r.components[d]},directive(d,m){return m?(r.directives[d]=m,h):r.directives[d]},mount(d,m,_){if(!c){const y=h._ceVNode||Ce(s,i);return y.appContext=r,_===!0?_="svg":_===!1&&(_=void 0),t(y,d,_),c=!0,h._container=d,d.__vue_app__=h,zh(y.component)}},onUnmount(d){l.push(d)},unmount(){c&&(Ts(l,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(d,m){return r.provides[d]=m,h},runWithContext(d){const m=co;co=h;try{return d()}finally{co=m}}};return h}}let co=null;function ku(t,e){if(nn){let n=nn.provides;const s=nn.parent&&nn.parent.provides;s===n&&(n=nn.provides=Object.create(s)),n[t]=e}}function as(t,e,n=!1){const s=nn||Pn;if(s||co){const i=co?co._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Me(e)?e.call(s&&s.proxy):e}}function f0(){return!!(nn||Pn||co)}const pb={},mb=()=>Object.create(pb),gb=t=>Object.getPrototypeOf(t)===pb;function p0(t,e,n,s=!1){const i={},r=mb();t.propsDefaults=Object.create(null),_b(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:zE(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function m0(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,l=Ze(i),[c]=t.propsOptions;let h=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let m=0;m<d.length;m++){let _=d[m];if(qh(t.emitsOptions,_))continue;const y=e[_];if(c)if(at(r,_))y!==r[_]&&(r[_]=y,h=!0);else{const N=cs(_);i[N]=jf(c,l,N,y,t,!1)}else y!==r[_]&&(r[_]=y,h=!0)}}}else{_b(t,e,i,r)&&(h=!0);let d;for(const m in l)(!e||!at(e,m)&&((d=wo(m))===m||!at(e,d)))&&(c?n&&(n[m]!==void 0||n[d]!==void 0)&&(i[m]=jf(c,l,m,void 0,t,!0)):delete i[m]);if(r!==l)for(const m in r)(!e||!at(e,m))&&(delete r[m],h=!0)}h&&di(t.attrs,"set","")}function _b(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,l;if(e)for(let c in e){if(Ll(c))continue;const h=e[c];let d;i&&at(i,d=cs(c))?!r||!r.includes(d)?n[d]=h:(l||(l={}))[d]=h:qh(t.emitsOptions,c)||(!(c in s)||h!==s[c])&&(s[c]=h,o=!0)}if(r){const c=Ze(n),h=l||gt;for(let d=0;d<r.length;d++){const m=r[d];n[m]=jf(i,c,m,h[m],t,!at(h,m))}}return o}function jf(t,e,n,s,i,r){const o=t[n];if(o!=null){const l=at(o,"default");if(l&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Me(c)){const{propsDefaults:h}=i;if(n in h)s=h[n];else{const d=wc(i);s=h[n]=c.call(null,e),d()}}else s=c;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===wo(n))&&(s=!0))}return s}const g0=new WeakMap;function vb(t,e,n=!1){const s=n?g0:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},l=[];let c=!1;if(!Me(t)){const d=m=>{c=!0;const[_,y]=vb(m,e,!0);sn(o,_),y&&l.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!c)return vt(t)&&s.set(t,ua),ua;if(Se(r))for(let d=0;d<r.length;d++){const m=cs(r[d]);p_(m)&&(o[m]=gt)}else if(r)for(const d in r){const m=cs(d);if(p_(m)){const _=r[d],y=o[m]=Se(_)||Me(_)?{type:_}:sn({},_),N=y.type;let k=!1,L=!0;if(Se(N))for(let F=0;F<N.length;++F){const U=N[F],B=Me(U)&&U.name;if(B==="Boolean"){k=!0;break}else B==="String"&&(L=!1)}else k=Me(N)&&N.name==="Boolean";y[0]=k,y[1]=L,(k||at(y,"default"))&&l.push(m)}}const h=[o,l];return vt(t)&&s.set(t,h),h}function p_(t){return t[0]!=="$"&&!Ll(t)}const yb=t=>t[0]==="_"||t==="$stable",Up=t=>Se(t)?t.map(Us):[Us(t)],_0=(t,e,n)=>{if(e._n)return e;const s=Rt((...i)=>Up(e(...i)),n);return s._c=!1,s},Eb=(t,e,n)=>{const s=t._ctx;for(const i in t){if(yb(i))continue;const r=t[i];if(Me(r))e[i]=_0(i,r,s);else if(r!=null){const o=Up(r);e[i]=()=>o}}},bb=(t,e)=>{const n=Up(e);t.slots.default=()=>n},wb=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},v0=(t,e,n)=>{const s=t.slots=mb();if(t.vnode.shapeFlag&32){const i=e._;i?(wb(s,e,n),n&&IE(s,"_",i,!0)):Eb(e,s)}else e&&bb(t,e)},y0=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=gt;if(s.shapeFlag&32){const l=e._;l?n&&l===1?r=!1:wb(i,e,n):(r=!e.$stable,Eb(e,i)),o=e}else e&&(bb(t,e),o={default:1});if(r)for(const l in i)!yb(l)&&o[l]==null&&delete i[l]},Hn=k0;function E0(t){return b0(t)}function b0(t,e){const n=$h();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:c,setText:h,setElementText:d,parentNode:m,nextSibling:_,setScopeId:y=Bs,insertStaticContent:N}=t,k=(R,P,M,K=null,G=null,Q=null,ce=void 0,re=null,se=!!P.dynamicChildren)=>{if(R===P)return;R&&!to(R,P)&&(K=z(R),tt(R,G,Q,!0),R=null),P.patchFlag===-2&&(se=!1,P.dynamicChildren=null);const{type:ee,ref:we,shapeFlag:ue}=P;switch(ee){case Wh:L(R,P,M,K);break;case Mn:F(R,P,M,K);break;case xu:R==null&&U(P,M,K,ce);break;case wt:S(R,P,M,K,G,Q,ce,re,se);break;default:ue&1?ne(R,P,M,K,G,Q,ce,re,se):ue&6?I(R,P,M,K,G,Q,ce,re,se):(ue&64||ue&128)&&ee.process(R,P,M,K,G,Q,ce,re,se,fe)}we!=null&&G&&nh(we,R&&R.ref,Q,P||R,!P)},L=(R,P,M,K)=>{if(R==null)s(P.el=l(P.children),M,K);else{const G=P.el=R.el;P.children!==R.children&&h(G,P.children)}},F=(R,P,M,K)=>{R==null?s(P.el=c(P.children||""),M,K):P.el=R.el},U=(R,P,M,K)=>{[R.el,R.anchor]=N(R.children,P,M,K,R.el,R.anchor)},B=({el:R,anchor:P},M,K)=>{let G;for(;R&&R!==P;)G=_(R),s(R,M,K),R=G;s(P,M,K)},j=({el:R,anchor:P})=>{let M;for(;R&&R!==P;)M=_(R),i(R),R=M;i(P)},ne=(R,P,M,K,G,Q,ce,re,se)=>{P.type==="svg"?ce="svg":P.type==="math"&&(ce="mathml"),R==null?ie(P,M,K,G,Q,ce,re,se):w(R,P,G,Q,ce,re,se)},ie=(R,P,M,K,G,Q,ce,re)=>{let se,ee;const{props:we,shapeFlag:ue,transition:ge,dirs:ye}=R;if(se=R.el=o(R.type,Q,we&&we.is,we),ue&8?d(se,R.children):ue&16&&T(R.children,se,null,K,G,Jd(R,Q),ce,re),ye&&Yr(R,null,K,"created"),O(se,R,R.scopeId,ce,K),we){for(const De in we)De!=="value"&&!Ll(De)&&r(se,De,null,we[De],Q,K);"value"in we&&r(se,"value",null,we.value,Q),(ee=we.onVnodeBeforeMount)&&Ms(ee,K,R)}ye&&Yr(R,null,K,"beforeMount");const Ee=w0(G,ge);Ee&&ge.beforeEnter(se),s(se,P,M),((ee=we&&we.onVnodeMounted)||Ee||ye)&&Hn(()=>{ee&&Ms(ee,K,R),Ee&&ge.enter(se),ye&&Yr(R,null,K,"mounted")},G)},O=(R,P,M,K,G)=>{if(M&&y(R,M),K)for(let Q=0;Q<K.length;Q++)y(R,K[Q]);if(G){let Q=G.subTree;if(P===Q||Rb(Q.type)&&(Q.ssContent===P||Q.ssFallback===P)){const ce=G.vnode;O(R,ce,ce.scopeId,ce.slotScopeIds,G.parent)}}},T=(R,P,M,K,G,Q,ce,re,se=0)=>{for(let ee=se;ee<R.length;ee++){const we=R[ee]=re?er(R[ee]):Us(R[ee]);k(null,we,P,M,K,G,Q,ce,re)}},w=(R,P,M,K,G,Q,ce)=>{const re=P.el=R.el;let{patchFlag:se,dynamicChildren:ee,dirs:we}=P;se|=R.patchFlag&16;const ue=R.props||gt,ge=P.props||gt;let ye;if(M&&Qr(M,!1),(ye=ge.onVnodeBeforeUpdate)&&Ms(ye,M,P,R),we&&Yr(P,R,M,"beforeUpdate"),M&&Qr(M,!0),(ue.innerHTML&&ge.innerHTML==null||ue.textContent&&ge.textContent==null)&&d(re,""),ee?C(R.dynamicChildren,ee,re,M,K,Jd(P,G),Q):ce||Fe(R,P,re,null,M,K,Jd(P,G),Q,!1),se>0){if(se&16)A(re,ue,ge,M,G);else if(se&2&&ue.class!==ge.class&&r(re,"class",null,ge.class,G),se&4&&r(re,"style",ue.style,ge.style,G),se&8){const Ee=P.dynamicProps;for(let De=0;De<Ee.length;De++){const He=Ee[De],Ot=ue[He],St=ge[He];(St!==Ot||He==="value")&&r(re,He,Ot,St,G,M)}}se&1&&R.children!==P.children&&d(re,P.children)}else!ce&&ee==null&&A(re,ue,ge,M,G);((ye=ge.onVnodeUpdated)||we)&&Hn(()=>{ye&&Ms(ye,M,P,R),we&&Yr(P,R,M,"updated")},K)},C=(R,P,M,K,G,Q,ce)=>{for(let re=0;re<P.length;re++){const se=R[re],ee=P[re],we=se.el&&(se.type===wt||!to(se,ee)||se.shapeFlag&70)?m(se.el):M;k(se,ee,we,null,K,G,Q,ce,!0)}},A=(R,P,M,K,G)=>{if(P!==M){if(P!==gt)for(const Q in P)!Ll(Q)&&!(Q in M)&&r(R,Q,P[Q],null,G,K);for(const Q in M){if(Ll(Q))continue;const ce=M[Q],re=P[Q];ce!==re&&Q!=="value"&&r(R,Q,re,ce,G,K)}"value"in M&&r(R,"value",P.value,M.value,G)}},S=(R,P,M,K,G,Q,ce,re,se)=>{const ee=P.el=R?R.el:l(""),we=P.anchor=R?R.anchor:l("");let{patchFlag:ue,dynamicChildren:ge,slotScopeIds:ye}=P;ye&&(re=re?re.concat(ye):ye),R==null?(s(ee,M,K),s(we,M,K),T(P.children||[],M,we,G,Q,ce,re,se)):ue>0&&ue&64&&ge&&R.dynamicChildren?(C(R.dynamicChildren,ge,M,G,Q,ce,re),(P.key!=null||G&&P===G.subTree)&&Tb(R,P,!0)):Fe(R,P,M,we,G,Q,ce,re,se)},I=(R,P,M,K,G,Q,ce,re,se)=>{P.slotScopeIds=re,R==null?P.shapeFlag&512?G.ctx.activate(P,M,K,ce,se):Ue(P,M,K,G,Q,ce,se):et(R,P,se)},Ue=(R,P,M,K,G,Q,ce)=>{const re=R.component=U0(R,K,G);if(Bh(R)&&(re.ctx.renderer=fe),B0(re,!1,ce),re.asyncDep){if(G&&G.registerDep(re,Ne,ce),!R.el){const se=re.subTree=Ce(Mn);F(null,se,P,M)}}else Ne(re,R,P,M,G,Q,ce)},et=(R,P,M)=>{const K=P.component=R.component;if(D0(R,P,M))if(K.asyncDep&&!K.asyncResolved){ve(K,P,M);return}else K.next=P,K.update();else P.el=R.el,K.vnode=P},Ne=(R,P,M,K,G,Q,ce)=>{const re=()=>{if(R.isMounted){let{next:ue,bu:ge,u:ye,parent:Ee,vnode:De}=R;{const kt=Ab(R);if(kt){ue&&(ue.el=De.el,ve(R,ue,ce)),kt.asyncDep.then(()=>{R.isUnmounted||re()});return}}let He=ue,Ot;Qr(R,!1),ue?(ue.el=De.el,ve(R,ue,ce)):ue=De,ge&&Nu(ge),(Ot=ue.props&&ue.props.onVnodeBeforeUpdate)&&Ms(Ot,Ee,ue,De),Qr(R,!0);const St=g_(R),Ht=R.subTree;R.subTree=St,k(Ht,St,m(Ht.el),z(Ht),R,G,Q),ue.el=St.el,He===null&&N0(R,St.el),ye&&Hn(ye,G),(Ot=ue.props&&ue.props.onVnodeUpdated)&&Hn(()=>Ms(Ot,Ee,ue,De),G)}else{let ue;const{el:ge,props:ye}=P,{bm:Ee,m:De,parent:He,root:Ot,type:St}=R,Ht=$l(P);Qr(R,!1),Ee&&Nu(Ee),!Ht&&(ue=ye&&ye.onVnodeBeforeMount)&&Ms(ue,He,P),Qr(R,!0);{Ot.ce&&Ot.ce._injectChildStyle(St);const kt=R.subTree=g_(R);k(null,kt,M,K,R,G,Q),P.el=kt.el}if(De&&Hn(De,G),!Ht&&(ue=ye&&ye.onVnodeMounted)){const kt=P;Hn(()=>Ms(ue,He,kt),G)}(P.shapeFlag&256||He&&$l(He.vnode)&&He.vnode.shapeFlag&256)&&R.a&&Hn(R.a,G),R.isMounted=!0,P=M=K=null}};R.scope.on();const se=R.effect=new NE(re);R.scope.off();const ee=R.update=se.run.bind(se),we=R.job=se.runIfDirty.bind(se);we.i=R,we.id=R.uid,se.scheduler=()=>$p(we),Qr(R,!0),ee()},ve=(R,P,M)=>{P.component=R;const K=R.vnode.props;R.vnode=P,R.next=null,m0(R,P.props,K,M),y0(R,P.children,M),Ir(),a_(R),Cr()},Fe=(R,P,M,K,G,Q,ce,re,se=!1)=>{const ee=R&&R.children,we=R?R.shapeFlag:0,ue=P.children,{patchFlag:ge,shapeFlag:ye}=P;if(ge>0){if(ge&128){Y(ee,ue,M,K,G,Q,ce,re,se);return}else if(ge&256){Ct(ee,ue,M,K,G,Q,ce,re,se);return}}ye&8?(we&16&&st(ee,G,Q),ue!==ee&&d(M,ue)):we&16?ye&16?Y(ee,ue,M,K,G,Q,ce,re,se):st(ee,G,Q,!0):(we&8&&d(M,""),ye&16&&T(ue,M,K,G,Q,ce,re,se))},Ct=(R,P,M,K,G,Q,ce,re,se)=>{R=R||ua,P=P||ua;const ee=R.length,we=P.length,ue=Math.min(ee,we);let ge;for(ge=0;ge<ue;ge++){const ye=P[ge]=se?er(P[ge]):Us(P[ge]);k(R[ge],ye,M,null,G,Q,ce,re,se)}ee>we?st(R,G,Q,!0,!1,ue):T(P,M,K,G,Q,ce,re,se,ue)},Y=(R,P,M,K,G,Q,ce,re,se)=>{let ee=0;const we=P.length;let ue=R.length-1,ge=we-1;for(;ee<=ue&&ee<=ge;){const ye=R[ee],Ee=P[ee]=se?er(P[ee]):Us(P[ee]);if(to(ye,Ee))k(ye,Ee,M,null,G,Q,ce,re,se);else break;ee++}for(;ee<=ue&&ee<=ge;){const ye=R[ue],Ee=P[ge]=se?er(P[ge]):Us(P[ge]);if(to(ye,Ee))k(ye,Ee,M,null,G,Q,ce,re,se);else break;ue--,ge--}if(ee>ue){if(ee<=ge){const ye=ge+1,Ee=ye<we?P[ye].el:K;for(;ee<=ge;)k(null,P[ee]=se?er(P[ee]):Us(P[ee]),M,Ee,G,Q,ce,re,se),ee++}}else if(ee>ge)for(;ee<=ue;)tt(R[ee],G,Q,!0),ee++;else{const ye=ee,Ee=ee,De=new Map;for(ee=Ee;ee<=ge;ee++){const qt=P[ee]=se?er(P[ee]):Us(P[ee]);qt.key!=null&&De.set(qt.key,ee)}let He,Ot=0;const St=ge-Ee+1;let Ht=!1,kt=0;const Ps=new Array(St);for(ee=0;ee<St;ee++)Ps[ee]=0;for(ee=ye;ee<=ue;ee++){const qt=R[ee];if(Ot>=St){tt(qt,G,Q,!0);continue}let kn;if(qt.key!=null)kn=De.get(qt.key);else for(He=Ee;He<=ge;He++)if(Ps[He-Ee]===0&&to(qt,P[He])){kn=He;break}kn===void 0?tt(qt,G,Q,!0):(Ps[kn-Ee]=ee+1,kn>=kt?kt=kn:Ht=!0,k(qt,P[kn],M,null,G,Q,ce,re,se),Ot++)}const Js=Ht?T0(Ps):ua;for(He=Js.length-1,ee=St-1;ee>=0;ee--){const qt=Ee+ee,kn=P[qt],Oo=qt+1<we?P[qt+1].el:K;Ps[ee]===0?k(null,kn,M,Oo,G,Q,ce,re,se):Ht&&(He<0||ee!==Js[He]?Ft(kn,M,Oo,2):He--)}}},Ft=(R,P,M,K,G=null)=>{const{el:Q,type:ce,transition:re,children:se,shapeFlag:ee}=R;if(ee&6){Ft(R.component.subTree,P,M,K);return}if(ee&128){R.suspense.move(P,M,K);return}if(ee&64){ce.move(R,P,M,fe);return}if(ce===wt){s(Q,P,M);for(let ue=0;ue<se.length;ue++)Ft(se[ue],P,M,K);s(R.anchor,P,M);return}if(ce===xu){B(R,P,M);return}if(K!==2&&ee&1&&re)if(K===0)re.beforeEnter(Q),s(Q,P,M),Hn(()=>re.enter(Q),G);else{const{leave:ue,delayLeave:ge,afterLeave:ye}=re,Ee=()=>s(Q,P,M),De=()=>{ue(Q,()=>{Ee(),ye&&ye()})};ge?ge(Q,Ee,De):De()}else s(Q,P,M)},tt=(R,P,M,K=!1,G=!1)=>{const{type:Q,props:ce,ref:re,children:se,dynamicChildren:ee,shapeFlag:we,patchFlag:ue,dirs:ge,cacheIndex:ye}=R;if(ue===-2&&(G=!1),re!=null&&nh(re,null,M,R,!0),ye!=null&&(P.renderCache[ye]=void 0),we&256){P.ctx.deactivate(R);return}const Ee=we&1&&ge,De=!$l(R);let He;if(De&&(He=ce&&ce.onVnodeBeforeUnmount)&&Ms(He,P,R),we&6)At(R.component,M,K);else{if(we&128){R.suspense.unmount(M,K);return}Ee&&Yr(R,null,P,"beforeUnmount"),we&64?R.type.remove(R,P,M,fe,K):ee&&!ee.hasOnce&&(Q!==wt||ue>0&&ue&64)?st(ee,P,M,!1,!0):(Q===wt&&ue&384||!G&&we&16)&&st(se,P,M),K&&nt(R)}(De&&(He=ce&&ce.onVnodeUnmounted)||Ee)&&Hn(()=>{He&&Ms(He,P,R),Ee&&Yr(R,null,P,"unmounted")},M)},nt=R=>{const{type:P,el:M,anchor:K,transition:G}=R;if(P===wt){Tt(M,K);return}if(P===xu){j(R);return}const Q=()=>{i(M),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(R.shapeFlag&1&&G&&!G.persisted){const{leave:ce,delayLeave:re}=G,se=()=>ce(M,Q);re?re(R.el,Q,se):se()}else Q()},Tt=(R,P)=>{let M;for(;R!==P;)M=_(R),i(R),R=M;i(P)},At=(R,P,M)=>{const{bum:K,scope:G,job:Q,subTree:ce,um:re,m:se,a:ee}=R;m_(se),m_(ee),K&&Nu(K),G.stop(),Q&&(Q.flags|=8,tt(ce,R,P,M)),re&&Hn(re,P),Hn(()=>{R.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},st=(R,P,M,K=!1,G=!1,Q=0)=>{for(let ce=Q;ce<R.length;ce++)tt(R[ce],P,M,K,G)},z=R=>{if(R.shapeFlag&6)return z(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const P=_(R.anchor||R.el),M=P&&P[BS];return M?_(M):P};let W=!1;const oe=(R,P,M)=>{R==null?P._vnode&&tt(P._vnode,null,null,!0):k(P._vnode||null,R,P,null,null,null,M),P._vnode=R,W||(W=!0,a_(),JE(),W=!1)},fe={p:k,um:tt,m:Ft,r:nt,mt:Ue,mc:T,pc:Fe,pbc:C,n:z,o:t};return{render:oe,hydrate:void 0,createApp:d0(oe)}}function Jd({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Qr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function w0(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Tb(t,e,n=!1){const s=t.children,i=e.children;if(Se(s)&&Se(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=er(i[r]),l.el=o.el),!n&&l.patchFlag!==-2&&Tb(o,l)),l.type===Wh&&(l.el=o.el)}}function T0(t){const e=t.slice(),n=[0];let s,i,r,o,l;const c=t.length;for(s=0;s<c;s++){const h=t[s];if(h!==0){if(i=n[n.length-1],t[i]<h){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,t[n[l]]<h?r=l+1:o=l;h<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Ab(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ab(e)}function m_(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const A0=Symbol.for("v-scx"),I0=()=>as(A0);function lr(t,e,n){return Ib(t,e,n)}function Ib(t,e,n=gt){const{immediate:s,deep:i,flush:r,once:o}=n,l=sn({},n),c=e&&s||!e&&r!=="post";let h;if(ic){if(r==="sync"){const y=I0();h=y.__watcherHandles||(y.__watcherHandles=[])}else if(!c){const y=()=>{};return y.stop=Bs,y.resume=Bs,y.pause=Bs,y}}const d=nn;l.call=(y,N,k)=>Ts(y,d,N,k);let m=!1;r==="post"?l.scheduler=y=>{Hn(y,d&&d.suspense)}:r!=="sync"&&(m=!0,l.scheduler=(y,N)=>{N?y():$p(y)}),l.augmentJob=y=>{e&&(y.flags|=4),m&&(y.flags|=2,d&&(y.id=d.uid,y.i=d))};const _=$S(t,e,l);return ic&&(h?h.push(_):c&&_()),_}function C0(t,e,n){const s=this.proxy,i=$t(t)?t.includes(".")?Cb(s,t):()=>s[t]:t.bind(s,s);let r;Me(e)?r=e:(r=e.handler,n=e);const o=wc(this),l=Ib(i,r.bind(s),n);return o(),l}function Cb(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const S0=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${cs(e)}Modifiers`]||t[`${wo(e)}Modifiers`];function R0(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||gt;let i=n;const r=e.startsWith("update:"),o=r&&S0(s,e.slice(7));o&&(o.trim&&(i=n.map(d=>$t(d)?d.trim():d)),o.number&&(i=n.map(Xu)));let l,c=s[l=Wd(e)]||s[l=Wd(cs(e))];!c&&r&&(c=s[l=Wd(wo(e))]),c&&Ts(c,t,6,i);const h=s[l+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Ts(h,t,6,i)}}function Sb(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},l=!1;if(!Me(t)){const c=h=>{const d=Sb(h,e,!0);d&&(l=!0,sn(o,d))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!r&&!l?(vt(t)&&s.set(t,null),null):(Se(r)?r.forEach(c=>o[c]=null):sn(o,r),vt(t)&&s.set(t,o),o)}function qh(t,e){return!t||!xh(e)?!1:(e=e.slice(2).replace(/Once$/,""),at(t,e[0].toLowerCase()+e.slice(1))||at(t,wo(e))||at(t,e))}function g_(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:c,render:h,renderCache:d,props:m,data:_,setupState:y,ctx:N,inheritAttrs:k}=t,L=th(t);let F,U;try{if(n.shapeFlag&4){const j=i||s,ne=j;F=Us(h.call(ne,j,d,m,y,_,N)),U=l}else{const j=e;F=Us(j.length>1?j(m,{attrs:l,slots:o,emit:c}):j(m,null)),U=e.props?l:P0(l)}}catch(j){Ul.length=0,jh(j,t,1),F=Ce(Mn)}let B=F;if(U&&k!==!1){const j=Object.keys(U),{shapeFlag:ne}=B;j.length&&ne&7&&(r&&j.some(Sp)&&(U=O0(U,r)),B=pr(B,U,!1,!0))}return n.dirs&&(B=pr(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(n.dirs):n.dirs),n.transition&&nc(B,n.transition),F=B,th(L),F}const P0=t=>{let e;for(const n in t)(n==="class"||n==="style"||xh(n))&&((e||(e={}))[n]=t[n]);return e},O0=(t,e)=>{const n={};for(const s in t)(!Sp(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function D0(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:l,patchFlag:c}=e,h=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?__(s,o,h):!!o;if(c&8){const d=e.dynamicProps;for(let m=0;m<d.length;m++){const _=d[m];if(o[_]!==s[_]&&!qh(h,_))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?__(s,o,h):!0:!!o;return!1}function __(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!qh(n,r))return!0}return!1}function N0({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Rb=t=>t.__isSuspense;function k0(t,e){e&&e.pendingBranch?Se(t)?e.effects.push(...t):e.effects.push(t):jS(t)}const wt=Symbol.for("v-fgt"),Wh=Symbol.for("v-txt"),Mn=Symbol.for("v-cmt"),xu=Symbol.for("v-stc"),Ul=[];let Wn=null;function be(t=!1){Ul.push(Wn=t?null:[])}function x0(){Ul.pop(),Wn=Ul[Ul.length-1]||null}let sc=1;function v_(t,e=!1){sc+=t,t<0&&Wn&&e&&(Wn.hasOnce=!0)}function Pb(t){return t.dynamicChildren=sc>0?Wn||ua:null,x0(),sc>0&&Wn&&Wn.push(t),t}function Te(t,e,n,s,i,r){return Pb(D(t,e,n,s,i,r,!0))}function Ob(t,e,n,s,i){return Pb(Ce(t,e,n,s,i,!0))}function ih(t){return t?t.__v_isVNode===!0:!1}function to(t,e){return t.type===e.type&&t.key===e.key}const Db=({key:t})=>t??null,Lu=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?$t(t)||Mt(t)||Me(t)?{i:Pn,r:t,k:e,f:!!n}:t:null);function D(t,e=null,n=null,s=0,i=null,r=t===wt?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Db(e),ref:e&&Lu(e),scopeId:eb,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Pn};return l?(jp(c,n),r&128&&t.normalize(c)):n&&(c.shapeFlag|=$t(n)?8:16),sc>0&&!o&&Wn&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Wn.push(c),c}const Ce=L0;function L0(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===s0)&&(t=Mn),ih(t)){const l=pr(t,e,!0);return n&&jp(l,n),sc>0&&!r&&Wn&&(l.shapeFlag&6?Wn[Wn.indexOf(t)]=l:Wn.push(l)),l.patchFlag=-2,l}if(K0(t)&&(t=t.__vccOpts),e){e=V0(e);let{class:l,style:c}=e;l&&!$t(l)&&(e.class=Cn(l)),vt(c)&&(Vp(c)&&!Se(c)&&(c=sn({},c)),e.style=Jl(c))}const o=$t(t)?1:Rb(t)?128:tb(t)?64:vt(t)?4:Me(t)?2:0;return D(t,e,n,s,i,o,r,!0)}function V0(t){return t?Vp(t)||gb(t)?sn({},t):t:null}function pr(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:c}=t,h=e?M0(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&Db(h),ref:e&&e.ref?n&&r?Se(r)?r.concat(Lu(e)):[r,Lu(e)]:Lu(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==wt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&pr(t.ssContent),ssFallback:t.ssFallback&&pr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&nc(d,c.clone(d)),d}function en(t=" ",e=0){return Ce(Wh,null,t,e)}function Nb(t,e){const n=Ce(xu,null,t);return n.staticCount=e,n}function ss(t="",e=!1){return e?(be(),Ob(Mn,null,t)):Ce(Mn,null,t)}function Us(t){return t==null||typeof t=="boolean"?Ce(Mn):Se(t)?Ce(wt,null,t.slice()):ih(t)?er(t):Ce(Wh,null,String(t))}function er(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:pr(t)}function jp(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Se(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),jp(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!gb(e)?e._ctx=Pn:i===3&&Pn&&(Pn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Me(e)?(e={default:e,_ctx:Pn},n=32):(e=String(e),s&64?(n=16,e=[en(e)]):n=8);t.children=e,t.shapeFlag|=n}function M0(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Cn([e.class,s.class]));else if(i==="style")e.style=Jl([e.style,s.style]);else if(xh(i)){const r=e[i],o=s[i];o&&r!==o&&!(Se(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function Ms(t,e,n,s=null){Ts(t,e,7,[n,s])}const $0=fb();let F0=0;function U0(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||$0,r={uid:F0++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new PE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vb(s,i),emitsOptions:Sb(s,i),emit:null,emitted:null,propsDefaults:gt,inheritAttrs:s.inheritAttrs,ctx:gt,data:gt,props:gt,attrs:gt,slots:gt,refs:gt,setupState:gt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=R0.bind(null,r),t.ce&&t.ce(r),r}let nn=null;const j0=()=>nn||Pn;let rh,Bf;{const t=$h(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};rh=e("__VUE_INSTANCE_SETTERS__",n=>nn=n),Bf=e("__VUE_SSR_SETTERS__",n=>ic=n)}const wc=t=>{const e=nn;return rh(t),t.scope.on(),()=>{t.scope.off(),rh(e)}},y_=()=>{nn&&nn.scope.off(),rh(null)};function kb(t){return t.vnode.shapeFlag&4}let ic=!1;function B0(t,e=!1,n=!1){e&&Bf(e);const{props:s,children:i}=t.vnode,r=kb(t);p0(t,s,r,e),v0(t,i,n);const o=r?H0(t,e):void 0;return e&&Bf(!1),o}function H0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,r0);const{setup:s}=n;if(s){Ir();const i=t.setupContext=s.length>1?W0(t):null,r=wc(t),o=Ec(s,t,0,[t.props,i]),l=wE(o);if(Cr(),r(),(l||t.sp)&&!$l(t)&&lb(t),l){if(o.then(y_,y_),e)return o.then(c=>{E_(t,c)}).catch(c=>{jh(c,t,0)});t.asyncDep=o}else E_(t,o)}else xb(t)}function E_(t,e,n){Me(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:vt(e)&&(t.setupState=YE(e)),xb(t)}function xb(t,e,n){const s=t.type;t.render||(t.render=s.render||Bs);{const i=wc(t);Ir();try{o0(t)}finally{Cr(),i()}}}const q0={get(t,e){return pn(t,"get",""),t[e]}};function W0(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,q0),slots:t.slots,emit:t.emit,expose:e}}function zh(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(YE(Mp(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Fl)return Fl[n](t)},has(e,n){return n in e||n in Fl}})):t.proxy}function z0(t,e=!0){return Me(t)?t.displayName||t.name:t.name||e&&t.__name}function K0(t){return Me(t)&&"__vccOpts"in t}const jt=(t,e)=>VS(t,e,ic);function Bp(t,e,n){const s=arguments.length;return s===2?vt(e)&&!Se(e)?ih(e)?Ce(t,null,[e]):Ce(t,e):Ce(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ih(n)&&(n=[n]),Ce(t,e,n))}const G0="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Hf;const b_=typeof window<"u"&&window.trustedTypes;if(b_)try{Hf=b_.createPolicy("vue",{createHTML:t=>t})}catch{}const Lb=Hf?t=>Hf.createHTML(t):t=>t,Y0="http://www.w3.org/2000/svg",Q0="http://www.w3.org/1998/Math/MathML",hi=typeof document<"u"?document:null,w_=hi&&hi.createElement("template"),X0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?hi.createElementNS(Y0,t):e==="mathml"?hi.createElementNS(Q0,t):n?hi.createElement(t,{is:n}):hi.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>hi.createTextNode(t),createComment:t=>hi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>hi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{w_.innerHTML=Lb(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=w_.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ki="transition",Al="animation",rc=Symbol("_vtc"),Vb={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},J0=sn({},nb,Vb),Z0=t=>(t.displayName="Transition",t.props=J0,t),T_=Z0((t,{slots:e})=>Bp(WS,eR(t),e)),Xr=(t,e=[])=>{Se(t)?t.forEach(n=>n(...e)):t&&t(...e)},A_=t=>t?Se(t)?t.some(e=>e.length>1):t.length>1:!1;function eR(t){const e={};for(const S in t)S in Vb||(e[S]=t[S]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=r,appearActiveClass:h=o,appearToClass:d=l,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=t,N=tR(i),k=N&&N[0],L=N&&N[1],{onBeforeEnter:F,onEnter:U,onEnterCancelled:B,onLeave:j,onLeaveCancelled:ne,onBeforeAppear:ie=F,onAppear:O=U,onAppearCancelled:T=B}=e,w=(S,I,Ue,et)=>{S._enterCancelled=et,Jr(S,I?d:l),Jr(S,I?h:o),Ue&&Ue()},C=(S,I)=>{S._isLeaving=!1,Jr(S,m),Jr(S,y),Jr(S,_),I&&I()},A=S=>(I,Ue)=>{const et=S?O:U,Ne=()=>w(I,S,Ue);Xr(et,[I,Ne]),I_(()=>{Jr(I,S?c:r),ci(I,S?d:l),A_(et)||C_(I,s,k,Ne)})};return sn(e,{onBeforeEnter(S){Xr(F,[S]),ci(S,r),ci(S,o)},onBeforeAppear(S){Xr(ie,[S]),ci(S,c),ci(S,h)},onEnter:A(!1),onAppear:A(!0),onLeave(S,I){S._isLeaving=!0;const Ue=()=>C(S,I);ci(S,m),S._enterCancelled?(ci(S,_),P_()):(P_(),ci(S,_)),I_(()=>{S._isLeaving&&(Jr(S,m),ci(S,y),A_(j)||C_(S,s,L,Ue))}),Xr(j,[S,Ue])},onEnterCancelled(S){w(S,!1,void 0,!0),Xr(B,[S])},onAppearCancelled(S){w(S,!0,void 0,!0),Xr(T,[S])},onLeaveCancelled(S){C(S),Xr(ne,[S])}})}function tR(t){if(t==null)return null;if(vt(t))return[Zd(t.enter),Zd(t.leave)];{const e=Zd(t);return[e,e]}}function Zd(t){return eS(t)}function ci(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[rc]||(t[rc]=new Set)).add(e)}function Jr(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[rc];n&&(n.delete(e),n.size||(t[rc]=void 0))}function I_(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let nR=0;function C_(t,e,n,s){const i=t._endId=++nR,r=()=>{i===t._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:l,propCount:c}=sR(t,e);if(!o)return s();const h=o+"end";let d=0;const m=()=>{t.removeEventListener(h,_),r()},_=y=>{y.target===t&&++d>=c&&m()};setTimeout(()=>{d<c&&m()},l+1),t.addEventListener(h,_)}function sR(t,e){const n=window.getComputedStyle(t),s=N=>(n[N]||"").split(", "),i=s(`${Ki}Delay`),r=s(`${Ki}Duration`),o=S_(i,r),l=s(`${Al}Delay`),c=s(`${Al}Duration`),h=S_(l,c);let d=null,m=0,_=0;e===Ki?o>0&&(d=Ki,m=o,_=r.length):e===Al?h>0&&(d=Al,m=h,_=c.length):(m=Math.max(o,h),d=m>0?o>h?Ki:Al:null,_=d?d===Ki?r.length:c.length:0);const y=d===Ki&&/\b(transform|all)(,|$)/.test(s(`${Ki}Property`).toString());return{type:d,timeout:m,propCount:_,hasTransform:y}}function S_(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>R_(n)+R_(t[s])))}function R_(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function P_(){return document.body.offsetHeight}function iR(t,e,n){const s=t[rc];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const O_=Symbol("_vod"),rR=Symbol("_vsh"),oR=Symbol(""),aR=/(^|;)\s*display\s*:/;function lR(t,e,n){const s=t.style,i=$t(n);let r=!1;if(n&&!i){if(e)if($t(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&Vu(s,l,"")}else for(const o in e)n[o]==null&&Vu(s,o,"");for(const o in n)o==="display"&&(r=!0),Vu(s,o,n[o])}else if(i){if(e!==n){const o=s[oR];o&&(n+=";"+o),s.cssText=n,r=aR.test(n)}}else e&&t.removeAttribute("style");O_ in t&&(t[O_]=r?s.display:"",t[rR]&&(s.display="none"))}const D_=/\s*!important$/;function Vu(t,e,n){if(Se(n))n.forEach(s=>Vu(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=cR(t,e);D_.test(n)?t.setProperty(wo(s),n.replace(D_,""),"important"):t[s]=n}}const N_=["Webkit","Moz","ms"],ef={};function cR(t,e){const n=ef[e];if(n)return n;let s=cs(e);if(s!=="filter"&&s in t)return ef[e]=s;s=Mh(s);for(let i=0;i<N_.length;i++){const r=N_[i]+s;if(r in t)return ef[e]=r}return e}const k_="http://www.w3.org/1999/xlink";function x_(t,e,n,s,i,r=oS(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(k_,e.slice(6,e.length)):t.setAttributeNS(k_,e,n):n==null||r&&!CE(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Gs(n)?String(n):n)}function L_(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Lb(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=CE(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function no(t,e,n,s){t.addEventListener(e,n,s)}function uR(t,e,n,s){t.removeEventListener(e,n,s)}const V_=Symbol("_vei");function hR(t,e,n,s,i=null){const r=t[V_]||(t[V_]={}),o=r[e];if(s&&o)o.value=s;else{const[l,c]=dR(e);if(s){const h=r[e]=mR(s,i);no(t,l,h,c)}else o&&(uR(t,l,o,c),r[e]=void 0)}}const M_=/(?:Once|Passive|Capture)$/;function dR(t){let e;if(M_.test(t)){e={};let s;for(;s=t.match(M_);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):wo(t.slice(2)),e]}let tf=0;const fR=Promise.resolve(),pR=()=>tf||(fR.then(()=>tf=0),tf=Date.now());function mR(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ts(gR(s,n.value),e,5,[s])};return n.value=t,n.attached=pR(),n}function gR(t,e){if(Se(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const $_=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,_R=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?iR(t,s,o):e==="style"?lR(t,n,s):xh(e)?Sp(e)||hR(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):vR(t,e,s,o))?(L_(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&x_(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!$t(s))?L_(t,cs(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),x_(t,e,s,o))};function vR(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&$_(e)&&Me(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return $_(e)&&$t(n)?!1:e in t}const oh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Se(e)?n=>Nu(e,n):e};function yR(t){t.target.composing=!0}function F_(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const fa=Symbol("_assign"),js={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[fa]=oh(i);const r=s||i.props&&i.props.type==="number";no(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),r&&(l=Xu(l)),t[fa](l)}),n&&no(t,"change",()=>{t.value=t.value.trim()}),e||(no(t,"compositionstart",yR),no(t,"compositionend",F_),no(t,"change",F_))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[fa]=oh(o),t.composing)return;const l=(r||t.type==="number")&&!/^0\d/.test(t.value)?Xu(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===c)||(t.value=c))}},U_={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=Lh(e);no(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Xu(ah(o)):ah(o));t[fa](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,va(()=>{t._assigning=!1})}),t[fa]=oh(s)},mounted(t,{value:e}){j_(t,e)},beforeUpdate(t,e,n){t[fa]=oh(n)},updated(t,{value:e}){t._assigning||j_(t,e)}};function j_(t,e){const n=t.multiple,s=Se(e);if(!(n&&!s&&!Lh(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],l=ah(o);if(n)if(s){const c=typeof l;c==="string"||c==="number"?o.selected=e.some(h=>String(h)===String(l)):o.selected=lS(e,l)>-1}else o.selected=e.has(l);else if(Fh(ah(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ah(t){return"_value"in t?t._value:t.value}const ER=["ctrl","shift","alt","meta"],bR={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ER.some(n=>t[`${n}Key`]&&!e.includes(n))},so=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const l=bR[e[o]];if(l&&l(i,e))return}return t(i,...r)})},wR=sn({patchProp:_R},X0);let B_;function TR(){return B_||(B_=E0(wR))}const AR=(...t)=>{const e=TR().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=CR(s);if(!i)return;const r=e._component;!Me(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,IR(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function IR(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function CR(t){return $t(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Mb;const Kh=t=>Mb=t,$b=Symbol();function qf(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var jl;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(jl||(jl={}));function SR(){const t=OE(!0),e=t.run(()=>it({}));let n=[],s=[];const i=Mp({install(r){Kh(i),i._a=r,r.provide($b,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Fb=()=>{};function H_(t,e,n,s=Fb){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&DE()&&cS(i),i}function Xo(t,...e){t.slice().forEach(n=>{n(...e)})}const RR=t=>t(),q_=Symbol(),nf=Symbol();function Wf(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];qf(i)&&qf(s)&&t.hasOwnProperty(n)&&!Mt(s)&&!ar(s)?t[n]=Wf(i,s):t[n]=s}return t}const PR=Symbol();function OR(t){return!qf(t)||!Object.prototype.hasOwnProperty.call(t,PR)}const{assign:Xi}=Object;function DR(t){return!!(Mt(t)&&t.effect)}function NR(t,e,n,s){const{state:i,actions:r,getters:o}=e,l=n.state.value[t];let c;function h(){l||(n.state.value[t]=i?i():{});const d=NS(n.state.value[t]);return Xi(d,r,Object.keys(o||{}).reduce((m,_)=>(m[_]=Mp(jt(()=>{Kh(n);const y=n._s.get(t);return o[_].call(y,y)})),m),{}))}return c=Ub(t,h,e,n,s,!0),c}function Ub(t,e,n={},s,i,r){let o;const l=Xi({actions:{}},n),c={deep:!0};let h,d,m=[],_=[],y;const N=s.state.value[t];!r&&!N&&(s.state.value[t]={}),it({});let k;function L(T){let w;h=d=!1,typeof T=="function"?(T(s.state.value[t]),w={type:jl.patchFunction,storeId:t,events:y}):(Wf(s.state.value[t],T),w={type:jl.patchObject,payload:T,storeId:t,events:y});const C=k=Symbol();va().then(()=>{k===C&&(h=!0)}),d=!0,Xo(m,w,s.state.value[t])}const F=r?function(){const{state:w}=n,C=w?w():{};this.$patch(A=>{Xi(A,C)})}:Fb;function U(){o.stop(),m=[],_=[],s._s.delete(t)}const B=(T,w="")=>{if(q_ in T)return T[nf]=w,T;const C=function(){Kh(s);const A=Array.from(arguments),S=[],I=[];function Ue(ve){S.push(ve)}function et(ve){I.push(ve)}Xo(_,{args:A,name:C[nf],store:ne,after:Ue,onError:et});let Ne;try{Ne=T.apply(this&&this.$id===t?this:ne,A)}catch(ve){throw Xo(I,ve),ve}return Ne instanceof Promise?Ne.then(ve=>(Xo(S,ve),ve)).catch(ve=>(Xo(I,ve),Promise.reject(ve))):(Xo(S,Ne),Ne)};return C[q_]=!0,C[nf]=w,C},j={_p:s,$id:t,$onAction:H_.bind(null,_),$patch:L,$reset:F,$subscribe(T,w={}){const C=H_(m,T,w.detached,()=>A()),A=o.run(()=>lr(()=>s.state.value[t],S=>{(w.flush==="sync"?d:h)&&T({storeId:t,type:jl.direct,events:y},S)},Xi({},c,w)));return C},$dispose:U},ne=yc(j);s._s.set(t,ne);const O=(s._a&&s._a.runWithContext||RR)(()=>s._e.run(()=>(o=OE()).run(()=>e({action:B}))));for(const T in O){const w=O[T];if(Mt(w)&&!DR(w)||ar(w))r||(N&&OR(w)&&(Mt(w)?w.value=N[T]:Wf(w,N[T])),s.state.value[t][T]=w);else if(typeof w=="function"){const C=B(w,T);O[T]=C,l.actions[T]=w}}return Xi(ne,O),Xi(Ze(ne),O),Object.defineProperty(ne,"$state",{get:()=>s.state.value[t],set:T=>{L(w=>{Xi(w,T)})}}),s._p.forEach(T=>{Xi(ne,o.run(()=>T({store:ne,app:s._a,pinia:s,options:l})))}),N&&r&&n.hydrate&&n.hydrate(ne.$state,N),h=!0,d=!0,ne}/*! #__NO_SIDE_EFFECTS__ */function jb(t,e,n){let s;const i=typeof e=="function";s=i?n:e;function r(o,l){const c=f0();return o=o||(c?as($b,null):null),o&&Kh(o),o=Mb,o._s.has(t)||(i?Ub(t,e,s,o):NR(t,s,o)),o._s.get(t)}return r.$id=t,r}const kR={id:"app-wrapper"},xR={class:"container-fluid p-0 flex-fill"},LR={__name:"App",setup(t){return(e,n)=>{const s=bc("router-view");return be(),Te("div",kR,[D("main",xR,[Ce(s)])])}}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ta=typeof document<"u";function Bb(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function VR(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Bb(t.default)}const ot=Object.assign;function sf(t,e){const n={};for(const s in e){const i=e[s];n[s]=As(i)?i.map(t):t(i)}return n}const Bl=()=>{},As=Array.isArray,Hb=/#/g,MR=/&/g,$R=/\//g,FR=/=/g,UR=/\?/g,qb=/\+/g,jR=/%5B/g,BR=/%5D/g,Wb=/%5E/g,HR=/%60/g,zb=/%7B/g,qR=/%7C/g,Kb=/%7D/g,WR=/%20/g;function Hp(t){return encodeURI(""+t).replace(qR,"|").replace(jR,"[").replace(BR,"]")}function zR(t){return Hp(t).replace(zb,"{").replace(Kb,"}").replace(Wb,"^")}function zf(t){return Hp(t).replace(qb,"%2B").replace(WR,"+").replace(Hb,"%23").replace(MR,"%26").replace(HR,"`").replace(zb,"{").replace(Kb,"}").replace(Wb,"^")}function KR(t){return zf(t).replace(FR,"%3D")}function GR(t){return Hp(t).replace(Hb,"%23").replace(UR,"%3F")}function YR(t){return t==null?"":GR(t).replace($R,"%2F")}function oc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const QR=/\/$/,XR=t=>t.replace(QR,"");function rf(t,e,n="/"){let s,i={},r="",o="";const l=e.indexOf("#");let c=e.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=e.slice(0,c),r=e.slice(c+1,l>-1?l:e.length),i=t(r)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=tP(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:oc(o)}}function JR(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function W_(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function ZR(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&ya(e.matched[s],n.matched[i])&&Gb(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ya(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Gb(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!eP(t[n],e[n]))return!1;return!0}function eP(t,e){return As(t)?z_(t,e):As(e)?z_(e,t):t===e}function z_(t,e){return As(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function tP(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Gi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ac;(function(t){t.pop="pop",t.push="push"})(ac||(ac={}));var Hl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Hl||(Hl={}));function nP(t){if(!t)if(ta){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),XR(t)}const sP=/^[^#]+#/;function iP(t,e){return t.replace(sP,"#")+e}function rP(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Gh=()=>({left:window.scrollX,top:window.scrollY});function oP(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=rP(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function K_(t,e){return(history.state?history.state.position-e:-1)+t}const Kf=new Map;function aP(t,e){Kf.set(t,e)}function lP(t){const e=Kf.get(t);return Kf.delete(t),e}let cP=()=>location.protocol+"//"+location.host;function Yb(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let l=i.includes(t.slice(r))?t.slice(r).length:1,c=i.slice(l);return c[0]!=="/"&&(c="/"+c),W_(c,"")}return W_(n,t)+s+i}function uP(t,e,n,s){let i=[],r=[],o=null;const l=({state:_})=>{const y=Yb(t,location),N=n.value,k=e.value;let L=0;if(_){if(n.value=y,e.value=_,o&&o===N){o=null;return}L=k?_.position-k.position:0}else s(y);i.forEach(F=>{F(n.value,N,{delta:L,type:ac.pop,direction:L?L>0?Hl.forward:Hl.back:Hl.unknown})})};function c(){o=n.value}function h(_){i.push(_);const y=()=>{const N=i.indexOf(_);N>-1&&i.splice(N,1)};return r.push(y),y}function d(){const{history:_}=window;_.state&&_.replaceState(ot({},_.state,{scroll:Gh()}),"")}function m(){for(const _ of r)_();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:h,destroy:m}}function G_(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Gh():null}}function hP(t){const{history:e,location:n}=window,s={value:Yb(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(c,h,d){const m=t.indexOf("#"),_=m>-1?(n.host&&document.querySelector("base")?t:t.slice(m))+c:cP()+t+c;try{e[d?"replaceState":"pushState"](h,"",_),i.value=h}catch(y){console.error(y),n[d?"replace":"assign"](_)}}function o(c,h){const d=ot({},e.state,G_(i.value.back,c,i.value.forward,!0),h,{position:i.value.position});r(c,d,!0),s.value=c}function l(c,h){const d=ot({},i.value,e.state,{forward:c,scroll:Gh()});r(d.current,d,!0);const m=ot({},G_(s.value,c,null),{position:d.position+1},h);r(c,m,!1),s.value=c}return{location:s,state:i,push:l,replace:o}}function dP(t){t=nP(t);const e=hP(t),n=uP(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=ot({location:"",base:t,go:s,createHref:iP.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function fP(t){return typeof t=="string"||t&&typeof t=="object"}function Qb(t){return typeof t=="string"||typeof t=="symbol"}const Xb=Symbol("");var Y_;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Y_||(Y_={}));function Ea(t,e){return ot(new Error,{type:t,[Xb]:!0},e)}function ui(t,e){return t instanceof Error&&Xb in t&&(e==null||!!(t.type&e))}const Q_="[^/]+?",pP={sensitive:!1,strict:!1,start:!0,end:!0},mP=/[.+*?^${}()[\]/\\]/g;function gP(t,e){const n=ot({},pP,e),s=[];let i=n.start?"^":"";const r=[];for(const h of t){const d=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let m=0;m<h.length;m++){const _=h[m];let y=40+(n.sensitive?.25:0);if(_.type===0)m||(i+="/"),i+=_.value.replace(mP,"\\$&"),y+=40;else if(_.type===1){const{value:N,repeatable:k,optional:L,regexp:F}=_;r.push({name:N,repeatable:k,optional:L});const U=F||Q_;if(U!==Q_){y+=10;try{new RegExp(`(${U})`)}catch(j){throw new Error(`Invalid custom RegExp for param "${N}" (${U}): `+j.message)}}let B=k?`((?:${U})(?:/(?:${U}))*)`:`(${U})`;m||(B=L&&h.length<2?`(?:/${B})`:"/"+B),L&&(B+="?"),i+=B,y+=20,L&&(y+=-8),k&&(y+=-20),U===".*"&&(y+=-50)}d.push(y)}s.push(d)}if(n.strict&&n.end){const h=s.length-1;s[h][s[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function l(h){const d=h.match(o),m={};if(!d)return null;for(let _=1;_<d.length;_++){const y=d[_]||"",N=r[_-1];m[N.name]=y&&N.repeatable?y.split("/"):y}return m}function c(h){let d="",m=!1;for(const _ of t){(!m||!d.endsWith("/"))&&(d+="/"),m=!1;for(const y of _)if(y.type===0)d+=y.value;else if(y.type===1){const{value:N,repeatable:k,optional:L}=y,F=N in h?h[N]:"";if(As(F)&&!k)throw new Error(`Provided param "${N}" is an array but it is not repeatable (* or + modifiers)`);const U=As(F)?F.join("/"):F;if(!U)if(L)_.length<2&&(d.endsWith("/")?d=d.slice(0,-1):m=!0);else throw new Error(`Missing required param "${N}"`);d+=U}}return d||"/"}return{re:o,score:s,keys:r,parse:l,stringify:c}}function _P(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Jb(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=_P(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(X_(s))return 1;if(X_(i))return-1}return i.length-s.length}function X_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const vP={type:0,value:""},yP=/[a-zA-Z0-9_]/;function EP(t){if(!t)return[[]];if(t==="/")return[[vP]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${h}": ${y}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let l=0,c,h="",d="";function m(){h&&(n===0?r.push({type:0,value:h}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:h,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),h="")}function _(){h+=c}for(;l<t.length;){if(c=t[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(h&&m(),o()):c===":"?(m(),n=1):_();break;case 4:_(),n=s;break;case 1:c==="("?n=2:yP.test(c)?_():(m(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:n=3:d+=c;break;case 3:m(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),m(),o(),i}function bP(t,e,n){const s=gP(EP(t.path),n),i=ot(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function wP(t,e){const n=[],s=new Map;e=tv({strict:!1,end:!0,sensitive:!1},e);function i(m){return s.get(m)}function r(m,_,y){const N=!y,k=Z_(m);k.aliasOf=y&&y.record;const L=tv(e,m),F=[k];if("alias"in m){const j=typeof m.alias=="string"?[m.alias]:m.alias;for(const ne of j)F.push(Z_(ot({},k,{components:y?y.record.components:k.components,path:ne,aliasOf:y?y.record:k})))}let U,B;for(const j of F){const{path:ne}=j;if(_&&ne[0]!=="/"){const ie=_.record.path,O=ie[ie.length-1]==="/"?"":"/";j.path=_.record.path+(ne&&O+ne)}if(U=bP(j,_,L),y?y.alias.push(U):(B=B||U,B!==U&&B.alias.push(U),N&&m.name&&!ev(U)&&o(m.name)),Zb(U)&&c(U),k.children){const ie=k.children;for(let O=0;O<ie.length;O++)r(ie[O],U,y&&y.children[O])}y=y||U}return B?()=>{o(B)}:Bl}function o(m){if(Qb(m)){const _=s.get(m);_&&(s.delete(m),n.splice(n.indexOf(_),1),_.children.forEach(o),_.alias.forEach(o))}else{const _=n.indexOf(m);_>-1&&(n.splice(_,1),m.record.name&&s.delete(m.record.name),m.children.forEach(o),m.alias.forEach(o))}}function l(){return n}function c(m){const _=IP(m,n);n.splice(_,0,m),m.record.name&&!ev(m)&&s.set(m.record.name,m)}function h(m,_){let y,N={},k,L;if("name"in m&&m.name){if(y=s.get(m.name),!y)throw Ea(1,{location:m});L=y.record.name,N=ot(J_(_.params,y.keys.filter(B=>!B.optional).concat(y.parent?y.parent.keys.filter(B=>B.optional):[]).map(B=>B.name)),m.params&&J_(m.params,y.keys.map(B=>B.name))),k=y.stringify(N)}else if(m.path!=null)k=m.path,y=n.find(B=>B.re.test(k)),y&&(N=y.parse(k),L=y.record.name);else{if(y=_.name?s.get(_.name):n.find(B=>B.re.test(_.path)),!y)throw Ea(1,{location:m,currentLocation:_});L=y.record.name,N=ot({},_.params,m.params),k=y.stringify(N)}const F=[];let U=y;for(;U;)F.unshift(U.record),U=U.parent;return{name:L,path:k,params:N,matched:F,meta:AP(F)}}t.forEach(m=>r(m));function d(){n.length=0,s.clear()}return{addRoute:r,resolve:h,removeRoute:o,clearRoutes:d,getRoutes:l,getRecordMatcher:i}}function J_(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Z_(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:TP(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function TP(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function ev(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function AP(t){return t.reduce((e,n)=>ot(e,n.meta),{})}function tv(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function IP(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;Jb(t,e[r])<0?s=r:n=r+1}const i=CP(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function CP(t){let e=t;for(;e=e.parent;)if(Zb(e)&&Jb(t,e)===0)return e}function Zb({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function SP(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(qb," "),o=r.indexOf("="),l=oc(o<0?r:r.slice(0,o)),c=o<0?null:oc(r.slice(o+1));if(l in e){let h=e[l];As(h)||(h=e[l]=[h]),h.push(c)}else e[l]=c}return e}function nv(t){let e="";for(let n in t){const s=t[n];if(n=KR(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(As(s)?s.map(r=>r&&zf(r)):[s&&zf(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function RP(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=As(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const PP=Symbol(""),sv=Symbol(""),Yh=Symbol(""),qp=Symbol(""),Gf=Symbol("");function Il(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function tr(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((l,c)=>{const h=_=>{_===!1?c(Ea(4,{from:n,to:e})):_ instanceof Error?c(_):fP(_)?c(Ea(2,{from:e,to:_})):(o&&s.enterCallbacks[i]===o&&typeof _=="function"&&o.push(_),l())},d=r(()=>t.call(s&&s.instances[i],e,n,h));let m=Promise.resolve(d);t.length<3&&(m=m.then(h)),m.catch(_=>c(_))})}function of(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(Bb(c)){const d=(c.__vccOpts||c)[e];d&&r.push(tr(d,n,s,o,l,i))}else{let h=c();r.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const m=VR(d)?d.default:d;o.mods[l]=d,o.components[l]=m;const y=(m.__vccOpts||m)[e];return y&&tr(y,n,s,o,l,i)()}))}}return r}function iv(t){const e=as(Yh),n=as(qp),s=jt(()=>{const c=mt(t.to);return e.resolve(c)}),i=jt(()=>{const{matched:c}=s.value,{length:h}=c,d=c[h-1],m=n.matched;if(!d||!m.length)return-1;const _=m.findIndex(ya.bind(null,d));if(_>-1)return _;const y=rv(c[h-2]);return h>1&&rv(d)===y&&m[m.length-1].path!==y?m.findIndex(ya.bind(null,c[h-2])):_}),r=jt(()=>i.value>-1&&xP(n.params,s.value.params)),o=jt(()=>i.value>-1&&i.value===n.matched.length-1&&Gb(n.params,s.value.params));function l(c={}){if(kP(c)){const h=e[mt(t.replace)?"replace":"push"](mt(t.to)).catch(Bl);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:s,href:jt(()=>s.value.href),isActive:r,isExactActive:o,navigate:l}}function OP(t){return t.length===1?t[0]:t}const DP=ab({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:iv,setup(t,{slots:e}){const n=yc(iv(t)),{options:s}=as(Yh),i=jt(()=>({[ov(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[ov(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&OP(e.default(n));return t.custom?r:Bp("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),NP=DP;function kP(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function xP(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!As(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function rv(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ov=(t,e,n)=>t??e??n,LP=ab({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=as(Gf),i=jt(()=>t.route||s.value),r=as(sv,0),o=jt(()=>{let h=mt(r);const{matched:d}=i.value;let m;for(;(m=d[h])&&!m.components;)h++;return h}),l=jt(()=>i.value.matched[o.value]);ku(sv,jt(()=>o.value+1)),ku(PP,l),ku(Gf,i);const c=it();return lr(()=>[c.value,l.value,t.name],([h,d,m],[_,y,N])=>{d&&(d.instances[m]=h,y&&y!==d&&h&&h===_&&(d.leaveGuards.size||(d.leaveGuards=y.leaveGuards),d.updateGuards.size||(d.updateGuards=y.updateGuards))),h&&d&&(!y||!ya(d,y)||!_)&&(d.enterCallbacks[m]||[]).forEach(k=>k(h))},{flush:"post"}),()=>{const h=i.value,d=t.name,m=l.value,_=m&&m.components[d];if(!_)return av(n.default,{Component:_,route:h});const y=m.props[d],N=y?y===!0?h.params:typeof y=="function"?y(h):y:null,L=Bp(_,ot({},N,e,{onVnodeUnmounted:F=>{F.component.isUnmounted&&(m.instances[d]=null)},ref:c}));return av(n.default,{Component:L,route:h})||L}}});function av(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const VP=LP;function MP(t){const e=wP(t.routes,t),n=t.parseQuery||SP,s=t.stringifyQuery||nv,i=t.history,r=Il(),o=Il(),l=Il(),c=PS(Gi);let h=Gi;ta&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=sf.bind(null,z=>""+z),m=sf.bind(null,YR),_=sf.bind(null,oc);function y(z,W){let oe,fe;return Qb(z)?(oe=e.getRecordMatcher(z),fe=W):fe=z,e.addRoute(fe,oe)}function N(z){const W=e.getRecordMatcher(z);W&&e.removeRoute(W)}function k(){return e.getRoutes().map(z=>z.record)}function L(z){return!!e.getRecordMatcher(z)}function F(z,W){if(W=ot({},W||c.value),typeof z=="string"){const M=rf(n,z,W.path),K=e.resolve({path:M.path},W),G=i.createHref(M.fullPath);return ot(M,K,{params:_(K.params),hash:oc(M.hash),redirectedFrom:void 0,href:G})}let oe;if(z.path!=null)oe=ot({},z,{path:rf(n,z.path,W.path).path});else{const M=ot({},z.params);for(const K in M)M[K]==null&&delete M[K];oe=ot({},z,{params:m(M)}),W.params=m(W.params)}const fe=e.resolve(oe,W),We=z.hash||"";fe.params=d(_(fe.params));const R=JR(s,ot({},z,{hash:zR(We),path:fe.path})),P=i.createHref(R);return ot({fullPath:R,hash:We,query:s===nv?RP(z.query):z.query||{}},fe,{redirectedFrom:void 0,href:P})}function U(z){return typeof z=="string"?rf(n,z,c.value.path):ot({},z)}function B(z,W){if(h!==z)return Ea(8,{from:W,to:z})}function j(z){return O(z)}function ne(z){return j(ot(U(z),{replace:!0}))}function ie(z){const W=z.matched[z.matched.length-1];if(W&&W.redirect){const{redirect:oe}=W;let fe=typeof oe=="function"?oe(z):oe;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=U(fe):{path:fe},fe.params={}),ot({query:z.query,hash:z.hash,params:fe.path!=null?{}:z.params},fe)}}function O(z,W){const oe=h=F(z),fe=c.value,We=z.state,R=z.force,P=z.replace===!0,M=ie(oe);if(M)return O(ot(U(M),{state:typeof M=="object"?ot({},We,M.state):We,force:R,replace:P}),W||oe);const K=oe;K.redirectedFrom=W;let G;return!R&&ZR(s,fe,oe)&&(G=Ea(16,{to:K,from:fe}),Ft(fe,fe,!0,!1)),(G?Promise.resolve(G):C(K,fe)).catch(Q=>ui(Q)?ui(Q,2)?Q:Y(Q):Fe(Q,K,fe)).then(Q=>{if(Q){if(ui(Q,2))return O(ot({replace:P},U(Q.to),{state:typeof Q.to=="object"?ot({},We,Q.to.state):We,force:R}),W||K)}else Q=S(K,fe,!0,P,We);return A(K,fe,Q),Q})}function T(z,W){const oe=B(z,W);return oe?Promise.reject(oe):Promise.resolve()}function w(z){const W=Tt.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(z):z()}function C(z,W){let oe;const[fe,We,R]=$P(z,W);oe=of(fe.reverse(),"beforeRouteLeave",z,W);for(const M of fe)M.leaveGuards.forEach(K=>{oe.push(tr(K,z,W))});const P=T.bind(null,z,W);return oe.push(P),st(oe).then(()=>{oe=[];for(const M of r.list())oe.push(tr(M,z,W));return oe.push(P),st(oe)}).then(()=>{oe=of(We,"beforeRouteUpdate",z,W);for(const M of We)M.updateGuards.forEach(K=>{oe.push(tr(K,z,W))});return oe.push(P),st(oe)}).then(()=>{oe=[];for(const M of R)if(M.beforeEnter)if(As(M.beforeEnter))for(const K of M.beforeEnter)oe.push(tr(K,z,W));else oe.push(tr(M.beforeEnter,z,W));return oe.push(P),st(oe)}).then(()=>(z.matched.forEach(M=>M.enterCallbacks={}),oe=of(R,"beforeRouteEnter",z,W,w),oe.push(P),st(oe))).then(()=>{oe=[];for(const M of o.list())oe.push(tr(M,z,W));return oe.push(P),st(oe)}).catch(M=>ui(M,8)?M:Promise.reject(M))}function A(z,W,oe){l.list().forEach(fe=>w(()=>fe(z,W,oe)))}function S(z,W,oe,fe,We){const R=B(z,W);if(R)return R;const P=W===Gi,M=ta?history.state:{};oe&&(fe||P?i.replace(z.fullPath,ot({scroll:P&&M&&M.scroll},We)):i.push(z.fullPath,We)),c.value=z,Ft(z,W,oe,P),Y()}let I;function Ue(){I||(I=i.listen((z,W,oe)=>{if(!At.listening)return;const fe=F(z),We=ie(fe);if(We){O(ot(We,{replace:!0,force:!0}),fe).catch(Bl);return}h=fe;const R=c.value;ta&&aP(K_(R.fullPath,oe.delta),Gh()),C(fe,R).catch(P=>ui(P,12)?P:ui(P,2)?(O(ot(U(P.to),{force:!0}),fe).then(M=>{ui(M,20)&&!oe.delta&&oe.type===ac.pop&&i.go(-1,!1)}).catch(Bl),Promise.reject()):(oe.delta&&i.go(-oe.delta,!1),Fe(P,fe,R))).then(P=>{P=P||S(fe,R,!1),P&&(oe.delta&&!ui(P,8)?i.go(-oe.delta,!1):oe.type===ac.pop&&ui(P,20)&&i.go(-1,!1)),A(fe,R,P)}).catch(Bl)}))}let et=Il(),Ne=Il(),ve;function Fe(z,W,oe){Y(z);const fe=Ne.list();return fe.length?fe.forEach(We=>We(z,W,oe)):console.error(z),Promise.reject(z)}function Ct(){return ve&&c.value!==Gi?Promise.resolve():new Promise((z,W)=>{et.add([z,W])})}function Y(z){return ve||(ve=!z,Ue(),et.list().forEach(([W,oe])=>z?oe(z):W()),et.reset()),z}function Ft(z,W,oe,fe){const{scrollBehavior:We}=t;if(!ta||!We)return Promise.resolve();const R=!oe&&lP(K_(z.fullPath,0))||(fe||!oe)&&history.state&&history.state.scroll||null;return va().then(()=>We(z,W,R)).then(P=>P&&oP(P)).catch(P=>Fe(P,z,W))}const tt=z=>i.go(z);let nt;const Tt=new Set,At={currentRoute:c,listening:!0,addRoute:y,removeRoute:N,clearRoutes:e.clearRoutes,hasRoute:L,getRoutes:k,resolve:F,options:t,push:j,replace:ne,go:tt,back:()=>tt(-1),forward:()=>tt(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:Ne.add,isReady:Ct,install(z){const W=this;z.component("RouterLink",NP),z.component("RouterView",VP),z.config.globalProperties.$router=W,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>mt(c)}),ta&&!nt&&c.value===Gi&&(nt=!0,j(i.location).catch(We=>{}));const oe={};for(const We in Gi)Object.defineProperty(oe,We,{get:()=>c.value[We],enumerable:!0});z.provide(Yh,W),z.provide(qp,zE(oe)),z.provide(Gf,c);const fe=z.unmount;Tt.add(z),z.unmount=function(){Tt.delete(z),Tt.size<1&&(h=Gi,I&&I(),I=null,c.value=Gi,nt=!1,ve=!1),fe()}}};function st(z){return z.reduce((W,oe)=>W.then(()=>w(oe)),Promise.resolve())}return At}function $P(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(t.matched.find(h=>ya(h,l))?s.push(l):n.push(l));const c=t.matched[o];c&&(e.matched.find(h=>ya(h,c))||i.push(c))}return[n,s,i]}function Wp(){return as(Yh)}function FP(t){return as(qp)}const UP=()=>{};var lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jP=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},tw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,d=r>>2,m=(r&3)<<4|l>>4;let _=(l&15)<<2|h>>6,y=h&63;c||(y=64,o||(_=64)),s.push(n[d],n[m],n[_],n[y])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ew(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||l==null||h==null||m==null)throw new BP;const _=r<<2|l>>4;if(s.push(_),h!==64){const y=l<<4&240|h>>2;if(s.push(y),m!==64){const N=h<<6&192|m;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HP=function(t){const e=ew(t);return tw.encodeByteArray(e,!0)},lh=function(t){return HP(t).replace(/\./g,"")},nw=function(t){try{return tw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=()=>qP().__FIREBASE_DEFAULTS__,zP=()=>{if(typeof process>"u"||typeof lv>"u")return;const t=lv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nw(t[1]);return e&&JSON.parse(e)},Qh=()=>{try{return UP()||WP()||zP()||KP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sw=t=>{var e,n;return(n=(e=Qh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},GP=t=>{const e=sw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},iw=()=>{var t;return(t=Qh())===null||t===void 0?void 0:t.config},rw=t=>{var e;return(e=Qh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t){return t.endsWith(".cloudworkstations.dev")}async function ow(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[lh(JSON.stringify(n)),lh(JSON.stringify(o)),""].join(".")}const ql={};function XP(){const t={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?t.emulator.push(e):t.prod.push(e);return t}function JP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let cv=!1;function aw(t,e){if(typeof window>"u"||typeof document>"u"||!Ma(window.location.host)||ql[t]===e||ql[t]||cv)return;ql[t]=e;function n(_){return`__firebase__banner__${_}`}const s="__firebase__banner",r=XP().prod.length>0;function o(){const _=document.getElementById(s);_&&_.remove()}function l(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function c(_,y){_.setAttribute("width","24"),_.setAttribute("id",y),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{cv=!0,o()},_}function d(_,y){_.setAttribute("id",y),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function m(){const _=JP(s),y=n("text"),N=document.getElementById(y)||document.createElement("span"),k=n("learnmore"),L=document.getElementById(k)||document.createElement("a"),F=n("preprendIcon"),U=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const B=_.element;l(B),d(L,k);const j=h();c(U,F),B.append(U,N,L,j),document.body.appendChild(B)}r?(N.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function eO(){var t;const e=(t=Qh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iO(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rO(){return!eO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oO(){try{return typeof indexedDB=="object"}catch{return!1}}function aO(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="FirebaseError";class Pi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=lO,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tc.prototype.create)}}class Tc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?cO(r,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Pi(i,l,s)}}function cO(t,e){return t.replace(uO,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const uO=/\{\$([^}]+)}/g;function hO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(uv(r)&&uv(o)){if(!fo(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function uv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function Ol(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dO(t,e){const n=new fO(t,e);return n.subscribe.bind(n)}class fO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=af),i.error===void 0&&(i.error=af),i.complete===void 0&&(i.complete=af);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function af(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){return t&&t._delegate?t._delegate:t}class po{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new YP;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_O(e))try{this.getOrInitializeService({instanceIdentifier:eo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=eo){return this.instances.has(e)}getOptions(e=eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gO(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=eo){return this.component?this.component.multipleInstances?e:eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gO(t){return t===eo?void 0:t}function _O(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const yO={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},EO=Ke.INFO,bO={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},wO=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=bO[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zp{constructor(e){this.name=e,this._logLevel=EO,this._logHandler=wO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const TO=(t,e)=>e.some(n=>t instanceof n);let hv,dv;function AO(){return hv||(hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IO(){return dv||(dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lw=new WeakMap,Yf=new WeakMap,cw=new WeakMap,lf=new WeakMap,Kp=new WeakMap;function CO(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(cr(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lw.set(n,t)}).catch(()=>{}),Kp.set(e,t),e}function SO(t){if(Yf.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Yf.set(t,e)}let Qf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RO(t){Qf=t(Qf)}function PO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(cf(this),e,...n);return cw.set(s,e.sort?e.sort():[e]),cr(s)}:IO().includes(t)?function(...e){return t.apply(cf(this),e),cr(lw.get(this))}:function(...e){return cr(t.apply(cf(this),e))}}function OO(t){return typeof t=="function"?PO(t):(t instanceof IDBTransaction&&SO(t),TO(t,AO())?new Proxy(t,Qf):t)}function cr(t){if(t instanceof IDBRequest)return CO(t);if(lf.has(t))return lf.get(t);const e=OO(t);return e!==t&&(lf.set(t,e),Kp.set(e,t)),e}const cf=t=>Kp.get(t);function DO(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),l=cr(o);return s&&o.addEventListener("upgradeneeded",c=>{s(cr(o.result),c.oldVersion,c.newVersion,cr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{r&&c.addEventListener("close",()=>r()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const NO=["get","getKey","getAll","getAllKeys","count"],kO=["put","add","delete","clear"],uf=new Map;function fv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uf.get(e))return uf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=kO.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||NO.includes(n)))return;const r=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return s&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return uf.set(e,r),r}RO(t=>({...t,get:(e,n,s)=>fv(e,n)||t.get(e,n,s),has:(e,n)=>!!fv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LO(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function LO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xf="@firebase/app",pv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new zp("@firebase/app"),VO="@firebase/app-compat",MO="@firebase/analytics-compat",$O="@firebase/analytics",FO="@firebase/app-check-compat",UO="@firebase/app-check",jO="@firebase/auth",BO="@firebase/auth-compat",HO="@firebase/database",qO="@firebase/data-connect",WO="@firebase/database-compat",zO="@firebase/functions",KO="@firebase/functions-compat",GO="@firebase/installations",YO="@firebase/installations-compat",QO="@firebase/messaging",XO="@firebase/messaging-compat",JO="@firebase/performance",ZO="@firebase/performance-compat",e1="@firebase/remote-config",t1="@firebase/remote-config-compat",n1="@firebase/storage",s1="@firebase/storage-compat",i1="@firebase/firestore",r1="@firebase/ai",o1="@firebase/firestore-compat",a1="firebase",l1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="[DEFAULT]",c1={[Xf]:"fire-core",[VO]:"fire-core-compat",[$O]:"fire-analytics",[MO]:"fire-analytics-compat",[UO]:"fire-app-check",[FO]:"fire-app-check-compat",[jO]:"fire-auth",[BO]:"fire-auth-compat",[HO]:"fire-rtdb",[qO]:"fire-data-connect",[WO]:"fire-rtdb-compat",[zO]:"fire-fn",[KO]:"fire-fn-compat",[GO]:"fire-iid",[YO]:"fire-iid-compat",[QO]:"fire-fcm",[XO]:"fire-fcm-compat",[JO]:"fire-perf",[ZO]:"fire-perf-compat",[e1]:"fire-rc",[t1]:"fire-rc-compat",[n1]:"fire-gcs",[s1]:"fire-gcs-compat",[i1]:"fire-fst",[o1]:"fire-fst-compat",[r1]:"fire-vertex","fire-js":"fire-js",[a1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,u1=new Map,Zf=new Map;function mv(t,e){try{t.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ba(t){const e=t.name;if(Zf.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,t);for(const n of ch.values())mv(n,t);for(const n of u1.values())mv(n,t);return!0}function Gp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new Tc("app","Firebase",h1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=l1;function uw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Jf,automaticDataCollectionEnabled:!0},e),i=s.name;if(typeof i!="string"||!i)throw ur.create("bad-app-name",{appName:String(i)});if(n||(n=iw()),!n)throw ur.create("no-options");const r=ch.get(i);if(r){if(fo(n,r.options)&&fo(s,r.config))return r;throw ur.create("duplicate-app",{appName:i})}const o=new vO(i);for(const c of Zf.values())o.addComponent(c);const l=new d1(n,s,o);return ch.set(i,l),l}function hw(t=Jf){const e=ch.get(t);if(!e&&t===Jf&&iw())return uw();if(!e)throw ur.create("no-app",{appName:t});return e}function hr(t,e,n){var s;let i=(s=c1[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(l.join(" "));return}ba(new po(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="firebase-heartbeat-database",p1=1,lc="firebase-heartbeat-store";let hf=null;function dw(){return hf||(hf=DO(f1,p1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ur.create("idb-open",{originalErrorMessage:t.message})})),hf}async function m1(t){try{const n=(await dw()).transaction(lc),s=await n.objectStore(lc).get(fw(t));return await n.done,s}catch(e){if(e instanceof Pi)Ti.warn(e.message);else{const n=ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ti.warn(n.message)}}}async function gv(t,e){try{const s=(await dw()).transaction(lc,"readwrite");await s.objectStore(lc).put(e,fw(t)),await s.done}catch(n){if(n instanceof Pi)Ti.warn(n.message);else{const s=ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ti.warn(s.message)}}}function fw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=1024,_1=30;class v1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_v();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>_1){const o=b1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ti.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_v(),{heartbeatsToSend:s,unsentEntries:i}=y1(this._heartbeatsCache.heartbeats),r=lh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Ti.warn(n),""}}}function _v(){return new Date().toISOString().substring(0,10)}function y1(t,e=g1){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),vv(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class E1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oO()?aO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await m1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vv(t){return lh(JSON.stringify({version:2,heartbeats:t})).length}function b1(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){ba(new po("platform-logger",e=>new xO(e),"PRIVATE")),ba(new po("heartbeat",e=>new v1(e),"PRIVATE")),hr(Xf,pv,t),hr(Xf,pv,"esm2017"),hr("fire-js","")}w1("");var yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dr,pw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,T){function w(){}w.prototype=T.prototype,O.D=T.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(C,A,S){for(var I=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)I[Ue-2]=arguments[Ue];return T.prototype[A].apply(C,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,T,w){w||(w=0);var C=Array(16);if(typeof T=="string")for(var A=0;16>A;++A)C[A]=T.charCodeAt(w++)|T.charCodeAt(w++)<<8|T.charCodeAt(w++)<<16|T.charCodeAt(w++)<<24;else for(A=0;16>A;++A)C[A]=T[w++]|T[w++]<<8|T[w++]<<16|T[w++]<<24;T=O.g[0],w=O.g[1],A=O.g[2];var S=O.g[3],I=T+(S^w&(A^S))+C[0]+3614090360&4294967295;T=w+(I<<7&4294967295|I>>>25),I=S+(A^T&(w^A))+C[1]+3905402710&4294967295,S=T+(I<<12&4294967295|I>>>20),I=A+(w^S&(T^w))+C[2]+606105819&4294967295,A=S+(I<<17&4294967295|I>>>15),I=w+(T^A&(S^T))+C[3]+3250441966&4294967295,w=A+(I<<22&4294967295|I>>>10),I=T+(S^w&(A^S))+C[4]+4118548399&4294967295,T=w+(I<<7&4294967295|I>>>25),I=S+(A^T&(w^A))+C[5]+1200080426&4294967295,S=T+(I<<12&4294967295|I>>>20),I=A+(w^S&(T^w))+C[6]+2821735955&4294967295,A=S+(I<<17&4294967295|I>>>15),I=w+(T^A&(S^T))+C[7]+4249261313&4294967295,w=A+(I<<22&4294967295|I>>>10),I=T+(S^w&(A^S))+C[8]+1770035416&4294967295,T=w+(I<<7&4294967295|I>>>25),I=S+(A^T&(w^A))+C[9]+2336552879&4294967295,S=T+(I<<12&4294967295|I>>>20),I=A+(w^S&(T^w))+C[10]+4294925233&4294967295,A=S+(I<<17&4294967295|I>>>15),I=w+(T^A&(S^T))+C[11]+2304563134&4294967295,w=A+(I<<22&4294967295|I>>>10),I=T+(S^w&(A^S))+C[12]+1804603682&4294967295,T=w+(I<<7&4294967295|I>>>25),I=S+(A^T&(w^A))+C[13]+4254626195&4294967295,S=T+(I<<12&4294967295|I>>>20),I=A+(w^S&(T^w))+C[14]+2792965006&4294967295,A=S+(I<<17&4294967295|I>>>15),I=w+(T^A&(S^T))+C[15]+1236535329&4294967295,w=A+(I<<22&4294967295|I>>>10),I=T+(A^S&(w^A))+C[1]+4129170786&4294967295,T=w+(I<<5&4294967295|I>>>27),I=S+(w^A&(T^w))+C[6]+3225465664&4294967295,S=T+(I<<9&4294967295|I>>>23),I=A+(T^w&(S^T))+C[11]+643717713&4294967295,A=S+(I<<14&4294967295|I>>>18),I=w+(S^T&(A^S))+C[0]+3921069994&4294967295,w=A+(I<<20&4294967295|I>>>12),I=T+(A^S&(w^A))+C[5]+3593408605&4294967295,T=w+(I<<5&4294967295|I>>>27),I=S+(w^A&(T^w))+C[10]+38016083&4294967295,S=T+(I<<9&4294967295|I>>>23),I=A+(T^w&(S^T))+C[15]+3634488961&4294967295,A=S+(I<<14&4294967295|I>>>18),I=w+(S^T&(A^S))+C[4]+3889429448&4294967295,w=A+(I<<20&4294967295|I>>>12),I=T+(A^S&(w^A))+C[9]+568446438&4294967295,T=w+(I<<5&4294967295|I>>>27),I=S+(w^A&(T^w))+C[14]+3275163606&4294967295,S=T+(I<<9&4294967295|I>>>23),I=A+(T^w&(S^T))+C[3]+4107603335&4294967295,A=S+(I<<14&4294967295|I>>>18),I=w+(S^T&(A^S))+C[8]+1163531501&4294967295,w=A+(I<<20&4294967295|I>>>12),I=T+(A^S&(w^A))+C[13]+2850285829&4294967295,T=w+(I<<5&4294967295|I>>>27),I=S+(w^A&(T^w))+C[2]+4243563512&4294967295,S=T+(I<<9&4294967295|I>>>23),I=A+(T^w&(S^T))+C[7]+1735328473&4294967295,A=S+(I<<14&4294967295|I>>>18),I=w+(S^T&(A^S))+C[12]+2368359562&4294967295,w=A+(I<<20&4294967295|I>>>12),I=T+(w^A^S)+C[5]+4294588738&4294967295,T=w+(I<<4&4294967295|I>>>28),I=S+(T^w^A)+C[8]+2272392833&4294967295,S=T+(I<<11&4294967295|I>>>21),I=A+(S^T^w)+C[11]+1839030562&4294967295,A=S+(I<<16&4294967295|I>>>16),I=w+(A^S^T)+C[14]+4259657740&4294967295,w=A+(I<<23&4294967295|I>>>9),I=T+(w^A^S)+C[1]+2763975236&4294967295,T=w+(I<<4&4294967295|I>>>28),I=S+(T^w^A)+C[4]+1272893353&4294967295,S=T+(I<<11&4294967295|I>>>21),I=A+(S^T^w)+C[7]+4139469664&4294967295,A=S+(I<<16&4294967295|I>>>16),I=w+(A^S^T)+C[10]+3200236656&4294967295,w=A+(I<<23&4294967295|I>>>9),I=T+(w^A^S)+C[13]+681279174&4294967295,T=w+(I<<4&4294967295|I>>>28),I=S+(T^w^A)+C[0]+3936430074&4294967295,S=T+(I<<11&4294967295|I>>>21),I=A+(S^T^w)+C[3]+3572445317&4294967295,A=S+(I<<16&4294967295|I>>>16),I=w+(A^S^T)+C[6]+76029189&4294967295,w=A+(I<<23&4294967295|I>>>9),I=T+(w^A^S)+C[9]+3654602809&4294967295,T=w+(I<<4&4294967295|I>>>28),I=S+(T^w^A)+C[12]+3873151461&4294967295,S=T+(I<<11&4294967295|I>>>21),I=A+(S^T^w)+C[15]+530742520&4294967295,A=S+(I<<16&4294967295|I>>>16),I=w+(A^S^T)+C[2]+3299628645&4294967295,w=A+(I<<23&4294967295|I>>>9),I=T+(A^(w|~S))+C[0]+4096336452&4294967295,T=w+(I<<6&4294967295|I>>>26),I=S+(w^(T|~A))+C[7]+1126891415&4294967295,S=T+(I<<10&4294967295|I>>>22),I=A+(T^(S|~w))+C[14]+2878612391&4294967295,A=S+(I<<15&4294967295|I>>>17),I=w+(S^(A|~T))+C[5]+4237533241&4294967295,w=A+(I<<21&4294967295|I>>>11),I=T+(A^(w|~S))+C[12]+1700485571&4294967295,T=w+(I<<6&4294967295|I>>>26),I=S+(w^(T|~A))+C[3]+2399980690&4294967295,S=T+(I<<10&4294967295|I>>>22),I=A+(T^(S|~w))+C[10]+4293915773&4294967295,A=S+(I<<15&4294967295|I>>>17),I=w+(S^(A|~T))+C[1]+2240044497&4294967295,w=A+(I<<21&4294967295|I>>>11),I=T+(A^(w|~S))+C[8]+1873313359&4294967295,T=w+(I<<6&4294967295|I>>>26),I=S+(w^(T|~A))+C[15]+4264355552&4294967295,S=T+(I<<10&4294967295|I>>>22),I=A+(T^(S|~w))+C[6]+2734768916&4294967295,A=S+(I<<15&4294967295|I>>>17),I=w+(S^(A|~T))+C[13]+1309151649&4294967295,w=A+(I<<21&4294967295|I>>>11),I=T+(A^(w|~S))+C[4]+4149444226&4294967295,T=w+(I<<6&4294967295|I>>>26),I=S+(w^(T|~A))+C[11]+3174756917&4294967295,S=T+(I<<10&4294967295|I>>>22),I=A+(T^(S|~w))+C[2]+718787259&4294967295,A=S+(I<<15&4294967295|I>>>17),I=w+(S^(A|~T))+C[9]+3951481745&4294967295,O.g[0]=O.g[0]+T&4294967295,O.g[1]=O.g[1]+(A+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+A&4294967295,O.g[3]=O.g[3]+S&4294967295}s.prototype.u=function(O,T){T===void 0&&(T=O.length);for(var w=T-this.blockSize,C=this.B,A=this.h,S=0;S<T;){if(A==0)for(;S<=w;)i(this,O,S),S+=this.blockSize;if(typeof O=="string"){for(;S<T;)if(C[A++]=O.charCodeAt(S++),A==this.blockSize){i(this,C),A=0;break}}else for(;S<T;)if(C[A++]=O[S++],A==this.blockSize){i(this,C),A=0;break}}this.h=A,this.o+=T},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var T=1;T<O.length-8;++T)O[T]=0;var w=8*this.o;for(T=O.length-8;T<O.length;++T)O[T]=w&255,w/=256;for(this.u(O),O=Array(16),T=w=0;4>T;++T)for(var C=0;32>C;C+=8)O[w++]=this.g[T]>>>C&255;return O};function r(O,T){var w=l;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=T(O)}function o(O,T){this.h=T;for(var w=[],C=!0,A=O.length-1;0<=A;A--){var S=O[A]|0;C&&S==T||(w[A]=S,C=!1)}this.g=w}var l={};function c(O){return-128<=O&&128>O?r(O,function(T){return new o([T|0],0>T?-1:0)}):new o([O|0],0>O?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return m;if(0>O)return L(h(-O));for(var T=[],w=1,C=0;O>=w;C++)T[C]=O/w|0,w*=4294967296;return new o(T,0)}function d(O,T){if(O.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(O.charAt(0)=="-")return L(d(O.substring(1),T));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=h(Math.pow(T,8)),C=m,A=0;A<O.length;A+=8){var S=Math.min(8,O.length-A),I=parseInt(O.substring(A,A+S),T);8>S?(S=h(Math.pow(T,S)),C=C.j(S).add(h(I))):(C=C.j(w),C=C.add(h(I)))}return C}var m=c(0),_=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(k(this))return-L(this).m();for(var O=0,T=1,w=0;w<this.g.length;w++){var C=this.i(w);O+=(0<=C?C:4294967296+C)*T,T*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(N(this))return"0";if(k(this))return"-"+L(this).toString(O);for(var T=h(Math.pow(O,6)),w=this,C="";;){var A=j(w,T).g;w=F(w,A.j(T));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=A,N(w))return S+C;for(;6>S.length;)S="0"+S;C=S+C}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function N(O){if(O.h!=0)return!1;for(var T=0;T<O.g.length;T++)if(O.g[T]!=0)return!1;return!0}function k(O){return O.h==-1}t.l=function(O){return O=F(this,O),k(O)?-1:N(O)?0:1};function L(O){for(var T=O.g.length,w=[],C=0;C<T;C++)w[C]=~O.g[C];return new o(w,~O.h).add(_)}t.abs=function(){return k(this)?L(this):this},t.add=function(O){for(var T=Math.max(this.g.length,O.g.length),w=[],C=0,A=0;A<=T;A++){var S=C+(this.i(A)&65535)+(O.i(A)&65535),I=(S>>>16)+(this.i(A)>>>16)+(O.i(A)>>>16);C=I>>>16,S&=65535,I&=65535,w[A]=I<<16|S}return new o(w,w[w.length-1]&-2147483648?-1:0)};function F(O,T){return O.add(L(T))}t.j=function(O){if(N(this)||N(O))return m;if(k(this))return k(O)?L(this).j(L(O)):L(L(this).j(O));if(k(O))return L(this.j(L(O)));if(0>this.l(y)&&0>O.l(y))return h(this.m()*O.m());for(var T=this.g.length+O.g.length,w=[],C=0;C<2*T;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(var A=0;A<O.g.length;A++){var S=this.i(C)>>>16,I=this.i(C)&65535,Ue=O.i(A)>>>16,et=O.i(A)&65535;w[2*C+2*A]+=I*et,U(w,2*C+2*A),w[2*C+2*A+1]+=S*et,U(w,2*C+2*A+1),w[2*C+2*A+1]+=I*Ue,U(w,2*C+2*A+1),w[2*C+2*A+2]+=S*Ue,U(w,2*C+2*A+2)}for(C=0;C<T;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=T;C<2*T;C++)w[C]=0;return new o(w,0)};function U(O,T){for(;(O[T]&65535)!=O[T];)O[T+1]+=O[T]>>>16,O[T]&=65535,T++}function B(O,T){this.g=O,this.h=T}function j(O,T){if(N(T))throw Error("division by zero");if(N(O))return new B(m,m);if(k(O))return T=j(L(O),T),new B(L(T.g),L(T.h));if(k(T))return T=j(O,L(T)),new B(L(T.g),T.h);if(30<O.g.length){if(k(O)||k(T))throw Error("slowDivide_ only works with positive integers.");for(var w=_,C=T;0>=C.l(O);)w=ne(w),C=ne(C);var A=ie(w,1),S=ie(C,1);for(C=ie(C,2),w=ie(w,2);!N(C);){var I=S.add(C);0>=I.l(O)&&(A=A.add(w),S=I),C=ie(C,1),w=ie(w,1)}return T=F(O,A.j(T)),new B(A,T)}for(A=m;0<=O.l(T);){for(w=Math.max(1,Math.floor(O.m()/T.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),S=h(w),I=S.j(T);k(I)||0<I.l(O);)w-=C,S=h(w),I=S.j(T);N(S)&&(S=_),A=A.add(S),O=F(O,I)}return new B(A,O)}t.A=function(O){return j(this,O).h},t.and=function(O){for(var T=Math.max(this.g.length,O.g.length),w=[],C=0;C<T;C++)w[C]=this.i(C)&O.i(C);return new o(w,this.h&O.h)},t.or=function(O){for(var T=Math.max(this.g.length,O.g.length),w=[],C=0;C<T;C++)w[C]=this.i(C)|O.i(C);return new o(w,this.h|O.h)},t.xor=function(O){for(var T=Math.max(this.g.length,O.g.length),w=[],C=0;C<T;C++)w[C]=this.i(C)^O.i(C);return new o(w,this.h^O.h)};function ne(O){for(var T=O.g.length+1,w=[],C=0;C<T;C++)w[C]=O.i(C)<<1|O.i(C-1)>>>31;return new o(w,O.h)}function ie(O,T){var w=T>>5;T%=32;for(var C=O.g.length-w,A=[],S=0;S<C;S++)A[S]=0<T?O.i(S+w)>>>T|O.i(S+w+1)<<32-T:O.i(S+w);return new o(A,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,pw=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,dr=o}).apply(typeof yv<"u"?yv:typeof self<"u"?self:typeof window<"u"?window:{});var vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mw,Dl,gw,Mu,ep,_w,vw,yw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,g){return a==Array.prototype||a==Object.prototype||(a[f]=g.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof vu=="object"&&vu];for(var f=0;f<a.length;++f){var g=a[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function i(a,f){if(f)e:{var g=s;a=a.split(".");for(var b=0;b<a.length-1;b++){var $=a[b];if(!($ in g))break e;g=g[$]}a=a[a.length-1],b=g[a],f=f(b),f!=b&&f!=null&&e(g,a,{configurable:!0,writable:!0,value:f})}}function r(a,f){a instanceof String&&(a+="");var g=0,b=!1,$={next:function(){if(!b&&g<a.length){var H=g++;return{value:f(H,a[H]),done:!1}}return b=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(a){return a||function(){return r(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function h(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function d(a,f,g){return a.call.apply(a.bind,arguments)}function m(a,f,g){if(!a)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,b),a.apply(f,$)}}return function(){return a.apply(f,arguments)}}function _(a,f,g){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,_.apply(null,arguments)}function y(a,f){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),a.apply(this,b)}}function N(a,f){function g(){}g.prototype=f.prototype,a.aa=f.prototype,a.prototype=new g,a.prototype.constructor=a,a.Qb=function(b,$,H){for(var ae=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)ae[ct-2]=arguments[ct];return f.prototype[$].apply(b,ae)}}function k(a){const f=a.length;if(0<f){const g=Array(f);for(let b=0;b<f;b++)g[b]=a[b];return g}return[]}function L(a,f){for(let g=1;g<arguments.length;g++){const b=arguments[g];if(c(b)){const $=a.length||0,H=b.length||0;a.length=$+H;for(let ae=0;ae<H;ae++)a[$+ae]=b[ae]}else a.push(b)}}class F{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function U(a){return/^[\s\xa0]*$/.test(a)}function B(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function j(a){return j[" "](a),a}j[" "]=function(){};var ne=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ie(a,f,g){for(const b in a)f.call(g,a[b],b,a)}function O(a,f){for(const g in a)f.call(void 0,a[g],g,a)}function T(a){const f={};for(const g in a)f[g]=a[g];return f}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(a,f){let g,b;for(let $=1;$<arguments.length;$++){b=arguments[$];for(g in b)a[g]=b[g];for(let H=0;H<w.length;H++)g=w[H],Object.prototype.hasOwnProperty.call(b,g)&&(a[g]=b[g])}}function A(a){var f=1;a=a.split(":");const g=[];for(;0<f&&a.length;)g.push(a.shift()),f--;return a.length&&g.push(a.join(":")),g}function S(a){l.setTimeout(()=>{throw a},0)}function I(){var a=Ct;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class Ue{constructor(){this.h=this.g=null}add(f,g){const b=et.get();b.set(f,g),this.h?this.h.next=b:this.g=b,this.h=b}}var et=new F(()=>new Ne,a=>a.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,Fe=!1,Ct=new Ue,Y=()=>{const a=l.Promise.resolve(void 0);ve=()=>{a.then(Ft)}};var Ft=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(g){S(g)}var f=et;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}Fe=!1};function tt(){this.s=this.s,this.C=this.C}tt.prototype.s=!1,tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var Tt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};l.addEventListener("test",g,f),l.removeEventListener("test",g,f)}catch{}return a}();function At(a,f){if(nt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var g=this.type=a.type,b=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(ne){e:{try{j(f.nodeName);var $=!0;break e}catch{}$=!1}$||(f=null)}}else g=="mouseover"?f=a.fromElement:g=="mouseout"&&(f=a.toElement);this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:st[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&At.aa.h.call(this)}}N(At,nt);var st={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),W=0;function oe(a,f,g,b,$){this.listener=a,this.proxy=null,this.src=f,this.type=g,this.capture=!!b,this.ha=$,this.key=++W,this.da=this.fa=!1}function fe(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function We(a){this.src=a,this.g={},this.h=0}We.prototype.add=function(a,f,g,b,$){var H=a.toString();a=this.g[H],a||(a=this.g[H]=[],this.h++);var ae=P(a,f,b,$);return-1<ae?(f=a[ae],g||(f.fa=!1)):(f=new oe(f,this.src,H,!!b,$),f.fa=g,a.push(f)),f};function R(a,f){var g=f.type;if(g in a.g){var b=a.g[g],$=Array.prototype.indexOf.call(b,f,void 0),H;(H=0<=$)&&Array.prototype.splice.call(b,$,1),H&&(fe(f),a.g[g].length==0&&(delete a.g[g],a.h--))}}function P(a,f,g,b){for(var $=0;$<a.length;++$){var H=a[$];if(!H.da&&H.listener==f&&H.capture==!!g&&H.ha==b)return $}return-1}var M="closure_lm_"+(1e6*Math.random()|0),K={};function G(a,f,g,b,$){if(Array.isArray(f)){for(var H=0;H<f.length;H++)G(a,f[H],g,b,$);return null}return g=ye(g),a&&a[z]?a.K(f,g,h(b)?!!b.capture:!1,$):Q(a,f,g,!1,b,$)}function Q(a,f,g,b,$,H){if(!f)throw Error("Invalid event type");var ae=h($)?!!$.capture:!!$,ct=ue(a);if(ct||(a[M]=ct=new We(a)),g=ct.add(f,g,b,ae,H),g.proxy)return g;if(b=ce(),g.proxy=b,b.src=a,b.listener=g,a.addEventListener)Tt||($=ae),$===void 0&&($=!1),a.addEventListener(f.toString(),b,$);else if(a.attachEvent)a.attachEvent(ee(f.toString()),b);else if(a.addListener&&a.removeListener)a.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ce(){function a(g){return f.call(a.src,a.listener,g)}const f=we;return a}function re(a,f,g,b,$){if(Array.isArray(f))for(var H=0;H<f.length;H++)re(a,f[H],g,b,$);else b=h(b)?!!b.capture:!!b,g=ye(g),a&&a[z]?(a=a.i,f=String(f).toString(),f in a.g&&(H=a.g[f],g=P(H,g,b,$),-1<g&&(fe(H[g]),Array.prototype.splice.call(H,g,1),H.length==0&&(delete a.g[f],a.h--)))):a&&(a=ue(a))&&(f=a.g[f.toString()],a=-1,f&&(a=P(f,g,b,$)),(g=-1<a?f[a]:null)&&se(g))}function se(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[z])R(f.i,a);else{var g=a.type,b=a.proxy;f.removeEventListener?f.removeEventListener(g,b,a.capture):f.detachEvent?f.detachEvent(ee(g),b):f.addListener&&f.removeListener&&f.removeListener(b),(g=ue(f))?(R(g,a),g.h==0&&(g.src=null,f[M]=null)):fe(a)}}}function ee(a){return a in K?K[a]:K[a]="on"+a}function we(a,f){if(a.da)a=!0;else{f=new At(f,this);var g=a.listener,b=a.ha||a.src;a.fa&&se(a),a=g.call(b,f)}return a}function ue(a){return a=a[M],a instanceof We?a:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(a){return typeof a=="function"?a:(a[ge]||(a[ge]=function(f){return a.handleEvent(f)}),a[ge])}function Ee(){tt.call(this),this.i=new We(this),this.M=this,this.F=null}N(Ee,tt),Ee.prototype[z]=!0,Ee.prototype.removeEventListener=function(a,f,g,b){re(this,a,f,g,b)};function De(a,f){var g,b=a.F;if(b)for(g=[];b;b=b.F)g.push(b);if(a=a.M,b=f.type||f,typeof f=="string")f=new nt(f,a);else if(f instanceof nt)f.target=f.target||a;else{var $=f;f=new nt(b,a),C(f,$)}if($=!0,g)for(var H=g.length-1;0<=H;H--){var ae=f.g=g[H];$=He(ae,b,!0,f)&&$}if(ae=f.g=a,$=He(ae,b,!0,f)&&$,$=He(ae,b,!1,f)&&$,g)for(H=0;H<g.length;H++)ae=f.g=g[H],$=He(ae,b,!1,f)&&$}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var g=a.g[f],b=0;b<g.length;b++)fe(g[b]);delete a.g[f],a.h--}}this.F=null},Ee.prototype.K=function(a,f,g,b){return this.i.add(String(a),f,!1,g,b)},Ee.prototype.L=function(a,f,g,b){return this.i.add(String(a),f,!0,g,b)};function He(a,f,g,b){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var $=!0,H=0;H<f.length;++H){var ae=f[H];if(ae&&!ae.da&&ae.capture==g){var ct=ae.listener,zt=ae.ha||ae.src;ae.fa&&R(a.i,ae),$=ct.call(zt,b)!==!1&&$}}return $&&!b.defaultPrevented}function Ot(a,f,g){if(typeof a=="function")g&&(a=_(a,g));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:l.setTimeout(a,f||0)}function St(a){a.g=Ot(()=>{a.g=null,a.i&&(a.i=!1,St(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class Ht extends tt{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kt(a){tt.call(this),this.h=a,this.g={}}N(kt,tt);var Ps=[];function Js(a){ie(a.g,function(f,g){this.g.hasOwnProperty(g)&&se(f)},a),a.g={}}kt.prototype.N=function(){kt.aa.N.call(this),Js(this)},kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qt=l.JSON.stringify,kn=l.JSON.parse,Oo=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Qa(){}Qa.prototype.h=null;function Fc(a){return a.h||(a.h=a.i())}function Uc(){}var xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){nt.call(this,"d")}N(Li,nt);function Do(){nt.call(this,"c")}N(Do,nt);var Os={},jc=null;function No(){return jc=jc||new Ee}Os.La="serverreachability";function Bc(a){nt.call(this,Os.La,a)}N(Bc,nt);function Or(a){const f=No();De(f,new Bc(f))}Os.STAT_EVENT="statevent";function Zs(a,f){nt.call(this,Os.STAT_EVENT,a),this.stat=f}N(Zs,nt);function xt(a){const f=No();De(f,new Zs(f,a))}Os.Ma="timingevent";function Hc(a,f){nt.call(this,Os.Ma,a),this.size=f}N(Hc,nt);function Dr(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},f)}function Nr(){this.g=!0}Nr.prototype.xa=function(){this.g=!1};function Sd(a,f,g,b,$,H){a.info(function(){if(a.g)if(H)for(var ae="",ct=H.split("&"),zt=0;zt<ct.length;zt++){var Qe=ct[zt].split("=");if(1<Qe.length){var Qt=Qe[0];Qe=Qe[1];var Xt=Qt.split("_");ae=2<=Xt.length&&Xt[1]=="type"?ae+(Qt+"="+Qe+"&"):ae+(Qt+"=redacted&")}}else ae=null;else ae=H;return"XMLHTTP REQ ("+b+") [attempt "+$+"]: "+f+`
`+g+`
`+ae})}function Rd(a,f,g,b,$,H,ae){a.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+$+"]: "+f+`
`+g+`
`+H+" "+ae})}function Ds(a,f,g,b){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+ko(a,g)+(b?" "+b:"")})}function Vi(a,f){a.info(function(){return"TIMEOUT: "+f})}Nr.prototype.info=function(){};function ko(a,f){if(!a.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(a=0;a<g.length;a++)if(Array.isArray(g[a])){var b=g[a];if(!(2>b.length)){var $=b[1];if(Array.isArray($)&&!(1>$.length)){var H=$[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ae=1;ae<$.length;ae++)$[ae]=""}}}}return qt(g)}catch{return f}}var xo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xa;function Vo(){}N(Vo,Qa),Vo.prototype.g=function(){return new XMLHttpRequest},Vo.prototype.i=function(){return{}},Xa=new Vo;function vn(a,f,g,b){this.j=a,this.i=f,this.l=g,this.R=b||1,this.U=new kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yt}function Yt(){this.i=null,this.g="",this.h=!1}var un={},rn={};function Wt(a,f,g){a.L=1,a.v=ni(Dt(f)),a.m=g,a.P=!0,kr(a,null)}function kr(a,f){a.F=Date.now(),ps(a),a.A=Dt(a.v);var g=a.A,b=a.R;Array.isArray(b)||(b=[String(b)]),Fo(g.i,"t",b),a.C=0,g=a.j.J,a.h=new Yt,a.g=su(a.j,g?f:null,!a.m),0<a.O&&(a.M=new Ht(_(a.Y,a,a.g),a.O)),f=a.U,g=a.g,b=a.ca;var $="readystatechange";Array.isArray($)||($&&(Ps[0]=$.toString()),$=Ps);for(var H=0;H<$.length;H++){var ae=G(g,$[H],b||f.handleEvent,!1,f.h||f);if(!ae)break;f.g[ae.key]=ae}f=a.H?T(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),Or(),Sd(a.i,a.u,a.A,a.l,a.R,a.m)}vn.prototype.ca=function(a){a=a.target;const f=this.M;f&&hn(a)==3?f.j():this.Y(a)},vn.prototype.Y=function(a){try{if(a==this.g)e:{const Xt=hn(this.g);var f=this.g.Ba();const Jt=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||Zc(this.g)))){this.J||Xt!=4||f==7||(f==8||0>=Jt?Or(3):Or(2)),xr(this);var g=this.g.Z();this.X=g;t:if(ei(this)){var b=Zc(this.g);a="";var $=b.length,H=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ns(this),Yn(this);var ae="";break t}this.h.i=new l.TextDecoder}for(f=0;f<$;f++)this.h.h=!0,a+=this.h.i.decode(b[f],{stream:!(H&&f==$-1)});b.length=0,this.h.g+=a,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=g==200,Rd(this.i,this.u,this.A,this.l,this.R,Xt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,zt=this.g;if((ct=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(ct)){var Qe=ct;break t}}Qe=null}if(g=Qe)Ds(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lr(this,g);else{this.o=!1,this.s=3,xt(12),Ns(this),Yn(this);break e}}if(this.P){g=!0;let Ln;for(;!this.J&&this.C<ae.length;)if(Ln=ti(this,ae),Ln==rn){Xt==4&&(this.s=4,xt(14),g=!1),Ds(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==un){this.s=4,xt(15),Ds(this.i,this.l,ae,"[Invalid Chunk]"),g=!1;break}else Ds(this.i,this.l,Ln,null),Lr(this,Ln);if(ei(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||ae.length!=0||this.h.h||(this.s=1,xt(16),g=!1),this.o=this.o&&g,!g)Ds(this.i,this.l,ae,"[Invalid Chunked Response]"),Ns(this),Yn(this);else if(0<ae.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ml(Qt),Qt.M=!0,xt(11))}}else Ds(this.i,this.l,ae,null),Lr(this,ae);Xt==4&&Ns(this),this.o&&!this.J&&(Xt==4?gl(this.j,this):(this.o=!1,ps(this)))}else eu(this.g),g==400&&0<ae.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Ns(this),Yn(this)}}}catch{}finally{}};function ei(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function ti(a,f){var g=a.C,b=f.indexOf(`
`,g);return b==-1?rn:(g=Number(f.substring(g,b)),isNaN(g)?un:(b+=1,b+g>f.length?rn:(f=f.slice(b,b+g),a.C=b+g,f)))}vn.prototype.cancel=function(){this.J=!0,Ns(this)};function ps(a){a.S=Date.now()+a.I,Ja(a,a.I)}function Ja(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Dr(_(a.ba,a),f)}function xr(a){a.B&&(l.clearTimeout(a.B),a.B=null)}vn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Vi(this.i,this.A),this.L!=2&&(Or(),xt(17)),Ns(this),this.s=2,Yn(this)):Ja(this,this.S-a)};function Yn(a){a.j.G==0||a.J||gl(a.j,a)}function Ns(a){xr(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,Js(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function Lr(a,f){try{var g=a.j;if(g.G!=0&&(g.g==a||Mo(g.h,a))){if(!a.K&&Mo(g.h,a)&&g.G==3){try{var b=g.Da.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var $=b;if($[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<a.F)jr(g),$r(g);else break e;pl(g),xt(18)}}else g.za=$[1],0<g.za-g.T&&37500>$[2]&&g.F&&g.v==0&&!g.C&&(g.C=Dr(_(g.Za,g),6e3));if(1>=nl(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else gs(g,11)}else if((a.K||g.g==a)&&jr(g),!U(f))for($=g.Da.g.parse(f),f=0;f<$.length;f++){let Qe=$[f];if(g.T=Qe[0],Qe=Qe[1],g.G==2)if(Qe[0]=="c"){g.K=Qe[1],g.ia=Qe[2];const Qt=Qe[3];Qt!=null&&(g.la=Qt,g.j.info("VER="+g.la));const Xt=Qe[4];Xt!=null&&(g.Aa=Xt,g.j.info("SVER="+g.Aa));const Jt=Qe[5];Jt!=null&&typeof Jt=="number"&&0<Jt&&(b=1.5*Jt,g.L=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const Ln=a.g;if(Ln){const Br=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var H=b.h;H.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&($o(H,H.h),H.h=null))}if(b.D){const Ko=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(b.ya=Ko,Je(b.I,b.D,Ko))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-a.F,g.j.info("Handshake RTT: "+g.R+"ms")),b=g;var ae=a;if(b.qa=_l(b,b.J?b.ia:null,b.W),ae.K){sl(b.h,ae);var ct=ae,zt=b.L;zt&&(ct.I=zt),ct.B&&(xr(ct),ps(ct)),b.g=ae}else Ur(b);0<g.i.length&&Fr(g)}else Qe[0]!="stop"&&Qe[0]!="close"||gs(g,7);else g.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?gs(g,7):Ho(g):Qe[0]!="noop"&&g.l&&g.l.ta(Qe),g.v=0)}}Or(4)}catch{}}var Za=class{constructor(a,f){this.g=a,this.map=f}};function el(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tl(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function nl(a){return a.h?1:a.g?a.g.size:0}function Mo(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function $o(a,f){a.g?a.g.add(f):a.h=f}function sl(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}el.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function il(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const g of a.g.values())f=f.concat(g.D);return f}return k(a.i)}function qc(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var f=[],g=a.length,b=0;b<g;b++)f.push(a[b]);return f}f=[],g=0;for(b in a)f[g++]=a[b];return f}function Wc(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var f=[];a=a.length;for(var g=0;g<a;g++)f.push(g);return f}f=[],g=0;for(const b in a)f[g++]=b;return f}}}function rl(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var g=Wc(a),b=qc(a),$=b.length,H=0;H<$;H++)f.call(void 0,b[H],g&&g[H],a)}var Fn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yn(a,f){if(a){a=a.split("&");for(var g=0;g<a.length;g++){var b=a[g].indexOf("="),$=null;if(0<=b){var H=a[g].substring(0,b);$=a[g].substring(b+1)}else H=a[g];f(H,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function En(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof En){this.h=a.h,Mi(this,a.j),this.o=a.o,this.g=a.g,$i(this,a.s),this.l=a.l;var f=a.i,g=new xn;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Un(this,g),this.m=a.m}else a&&(f=String(a).match(Fn))?(this.h=!1,Mi(this,f[1]||"",!0),this.o=Qn(f[2]||""),this.g=Qn(f[3]||"",!0),$i(this,f[4]),this.l=Qn(f[5]||"",!0),Un(this,f[6]||"",!0),this.m=Qn(f[7]||"")):(this.h=!1,this.i=new xn(null,this.h))}En.prototype.toString=function(){var a=[],f=this.j;f&&a.push(si(f,ii,!0),":");var g=this.g;return(g||f=="file")&&(a.push("//"),(f=this.o)&&a.push(si(f,ii,!0),"@"),a.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&a.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(si(g,g.charAt(0)=="/"?Kc:ol,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",si(g,Pd)),a.join("")};function Dt(a){return new En(a)}function Mi(a,f,g){a.j=g?Qn(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function $i(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function Un(a,f,g){f instanceof xn?(a.i=f,Gc(a.i,a.h)):(g||(f=si(f,ms)),a.i=new xn(f,a.h))}function Je(a,f,g){a.i.set(f,g)}function ni(a){return Je(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Qn(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function si(a,f,g){return typeof a=="string"?(a=encodeURI(a).replace(f,zc),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function zc(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ii=/[#\/\?@]/g,ol=/[#\?:]/g,Kc=/[#\?]/g,ms=/[#\?@]/g,Pd=/#/g;function xn(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function jn(a){a.g||(a.g=new Map,a.h=0,a.i&&yn(a.i,function(f,g){a.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=xn.prototype,t.add=function(a,f){jn(this),this.i=null,a=Xn(this,a);var g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(f),this.h+=1,this};function al(a,f){jn(a),f=Xn(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Fi(a,f){return jn(a),f=Xn(a,f),a.g.has(f)}t.forEach=function(a,f){jn(this),this.g.forEach(function(g,b){g.forEach(function($){a.call(f,$,b,this)},this)},this)},t.na=function(){jn(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let b=0;b<f.length;b++){const $=a[b];for(let H=0;H<$.length;H++)g.push(f[b])}return g},t.V=function(a){jn(this);let f=[];if(typeof a=="string")Fi(this,a)&&(f=f.concat(this.g.get(Xn(this,a))));else{a=Array.from(this.g.values());for(let g=0;g<a.length;g++)f=f.concat(a[g])}return f},t.set=function(a,f){return jn(this),this.i=null,a=Xn(this,a),Fi(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function Fo(a,f,g){al(a,f),0<g.length&&(a.i=null,a.g.set(Xn(a,f),k(g)),a.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var b=f[g];const H=encodeURIComponent(String(b)),ae=this.V(b);for(b=0;b<ae.length;b++){var $=H;ae[b]!==""&&($+="="+encodeURIComponent(String(ae[b]))),a.push($)}}return this.i=a.join("&")};function Xn(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function Gc(a,f){f&&!a.j&&(jn(a),a.i=null,a.g.forEach(function(g,b){var $=b.toLowerCase();b!=$&&(al(this,b),Fo(this,$,g))},a)),a.j=f}function Yc(a,f){const g=new Nr;if(l.Image){const b=new Image;b.onload=y(bn,g,"TestLoadImage: loaded",!0,f,b),b.onerror=y(bn,g,"TestLoadImage: error",!1,f,b),b.onabort=y(bn,g,"TestLoadImage: abort",!1,f,b),b.ontimeout=y(bn,g,"TestLoadImage: timeout",!1,f,b),l.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=a}else f(!1)}function Qc(a,f){const g=new Nr,b=new AbortController,$=setTimeout(()=>{b.abort(),bn(g,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:b.signal}).then(H=>{clearTimeout($),H.ok?bn(g,"TestPingServer: ok",!0,f):bn(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout($),bn(g,"TestPingServer: error",!1,f)})}function bn(a,f,g,b,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),b(g)}catch{}}function Od(){this.g=new Oo}function Xc(a,f,g){const b=g||"";try{rl(a,function($,H){let ae=$;h($)&&(ae=qt($)),f.push(b+H+"="+encodeURIComponent(ae))})}catch($){throw f.push(b+"type="+encodeURIComponent("_badmap")),$}}function Ui(a){this.l=a.Ub||null,this.j=a.eb||!1}N(Ui,Qa),Ui.prototype.g=function(){return new ri(this.l,this.j)},Ui.prototype.i=function(a){return function(){return a}}({});function ri(a,f){Ee.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ri,Ee),t=ri.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,ks(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||l).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ks(this)),this.g&&(this.readyState=3,ks(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uo(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uo(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?Vr(this):ks(this),this.readyState==3&&Uo(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Vr(this))},t.Qa=function(a){this.g&&(this.response=a,Vr(this))},t.ga=function(){this.g&&Vr(this)};function Vr(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ks(a)}t.setRequestHeader=function(a,f){this.u.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=f.next();return a.join(`\r
`)};function ks(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Jc(a){let f="";return ie(a,function(g,b){f+=b,f+=":",f+=g,f+=`\r
`}),f}function jo(a,f,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=Jc(g),typeof a=="string"?g!=null&&encodeURIComponent(String(g)):Je(a,f,g))}function yt(a){Ee.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(yt,Ee);var ll=/^https?$/i,cl=["POST","PUT"];t=yt.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,f,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xa.g(),this.v=this.o?Fc(this.o):Fc(Xa),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(H){ul(this,H);return}if(a=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var $ in b)g.set($,b[$]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())g.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(H=>H.toLowerCase()=="content-type"),$=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(cl,f,void 0))||b||$||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ae]of g)this.g.setRequestHeader(H,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hl(this),this.u=!0,this.g.send(a),this.u=!1}catch(H){ul(this,H)}};function ul(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,ji(a),Mr(a)}function ji(a){a.A||(a.A=!0,De(a,"complete"),De(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,De(this,"complete"),De(this,"abort"),Mr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mr(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bo(this):this.bb())},t.bb=function(){Bo(this)};function Bo(a){if(a.h&&typeof o<"u"&&(!a.v[1]||hn(a)!=4||a.Z()!=2)){if(a.u&&hn(a)==4)Ot(a.Ea,0,a);else if(De(a,"readystatechange"),hn(a)==4){a.h=!1;try{const ae=a.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var b;if(b=ae===0){var $=String(a.D).match(Fn)[1]||null;!$&&l.self&&l.self.location&&($=l.self.location.protocol.slice(0,-1)),b=!ll.test($?$.toLowerCase():"")}g=b}if(g)De(a,"complete"),De(a,"success");else{a.m=6;try{var H=2<hn(a)?a.g.statusText:""}catch{H=""}a.l=H+" ["+a.Z()+"]",ji(a)}}finally{Mr(a)}}}}function Mr(a,f){if(a.g){hl(a);const g=a.g,b=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||De(a,"ready");try{g.onreadystatechange=b}catch{}}}function hl(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function hn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),kn(f)}};function Zc(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function eu(a){const f={};a=(a.g&&2<=hn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<a.length;b++){if(U(a[b]))continue;var g=A(a[b]);const $=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const H=f[$]||[];f[$]=H,H.push(g)}O(f,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bi(a,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||f}function dl(a){this.Aa=0,this.i=[],this.j=new Nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bi("baseRetryDelayMs",5e3,a),this.cb=Bi("retryDelaySeedMs",1e4,a),this.Wa=Bi("forwardChannelMaxRetries",2,a),this.wa=Bi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new el(a&&a.concurrentRequestLimit),this.Da=new Od,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dl.prototype,t.la=8,t.G=1,t.connect=function(a,f,g,b){xt(0),this.W=a,this.H=f||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.I=_l(this,null,this.W),Fr(this)};function Ho(a){if(qo(a),a.G==3){var f=a.U++,g=Dt(a.I);if(Je(g,"SID",a.K),Je(g,"RID",f),Je(g,"TYPE","terminate"),Hi(a,g),f=new vn(a,a.j,f),f.L=2,f.v=ni(Dt(g)),g=!1,l.navigator&&l.navigator.sendBeacon)try{g=l.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&l.Image&&(new Image().src=f.v,g=!0),g||(f.g=su(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ps(f)}nu(a)}function $r(a){a.g&&(ml(a),a.g.cancel(),a.g=null)}function qo(a){$r(a),a.u&&(l.clearTimeout(a.u),a.u=null),jr(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Fr(a){if(!tl(a.h)&&!a.s){a.s=!0;var f=a.Ga;ve||Y(),Fe||(ve(),Fe=!0),Ct.add(f,a),a.B=0}}function Dd(a,f){return nl(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Dr(_(a.Ga,a,f),xs(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const $=new vn(this,this.j,a);let H=this.o;if(this.S&&(H?(H=T(H),C(H,this.S)):H=this.S),this.m!==null||this.O||($.H=H,H=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(f+=b,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=fl(this,$,f),g=Dt(this.I),Je(g,"RID",a),Je(g,"CVER",22),this.D&&Je(g,"X-HTTP-Session-Id",this.D),Hi(this,g),H&&(this.O?f="headers="+encodeURIComponent(String(Jc(H)))+"&"+f:this.m&&jo(g,this.m,H)),$o(this.h,$),this.Ua&&Je(g,"TYPE","init"),this.P?(Je(g,"$req",f),Je(g,"SID","null"),$.T=!0,Wt($,g,null)):Wt($,g,f),this.G=2}}else this.G==3&&(a?tu(this,a):this.i.length==0||tl(this.h)||tu(this))};function tu(a,f){var g;f?g=f.l:g=a.U++;const b=Dt(a.I);Je(b,"SID",a.K),Je(b,"RID",g),Je(b,"AID",a.T),Hi(a,b),a.m&&a.o&&jo(b,a.m,a.o),g=new vn(a,a.j,g,a.B+1),a.m===null&&(g.H=a.o),f&&(a.i=f.D.concat(a.i)),f=fl(a,g,1e3),g.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),$o(a.h,g),Wt(g,b,f)}function Hi(a,f){a.H&&ie(a.H,function(g,b){Je(f,b,g)}),a.l&&rl({},function(g,b){Je(f,b,g)})}function fl(a,f,g){g=Math.min(a.i.length,g);var b=a.l?_(a.l.Na,a.l,a):null;e:{var $=a.i;let H=-1;for(;;){const ae=["count="+g];H==-1?0<g?(H=$[0].g,ae.push("ofs="+H)):H=0:ae.push("ofs="+H);let ct=!0;for(let zt=0;zt<g;zt++){let Qe=$[zt].g;const Qt=$[zt].map;if(Qe-=H,0>Qe)H=Math.max(0,$[zt].g-100),ct=!1;else try{Xc(Qt,ae,"req"+Qe+"_")}catch{b&&b(Qt)}}if(ct){b=ae.join("&");break e}}}return a=a.i.splice(0,g),f.D=a,b}function Ur(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;ve||Y(),Fe||(ve(),Fe=!0),Ct.add(f,a),a.v=0}}function pl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Dr(_(a.Fa,a),xs(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Wo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Dr(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),$r(this),Wo(this))};function ml(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Wo(a){a.g=new vn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=Dt(a.qa);Je(f,"RID","rpc"),Je(f,"SID",a.K),Je(f,"AID",a.T),Je(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&Je(f,"TO",a.ja),Je(f,"TYPE","xmlhttp"),Hi(a,f),a.m&&a.o&&jo(f,a.m,a.o),a.L&&(a.g.I=a.L);var g=a.g;a=a.ia,g.L=1,g.v=ni(Dt(f)),g.m=null,g.P=!0,kr(g,a)}t.Za=function(){this.C!=null&&(this.C=null,$r(this),pl(this),xt(19))};function jr(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function gl(a,f){var g=null;if(a.g==f){jr(a),ml(a),a.g=null;var b=2}else if(Mo(a.h,f))g=f.D,sl(a.h,f),b=1;else return;if(a.G!=0){if(f.o)if(b==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var $=a.B;b=No(),De(b,new Hc(b,g)),Fr(a)}else Ur(a);else if($=f.s,$==3||$==0&&0<f.X||!(b==1&&Dd(a,f)||b==2&&pl(a)))switch(g&&0<g.length&&(f=a.h,f.i=f.i.concat(g)),$){case 1:gs(a,5);break;case 4:gs(a,10);break;case 3:gs(a,6);break;default:gs(a,2)}}}function xs(a,f){let g=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(g*=2),g*f}function gs(a,f){if(a.j.info("Error code "+f),f==2){var g=_(a.fb,a),b=a.Xa;const $=!b;b=new En(b||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Mi(b,"https"),ni(b),$?Yc(b.toString(),g):Qc(b.toString(),g)}else xt(2);a.G=0,a.l&&a.l.sa(f),nu(a),qo(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function nu(a){if(a.G=0,a.ka=[],a.l){const f=il(a.h);(f.length!=0||a.i.length!=0)&&(L(a.ka,f),L(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function _l(a,f,g){var b=g instanceof En?Dt(g):new En(g);if(b.g!="")f&&(b.g=f+"."+b.g),$i(b,b.s);else{var $=l.location;b=$.protocol,f=f?f+"."+$.hostname:$.hostname,$=+$.port;var H=new En(null);b&&Mi(H,b),f&&(H.g=f),$&&$i(H,$),g&&(H.l=g),b=H}return g=a.D,f=a.ya,g&&f&&Je(b,g,f),Je(b,"VER",a.la),Hi(a,b),b}function su(a,f,g){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new yt(new Ui({eb:g})):new yt(a.pa),f.Ha(a.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}t=iu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zo(){}zo.prototype.g=function(a,f){return new wn(a,f)};function wn(a,f){Ee.call(this),this.g=new dl(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!U(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!U(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new qi(this)}N(wn,Ee),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Ho(this.g)},wn.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.u&&(g={},g.__data__=qt(a),a=g);f.i.push(new Za(f.Ya++,a)),f.G==3&&Fr(f)},wn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,wn.aa.N.call(this)};function vl(a){Li.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const g in f){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}N(vl,Li);function yl(){Do.call(this),this.status=1}N(yl,Do);function qi(a){this.g=a}N(qi,iu),qi.prototype.ua=function(){De(this.g,"a")},qi.prototype.ta=function(a){De(this.g,new vl(a))},qi.prototype.sa=function(a){De(this.g,new yl)},qi.prototype.ra=function(){De(this.g,"b")},zo.prototype.createWebChannel=zo.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,yw=function(){return new zo},vw=function(){return No()},_w=Os,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xo.NO_ERROR=0,xo.TIMEOUT=8,xo.HTTP_ERROR=6,Mu=xo,Lo.COMPLETE="complete",gw=Lo,Uc.EventType=xi,xi.OPEN="a",xi.CLOSE="b",xi.ERROR="c",xi.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,Dl=Uc,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,mw=yt}).apply(typeof vu<"u"?vu:typeof self<"u"?self:typeof window<"u"?window:{});const Ev="@firebase/firestore",bv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new zp("@firebase/firestore");function na(){return mo.logLevel}function de(t,...e){if(mo.logLevel<=Ke.DEBUG){const n=e.map(Yp);mo.debug(`Firestore (${Fa}): ${t}`,...n)}}function Ai(t,...e){if(mo.logLevel<=Ke.ERROR){const n=e.map(Yp);mo.error(`Firestore (${Fa}): ${t}`,...n)}}function wa(t,...e){if(mo.logLevel<=Ke.WARN){const n=e.map(Yp);mo.warn(`Firestore (${Fa}): ${t}`,...n)}}function Yp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Ew(t,s,n)}function Ew(t,e,n){let s=`FIRESTORE (${Fa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ai(s),new Error(s)}function lt(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||Ew(e,i,s)}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class A1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class I1{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let s=this.i;const i=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let r=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new _i,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=r;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new _i)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(lt(typeof s.accessToken=="string",31837,{l:s}),new bw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class C1{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class S1{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new C1(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R1{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const s=r=>{r.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,de("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=P1(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%62))}return s}}function qe(t,e){return t<e?-1:t>e?1:0}function tp(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),i=e.codePointAt(n);if(s!==i){if(s<128&&i<128)return qe(s,i);{const r=ww(),o=O1(r.encode(Tv(t,n)),r.encode(Tv(e,n)));return o!==0?o:qe(s,i)}}n+=s>65535?2:1}return qe(t.length,e.length)}function Tv(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function O1(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return qe(t[n],e[n]);return qe(t.length,e.length)}function Ta(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=-62135596800,Iv=1e6;class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Iv);return new Kt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Av)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iv}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Av;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Kt(0,0))}static max(){return new xe(new Kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="__name__";class Fs{constructor(e,n,s){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Oe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Fs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fs?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=Fs.compareSegments(e.get(i),n.get(i));if(r!==0)return r}return qe(e.length,n.length)}static compareSegments(e,n){const s=Fs.isNumericId(e),i=Fs.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?Fs.extractNumericId(e).compare(Fs.extractNumericId(n)):tp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dr.fromString(e.substring(4,e.length-2))}}class It extends Fs{construct(e,n,s){return new It(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new It(n)}static emptyPath(){return new It([])}}const D1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Fs{construct(e,n,s){return new an(e,n,s)}static isValidIdentifier(e){return D1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cv}static keyField(){return new an([Cv])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new pe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new pe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new pe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(s+=l,i++):(r(),i++)}if(r(),o)throw new pe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(It.fromString(e))}static fromName(e){return new Ae(It.fromString(e).popFirst(5))}static empty(){return new Ae(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new It(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=-1;function N1(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(s===1e9?new Kt(n+1,0):new Kt(n,s));return new mr(i,Ae.empty(),e)}function k1(t){return new mr(t.readTime,t.key,cc)}class mr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new mr(xe.min(),Ae.empty(),cc)}static max(){return new mr(xe.max(),Ae.empty(),cc)}}function x1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==L1)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let i=0,r=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++r,o&&r===i&&n()},c=>s(c))}),o=!0,r===i&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(i=>i?J.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new J((s,i)=>{const r=e.length,o=new Array(r);let l=0;for(let c=0;c<r;c++){const h=c;n(e[h]).next(d=>{o[h]=d,++l,l===r&&s(o)},d=>i(d))}})}static doWhile(e,n){return new J((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function M1(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ja(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Xh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=-1;function Jh(t){return t==null}function uh(t){return t===0&&1/t==-1/0}function $1(t){return typeof t=="number"&&Number.isInteger(t)&&!uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="";function F1(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Sv(e)),e=U1(t.get(n),e);return Sv(e)}function U1(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const r=t.charAt(i);switch(r){case"\0":n+="";break;case Aw:n+="";break;default:n+=r}}return n}function Sv(t){return t+Aw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Iw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yu(this.root,e,this.comparator,!0)}}class yu{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??on.RED,this.left=i??on.EMPTY,this.right=r??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new on(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return on.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,s,i,r){return this}insert(e,n,s){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new vs([])}unionWith(e){let n=new Gt(an.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new vs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Cw("Invalid base64 string: "+r):r}}(e);return new cn(n)}static fromUint8Array(e){const n=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const j1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const n=j1.exec(t);if(lt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _r(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="server_timestamp",Rw="__type__",Pw="__previous_value__",Ow="__local_write_time__";function Xp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Rw])===null||n===void 0?void 0:n.stringValue)===Sw}function Zh(t){const e=t.mapValue.fields[Pw];return Xp(e)?Zh(e):e}function uc(t){const e=gr(t.mapValue.fields[Ow].timestampValue);return new Kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n,s,i,r,o,l,c,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=d}}const hh="(default)";class hc{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="__type__",H1="__max__",Eu={mapValue:{}},Nw="__vector__",dh="value";function vr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xp(t)?4:W1(t)?9007199254740991:q1(t)?10:11:Oe(28295,{value:t})}function Ys(t,e){if(t===e)return!0;const n=vr(t);if(n!==vr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uc(t).isEqual(uc(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=gr(i.timestampValue),l=gr(r.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return _r(i.bytesValue).isEqual(_r(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return Vt(i.geoPointValue.latitude)===Vt(r.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Vt(i.integerValue)===Vt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Vt(i.doubleValue),l=Vt(r.doubleValue);return o===l?uh(o)===uh(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ta(t.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:case 11:return function(i,r){const o=i.mapValue.fields||{},l=r.mapValue.fields||{};if(Rv(o)!==Rv(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Ys(o[c],l[c])))return!1;return!0}(t,e);default:return Oe(52216,{left:t})}}function dc(t,e){return(t.values||[]).find(n=>Ys(n,e))!==void 0}function Aa(t,e){if(t===e)return 0;const n=vr(t),s=vr(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(r,o){const l=Vt(r.integerValue||r.doubleValue),c=Vt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Ov(t.timestampValue,e.timestampValue);case 4:return Ov(uc(t),uc(e));case 5:return tp(t.stringValue,e.stringValue);case 6:return function(r,o){const l=_r(r),c=_r(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const l=r.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const d=qe(l[h],c[h]);if(d!==0)return d}return qe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const l=qe(Vt(r.latitude),Vt(o.latitude));return l!==0?l:qe(Vt(r.longitude),Vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Dv(t.arrayValue,e.arrayValue);case 10:return function(r,o){var l,c,h,d;const m=r.fields||{},_=o.fields||{},y=(l=m[dh])===null||l===void 0?void 0:l.arrayValue,N=(c=_[dh])===null||c===void 0?void 0:c.arrayValue,k=qe(((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0,((d=N==null?void 0:N.values)===null||d===void 0?void 0:d.length)||0);return k!==0?k:Dv(y,N)}(t.mapValue,e.mapValue);case 11:return function(r,o){if(r===Eu.mapValue&&o===Eu.mapValue)return 0;if(r===Eu.mapValue)return 1;if(o===Eu.mapValue)return-1;const l=r.fields||{},c=Object.keys(l),h=o.fields||{},d=Object.keys(h);c.sort(),d.sort();for(let m=0;m<c.length&&m<d.length;++m){const _=tp(c[m],d[m]);if(_!==0)return _;const y=Aa(l[c[m]],h[d[m]]);if(y!==0)return y}return qe(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Oe(23264,{Pe:n})}}function Ov(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=gr(t),s=gr(e),i=qe(n.seconds,s.seconds);return i!==0?i:qe(n.nanos,s.nanos)}function Dv(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const r=Aa(n[i],s[i]);if(r)return r}return qe(n.length,s.length)}function Ia(t){return np(t)}function np(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=gr(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _r(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=np(r);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const o of s)r?r=!1:i+=",",i+=`${o}:${np(n.fields[o])}`;return i+"}"}(t.mapValue):Oe(61005,{value:t})}function $u(t){switch(vr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(t);return e?16+$u(e):16;case 5:return 2*t.stringValue.length;case 6:return _r(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+$u(r),0)}(t.arrayValue);case 10:case 11:return function(s){let i=0;return Ao(s.fields,(r,o)=>{i+=r.length+$u(o)}),i}(t.mapValue);default:throw Oe(13486,{value:t})}}function Nv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sp(t){return!!t&&"integerValue"in t}function Jp(t){return!!t&&"arrayValue"in t}function kv(t){return!!t&&"nullValue"in t}function xv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fu(t){return!!t&&"mapValue"in t}function q1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Dw])===null||n===void 0?void 0:n.stringValue)===Nw}function Wl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Wl(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function W1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===H1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.value=e}static empty(){return new rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Fu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=an.emptyPath(),s={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,i),s={},i=[],n=l.popLast()}o?s[l.lastSegment()]=Wl(o):i.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());Fu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];Fu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Ao(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new rs(Wl(this.value))}}function kw(t){const e=[];return Ao(t.fields,(n,s)=>{const i=new an([n]);if(Fu(s)){const r=kw(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)}),new vs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,s,i,r,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new gn(e,0,xe.min(),xe.min(),xe.min(),rs.empty(),0)}static newFoundDocument(e,n,s,i){return new gn(e,1,n,xe.min(),s,i,0)}static newNoDocument(e,n){return new gn(e,2,n,xe.min(),xe.min(),rs.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,xe.min(),xe.min(),rs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function Lv(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],o=t.position[i];if(r.field.isKeyField()?s=Ae.comparator(Ae.fromName(o.referenceValue),n.key):s=Aa(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function Vv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ys(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n="asc"){this.field=e,this.dir=n}}function z1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{}class Bt extends xw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new G1(e,n,s):n==="array-contains"?new X1(e,s):n==="in"?new J1(e,s):n==="not-in"?new Z1(e,s):n==="array-contains-any"?new eD(e,s):new Bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Y1(e,s):new Q1(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Aa(n,this.value)):n!==null&&vr(this.value)===vr(n)&&this.matchesComparison(Aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Is extends xw{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Is(e,n)}matches(e){return Lw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Lw(t){return t.op==="and"}function Vw(t){return K1(t)&&Lw(t)}function K1(t){for(const e of t.filters)if(e instanceof Is)return!1;return!0}function ip(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+Ia(t.value);if(Vw(t))return t.filters.map(e=>ip(e)).join(",");{const e=t.filters.map(n=>ip(n)).join(",");return`${t.op}(${e})`}}function Mw(t,e){return t instanceof Bt?function(s,i){return i instanceof Bt&&s.op===i.op&&s.field.isEqual(i.field)&&Ys(s.value,i.value)}(t,e):t instanceof Is?function(s,i){return i instanceof Is&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,o,l)=>r&&Mw(o,i.filters[l]),!0):!1}(t,e):void Oe(19439)}function $w(t){return t instanceof Bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ia(n.value)}`}(t):t instanceof Is?function(n){return n.op.toString()+" {"+n.getFilters().map($w).join(" ,")+"}"}(t):"Filter"}class G1 extends Bt{constructor(e,n,s){super(e,n,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class Y1 extends Bt{constructor(e,n){super(e,"in",n),this.keys=Fw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Q1 extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=Fw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Fw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ae.fromName(s.referenceValue))}class X1 extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jp(n)&&dc(n.arrayValue,this.value)}}class J1 extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dc(this.value.arrayValue,n)}}class Z1 extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dc(this.value.arrayValue,n)}}class eD extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>dc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n=null,s=[],i=[],r=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=l,this.Ie=null}}function Mv(t,e=null,n=[],s=[],i=null,r=null,o=null){return new tD(t,e,n,s,i,r,o)}function Zp(t){const e=$e(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>ip(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ia(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ia(s)).join(",")),e.Ie=n}return e.Ie}function em(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!z1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Mw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vv(t.startAt,e.startAt)&&Vv(t.endAt,e.endAt)}function rp(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n=null,s=[],i=[],r=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function nD(t,e,n,s,i,r,o,l){return new Ba(t,e,n,s,i,r,o,l)}function ed(t){return new Ba(t)}function $v(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Uw(t){return t.collectionGroup!==null}function zl(t){const e=$e(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ee.push(r),n.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Gt(an.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ee.push(new fc(r,s))}),n.has(an.keyField().canonicalString())||e.Ee.push(new fc(an.keyField(),s))}return e.Ee}function Hs(t){const e=$e(t);return e.de||(e.de=sD(e,zl(t))),e.de}function sD(t,e){if(t.limitType==="F")return Mv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new fc(i.field,r)});const n=t.endAt?new fh(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new fh(t.startAt.position,t.startAt.inclusive):null;return Mv(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function op(t,e){const n=t.filters.concat([e]);return new Ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ph(t,e,n){return new Ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function td(t,e){return em(Hs(t),Hs(e))&&t.limitType===e.limitType}function jw(t){return`${Zp(Hs(t))}|lt:${t.limitType}`}function sa(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>$w(i)).join(", ")}]`),Jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>Ia(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>Ia(i)).join(",")),`Target(${s})`}(Hs(t))}; limitType=${t.limitType})`}function nd(t,e){return e.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):Ae.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(t,e)&&function(s,i){for(const r of zl(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(o,l,c){const h=Lv(o,l,c);return o.inclusive?h<=0:h<0}(s.startAt,zl(s),i)||s.endAt&&!function(o,l,c){const h=Lv(o,l,c);return o.inclusive?h>=0:h>0}(s.endAt,zl(s),i))}(t,e)}function iD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Bw(t){return(e,n)=>{let s=!1;for(const i of zl(t)){const r=rD(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function rD(t,e,n){const s=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(r,o,l){const c=o.data.field(r),h=l.data.field(r);return c!==null&&h!==null?Aa(c,h):Oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return Iw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new Pt(Ae.comparator);function Ii(){return oD}const Hw=new Pt(Ae.comparator);function Nl(...t){let e=Hw;for(const n of t)e=e.insert(n.key,n);return e}function qw(t){let e=Hw;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function io(){return Kl()}function Ww(){return Kl()}function Kl(){return new Io(t=>t.toString(),(t,e)=>t.isEqual(e))}const aD=new Pt(Ae.comparator),lD=new Gt(Ae.comparator);function Ge(...t){let e=lD;for(const n of t)e=e.add(n);return e}const cD=new Gt(qe);function uD(){return cD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function zw(t){return{integerValue:""+t}}function hD(t,e){return $1(e)?zw(e):tm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function dD(t,e,n){return t instanceof mh?function(i,r){const o={fields:{[Rw]:{stringValue:Sw},[Ow]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Xp(r)&&(r=Zh(r)),r&&(o.fields[Pw]=r),{mapValue:o}}(n,e):t instanceof pc?Gw(t,e):t instanceof mc?Yw(t,e):function(i,r){const o=Kw(i,r),l=Fv(o)+Fv(i.Re);return sp(o)&&sp(i.Re)?zw(l):tm(i.serializer,l)}(t,e)}function fD(t,e,n){return t instanceof pc?Gw(t,e):t instanceof mc?Yw(t,e):n}function Kw(t,e){return t instanceof gh?function(s){return sp(s)||function(r){return!!r&&"doubleValue"in r}(s)}(e)?e:{integerValue:0}:null}class mh extends sd{}class pc extends sd{constructor(e){super(),this.elements=e}}function Gw(t,e){const n=Qw(e);for(const s of t.elements)n.some(i=>Ys(i,s))||n.push(s);return{arrayValue:{values:n}}}class mc extends sd{constructor(e){super(),this.elements=e}}function Yw(t,e){let n=Qw(e);for(const s of t.elements)n=n.filter(i=>!Ys(i,s));return{arrayValue:{values:n}}}class gh extends sd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Fv(t){return Vt(t.integerValue||t.doubleValue)}function Qw(t){return Jp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function pD(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof pc&&i instanceof pc||s instanceof mc&&i instanceof mc?Ta(s.elements,i.elements,Ys):s instanceof gh&&i instanceof gh?Ys(s.Re,i.Re):s instanceof mh&&i instanceof mh}(t.transform,e.transform)}class mD{constructor(e,n){this.version=e,this.transformResults=n}}class vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class id{}function Xw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zw(t.key,vi.none()):new Ic(t.key,t.data,vi.none());{const n=t.data,s=rs.empty();let i=new Gt(an.comparator);for(let r of e.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new Co(t.key,s,new vs(i.toArray()),vi.none())}}function gD(t,e,n){t instanceof Ic?function(i,r,o){const l=i.value.clone(),c=jv(i.fieldTransforms,r,o.transformResults);l.setAll(c),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Co?function(i,r,o){if(!Uu(i.precondition,r))return void r.convertToUnknownDocument(o.version);const l=jv(i.fieldTransforms,r,o.transformResults),c=r.data;c.setAll(Jw(i)),c.setAll(l),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Gl(t,e,n,s){return t instanceof Ic?function(r,o,l,c){if(!Uu(r.precondition,o))return l;const h=r.value.clone(),d=Bv(r.fieldTransforms,c,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,s):t instanceof Co?function(r,o,l,c){if(!Uu(r.precondition,o))return l;const h=Bv(r.fieldTransforms,c,o),d=o.data;return d.setAll(Jw(r)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(m=>m.field))}(t,e,n,s):function(r,o,l){return Uu(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function _D(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=Kw(s.transform,i||null);r!=null&&(n===null&&(n=rs.empty()),n.set(s.field,r))}return n||null}function Uv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Ta(s,i,(r,o)=>pD(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ic extends id{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Co extends id{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Jw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function jv(t,e,n){const s=new Map;lt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const r=t[i],o=r.transform,l=e.data.field(r.field);s.set(r.field,fD(o,l,n[i]))}return s}function Bv(t,e,n){const s=new Map;for(const i of t){const r=i.transform,o=n.data.field(i.field);s.set(i.field,dD(r,o,e))}return s}class Zw extends id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vD extends id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&gD(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Ww();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let l=this.applyToLocalView(o,r.mutatedFields);l=n.has(i.key)?null:l;const c=Xw(o,l);c!==null&&s.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(xe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,(n,s)=>Uv(n,s))&&Ta(this.baseMutations,e.baseMutations,(n,s)=>Uv(n,s))}}class nm{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){lt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let i=function(){return aD}();const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new nm(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Xe;function wD(t){switch(t){case X.OK:return Oe(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function eT(t){if(t===void 0)return Ai("GRPC error has no .code"),X.UNKNOWN;switch(t){case Ut.OK:return X.OK;case Ut.CANCELLED:return X.CANCELLED;case Ut.UNKNOWN:return X.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return X.INTERNAL;case Ut.UNAVAILABLE:return X.UNAVAILABLE;case Ut.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ut.NOT_FOUND:return X.NOT_FOUND;case Ut.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ut.ABORTED:return X.ABORTED;case Ut.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ut.DATA_LOSS:return X.DATA_LOSS;default:return Oe(39323,{code:t})}}(Xe=Ut||(Ut={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new dr([4294967295,4294967295],0);function Hv(t){const e=ww().encode(t),n=new pw;return n.update(e),new Uint8Array(n.digest())}function qv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new dr([n,s],0),new dr([i,r],0)]}class sm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=dr.fromNumber(this.pe)}we(e,n,s){let i=e.add(n.multiply(dr.fromNumber(s)));return i.compare(TD)===1&&(i=new dr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Hv(e),[s,i]=qv(n);for(let r=0;r<this.hashCount;r++){const o=this.we(s,i,r);if(!this.be(o))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new sm(r,i,n);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const n=Hv(e),[s,i]=qv(n);for(let r=0;r<this.hashCount;r++){const o=this.we(s,i,r);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new rd(xe.min(),i,new Pt(qe),Ii(),Ge())}}class Cc{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Cc(s,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,s,i){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=i}}class tT{constructor(e,n){this.targetId=e,this.Ce=n}}class nT{constructor(e,n,s=cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class Wv{constructor(){this.Fe=0,this.Me=zv(),this.xe=cn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ge(),n=Ge(),s=Ge();return this.Me.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:Oe(38017,{changeType:r})}}),new Cc(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=zv()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,lt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class AD{constructor(e){this.ze=e,this.je=new Map,this.He=Ii(),this.Je=bu(),this.Ye=bu(),this.Ze=new Pt(qe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,s=e.Ce.count,i=this._t(n);if(i){const r=i.target;if(rp(r))if(s===0){const o=new Ae(r.path);this.tt(n,o,gn.newNoDocument(o,xe.min()))}else lt(s===1,20013,{expectedCount:s});else{const o=this.ut(n);if(o!==s){const l=this.ct(e),c=l?this.lt(l,e,o):1;if(c!==0){this.st(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let o,l;try{o=_r(s).toUint8Array()}catch(c){if(c instanceof Cw)return wa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new sm(o,i,r)}catch(c){return wa(c instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let i=0;return s.forEach(r=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,r,null),i++)}),i}It(e){const n=new Map;this.je.forEach((r,o)=>{const l=this._t(o);if(l){if(r.current&&rp(l.target)){const c=new Ae(l.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,gn.newNoDocument(c,e))}r.Le&&(n.set(o,r.qe()),r.Qe())}});let s=Ge();this.Ye.forEach((r,o)=>{let l=!0;o.forEachWhile(c=>{const h=this._t(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(r))}),this.He.forEach((r,o)=>o.setReadTime(e));const i=new rd(e,n,this.Ze,this.He,s);return this.He=Ii(),this.Je=bu(),this.Ye=bu(),this.Ze=new Pt(qe),i}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Wv,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Gt(qe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Gt(qe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Wv),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function bu(){return new Pt(Ae.comparator)}function zv(){return new Pt(Ae.comparator)}const ID={asc:"ASCENDING",desc:"DESCENDING"},CD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SD={and:"AND",or:"OR"};class RD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ap(t,e){return t.useProto3Json||Jh(e)?e:{value:e}}function _h(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PD(t,e){return _h(t,e.toTimestamp())}function qs(t){return lt(!!t,49232),xe.fromTimestamp(function(n){const s=gr(n);return new Kt(s.seconds,s.nanos)}(t))}function im(t,e){return lp(t,e).canonicalString()}function lp(t,e){const n=function(i){return new It(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iT(t){const e=It.fromString(t);return lt(cT(e),10190,{key:e.toString()}),e}function cp(t,e){return im(t.databaseId,e.path)}function df(t,e){const n=iT(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(oT(n))}function rT(t,e){return im(t.databaseId,e)}function OD(t){const e=iT(t);return e.length===4?It.emptyPath():oT(e)}function up(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oT(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Kv(t,e,n){return{name:cp(t,e),fields:n.value.mapValue.fields}}function DD(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Oe(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(h,d){return h.useProto3Json?(lt(d===void 0||typeof d=="string",58123),cn.fromBase64String(d||"")):(lt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),cn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const d=h.code===void 0?X.UNKNOWN:eT(h.code);return new pe(d,h.message||"")}(o);n=new nT(s,i,r,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=df(t,s.document.name),r=qs(s.document.updateTime),o=s.document.createTime?qs(s.document.createTime):xe.min(),l=new rs({mapValue:{fields:s.document.fields}}),c=gn.newFoundDocument(i,r,o,l),h=s.targetIds||[],d=s.removedTargetIds||[];n=new ju(h,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=df(t,s.document),r=s.readTime?qs(s.readTime):xe.min(),o=gn.newNoDocument(i,r),l=s.removedTargetIds||[];n=new ju([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=df(t,s.document),r=s.removedTargetIds||[];n=new ju([],r,i,null)}else{if(!("filter"in e))return Oe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new bD(i,r),l=s.targetId;n=new tT(l,o)}}return n}function ND(t,e){let n;if(e instanceof Ic)n={update:Kv(t,e.key,e.value)};else if(e instanceof Zw)n={delete:cp(t,e.key)};else if(e instanceof Co)n={update:Kv(t,e.key,e.data),updateMask:jD(e.fieldMask)};else{if(!(e instanceof vD))return Oe(16599,{ft:e.type});n={verify:cp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,o){const l=o.transform;if(l instanceof mh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof pc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof mc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof gh)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw Oe(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:PD(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Oe(27497)}(t,e.precondition)),n}function kD(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map(n=>function(i,r){let o=i.updateTime?qs(i.updateTime):qs(r);return o.isEqual(xe.min())&&(o=qs(r)),new mD(o,i.transformResults||[])}(n,e))):[]}function xD(t,e){return{documents:[rT(t,e.path)]}}function LD(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=rT(t,i);const r=function(h){if(h.length!==0)return lT(Is.create(h,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(h){if(h.length!==0)return h.map(d=>function(_){return{field:ia(_.field),direction:$D(_.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=ap(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:i}}function VD(t){let e=OD(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){lt(s===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let r=[];n.where&&(r=function(m){const _=aT(m);return _ instanceof Is&&Vw(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(_=>function(N){return new fc(ra(N.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(_))}(n.orderBy));let l=null;n.limit&&(l=function(m){let _;return _=typeof m=="object"?m.value:m,Jh(_)?null:_}(n.limit));let c=null;n.startAt&&(c=function(m){const _=!!m.before,y=m.values||[];return new fh(y,_)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const _=!m.before,y=m.values||[];return new fh(y,_)}(n.endAt)),nD(e,i,o,r,l,"F",c,h)}function MD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ra(n.unaryFilter.field);return Bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=ra(n.unaryFilter.field);return Bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ra(n.unaryFilter.field);return Bt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ra(n.unaryFilter.field);return Bt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Bt.create(ra(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Is.create(n.compositeFilter.filters.map(s=>aT(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(n.compositeFilter.op))}(t):Oe(30097,{filter:t})}function $D(t){return ID[t]}function FD(t){return CD[t]}function UD(t){return SD[t]}function ia(t){return{fieldPath:t.canonicalString()}}function ra(t){return an.fromServerFormat(t.fieldPath)}function lT(t){return t instanceof Bt?function(n){if(n.op==="=="){if(xv(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NAN"}};if(kv(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xv(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NAN"}};if(kv(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ia(n.field),op:FD(n.op),value:n.value}}}(t):t instanceof Is?function(n){const s=n.getFilters().map(i=>lT(i));return s.length===1?s[0]:{compositeFilter:{op:UD(n.op),filters:s}}}(t):Oe(54877,{filter:t})}function jD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,s,i,r=xe.min(),o=xe.min(),l=cn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.wt=e}}function HD(t){const e=VD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ph(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.Cn=new WD}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(mr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(mr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class WD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new Gt(It.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Gt(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uT=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(uT,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ca(0)}static lr(){return new Ca(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="LruGarbageCollector",zD=1048576;function Qv([t,e],[n,s]){const i=qe(t,n);return i===0?qe(e,s):i}class KD{constructor(e){this.Er=e,this.buffer=new Gt(Qv),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Qv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class GD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){de(Yv,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ja(n)?de(Yv,"Ignoring IndexedDB error during garbage collection: ",n):await Ua(n)}await this.mr(3e5)})}}class YD{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Xh.le);const s=new KD(n);return this.gr.forEachTarget(e,i=>s.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>s.Rr(i))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Gv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gv):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,i,r,o,l,c,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(s=m,l=Date.now(),this.removeTargets(e,s,n))).next(m=>(r=m,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(m=>(h=Date.now(),na()<=Ke.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${r} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(h-c)+`ms
Total Duration: ${h-d}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:m})))}}function QD(t,e){return new YD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.changes=new Io(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&Gl(s.mutation,i,vs.empty(),Kt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ge()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ge()){const i=io();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let o=Nl();return r.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=io();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ge()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,s,i){let r=Ii();const o=Kl(),l=function(){return Kl()}();return n.forEach((c,h)=>{const d=s.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof Co)?r=r.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),Gl(d.mutation,h,d.mutation.getFieldMask(),Kt.now())):o.set(h.key,vs.empty())}),this.recalculateAndSaveOverlays(e,r).next(c=>(c.forEach((h,d)=>o.set(h,d)),n.forEach((h,d)=>{var m;return l.set(h,new JD(d,(m=o.get(h))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const s=Kl();let i=new Pt((o,l)=>o-l),r=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let d=s.get(c)||vs.empty();d=l.applyToLocalView(h,d),s.set(c,d);const m=(i.get(l.batchId)||Ge()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,d=c.value,m=Ww();d.forEach(_=>{if(!r.has(_)){const y=Xw(n.get(_),s.get(_));y!==null&&m.set(_,y),r=r.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,m))}return J.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,i){return function(o){return Ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Uw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):J.resolve(io());let l=cc,c=r;return o.next(h=>J.forEach(h,(d,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),r.get(d)?J.resolve():this.remoteDocumentCache.getEntry(e,d).next(_=>{c=c.insert(d,_)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,c,h,Ge())).next(d=>({batchId:l,changes:qw(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(s=>{let i=Nl();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const r=n.collectionGroup;let o=Nl();return this.indexManager.getCollectionParents(e,r).next(l=>J.forEach(l,c=>{const h=function(m,_){return new Ba(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,s,i).next(d=>{d.forEach((m,_)=>{o=o.insert(m,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r,i))).next(o=>{r.forEach((c,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,gn.newInvalidDocument(d)))});let l=Nl();return o.forEach((c,h)=>{const d=r.get(c);d!==void 0&&Gl(d.mutation,h,vs.empty(),Kt.now()),nd(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return J.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qs(i.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:HD(i.bundledQuery),readTime:qs(i.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.overlays=new Pt(Ae.comparator),this.Qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=io();return J.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.St(e,n,r)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.Qr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const i=io(),r=n.length+1,o=new Ae(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&c.largestBatchId>s&&i.set(c.getKey(),c)}return J.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new Pt((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>s){let d=r.get(h.largestBatchId);d===null&&(d=io(),r=r.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=io(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=i)););return J.resolve(l)}St(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(s.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new ED(n,s));let r=this.Qr.get(n);r===void 0&&(r=Ge(),this.Qr.set(n,r)),this.Qr.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.$r=new Gt(tn.Ur),this.Kr=new Gt(tn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new tn(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new tn(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Ae(new It([])),s=new tn(n,e),i=new tn(n,e+1),r=[];return this.Kr.forEachInRange([s,i],o=>{this.zr(o),r.push(o.key)}),r}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ae(new It([])),s=new tn(n,e),i=new tn(n,e+1);let r=Ge();return this.Kr.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new tn(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class tn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ae.comparator(e.key,n.key)||qe(e.Zr,n.Zr)}static Wr(e,n){return qe(e.Zr,n.Zr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Gt(tn.Ur)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yD(r,n,s,i);this.mutationQueue.push(o);for(const l of i)this.Xr=this.Xr.add(new tn(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,n){return J.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.ti(s),r=i<0?0:i;return J.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Qp:this.nr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new tn(n,0),i=new tn(n,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([s,i],o=>{const l=this.ei(o.Zr);r.push(l)}),J.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Gt(qe);return n.forEach(i=>{const r=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,o],l=>{s=s.add(l.Zr)})}),J.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;Ae.isDocumentKey(r)||(r=r.child(""));const o=new tn(new Ae(r),0);let l=new Gt(qe);return this.Xr.forEachWhile(c=>{const h=c.key.path;return!!s.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.Zr)),!0)},o),J.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(s=>{const i=this.ei(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){lt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return J.forEach(n.mutations,i=>{const r=new tn(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new tn(n,0),i=this.Xr.firstAfterOrEqual(s);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.ii=e,this.docs=function(){return new Pt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let s=Ii();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():gn.newInvalidDocument(i))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=Ii();const o=n.path,l=new Ae(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:d}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||x1(k1(d),s)<=0||(i.has(d.key)||nd(n,d))&&(r=r.insert(d.key,d.mutableCopy()))}return J.resolve(r)}getAllFromCollectionGroup(e,n,s,i){Oe(9500)}si(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new rN(this)}getSize(e){return J.resolve(this.size)}}class rN extends XD{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.persistence=e,this.oi=new Io(n=>Zp(n),em),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this._i=0,this.ai=new rm,this.targetCount=0,this.ui=Ca.cr()}forEachTarget(e,n){return this.oi.forEach((s,i)=>n(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),J.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ca(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Tr(n),J.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.oi.delete(o),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),J.waitFor(r).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(e,o))}),J.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.ci={},this.overlays={},this.li=new Xh(0),this.hi=!1,this.hi=!0,this.Pi=new nN,this.referenceDelegate=e(this),this.Ti=new oN(this),this.indexManager=new qD,this.remoteDocumentCache=function(i){return new iN(i)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new BD(n),this.Ei=new eN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new sN(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const i=new aN(this.li.next());return this.referenceDelegate.di(),s(i).next(r=>this.referenceDelegate.Ai(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ri(e,n){return J.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class aN extends V1{constructor(e){super(),this.currentSequenceNumber=e}}class om{constructor(e){this.persistence=e,this.Vi=new rm,this.mi=null}static fi(e){return new om(e)}get gi(){if(this.mi)return this.mi;throw Oe(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.gi.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.gi,s=>{const i=Ae.fromPath(s);return this.pi(e,i).next(r=>{r||n.removeEntry(i,xe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return J.or([()=>J.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.yi=new Io(s=>F1(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=QD(this,n)}static fi(e,n){return new vh(e,n)}di(){}Ai(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(i=>s+i))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return J.forEach(this.yi,(s,i)=>this.Dr(e,s,i).next(r=>r?J.resolve():n(i)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(l=>{l||(s++,r.removeEntry(o,xe.min()))})).next(()=>r.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),J.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$u(e.data.value)),n}Dr(e,n,s){return J.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return J.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.ds=s,this.As=i}static Rs(e,n){let s=Ge(),i=Ge();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new am(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return rO()?8:M1(_n())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,i){const r={result:null};return this.ws(e,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.bs(e,n,i,s).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new lN;return this.Ss(e,n,o).next(l=>{if(r.result=l,this.fs)return this.Ds(e,n,o,l.size)})}).next(()=>r.result)}Ds(e,n,s,i){return s.documentReadCount<this.gs?(na()<=Ke.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",sa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),J.resolve()):(na()<=Ke.DEBUG&&de("QueryEngine","Query:",sa(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.ps*i?(na()<=Ke.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",sa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hs(n))):J.resolve())}ws(e,n){if($v(n))return J.resolve(null);let s=Hs(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ph(n,null,"F"),s=Hs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const o=Ge(...r);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const h=this.vs(n,l);return this.Cs(n,h,o,c.readTime)?this.ws(e,ph(n,null,"F")):this.Fs(e,h,n,c)}))})))}bs(e,n,s,i){return $v(n)||i.isEqual(xe.min())?J.resolve(null):this.ys.getDocuments(e,s).next(r=>{const o=this.vs(n,r);return this.Cs(n,o,s,i)?J.resolve(null):(na()<=Ke.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sa(n)),this.Fs(e,o,n,N1(i,cc)).next(l=>l))})}vs(e,n){let s=new Gt(Bw(e));return n.forEach((i,r)=>{nd(e,r)&&(s=s.add(r))}),s}Cs(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(e,n,s){return na()<=Ke.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",sa(n)),this.ys.getDocumentsMatchingQuery(e,n,mr.min(),s)}Fs(e,n,s,i){return this.ys.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="LocalStore",uN=3e8;class hN{constructor(e,n,s,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Pt(qe),this.Os=new Io(r=>Zp(r),em),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function dN(t,e,n,s){return new hN(t,e,n,s)}async function dT(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],l=[];let c=Ge();for(const h of i){o.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}for(const h of r){l.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(s,c).next(h=>({ks:h,removedBatchIds:o,addedBatchIds:l}))})})}function fN(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,h,d){const m=h.batch,_=m.keys();let y=J.resolve();return _.forEach(N=>{y=y.next(()=>d.getEntry(c,N)).next(k=>{const L=h.docVersions.get(N);lt(L!==null,48541),k.version.compareTo(L)<0&&(m.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),d.addEntry(k)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=Ge();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function fT(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function pN(t,e){const n=$e(t),s=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const l=[];e.targetChanges.forEach((d,m)=>{const _=i.get(m);if(!_)return;l.push(n.Ti.removeMatchingKeys(r,d.removedDocuments,m).next(()=>n.Ti.addMatchingKeys(r,d.addedDocuments,m)));let y=_.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(cn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,s)),i=i.insert(m,y),function(k,L,F){return k.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=uN?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(_,y,d)&&l.push(n.Ti.updateTargetData(r,y))});let c=Ii(),h=Ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,d))}),l.push(mN(r,o,e.documentUpdates).next(d=>{c=d.qs,h=d.Qs})),!s.isEqual(xe.min())){const d=n.Ti.getLastRemoteSnapshotVersion(r).next(m=>n.Ti.setTargetsMetadata(r,r.currentSequenceNumber,s));l.push(d)}return J.waitFor(l).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,c,h)).next(()=>c)}).then(r=>(n.xs=i,r))}function mN(t,e,n){let s=Ge(),i=Ge();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let o=Ii();return n.forEach((l,c)=>{const h=r.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(xe.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):de(lm,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{qs:o,Qs:i}})}function gN(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Qp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function _N(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Ti.getTargetData(s,e).next(r=>r?(i=r,J.resolve(i)):n.Ti.allocateTargetId(s).next(o=>(i=new rr(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.xs.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function hp(t,e,n){const s=$e(t),i=s.xs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ja(o))throw o;de(lm,`Failed to update sequence numbers for target ${e}: ${o}`)}s.xs=s.xs.remove(e),s.Os.delete(i.target)}function Xv(t,e,n){const s=$e(t);let i=xe.min(),r=Ge();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,d){const m=$e(c),_=m.Os.get(d);return _!==void 0?J.resolve(m.xs.get(_)):m.Ti.getTargetData(h,d)}(s,o,Hs(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(o,l.targetId).next(c=>{r=c})}).next(()=>s.Ms.getDocumentsMatchingQuery(o,e,n?i:xe.min(),n?r:Ge())).next(l=>(vN(s,iD(e),l),{documents:l,$s:r})))}function vN(t,e,n){let s=t.Ns.get(e)||xe.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.Ns.set(e,s)}class Jv{constructor(){this.activeTargetIds=uD()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yN{constructor(){this.xo=new Jv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Jv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="ConnectivityMonitor";class ey{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){de(Zv,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){de(Zv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu=null;function dp(){return wu===null?wu=function(){return 268435456+Math.round(2147483648*Math.random())}():wu++,"0x"+wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="RestConnection",bN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wN{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${i}`,this.Go=this.databaseId.database===hh?`project_id=${s}`:`project_id=${s}&database_id=${i}`}zo(e,n,s,i,r){const o=dp(),l=this.jo(e,n.toUriEncodedString());de(ff,`Sending RPC '${e}' ${o}:`,l,s);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,r);const{host:h}=new URL(l),d=Ma(h);return this.Jo(e,l,c,s,d).then(m=>(de(ff,`Received RPC '${e}' ${o}: `,m),m),m=>{throw wa(ff,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",s),m})}Yo(e,n,s,i,r,o){return this.zo(e,n,s,i,r)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}jo(e,n){const s=bN[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class AN extends wN{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,i,r){const o=dp();return new Promise((l,c)=>{const h=new mw;h.setWithCredentials(!0),h.listenOnce(gw.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Mu.NO_ERROR:const m=h.getResponseJson();de(dn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Mu.TIMEOUT:de(dn,`RPC '${e}' ${o} timed out`),c(new pe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Mu.HTTP_ERROR:const _=h.getStatus();if(de(dn,`RPC '${e}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const N=y==null?void 0:y.error;if(N&&N.status&&N.message){const k=function(F){const U=F.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(U)>=0?U:X.UNKNOWN}(N.status);c(new pe(k,N.message))}else c(new pe(X.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new pe(X.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{h_:e,streamId:o,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{de(dn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);de(dn,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",d,s,15)})}I_(e,n,s){const i=dp(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yw(),l=vw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const d=r.join("");de(dn,`Creating RPC '${e}' stream ${i}: ${d}`,c);const m=o.createWebChannel(d,c);this.E_(m);let _=!1,y=!1;const N=new TN({Zo:L=>{y?de(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(_||(de(dn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),de(dn,`RPC '${e}' stream ${i} sending:`,L),m.send(L))},Xo:()=>m.close()}),k=(L,F,U)=>{L.listen(F,B=>{try{U(B)}catch(j){setTimeout(()=>{throw j},0)}})};return k(m,Dl.EventType.OPEN,()=>{y||(de(dn,`RPC '${e}' stream ${i} transport opened.`),N.__())}),k(m,Dl.EventType.CLOSE,()=>{y||(y=!0,de(dn,`RPC '${e}' stream ${i} transport closed`),N.u_(),this.d_(m))}),k(m,Dl.EventType.ERROR,L=>{y||(y=!0,wa(dn,`RPC '${e}' stream ${i} transport errored. Name:`,L.name,"Message:",L.message),N.u_(new pe(X.UNAVAILABLE,"The operation could not be completed")))}),k(m,Dl.EventType.MESSAGE,L=>{var F;if(!y){const U=L.data[0];lt(!!U,16349);const B=U,j=(B==null?void 0:B.error)||((F=B[0])===null||F===void 0?void 0:F.error);if(j){de(dn,`RPC '${e}' stream ${i} received error:`,j);const ne=j.status;let ie=function(w){const C=Ut[w];if(C!==void 0)return eT(C)}(ne),O=j.message;ie===void 0&&(ie=X.INTERNAL,O="Unknown error status: "+ne+" with message "+j.message),y=!0,N.u_(new pe(ie,O)),m.close()}else de(dn,`RPC '${e}' stream ${i} received:`,U),N.c_(U)}}),k(l,_w.STAT_EVENT,L=>{L.stat===ep.PROXY?de(dn,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===ep.NOPROXY&&de(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.a_()},0),N}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t){return new RD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n,s=1e3,i=1.5,r=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=i,this.V_=r,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-s);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="PersistentStream";class mT{constructor(e,n,s,i,r,o,l,c){this.xi=e,this.S_=s,this.D_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new pT(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.v_===n&&this.z_(s,i)},s=>{e(()=>{const i=new pe(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(i)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{s(()=>this.j_(i))}),this.stream.onMessage(i=>{s(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return de(ty,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(de(ty,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IN extends mT{constructor(e,n,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=DD(this.serializer,e),s=function(r){if(!("targetChange"in r))return xe.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?xe.min():o.readTime?qs(o.readTime):xe.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=up(this.serializer),n.addTarget=function(r,o){let l;const c=o.target;if(l=rp(c)?{documents:xD(r,c)}:{query:LD(r,c).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=sT(r,o.resumeToken);const h=ap(r,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(xe.min())>0){l.readTime=_h(r,o.snapshotVersion.toTimestamp());const h=ap(r,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const s=MD(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=up(this.serializer),n.removeTarget=e,this.Q_(n)}}class CN extends mT{constructor(e,n,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=kD(e.writeResults,e.commitTime),s=qs(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=up(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>ND(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{}class RN extends SN{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.zo(e,lp(n,s),i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new pe(X.UNKNOWN,r.toString())})}Yo(e,n,s,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,lp(n,s),i,o,l,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(X.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class PN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ai(n),this.ua=!1):de("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="RemoteStore";class ON{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=r,this.Ra.No(o=>{s.enqueueAndForget(async()=>{So(this)&&(de(go,"Restarting streams for network reachability change."),await async function(c){const h=$e(c);h.da.add(4),await Sc(h),h.Va.set("Unknown"),h.da.delete(4),await ad(h)}(this))})}),this.Va=new PN(s,i)}}async function ad(t){if(So(t))for(const e of t.Aa)await e(!0)}async function Sc(t){for(const e of t.Aa)await e(!1)}function gT(t,e){const n=$e(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),dm(n)?hm(n):Ha(n).N_()&&um(n,e))}function cm(t,e){const n=$e(t),s=Ha(n);n.Ea.delete(e),s.N_()&&_T(n,e),n.Ea.size===0&&(s.N_()?s.k_():So(n)&&n.Va.set("Unknown"))}function um(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ha(t).Z_(e)}function _T(t,e){t.ma.Ke(e),Ha(t).X_(e)}function hm(t){t.ma=new AD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ha(t).start(),t.Va.ca()}function dm(t){return So(t)&&!Ha(t).O_()&&t.Ea.size>0}function So(t){return $e(t).da.size===0}function vT(t){t.ma=void 0}async function DN(t){t.Va.set("Online")}async function NN(t){t.Ea.forEach((e,n)=>{um(t,e)})}async function kN(t,e){vT(t),dm(t)?(t.Va.Pa(e),hm(t)):t.Va.set("Unknown")}async function xN(t,e,n){if(t.Va.set("Online"),e instanceof nT&&e.state===2&&e.cause)try{await async function(i,r){const o=r.cause;for(const l of r.targetIds)i.Ea.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ea.delete(l),i.ma.removeTarget(l))}(t,e)}catch(s){de(go,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await yh(t,s)}else if(e instanceof ju?t.ma.Xe(e):e instanceof tT?t.ma.ot(e):t.ma.nt(e),!n.isEqual(xe.min()))try{const s=await fT(t.localStore);n.compareTo(s)>=0&&await function(r,o){const l=r.ma.It(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const d=r.Ea.get(h);d&&r.Ea.set(h,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const d=r.Ea.get(c);if(!d)return;r.Ea.set(c,d.withResumeToken(cn.EMPTY_BYTE_STRING,d.snapshotVersion)),_T(r,c);const m=new rr(d.target,c,h,d.sequenceNumber);um(r,m)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){de(go,"Failed to raise snapshot:",s),await yh(t,s)}}async function yh(t,e,n){if(!ja(e))throw e;t.da.add(1),await Sc(t),t.Va.set("Offline"),n||(n=()=>fT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de(go,"Retrying IndexedDB access"),await n(),t.da.delete(1),await ad(t)})}function yT(t,e){return e().catch(n=>yh(t,n,e))}async function ld(t){const e=$e(t),n=yr(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Qp;for(;LN(e);)try{const i=await gN(e.localStore,s);if(i===null){e.Ia.length===0&&n.k_();break}s=i.batchId,VN(e,i)}catch(i){await yh(e,i)}ET(e)&&bT(e)}function LN(t){return So(t)&&t.Ia.length<10}function VN(t,e){t.Ia.push(e);const n=yr(t);n.N_()&&n.ea&&n.ta(e.mutations)}function ET(t){return So(t)&&!yr(t).O_()&&t.Ia.length>0}function bT(t){yr(t).start()}async function MN(t){yr(t).ia()}async function $N(t){const e=yr(t);for(const n of t.Ia)e.ta(n.mutations)}async function FN(t,e,n){const s=t.Ia.shift(),i=nm.from(s,e,n);await yT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ld(t)}async function UN(t,e){e&&yr(t).ea&&await async function(s,i){if(function(o){return wD(o)&&o!==X.ABORTED}(i.code)){const r=s.Ia.shift();yr(s).L_(),await yT(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await ld(s)}}(t,e),ET(t)&&bT(t)}async function ny(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),de(go,"RemoteStore received new credentials");const s=So(n);n.da.add(3),await Sc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await ad(n)}async function jN(t,e){const n=$e(t);e?(n.da.delete(2),await ad(n)):e||(n.da.add(2),await Sc(n),n.Va.set("Unknown"))}function Ha(t){return t.fa||(t.fa=function(n,s,i){const r=$e(n);return r.oa(),new IN(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{e_:DN.bind(null,t),n_:NN.bind(null,t),i_:kN.bind(null,t),Y_:xN.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),dm(t)?hm(t):t.Va.set("Unknown")):(await t.fa.stop(),vT(t))})),t.fa}function yr(t){return t.ga||(t.ga=function(n,s,i){const r=$e(n);return r.oa(),new CN(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:MN.bind(null,t),i_:UN.bind(null,t),na:$N.bind(null,t),ra:FN.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await ld(t)):(await t.ga.stop(),t.Ia.length>0&&(de(go,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,r){const o=Date.now()+s,l=new fm(e,n,o,i,r);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(t,e){if(Ai("AsyncQueue",`${e}: ${t}`),ja(t))return new pe(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{static emptySet(e){return new pa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ae.comparator(n.key,s.key):(n,s)=>Ae.comparator(n.key,s.key),this.keyedMap=Nl(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new pa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this.pa=new Pt(Ae.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Oe(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class Sa{constructor(e,n,s,i,r,o,l,c,h){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,s,i,r){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Sa(e,n,pa.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class HN{constructor(){this.queries=iy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=$e(n),r=i.queries;i.queries=iy(),r.forEach((o,l)=>{for(const c of l.Sa)c.onError(s)})})(this,new pe(X.ABORTED,"Firestore shutting down"))}}function iy(){return new Io(t=>jw(t),td)}async function mm(t,e){const n=$e(t);let s=3;const i=e.query;let r=n.queries.get(i);r?!r.Da()&&e.va()&&(s=2):(r=new BN,s=e.va()?0:1);try{switch(s){case 0:r.ba=await n.onListen(i,!0);break;case 1:r.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=pm(o,`Initialization of query '${sa(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,r),r.Sa.push(e),e.Fa(n.onlineState),r.ba&&e.Ma(r.ba)&&_m(n)}async function gm(t,e){const n=$e(t),s=e.query;let i=3;const r=n.queries.get(s);if(r){const o=r.Sa.indexOf(e);o>=0&&(r.Sa.splice(o,1),r.Sa.length===0?i=e.va()?0:1:!r.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function qN(t,e){const n=$e(t);let s=!1;for(const i of e){const r=i.query,o=n.queries.get(r);if(o){for(const l of o.Sa)l.Ma(i)&&(s=!0);o.ba=i}}s&&_m(n)}function WN(t,e,n){const s=$e(t),i=s.queries.get(e);if(i)for(const r of i.Sa)r.onError(n);s.queries.delete(e)}function _m(t){t.Ca.forEach(e=>{e.next()})}var fp,ry;(ry=fp||(fp={})).xa="default",ry.Cache="cache";class vm{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new Sa(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==fp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.key=e}}class TT{constructor(e){this.key=e}}class zN{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ge(),this.mutatedKeys=Ge(),this.Za=Bw(e),this.Xa=new pa(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new sy,i=n?n.Xa:this.Xa;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{const _=i.get(d),y=nd(this.query,m)?m:null,N=!!_&&this.mutatedKeys.has(_.key),k=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let L=!1;_&&y?_.data.isEqual(y.data)?N!==k&&(s.track({type:3,doc:y}),L=!0):this.ru(_,y)||(s.track({type:2,doc:y}),L=!0,(c&&this.Za(y,c)>0||h&&this.Za(y,h)<0)&&(l=!0)):!_&&y?(s.track({type:0,doc:y}),L=!0):_&&!y&&(s.track({type:1,doc:_}),L=!0,(c||h)&&(l=!0)),L&&(y?(o=o.add(y),r=k?r.add(d):r.delete(d)):(o=o.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),r=r.delete(d.key),s.track({type:1,doc:d})}return{Xa:o,nu:s,Cs:l,mutatedKeys:r}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const r=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((d,m)=>function(y,N){const k=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:L})}};return k(y)-k(N)}(d.type,m.type)||this.Za(d.doc,m.doc)),this.iu(s),i=i!=null&&i;const l=n&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,h=c!==this.Ja;return this.Ja=c,o.length!==0||h?{snapshot:new Sa(this.query,e.Xa,r,o,e.mutatedKeys,c===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new sy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ge(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new TT(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new wT(s))}),n}au(e){this.Ha=e.$s,this.Ya=Ge();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Sa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const ym="SyncEngine";class KN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class GN{constructor(e){this.key=e,this.cu=!1}}class YN{constructor(e,n,s,i,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Io(l=>jw(l),td),this.Pu=new Map,this.Tu=new Set,this.Iu=new Pt(Ae.comparator),this.Eu=new Map,this.du=new rm,this.Au={},this.Ru=new Map,this.Vu=Ca.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function QN(t,e,n=!0){const s=PT(t);let i;const r=s.hu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.uu()):i=await AT(s,e,n,!0),i}async function XN(t,e){const n=PT(t);await AT(n,e,!0,!1)}async function AT(t,e,n,s){const i=await _N(t.localStore,Hs(e)),r=i.targetId,o=t.sharedClientState.addLocalQueryTarget(r,n);let l;return s&&(l=await JN(t,e,r,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&gT(t.remoteStore,i),l}async function JN(t,e,n,s,i){t.fu=(m,_,y)=>async function(k,L,F,U){let B=L.view.tu(F);B.Cs&&(B=await Xv(k.localStore,L.query,!1).then(({documents:O})=>L.view.tu(O,B)));const j=U&&U.targetChanges.get(L.targetId),ne=U&&U.targetMismatches.get(L.targetId)!=null,ie=L.view.applyChanges(B,k.isPrimaryClient,j,ne);return ay(k,L.targetId,ie.ou),ie.snapshot}(t,m,_,y);const r=await Xv(t.localStore,e,!0),o=new zN(e,r.$s),l=o.tu(r.documents),c=Cc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,c);ay(t,n,h.ou);const d=new KN(e,n,o);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),h.snapshot}async function ZN(t,e,n){const s=$e(t),i=s.hu.get(e),r=s.Pu.get(i.targetId);if(r.length>1)return s.Pu.set(i.targetId,r.filter(o=>!td(o,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await hp(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),n&&cm(s.remoteStore,i.targetId),pp(s,i.targetId)}).catch(Ua)):(pp(s,i.targetId),await hp(s.localStore,i.targetId,!0))}async function ek(t,e){const n=$e(t),s=n.hu.get(e),i=n.Pu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),cm(n.remoteStore,s.targetId))}async function tk(t,e,n){const s=lk(t);try{const i=await function(o,l){const c=$e(o),h=Kt.now(),d=l.reduce((y,N)=>y.add(N.key),Ge());let m,_;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let N=Ii(),k=Ge();return c.Bs.getEntries(y,d).next(L=>{N=L,N.forEach((F,U)=>{U.isValidDocument()||(k=k.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,N)).next(L=>{m=L;const F=[];for(const U of l){const B=_D(U,m.get(U.key).overlayedDocument);B!=null&&F.push(new Co(U.key,B,kw(B.value.mapValue),vi.exists(!0)))}return c.mutationQueue.addMutationBatch(y,h,F,l)}).next(L=>{_=L;const F=L.applyToLocalDocumentSet(m,k);return c.documentOverlayCache.saveOverlays(y,L.batchId,F)})}).then(()=>({batchId:_.batchId,changes:qw(m)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let h=o.Au[o.currentUser.toKey()];h||(h=new Pt(qe)),h=h.insert(l,c),o.Au[o.currentUser.toKey()]=h}(s,i.batchId,n),await Rc(s,i.changes),await ld(s.remoteStore)}catch(i){const r=pm(i,"Failed to persist write");n.reject(r)}}async function IT(t,e){const n=$e(t);try{const s=await pN(n.localStore,e);e.targetChanges.forEach((i,r)=>{const o=n.Eu.get(r);o&&(lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?lt(o.cu,14607):i.removedDocuments.size>0&&(lt(o.cu,42227),o.cu=!1))}),await Rc(n,s,e)}catch(s){await Ua(s)}}function oy(t,e,n){const s=$e(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.hu.forEach((r,o)=>{const l=o.view.Fa(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=$e(o);c.onlineState=l;let h=!1;c.queries.forEach((d,m)=>{for(const _ of m.Sa)_.Fa(l)&&(h=!0)}),h&&_m(c)}(s.eventManager,e),i.length&&s.lu.Y_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function nk(t,e,n){const s=$e(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Eu.get(e),r=i&&i.key;if(r){let o=new Pt(Ae.comparator);o=o.insert(r,gn.newNoDocument(r,xe.min()));const l=Ge().add(r),c=new rd(xe.min(),new Map,new Pt(qe),o,l);await IT(s,c),s.Iu=s.Iu.remove(r),s.Eu.delete(e),Em(s)}else await hp(s.localStore,e,!1).then(()=>pp(s,e,n)).catch(Ua)}async function sk(t,e){const n=$e(t),s=e.batch.batchId;try{const i=await fN(n.localStore,e);ST(n,s,null),CT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Rc(n,i)}catch(i){await Ua(i)}}async function ik(t,e,n){const s=$e(t);try{const i=await function(o,l){const c=$e(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return c.mutationQueue.lookupMutationBatch(h,l).next(m=>(lt(m!==null,37113),d=m.keys(),c.mutationQueue.removeMutationBatch(h,m))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>c.localDocuments.getDocuments(h,d))})}(s.localStore,e);ST(s,e,n),CT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Rc(s,i)}catch(i){await Ua(i)}}function CT(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function ST(t,e,n){const s=$e(t);let i=s.Au[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.Au[s.currentUser.toKey()]=i}}function pp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Pu.get(e))t.hu.delete(s),n&&t.lu.gu(s,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(s=>{t.du.containsKey(s)||RT(t,s)})}function RT(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(cm(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Em(t))}function ay(t,e,n){for(const s of n)s instanceof wT?(t.du.addReference(s.key,e),rk(t,s)):s instanceof TT?(de(ym,"Document no longer in limbo: "+s.key),t.du.removeReference(s.key,e),t.du.containsKey(s.key)||RT(t,s.key)):Oe(19791,{pu:s})}function rk(t,e){const n=e.key,s=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(s)||(de(ym,"New document in limbo: "+n),t.Tu.add(s),Em(t))}function Em(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Ae(It.fromString(e)),s=t.Vu.next();t.Eu.set(s,new GN(n)),t.Iu=t.Iu.insert(n,s),gT(t.remoteStore,new rr(Hs(ed(n.path)),s,"TargetPurposeLimboResolution",Xh.le))}}async function Rc(t,e,n){const s=$e(t),i=[],r=[],o=[];s.hu.isEmpty()||(s.hu.forEach((l,c)=>{o.push(s.fu(c,e,n).then(h=>{var d;if((h||n)&&s.isPrimaryClient){const m=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;s.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(h){i.push(h);const m=am.Rs(c.targetId,h);r.push(m)}}))}),await Promise.all(o),s.lu.Y_(i),await async function(c,h){const d=$e(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>J.forEach(h,_=>J.forEach(_.ds,y=>d.persistence.referenceDelegate.addReference(m,_.targetId,y)).next(()=>J.forEach(_.As,y=>d.persistence.referenceDelegate.removeReference(m,_.targetId,y)))))}catch(m){if(!ja(m))throw m;de(lm,"Failed to update sequence numbers: "+m)}for(const m of h){const _=m.targetId;if(!m.fromCache){const y=d.xs.get(_),N=y.snapshotVersion,k=y.withLastLimboFreeSnapshotVersion(N);d.xs=d.xs.insert(_,k)}}}(s.localStore,r))}async function ok(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){de(ym,"User change. New user:",e.toKey());const s=await dT(n.localStore,e);n.currentUser=e,function(r,o){r.Ru.forEach(l=>{l.forEach(c=>{c.reject(new pe(X.CANCELLED,o))})}),r.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Rc(n,s.ks)}}function ak(t,e){const n=$e(t),s=n.Eu.get(e);if(s&&s.cu)return Ge().add(s.key);{let i=Ge();const r=n.Pu.get(e);if(!r)return i;for(const o of r){const l=n.hu.get(o);i=i.unionWith(l.view.eu)}return i}}function PT(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ak.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nk.bind(null,e),e.lu.Y_=qN.bind(null,e.eventManager),e.lu.gu=WN.bind(null,e.eventManager),e}function lk(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ik.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=od(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return dN(this.persistence,new cN,e.initialUser,this.serializer)}Su(e){return new hT(om.fi,this.serializer)}bu(e){return new yN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class ck extends Eh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){lt(this.persistence.referenceDelegate instanceof vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new GD(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new hT(s=>vh.fi(s,n),this.serializer)}}class mp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>oy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ok.bind(null,this.syncEngine),await jN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HN}()}createDatastore(e){const n=od(e.databaseInfo.databaseId),s=function(r){return new AN(r)}(e.databaseInfo);return function(r,o,l,c){return new RN(r,o,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,i,r,o,l){return new ON(s,i,r,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>oy(this.syncEngine,n,0),function(){return ey.C()?new ey:new EN}())}createSyncEngine(e,n){return function(i,r,o,l,c,h,d){const m=new YN(i,r,o,l,c,h);return d&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const r=$e(i);de(go,"RemoteStore shutting down."),r.da.add(5),await Sc(r),r.Ra.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mp.provider={build:()=>new mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="FirestoreClient";class uk{constructor(e,n,s,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=fn.UNAUTHENTICATED,this.clientId=Tw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async o=>{de(Er,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(de(Er,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=pm(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function mf(t,e){t.asyncQueue.verifyOperationInProgress(),de(Er,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await dT(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ly(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hk(t);de(Er,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>ny(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>ny(e.remoteStore,i)),t._onlineComponents=e}async function hk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Er,"Using user provided OfflineComponentProvider");try{await mf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;wa("Error using user provided cache. Falling back to memory cache: "+n),await mf(t,new Eh)}}else de(Er,"Using default OfflineComponentProvider"),await mf(t,new ck(void 0));return t._offlineComponents}async function OT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Er,"Using user provided OnlineComponentProvider"),await ly(t,t._uninitializedComponentsProvider._online)):(de(Er,"Using default OnlineComponentProvider"),await ly(t,new mp))),t._onlineComponents}function dk(t){return OT(t).then(e=>e.syncEngine)}async function bh(t){const e=await OT(t),n=e.eventManager;return n.onListen=QN.bind(null,e.syncEngine),n.onUnlisten=ZN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ek.bind(null,e.syncEngine),n}function fk(t,e,n={}){const s=new _i;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,l,c,h){const d=new bm({next:_=>{d.xu(),o.enqueueAndForget(()=>gm(r,m));const y=_.docs.has(l);!y&&_.fromCache?h.reject(new pe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&_.fromCache&&c&&c.source==="server"?h.reject(new pe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),m=new vm(ed(l.path),d,{includeMetadataChanges:!0,Qa:!0});return mm(r,m)}(await bh(t),t.asyncQueue,e,n,s)),s.promise}function pk(t,e,n={}){const s=new _i;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,l,c,h){const d=new bm({next:_=>{d.xu(),o.enqueueAndForget(()=>gm(r,m)),_.fromCache&&c.source==="server"?h.reject(new pe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),m=new vm(l,d,{includeMetadataChanges:!0,Qa:!0});return mm(r,m)}(await bh(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t,e,n){if(!n)throw new pe(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mk(t,e,n,s){if(e===!0&&s===!0)throw new pe(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uy(t){if(!Ae.isDocumentKey(t))throw new pe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hy(t){if(Ae.isDocumentKey(t))throw new pe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function Ws(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cd(t);throw new pe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="firestore.googleapis.com",dy=!0;class fy{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kT,this.ssl=dy}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:dy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zD)throw new pe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ud{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new T1;switch(s.type){case"firstParty":return new S1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=cy.get(n);s&&(de("ComponentProvider","Removing Datastore"),cy.delete(n),s.terminate())}(this),Promise.resolve()}}function gk(t,e,n,s={}){var i;t=Ws(t,ud);const r=Ma(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;r&&(ow(`https://${c}`),aw("Firestore",!0)),o.host!==kT&&o.host!==c&&wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:c,ssl:r,emulatorOptions:s});if(!fo(h,l)&&(t._setSettings(h),s.mockUserToken)){let d,m;if(typeof s.mockUserToken=="string")d=s.mockUserToken,m=fn.MOCK_USER;else{d=QP(s.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new pe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new fn(_)}t._authCredentials=new A1(new bw(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class On{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class fr extends Oi{constructor(e,n,s){super(e,n,ed(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new Ae(e))}withConverter(e){return new fr(this.firestore,e,this._path)}}function wm(t,e,...n){if(t=ln(t),NT("collection","path",e),t instanceof ud){const s=It.fromString(e,...n);return hy(s),new fr(t,null,s)}{if(!(t instanceof On||t instanceof fr))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(It.fromString(e,...n));return hy(s),new fr(t.firestore,null,s)}}function br(t,e,...n){if(t=ln(t),arguments.length===1&&(e=Tw.newId()),NT("doc","path",e),t instanceof ud){const s=It.fromString(e,...n);return uy(s),new On(t,null,new Ae(s))}{if(!(t instanceof On||t instanceof fr))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(It.fromString(e,...n));return uy(s),new On(t.firestore,t instanceof fr?t.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="AsyncQueue";class my{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new pT(this,"async_queue_retry"),this.rc=()=>{const s=pf();s&&de(py,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=pf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=pf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new _i;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ja(e))throw e;de(py,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,Ai("INTERNAL UNHANDLED ERROR: ",gy(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=fm.createAndSchedule(this,e,n,s,r=>this.uc(r));return this.Zu.push(i),i}oc(){this.Xu&&Oe(47125,{cc:gy(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function gy(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const i=n;for(const r of s)if(r in i&&typeof i[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Ra extends ud{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new my,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new my(e),this._firestoreClient=void 0,await e}}}function _k(t,e){const n=typeof t=="object"?t:hw(),s=typeof t=="string"?t:hh,i=Gp(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=GP("firestore");r&&gk(i,...r)}return i}function hd(t){if(t._terminated)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vk(t),t._firestoreClient}function vk(t){var e,n,s;const i=t._freezeSettings(),r=function(l,c,h,d){return new B1(l,c,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,DT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=i.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new uk(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pa(cn.fromBase64String(e))}catch(n){throw new pe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pa(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=/^__.*__$/;class Ek{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ic(e,this.data,n,this.fieldTransforms)}}function LT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ic:t})}}class Cm{constructor(e,n,s,i,r,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Ec(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:s,Rc:!1});return i.Vc(e),i}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:s,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return wh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(LT(this.Ic)&&yk.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class bk{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||od(e)}bc(e,n,s,i=!1){return new Cm({Ic:e,methodName:n,wc:s,path:an.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VT(t){const e=t._freezeSettings(),n=od(t._databaseId);return new bk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wk(t,e,n,s,i,r={}){const o=t.bc(r.merge||r.mergeFields?2:0,e,n,i);FT("Data must be an object, but it was:",o,s);const l=MT(s,o);let c,h;if(r.merge)c=new vs(o.fieldMask),h=o.fieldTransforms;else if(r.mergeFields){const d=[];for(const m of r.mergeFields){const _=Ak(e,m,n);if(!o.contains(_))throw new pe(X.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Ck(d,_)||d.push(_)}c=new vs(d),h=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,h=o.fieldTransforms;return new Ek(new rs(l),c,h)}function Tk(t,e,n,s=!1){return Sm(n,t.bc(s?4:3,e))}function Sm(t,e){if($T(t=ln(t)))return FT("Unsupported field value:",e,t),MT(t,e);if(t instanceof xT)return function(s,i){if(!LT(i.Ic))throw i.gc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,i){const r=[];let o=0;for(const l of s){let c=Sm(l,i.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),r.push(c),o++}return{arrayValue:{values:r}}}(t,e)}return function(s,i){if((s=ln(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hD(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=Kt.fromDate(s);return{timestampValue:_h(i.serializer,r)}}if(s instanceof Kt){const r=new Kt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_h(i.serializer,r)}}if(s instanceof Am)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pa)return{bytesValue:sT(i.serializer,s._byteString)};if(s instanceof On){const r=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(r))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:im(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof Im)return function(o,l){return{mapValue:{fields:{[Dw]:{stringValue:Nw},[dh]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return tm(l.serializer,h)})}}}}}}(s,i);throw i.gc(`Unsupported field value: ${cd(s)}`)}(t,e)}function MT(t,e){const n={};return Iw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(s,i)=>{const r=Sm(i,e.Ac(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function $T(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kt||t instanceof Am||t instanceof Pa||t instanceof On||t instanceof xT||t instanceof Im)}function FT(t,e,n){if(!$T(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const s=cd(n);throw s==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+s)}}function Ak(t,e,n){if((e=ln(e))instanceof Tm)return e._internalPath;if(typeof e=="string")return UT(t,e);throw wh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ik=new RegExp("[~\\*/\\[\\]]");function UT(t,e,n){if(e.search(Ik)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tm(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wh(t,e,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(r||o)&&(c+=" (found",r&&(c+=` in field ${s}`),o&&(c+=` in document ${i}`),c+=")"),new pe(X.INVALID_ARGUMENT,l+t+c)}function Ck(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Sk extends jT{data(){return super.data()}}function dd(t,e){return typeof e=="string"?UT(t,e):e instanceof Tm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rm{}class Pm extends Rm{}function Om(t,e,...n){let s=[];e instanceof Rm&&s.push(e),s=s.concat(n),function(r){const o=r.filter(c=>c instanceof Nm).length,l=r.filter(c=>c instanceof fd).length;if(o>1||o>0&&l>0)throw new pe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)t=i._apply(t);return t}class fd extends Pm{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new fd(e,n,s)}_apply(e){const n=this._parse(e);return qT(e._query,n),new Oi(e.firestore,e.converter,op(e._query,n))}_parse(e){const n=VT(e.firestore);return function(r,o,l,c,h,d,m){let _;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new pe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){yy(m,d);const N=[];for(const k of m)N.push(vy(c,r,k));_={arrayValue:{values:N}}}else _=vy(c,r,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||yy(m,d),_=Tk(l,o,m,d==="in"||d==="not-in");return Bt.create(h,d,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dm(t,e,n){const s=e,i=dd("where",t);return fd._create(i,s,n)}class Nm extends Rm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Nm(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Is.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,r){let o=i;const l=r.getFlattenedFilters();for(const c of l)qT(o,c),o=op(o,c)}(e._query,n),new Oi(e.firestore,e.converter,op(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class km extends Pm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new km(e,n)}_apply(e){const n=function(i,r,o){if(i.startAt!==null)throw new pe(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new pe(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fc(r,o)}(e._query,this._field,this._direction);return new Oi(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Ba(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function HT(t,e="asc"){const n=e,s=dd("orderBy",t);return km._create(s,n)}class xm extends Pm{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new xm(e,n,s)}_apply(e){return new Oi(e.firestore,e.converter,ph(e._query,this._limit,this._limitType))}}function Rk(t){return xm._create("limit",t,"F")}function vy(t,e,n){if(typeof(n=ln(n))=="string"){if(n==="")throw new pe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uw(e)&&n.indexOf("/")!==-1)throw new pe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(It.fromString(n));if(!Ae.isDocumentKey(s))throw new pe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Nv(t,new Ae(s))}if(n instanceof On)return Nv(t,n._key);throw new pe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cd(n)}.`)}function yy(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qT(t,e){const n=function(i,r){for(const o of i)for(const l of o.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Pk{convertValue(e,n="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ao(e,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertVectorValue(e){var n,s,i;const r=(i=(s=(n=e.fields)===null||n===void 0?void 0:n[dh].arrayValue)===null||s===void 0?void 0:s.values)===null||i===void 0?void 0:i.map(o=>Vt(o.doubleValue));return new Im(r)}convertGeoPoint(e){return new Am(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Zh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uc(e));default:return null}}convertTimestamp(e){const n=gr(e);return new Kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=It.fromString(e);lt(cT(s),9688,{name:e});const i=new hc(s.get(1),s.get(3)),r=new Ae(s.popFirst(5));return i.isEqual(n)||Ai(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class WT extends jT{constructor(e,n,s,i,r,o){super(e,n,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(dd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Bu extends WT{data(e={}){return super.data(e)}}class zT{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xl(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Bu(this._firestore,this._userDataWriter,s.key,s,new xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Bu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const c=new Bu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:Dk(l.type),doc:c,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Dk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t){t=Ws(t,On);const e=Ws(t.firestore,Ra);return fk(hd(e),t._key).then(n=>KT(e,t,n))}class Vm extends Pk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,n)}}function Mm(t){t=Ws(t,Oi);const e=Ws(t.firestore,Ra),n=hd(e),s=new Vm(e);return BT(t._query),pk(n,t._query).then(i=>new zT(e,s,t,i))}function pd(t,e,n){t=Ws(t,On);const s=Ws(t.firestore,Ra),i=Ok(t.converter,e,n);return Nk(s,[wk(VT(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,vi.none())])}function $m(t,...e){var n,s,i;t=ln(t);let r={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||_y(e[o])||(r=e[o],o++);const l={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(_y(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(s=m.error)===null||s===void 0?void 0:s.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,h,d;if(t instanceof On)h=Ws(t.firestore,Ra),d=ed(t._key.path),c={next:m=>{e[o]&&e[o](KT(h,t,m))},error:e[o+1],complete:e[o+2]};else{const m=Ws(t,Oi);h=Ws(m.firestore,Ra),d=m._query;const _=new Vm(h);c={next:y=>{e[o]&&e[o](new zT(h,_,m,y))},error:e[o+1],complete:e[o+2]},BT(t._query)}return function(_,y,N,k){const L=new bm(k),F=new vm(y,L,N);return _.asyncQueue.enqueueAndForget(async()=>mm(await bh(_),F)),()=>{L.xu(),_.asyncQueue.enqueueAndForget(async()=>gm(await bh(_),F))}}(hd(h),d,l,c)}function Nk(t,e){return function(s,i){const r=new _i;return s.asyncQueue.enqueueAndForget(async()=>tk(await dk(s),i,r)),r.promise}(hd(t),e)}function KT(t,e,n){const s=n.docs.get(e._key),i=new Vm(t);return new WT(t,i,e._key,s,new xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Fa=i})($a),ba(new po("firestore",(s,{instanceIdentifier:i,options:r})=>{const o=s.getProvider("app").getImmediate(),l=new Ra(new I1(s.getProvider("auth-internal")),new R1(o,s.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new pe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(h.options.projectId,d)}(o,i),o);return r=Object.assign({useFetchStreams:n},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),hr(Ev,bv,e),hr(Ev,bv,"esm2017")})();var kk="firebase",xk="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(kk,xk,"app");function Fm(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function GT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lk=GT,YT=new Tc("auth","Firebase",GT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new zp("@firebase/auth");function Vk(t,...e){Th.logLevel<=Ke.WARN&&Th.warn(`Auth (${$a}): ${t}`,...e)}function Hu(t,...e){Th.logLevel<=Ke.ERROR&&Th.error(`Auth (${$a}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t,...e){throw jm(t,...e)}function bs(t,...e){return jm(t,...e)}function Um(t,e,n){const s=Object.assign(Object.assign({},Lk()),{[e]:n});return new Tc("auth","Firebase",s).create(e,{appName:t.name})}function yi(t){return Um(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mk(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&us(t,"argument-error"),Um(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jm(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return YT.create(t,...e)}function Pe(t,e,...n){if(!t)throw jm(e,...n)}function mi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hu(e),new Error(e)}function Ci(t,e){t||mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $k(){return Ey()==="http:"||Ey()==="https:"}function Ey(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($k()||nO()||"connection"in navigator)?navigator.onLine:!0}function Uk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=ZP()||sO()}get(){return Fk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Hk=new Pc(3e4,6e4);function Di(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xs(t,e,n,s,i={}){return XT(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const l=Ac(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:c},r);return tO()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Ma(t.emulatorConfig.host)&&(h.credentials="include"),QT.fetch()(await JT(t,t.config.apiHost,n,l),h)})}async function XT(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},jk),e);try{const i=new Wk(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Tu(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const l=r.ok?o.errorMessage:o.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Tu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Tu(t,"user-disabled",o);const d=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Um(t,d,h);us(t,d)}}catch(i){if(i instanceof Pi)throw i;us(t,"network-request-failed",{message:String(i)})}}async function Oc(t,e,n,s,i={}){const r=await Xs(t,e,n,s,i);return"mfaPendingCredential"in r&&us(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function JT(t,e,n,s){const i=`${e}${n}?${s}`,r=t,o=r.config.emulator?Bm(t.config,i):`${t.config.apiScheme}://${i}`;return Bk.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(o).toString():o}function qk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(bs(this.auth,"network-request-failed")),Hk.get())})}}function Tu(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=bs(t,e,s);return i.customData._tokenResponse=n,i}function by(t){return t!==void 0&&t.enterprise!==void 0}class zk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kk(t,e){return Xs(t,"GET","/v2/recaptchaConfig",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(t,e){return Xs(t,"POST","/v1/accounts:delete",e)}async function Ah(t,e){return Xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Yk(t,e=!1){const n=ln(t),s=await n.getIdToken(e),i=Hm(s);Pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Yl(gf(i.auth_time)),issuedAtTime:Yl(gf(i.iat)),expirationTime:Yl(gf(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function gf(t){return Number(t)*1e3}function Hm(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Hu("JWT malformed, contained fewer than 3 sections"),null;try{const i=nw(n);return i?JSON.parse(i):(Hu("Failed to decode base64 JWT payload"),null)}catch(i){return Hu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wy(t){const e=Hm(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Pi&&Qk(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Qk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(t){var e;const n=t.auth,s=await t.getIdToken(),i=await Oa(t,Ah(n,{idToken:s}));Pe(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?ZT(r.providerUserInfo):[],l=Zk(t.providerData,o),c=t.isAnonymous,h=!(t.email&&r.passwordHash)&&!(l!=null&&l.length),d=c?h:!1,m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new _p(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function Jk(t){const e=ln(t);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zk(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function ZT(t){return t.map(e=>{var{providerId:n}=e,s=Fm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(t,e){const n=await XT(t,{},async()=>{const s=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=await JT(t,i,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&Ma(t.emulatorConfig.host)&&(c.credentials="include"),QT.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tx(t,e){return Xs(t,"POST","/v2/accounts:revokeToken",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=wy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await ex(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new ma;return s&&(Pe(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(Pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(Pe(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ma,this.toJSON())}_performRefresh(){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ys{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=Fm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new _p(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Oa(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Yk(this,e)}reload(){return Jk(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ys(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await Oa(this,Gk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,l,c,h,d;const m=(s=n.displayName)!==null&&s!==void 0?s:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,y=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,N=(o=n.photoURL)!==null&&o!==void 0?o:void 0,k=(l=n.tenantId)!==null&&l!==void 0?l:void 0,L=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,F=(h=n.createdAt)!==null&&h!==void 0?h:void 0,U=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:B,emailVerified:j,isAnonymous:ne,providerData:ie,stsTokenManager:O}=n;Pe(B&&O,e,"internal-error");const T=ma.fromJSON(this.name,O);Pe(typeof B=="string",e,"internal-error"),Yi(m,e.name),Yi(_,e.name),Pe(typeof j=="boolean",e,"internal-error"),Pe(typeof ne=="boolean",e,"internal-error"),Yi(y,e.name),Yi(N,e.name),Yi(k,e.name),Yi(L,e.name),Yi(F,e.name),Yi(U,e.name);const w=new ys({uid:B,auth:e,email:_,emailVerified:j,displayName:m,isAnonymous:ne,photoURL:N,phoneNumber:y,tenantId:k,stsTokenManager:T,createdAt:F,lastLoginAt:U});return ie&&Array.isArray(ie)&&(w.providerData=ie.map(C=>Object.assign({},C))),L&&(w._redirectEventId=L),w}static async _fromIdTokenResponse(e,n,s=!1){const i=new ma;i.updateFromServerResponse(n);const r=new ys({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Ih(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];Pe(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?ZT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),l=new ma;l.updateFromIdToken(s);const c=new ys({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new _p(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=new Map;function gi(t){Ci(t instanceof Function,"Expected a class definition");let e=Ty.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ty.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eA.type="NONE";const Ay=eA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t,e,n){return`firebase:${t}:${e}:${n}`}class ga{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=qu(this.userKey,i.apiKey,r),this.fullPersistenceKey=qu("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ah(this.auth,{idToken:e}).catch(()=>{});return n?ys._fromGetAccountInfoResponse(this.auth,n,e):null}return ys._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ga(gi(Ay),e,s);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=i[0]||gi(Ay);const o=qu(s,e.config.apiKey,e.name);let l=null;for(const h of n)try{const d=await h._get(o);if(d){let m;if(typeof d=="string"){const _=await Ah(e,{idToken:d}).catch(()=>{});if(!_)break;m=await ys._fromGetAccountInfoResponse(e,_,d)}else m=ys._fromJSON(e,d);h!==r&&(l=m),r=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new ga(r,e,s):(r=c[0],l&&await r._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(o)}catch{}})),new ga(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oA(e))return"Blackberry";if(aA(e))return"Webos";if(nA(e))return"Safari";if((e.includes("chrome/")||sA(e))&&!e.includes("edge/"))return"Chrome";if(rA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function tA(t=_n()){return/firefox\//i.test(t)}function nA(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sA(t=_n()){return/crios\//i.test(t)}function iA(t=_n()){return/iemobile/i.test(t)}function rA(t=_n()){return/android/i.test(t)}function oA(t=_n()){return/blackberry/i.test(t)}function aA(t=_n()){return/webos/i.test(t)}function qm(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nx(t=_n()){var e;return qm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sx(){return iO()&&document.documentMode===10}function lA(t=_n()){return qm(t)||rA(t)||aA(t)||oA(t)||/windows phone/i.test(t)||iA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t,e=[]){let n;switch(t){case"Browser":n=Iy(_n());break;case"Worker":n=`${Iy(_n())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$a}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,l)=>{try{const c=e(r);o(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(t,e={}){return Xs(t,"GET","/v2/passwordPolicy",Di(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=6;class ax{constructor(e){var n,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ox,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,r,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsUppercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cy(this),this.idTokenSubscription=new Cy(this),this.beforeStateQueue=new ix(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(async()=>{var s,i,r;if(!this._deleted&&(this.persistenceManager=await ga.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ah(this,{idToken:e}),s=await ys._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Uk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(yi(this));const n=e?ln(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rx(this),n=new ax(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await tx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gi(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await ga.create(this,[gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(l,this,"internal-error"),l.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Vk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ni(t){return ln(t)}class Cy{constructor(e){this.auth=e,this.observer=null,this.addObserver=dO(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cx(t){md=t}function uA(t){return md.loadJS(t)}function ux(){return md.recaptchaEnterpriseScript}function hx(){return md.gapiScript}function dx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class fx{constructor(){this.enterprise=new px}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class px{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mx="recaptcha-enterprise",hA="NO_RECAPTCHA";class gx{constructor(e){this.type=mx,this.auth=Ni(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,l)=>{Kk(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new zk(c);return r.tenantId==null?r._agentRecaptchaConfig=h:r._tenantRecaptchaConfigs[r.tenantId]=h,o(h.siteKey)}}).catch(c=>{l(c)})})}function i(r,o,l){const c=window.grecaptcha;by(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:e}).then(h=>{o(h)}).catch(()=>{o(hA)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fx().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(l=>{if(!n&&by(window.grecaptcha))i(l,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=ux();c.length!==0&&(c+=l),uA(c).then(()=>{i(l,r,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function Sy(t,e,n,s=!1,i=!1){const r=new gx(t);let o;if(i)o=hA;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Ch(t,e,n,s,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Sy(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Sy(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t,e){const n=Gp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(fo(r,e??{}))return i;us(i,"already-initialized")}return n.initialize({options:e})}function vx(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(gi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function yx(t,e,n){const s=Ni(t);Pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=dA(e),{host:o,port:l}=Ex(e),c=l===null?"":`:${l}`,h={url:`${r}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Pe(fo(h,s.config.emulator)&&fo(d,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,Ma(o)?(ow(`${r}//${o}${c}`),aw("Auth",!0)):bx()}function dA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ex(t){const e=dA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Ry(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:Ry(o)}}}function Ry(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function wx(t,e){return Xs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(t,e){return Oc(t,"POST","/v1/accounts:signInWithPassword",Di(t,e))}async function Ax(t,e){return Xs(t,"POST","/v1/accounts:sendOobCode",Di(t,e))}async function Ix(t,e){return Ax(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx(t,e){return Oc(t,"POST","/v1/accounts:signInWithEmailLink",Di(t,e))}async function Sx(t,e){return Oc(t,"POST","/v1/accounts:signInWithEmailLink",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends Wm{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new gc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new gc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ch(e,n,"signInWithPassword",Tx);case"emailLink":return Cx(e,{email:this._email,oobCode:this._password});default:us(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ch(e,s,"signUpPassword",wx);case"emailLink":return Sx(e,{idToken:n,email:this._email,oobCode:this._password});default:us(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(t,e){return Oc(t,"POST","/v1/accounts:signInWithIdp",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="http://localhost";class _o extends Wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):us("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=Fm(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new _o(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return _a(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_a(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_a(e,n)}buildRequest(){const e={requestUri:Rx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ox(t){const e=Pl(Ol(t)).link,n=e?Pl(Ol(e)).deep_link_id:null,s=Pl(Ol(t)).deep_link_id;return(s?Pl(Ol(s)).link:null)||s||n||e||t}class zm{constructor(e){var n,s,i,r,o,l;const c=Pl(Ol(e)),h=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(s=c.oobCode)!==null&&s!==void 0?s:null,m=Px((i=c.mode)!==null&&i!==void 0?i:null);Pe(h&&d&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=d,this.continueUrl=(r=c.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Ox(e);try{return new zm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.providerId=qa.PROVIDER_ID}static credential(e,n){return gc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=zm.parseLink(n);return Pe(s,"argument-error"),gc._fromEmailAndCode(e,s.code,s.tenantId)}}qa.PROVIDER_ID="password";qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends Km{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends Dc{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _o._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return pi.credential(n,s)}catch{return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com";pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends Dc{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Dc{constructor(){super("twitter.com")}static credential(e,n){return _o._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ir.credential(n,s)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(t,e){return Oc(t,"POST","/v1/accounts:signUp",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await ys._fromIdTokenResponse(e,s,i),o=Py(s);return new vo({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Py(s);return new vo({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Py(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends Pi{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new Sh(e,n,s,i)}}function fA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(t,r,e,s):r})}async function Nx(t,e,n=!1){const s=await Oa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vo._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(t,e,n=!1){const{auth:s}=t;if(qn(s.app))return Promise.reject(yi(s));const i="reauthenticate";try{const r=await Oa(t,fA(s,i,e,t),n);Pe(r.idToken,s,"internal-error");const o=Hm(r.idToken);Pe(o,s,"internal-error");const{sub:l}=o;return Pe(t.uid===l,s,"user-mismatch"),vo._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&us(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(t,e,n=!1){if(qn(t.app))return Promise.reject(yi(t));const s="signIn",i=await fA(t,s,e),r=await vo._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function xx(t,e){return pA(Ni(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(t){const e=Ni(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Lx(t,e,n){const s=Ni(t);await Ch(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Ix)}async function Vx(t,e,n){if(qn(t.app))return Promise.reject(yi(t));const s=Ni(t),o=await Ch(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Dx).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&mA(t),c}),l=await vo._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function Mx(t,e,n){return qn(t.app)?Promise.reject(yi(t)):xx(ln(t),qa.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&mA(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(t,e){return Xs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ln(t),r={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Oa(s,$x(s.auth,r));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function Ux(t,e,n,s){return ln(t).onIdTokenChanged(e,n,s)}function jx(t,e,n){return ln(t).beforeAuthStateChanged(e,n)}function Bx(t,e,n,s){return ln(t).onAuthStateChanged(e,n,s)}function Hx(t){return ln(t).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=1e3,Wx=10;class _A extends gA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);sx()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Wx):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_A.type="LOCAL";const zx=_A;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA extends gA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vA.type="SESSION";const yA=vA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new gd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const l=Array.from(o).map(async h=>h(n.origin,r)),c=await Kx(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((l,c)=>{const h=Gm("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(m){const _=m;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(_.data.response);break;default:clearTimeout(d),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(){return window}function Yx(t){zs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(){return typeof zs().WorkerGlobalScope<"u"&&typeof zs().importScripts=="function"}async function Qx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Jx(){return EA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="firebaseLocalStorageDb",Zx=1,Ph="firebaseLocalStorage",wA="fbase_key";class Nc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _d(t,e){return t.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function eL(){const t=indexedDB.deleteDatabase(bA);return new Nc(t).toPromise()}function vp(){const t=indexedDB.open(bA,Zx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Ph,{keyPath:wA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Ph)?e(s):(s.close(),await eL(),e(await vp()))})})}async function Oy(t,e,n){const s=_d(t,!0).put({[wA]:e,value:n});return new Nc(s).toPromise()}async function tL(t,e){const n=_d(t,!1).get(e),s=await new Nc(n).toPromise();return s===void 0?null:s.value}function Dy(t,e){const n=_d(t,!0).delete(e);return new Nc(n).toPromise()}const nL=800,sL=3;class TA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>sL)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gd._getInstance(Jx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Qx(),!this.activeServiceWorker)return;this.sender=new Gx(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vp();return await Oy(e,Rh,"1"),await Dy(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Oy(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>tL(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=_d(i,!1).getAll();return new Nc(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TA.type="LOCAL";const iL=TA;new Pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t,e){return e?gi(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym extends Wm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _a(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _a(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _a(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rL(t){return pA(t.auth,new Ym(t),t.bypassAuthState)}function oL(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),kx(n,new Ym(t),t.bypassAuthState)}async function aL(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Nx(n,new Ym(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rL;case"linkViaPopup":case"linkViaRedirect":return aL;case"reauthViaPopup":case"reauthViaRedirect":return oL;default:us(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=new Pc(2e3,1e4);async function cL(t,e,n){if(qn(t.app))return Promise.reject(bs(t,"operation-not-supported-in-this-environment"));const s=Ni(t);Mk(t,e,Km);const i=AA(s,n);return new ro(s,"signInViaPopup",e,i).executeNotNull()}class ro extends IA{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=Gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lL.get())};e()}}ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="pendingRedirect",Wu=new Map;class hL extends IA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Wu.get(this.auth._key());if(!e){try{const s=await dL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Wu.set(this.auth._key(),e)}return this.bypassAuthState||Wu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dL(t,e){const n=mL(e),s=pL(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function fL(t,e){Wu.set(t._key(),e)}function pL(t){return gi(t._redirectPersistence)}function mL(t){return qu(uL,t.config.apiKey,t.name)}async function gL(t,e,n=!1){if(qn(t.app))return Promise.reject(yi(t));const s=Ni(t),i=AA(s,e),o=await new hL(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=10*60*1e3;class vL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!CA(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(bs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_L&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ny(e))}saveEventToCache(e){this.cachedEventUids.add(Ny(e)),this.lastProcessedEventTime=Date.now()}}function Ny(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(t,e={}){return Xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wL=/^https?/;async function TL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await EL(t);for(const n of e)try{if(AL(n))return}catch{}us(t,"unauthorized-domain")}function AL(t){const e=gp(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!wL.test(n))return!1;if(bL.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=new Pc(3e4,6e4);function ky(){const t=zs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CL(t){return new Promise((e,n)=>{var s,i,r;function o(){ky(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ky(),n(bs(t,"network-request-failed"))},timeout:IL.get()})}if(!((i=(s=zs().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=zs().gapi)===null||r===void 0)&&r.load)o();else{const l=dx("iframefcb");return zs()[l]=()=>{gapi.load?o():n(bs(t,"network-request-failed"))},uA(`${hx()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw zu=null,e})}let zu=null;function SL(t){return zu=zu||CL(t),zu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=new Pc(5e3,15e3),PL="__/auth/iframe",OL="emulator/auth/iframe",DL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kL(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bm(e,OL):`https://${t.config.authDomain}/${PL}`,s={apiKey:e.apiKey,appName:t.name,v:$a},i=NL.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Ac(s).slice(1)}`}async function xL(t){const e=await SL(t),n=zs().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:kL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DL,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=bs(t,"network-request-failed"),l=zs().setTimeout(()=>{r(o)},RL.get());function c(){zs().clearTimeout(l),i(s)}s.ping(c).then(c,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VL=500,ML=600,$L="_blank",FL="http://localhost";class xy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UL(t,e,n,s=VL,i=ML){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c=Object.assign(Object.assign({},LL),{width:s.toString(),height:i.toString(),top:r,left:o}),h=_n().toLowerCase();n&&(l=sA(h)?$L:n),tA(h)&&(e=e||FL,c.scrollbars="yes");const d=Object.entries(c).reduce((_,[y,N])=>`${_}${y}=${N},`,"");if(nx(h)&&l!=="_self")return jL(e||"",l),new xy(null);const m=window.open(e||"",l,d);Pe(m,t,"popup-blocked");try{m.focus()}catch{}return new xy(m)}function jL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="__/auth/handler",HL="emulator/auth/handler",qL=encodeURIComponent("fac");async function Ly(t,e,n,s,i,r){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:$a,eventId:i};if(e instanceof Km){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",hO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))o[d]=m}if(e instanceof Dc){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),h=c?`#${qL}=${encodeURIComponent(c)}`:"";return`${WL(t)}?${Ac(l).slice(1)}${h}`}function WL({config:t}){return t.emulator?Bm(t,HL):`https://${t.authDomain}/${BL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="webStorageSupport";class zL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yA,this._completeRedirectFn=gL,this._overrideRedirectResult=fL}async _openPopup(e,n,s,i){var r;Ci((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Ly(e,n,s,gp(),i);return UL(e,o,Gm())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await Ly(e,n,s,gp(),i);return Yx(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(Ci(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await xL(e),s=new vL(e);return n.register("authEvent",i=>(Pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_f,{type:_f},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[_f];o!==void 0&&n(!!o),us(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lA()||nA()||qm()}}const KL=zL;var Vy="@firebase/auth",My="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QL(t){ba(new po("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;Pe(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cA(t)},h=new lx(s,i,r,c);return vx(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ba(new po("auth-internal",e=>{const n=Ni(e.getProvider("auth").getImmediate());return(s=>new GL(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(Vy,My,YL(t)),hr(Vy,My,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=5*60,JL=rw("authIdTokenMaxAge")||XL;let $y=null;const ZL=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>JL)return;const i=n==null?void 0:n.token;$y!==i&&($y=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function eV(t=hw()){const e=Gp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_x(t,{popupRedirectResolver:KL,persistence:[iL,zx,yA]}),s=rw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=ZL(r.toString());jx(n,o,()=>o(n.currentUser)),Ux(n,l=>o(l))}}const i=sw("auth");return i&&yx(n,`http://${i}`),n}function tV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cx({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=bs("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",tV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QL("Browser");const nV={apiKey:"AIzaSyCwjBfaaOxu0q3af_aPIlvDnpvSE1z3ms0",authDomain:"instant-geek.firebaseapp.com",projectId:"instant-geek",storageBucket:"instant-geek.firebasestorage.app",messagingSenderId:"317020332794",appId:"1:317020332794:web:933ab287d47fafd86cdf43",measurementId:"G-5F717TETW2"},SA=uw(nV),Wa=eV(SA),Cs=_k(SA),Ss=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},sV={class:"container-fluid"},iV={class:"row justify-content-center"},rV={class:"col-12 col-md-10 col-lg-8 p-0 w-100"},oV={class:"slider-wrapper"},aV=["src","alt"],lV=["onClick"],cV=["href"],uV=["src","alt"],hV=["src","alt"],dV=["src","alt"],fV={class:"game-info mt-3"},pV=["href"],mV=["src"],gV={__name:"slider",setup(t){it([]);const e=it([{src:"/assets/img/icon/gtavi.png",alt:"Image 1"},{src:"/assets/img/icon/metaphor.png",alt:"Image 2"},{src:"/assets/img/icon/nightrein.png",alt:"Image 3"},{src:"/assets/img/icon/TLOU2.jpg",alt:"Image 4"},{src:"/assets/img/icon/Clair_Obscur.jpg",alt:"Image 5"}]),n=it([{src:"https://www.instant-gaming.com/fr/2462-acheter-grand-theft-auto-vi-pc-jeu-rockstar/",alt:"Page GTA VI"},{src:"https://www.instant-gaming.com/fr/14352-acheter-metaphor-refantazio-pc-jeu-steam-europe/",alt:"Page Metaphor"},{src:"https://www.instant-gaming.com/fr/18294-acheter-elden-ring-nightreign-pc-jeu-steam-europe/",alt:"Page Elden Ring Nightrein"},{src:"https://www.instant-gaming.com/fr/6215-acheter-the-last-of-us-part-ii-remastered-pc-jeu-steam-europe/",alt:"Page The Last of Us 2"},{src:"https://www.instant-gaming.com/fr/17015-acheter-clair-obscur-expedition-33-pc-jeu-steam-europe-us-canada/",alt:"Page Clair Obscur"}]),s=[{src:"https://cdn2.steamgriddb.com/hero_thumb/b80be7960918982fceea91afaf4d5e27.jpg",alt:"Image Hero GTA VI"},{src:"https://cdn2.steamgriddb.com/hero_thumb/aaecbb83e18bf24199bc5b2d3a280054.jpg",alt:"Image Hero Metaphor"},{src:"https://cdn2.steamgriddb.com/hero_thumb/8ec28b09ec95f08279e82459f1289c34.jpg",alt:"Image Hero Nightrein"},{src:"https://cdn2.steamgriddb.com/hero_thumb/5b465c13fd8cac3b9baf4af74bc0069a.png",alt:"Image Hero TLOU2"},{src:"https://cdn2.steamgriddb.com/hero_thumb/d2d195657240f493374e95e2b75cc8cf.jpg",alt:"Image Hero Clair Obscur"}],i=it([{name:"Grand Thief Auto VI",description:"lorem ipsum",price:"59.99"},{name:"Metaphor: ReFantazio",description:"lorem ipsum",price:"49.99"},{name:"Elden Ring Nightrein",description:"lorem ipsum",price:"39.99"},{name:"The Last of Us Part II REMASTERED",description:"lorem ipsum",price:"29.99"},{name:"Clair Obscur : Expdition 33",description:"lorem ipsum",price:"19.99"}]),r=it(0),o=it(!1),l=it([!1,!1,!1,!1,!1]);jt(()=>(r.value-1+e.value.length)%e.value.length),jt(()=>(r.value+1)%e.value.length);const c=jt(()=>{const F=e.value.length;return[e.value[(r.value-1+F)%F],e.value[r.value],e.value[(r.value+1)%F]]}),h=jt(()=>{const F=e.value.length;return[e.value[(r.value-2+F)%F],e.value[(r.value+2)%F]]}),d=F=>F===1?{width:"50%"}:{width:"25%"};let m=null;function _(){m&&clearInterval(m),m=setInterval(()=>{y()},6e3)}To(()=>{_()}),Fp(()=>{clearInterval(m)});const y=()=>{o.value=!0,setTimeout(()=>{r.value=(r.value+1)%e.value.length,o.value=!1,_()},500)},N=()=>{o.value=!0,setTimeout(()=>{r.value=(r.value-1+e.value.length)%e.value.length,o.value=!1,_()},500)},k=F=>{F===0&&N(),F===2&&y()},L=F=>{l.value[F]=!l.value[F]};return(F,U)=>(be(),Te("div",sV,[D("div",iV,[D("div",rV,[D("div",{class:"carousel-container mx-auto",style:Jl({"--carousel-bg":`url('${s[r.value].src}')`})},[D("div",oV,[D("div",{class:Cn(["slide","prev"]),onClick:U[0]||(U[0]=B=>k(0))},[D("img",{src:h.value[0].src,alt:h.value[0].alt,class:"img-fluid rounded-4 w-50"},null,8,aV)]),(be(!0),Te(wt,null,wi(c.value,(B,j)=>(be(),Te("div",{key:j,class:Cn(["slide",j===0?"prev":j===1?"active":"next",j===1&&o.value?"fading":""]),style:Jl(d(j)),onClick:ne=>k(j)},[j===1?(be(),Te("a",{key:0,href:n.value[r.value].src,target:"_blank"},[D("img",{src:B.src,alt:B.alt,class:"img-fluid rounded-4",style:{cursor:"pointer"}},null,8,uV)],8,cV)):(be(),Te("img",{key:1,src:B.src,alt:B.alt,class:"img-fluid rounded-4"},null,8,hV))],14,lV))),128)),D("div",{class:Cn(["slide","next"]),onClick:U[1]||(U[1]=B=>k(2))},[D("img",{src:h.value[1].src,alt:h.value[1].alt,class:"img-fluid rounded-4 w-50"},null,8,dV)])]),D("div",{class:"controls d-flex justify-content-between mt-3"},[D("button",{class:"btn",onClick:N},U[3]||(U[3]=[D("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1)])),D("button",{class:"btn",onClick:y},U[4]||(U[4]=[D("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1)]))]),D("div",fV,[D("h2",null,_t(i.value[r.value].name),1),D("p",null,_t(i.value[r.value].description),1),D("p",null,_t(i.value[r.value].price),1),U[5]||(U[5]=D("a",{class:"btn btn-page me-2"},"Acheter",-1)),D("a",{href:n.value[r.value].src,target:"_blank",class:"btn btn-page me-2"},"Page du jeu",8,pV),D("a",{class:"btn btn-danger",onClick:U[2]||(U[2]=B=>L(r.value))},[D("img",{src:l.value[r.value]?"/assets/img/favorite_black.png":"/assets/img/favorite_empty.png",alt:"Icne",style:{width:"24px",height:"24px"}},null,8,mV)])])],4)])])]))}},_V=Ss(gV,[["__scopeId","data-v-8ff7a5d0"]]),vV={class:"container-fluid py-2 preco"},yV={class:"media-scroller snaps-inline",id:"precoIn"},EV={class:"game-card"},bV=["href"],wV=["src","alt"],TV={class:"game-text"},AV={class:"titre"},IV={class:"prix"},CV={__name:"Preco",setup(t){const e=it([]),n=async()=>{const s=wm(Cs,"games"),i=new Date;i.setHours(0,0,0,0);const r=Om(s,Dm("dateSortie",">=",i),HT("dateSortie"),Rk(8));try{const o=await Mm(r);e.value=[],o.forEach(l=>{const c=l.data();e.value.push({id:l.id,titre:c.name,link:c.link,image:c.image,price:`${c.price}`})})}catch(o){console.error("Erreur lors de la rcupration des jeux :",o)}};return To(()=>{n()}),(s,i)=>(be(),Te("div",vV,[i[1]||(i[1]=D("h2",{class:"font-weight-light"},"Prcommandes",-1)),D("div",null,[D("ul",yV,[(be(!0),Te(wt,null,wi(e.value,r=>(be(),Te("li",{key:r.id},[D("div",EV,[D("a",{href:r.link},[D("img",{src:`/assets/img/preview/${r.image}`,alt:r.titre},null,8,wV)],8,bV),D("div",TV,[D("h3",AV,_t(r.titre),1),D("h3",IV,_t(r.price),1)]),i[0]||(i[0]=D("h2",null,null,-1))])]))),128))])])]))}},SV=Ss(CV,[["__scopeId","data-v-dea1d3e2"]]);var Ku={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var RV=Ku.exports,Fy;function PV(){return Fy||(Fy=1,function(t,e){(function(n,s){t.exports=s()})(RV,function(){const n=new Map,s={set(v,u,p){n.has(v)||n.set(v,new Map);const E=n.get(v);E.has(u)||E.size===0?E.set(u,p):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(E.keys())[0]}.`)},get:(v,u)=>n.has(v)&&n.get(v).get(u)||null,remove(v,u){if(!n.has(v))return;const p=n.get(v);p.delete(u),p.size===0&&n.delete(v)}},i="transitionend",r=v=>(v&&window.CSS&&window.CSS.escape&&(v=v.replace(/#([^\s"#']+)/g,(u,p)=>`#${CSS.escape(p)}`)),v),o=v=>{v.dispatchEvent(new Event(i))},l=v=>!(!v||typeof v!="object")&&(v.jquery!==void 0&&(v=v[0]),v.nodeType!==void 0),c=v=>l(v)?v.jquery?v[0]:v:typeof v=="string"&&v.length>0?document.querySelector(r(v)):null,h=v=>{if(!l(v)||v.getClientRects().length===0)return!1;const u=getComputedStyle(v).getPropertyValue("visibility")==="visible",p=v.closest("details:not([open])");if(!p)return u;if(p!==v){const E=v.closest("summary");if(E&&E.parentNode!==p||E===null)return!1}return u},d=v=>!v||v.nodeType!==Node.ELEMENT_NODE||!!v.classList.contains("disabled")||(v.disabled!==void 0?v.disabled:v.hasAttribute("disabled")&&v.getAttribute("disabled")!=="false"),m=v=>{if(!document.documentElement.attachShadow)return null;if(typeof v.getRootNode=="function"){const u=v.getRootNode();return u instanceof ShadowRoot?u:null}return v instanceof ShadowRoot?v:v.parentNode?m(v.parentNode):null},_=()=>{},y=v=>{v.offsetHeight},N=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,k=[],L=()=>document.documentElement.dir==="rtl",F=v=>{var u;u=()=>{const p=N();if(p){const E=v.NAME,x=p.fn[E];p.fn[E]=v.jQueryInterface,p.fn[E].Constructor=v,p.fn[E].noConflict=()=>(p.fn[E]=x,v.jQueryInterface)}},document.readyState==="loading"?(k.length||document.addEventListener("DOMContentLoaded",()=>{for(const p of k)p()}),k.push(u)):u()},U=(v,u=[],p=v)=>typeof v=="function"?v.call(...u):p,B=(v,u,p=!0)=>{if(!p)return void U(v);const E=(q=>{if(!q)return 0;let{transitionDuration:Z,transitionDelay:le}=window.getComputedStyle(q);const me=Number.parseFloat(Z),_e=Number.parseFloat(le);return me||_e?(Z=Z.split(",")[0],le=le.split(",")[0],1e3*(Number.parseFloat(Z)+Number.parseFloat(le))):0})(u)+5;let x=!1;const V=({target:q})=>{q===u&&(x=!0,u.removeEventListener(i,V),U(v))};u.addEventListener(i,V),setTimeout(()=>{x||o(u)},E)},j=(v,u,p,E)=>{const x=v.length;let V=v.indexOf(u);return V===-1?!p&&E?v[x-1]:v[0]:(V+=p?1:-1,E&&(V=(V+x)%x),v[Math.max(0,Math.min(V,x-1))])},ne=/[^.]*(?=\..*)\.|.*/,ie=/\..*/,O=/::\d+$/,T={};let w=1;const C={mouseenter:"mouseover",mouseleave:"mouseout"},A=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function S(v,u){return u&&`${u}::${w++}`||v.uidEvent||w++}function I(v){const u=S(v);return v.uidEvent=u,T[u]=T[u]||{},T[u]}function Ue(v,u,p=null){return Object.values(v).find(E=>E.callable===u&&E.delegationSelector===p)}function et(v,u,p){const E=typeof u=="string",x=E?p:u||p;let V=Ct(v);return A.has(V)||(V=v),[E,x,V]}function Ne(v,u,p,E,x){if(typeof u!="string"||!v)return;let[V,q,Z]=et(u,p,E);u in C&&(q=(Le=>function(ke){if(!ke.relatedTarget||ke.relatedTarget!==ke.delegateTarget&&!ke.delegateTarget.contains(ke.relatedTarget))return Le.call(this,ke)})(q));const le=I(v),me=le[Z]||(le[Z]={}),_e=Ue(me,q,V?p:null);if(_e)return void(_e.oneOff=_e.oneOff&&x);const he=S(q,u.replace(ne,"")),je=V?function(Re,Le,ke){return function Ve(dt){const Et=Re.querySelectorAll(Le);for(let{target:ze}=dt;ze&&ze!==this;ze=ze.parentNode)for(const rt of Et)if(rt===ze)return Ft(dt,{delegateTarget:ze}),Ve.oneOff&&Y.off(Re,dt.type,Le,ke),ke.apply(ze,[dt])}}(v,p,q):function(Re,Le){return function ke(Ve){return Ft(Ve,{delegateTarget:Re}),ke.oneOff&&Y.off(Re,Ve.type,Le),Le.apply(Re,[Ve])}}(v,q);je.delegationSelector=V?p:null,je.callable=q,je.oneOff=x,je.uidEvent=he,me[he]=je,v.addEventListener(Z,je,V)}function ve(v,u,p,E,x){const V=Ue(u[p],E,x);V&&(v.removeEventListener(p,V,!!x),delete u[p][V.uidEvent])}function Fe(v,u,p,E){const x=u[p]||{};for(const[V,q]of Object.entries(x))V.includes(E)&&ve(v,u,p,q.callable,q.delegationSelector)}function Ct(v){return v=v.replace(ie,""),C[v]||v}const Y={on(v,u,p,E){Ne(v,u,p,E,!1)},one(v,u,p,E){Ne(v,u,p,E,!0)},off(v,u,p,E){if(typeof u!="string"||!v)return;const[x,V,q]=et(u,p,E),Z=q!==u,le=I(v),me=le[q]||{},_e=u.startsWith(".");if(V===void 0){if(_e)for(const he of Object.keys(le))Fe(v,le,he,u.slice(1));for(const[he,je]of Object.entries(me)){const Re=he.replace(O,"");Z&&!u.includes(Re)||ve(v,le,q,je.callable,je.delegationSelector)}}else{if(!Object.keys(me).length)return;ve(v,le,q,V,x?p:null)}},trigger(v,u,p){if(typeof u!="string"||!v)return null;const E=N();let x=null,V=!0,q=!0,Z=!1;u!==Ct(u)&&E&&(x=E.Event(u,p),E(v).trigger(x),V=!x.isPropagationStopped(),q=!x.isImmediatePropagationStopped(),Z=x.isDefaultPrevented());const le=Ft(new Event(u,{bubbles:V,cancelable:!0}),p);return Z&&le.preventDefault(),q&&v.dispatchEvent(le),le.defaultPrevented&&x&&x.preventDefault(),le}};function Ft(v,u={}){for(const[p,E]of Object.entries(u))try{v[p]=E}catch{Object.defineProperty(v,p,{configurable:!0,get:()=>E})}return v}function tt(v){if(v==="true")return!0;if(v==="false")return!1;if(v===Number(v).toString())return Number(v);if(v===""||v==="null")return null;if(typeof v!="string")return v;try{return JSON.parse(decodeURIComponent(v))}catch{return v}}function nt(v){return v.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const Tt={setDataAttribute(v,u,p){v.setAttribute(`data-bs-${nt(u)}`,p)},removeDataAttribute(v,u){v.removeAttribute(`data-bs-${nt(u)}`)},getDataAttributes(v){if(!v)return{};const u={},p=Object.keys(v.dataset).filter(E=>E.startsWith("bs")&&!E.startsWith("bsConfig"));for(const E of p){let x=E.replace(/^bs/,"");x=x.charAt(0).toLowerCase()+x.slice(1),u[x]=tt(v.dataset[E])}return u},getDataAttribute:(v,u)=>tt(v.getAttribute(`data-bs-${nt(u)}`))};class At{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,p){const E=l(p)?Tt.getDataAttribute(p,"config"):{};return{...this.constructor.Default,...typeof E=="object"?E:{},...l(p)?Tt.getDataAttributes(p):{},...typeof u=="object"?u:{}}}_typeCheckConfig(u,p=this.constructor.DefaultType){for(const[x,V]of Object.entries(p)){const q=u[x],Z=l(q)?"element":(E=q)==null?`${E}`:Object.prototype.toString.call(E).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(V).test(Z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${x}" provided type "${Z}" but expected type "${V}".`)}var E}}class st extends At{constructor(u,p){super(),(u=c(u))&&(this._element=u,this._config=this._getConfig(p),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),Y.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,p,E=!0){B(u,p,E)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return s.get(c(u),this.DATA_KEY)}static getOrCreateInstance(u,p={}){return this.getInstance(u)||new this(u,typeof p=="object"?p:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const z=v=>{let u=v.getAttribute("data-bs-target");if(!u||u==="#"){let p=v.getAttribute("href");if(!p||!p.includes("#")&&!p.startsWith("."))return null;p.includes("#")&&!p.startsWith("#")&&(p=`#${p.split("#")[1]}`),u=p&&p!=="#"?p.trim():null}return u?u.split(",").map(p=>r(p)).join(","):null},W={find:(v,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,v)),findOne:(v,u=document.documentElement)=>Element.prototype.querySelector.call(u,v),children:(v,u)=>[].concat(...v.children).filter(p=>p.matches(u)),parents(v,u){const p=[];let E=v.parentNode.closest(u);for(;E;)p.push(E),E=E.parentNode.closest(u);return p},prev(v,u){let p=v.previousElementSibling;for(;p;){if(p.matches(u))return[p];p=p.previousElementSibling}return[]},next(v,u){let p=v.nextElementSibling;for(;p;){if(p.matches(u))return[p];p=p.nextElementSibling}return[]},focusableChildren(v){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(p=>`${p}:not([tabindex^="-"])`).join(",");return this.find(u,v).filter(p=>!d(p)&&h(p))},getSelectorFromElement(v){const u=z(v);return u&&W.findOne(u)?u:null},getElementFromSelector(v){const u=z(v);return u?W.findOne(u):null},getMultipleElementsFromSelector(v){const u=z(v);return u?W.find(u):[]}},oe=(v,u="hide")=>{const p=`click.dismiss${v.EVENT_KEY}`,E=v.NAME;Y.on(document,p,`[data-bs-dismiss="${E}"]`,function(x){if(["A","AREA"].includes(this.tagName)&&x.preventDefault(),d(this))return;const V=W.getElementFromSelector(this)||this.closest(`.${E}`);v.getOrCreateInstance(V)[u]()})},fe=".bs.alert",We=`close${fe}`,R=`closed${fe}`;class P extends st{static get NAME(){return"alert"}close(){if(Y.trigger(this._element,We).defaultPrevented)return;this._element.classList.remove("show");const u=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,u)}_destroyElement(){this._element.remove(),Y.trigger(this._element,R),this.dispose()}static jQueryInterface(u){return this.each(function(){const p=P.getOrCreateInstance(this);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u](this)}})}}oe(P,"close"),F(P);const M='[data-bs-toggle="button"]';class K extends st{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const p=K.getOrCreateInstance(this);u==="toggle"&&p[u]()})}}Y.on(document,"click.bs.button.data-api",M,v=>{v.preventDefault();const u=v.target.closest(M);K.getOrCreateInstance(u).toggle()}),F(K);const G=".bs.swipe",Q=`touchstart${G}`,ce=`touchmove${G}`,re=`touchend${G}`,se=`pointerdown${G}`,ee=`pointerup${G}`,we={endCallback:null,leftCallback:null,rightCallback:null},ue={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ge extends At{constructor(u,p){super(),this._element=u,u&&ge.isSupported()&&(this._config=this._getConfig(p),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return we}static get DefaultType(){return ue}static get NAME(){return"swipe"}dispose(){Y.off(this._element,G)}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),U(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const p=u/this._deltaX;this._deltaX=0,p&&U(p>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Y.on(this._element,se,u=>this._start(u)),Y.on(this._element,ee,u=>this._end(u)),this._element.classList.add("pointer-event")):(Y.on(this._element,Q,u=>this._start(u)),Y.on(this._element,ce,u=>this._move(u)),Y.on(this._element,re,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&(u.pointerType==="pen"||u.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ye=".bs.carousel",Ee=".data-api",De="ArrowLeft",He="ArrowRight",Ot="next",St="prev",Ht="left",kt="right",Ps=`slide${ye}`,Js=`slid${ye}`,qt=`keydown${ye}`,kn=`mouseenter${ye}`,Oo=`mouseleave${ye}`,Qa=`dragstart${ye}`,Fc=`load${ye}${Ee}`,Uc=`click${ye}${Ee}`,xi="carousel",Li="active",Do=".active",Os=".carousel-item",jc=Do+Os,No={[De]:kt,[He]:Ht},Bc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Or={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Zs extends st{constructor(u,p){super(u,p),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=W.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===xi&&this.cycle()}static get Default(){return Bc}static get DefaultType(){return Or}static get NAME(){return"carousel"}next(){this._slide(Ot)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._slide(St)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Y.one(this._element,Js,()=>this.cycle()):this.cycle())}to(u){const p=this._getItems();if(u>p.length-1||u<0)return;if(this._isSliding)return void Y.one(this._element,Js,()=>this.to(u));const E=this._getItemIndex(this._getActive());if(E===u)return;const x=u>E?Ot:St;this._slide(x,p[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&Y.on(this._element,qt,u=>this._keydown(u)),this._config.pause==="hover"&&(Y.on(this._element,kn,()=>this.pause()),Y.on(this._element,Oo,()=>this._maybeEnableCycle())),this._config.touch&&ge.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of W.find(".carousel-item img",this._element))Y.on(p,Qa,E=>E.preventDefault());const u={leftCallback:()=>this._slide(this._directionToOrder(Ht)),rightCallback:()=>this._slide(this._directionToOrder(kt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ge(this._element,u)}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const p=No[u.key];p&&(u.preventDefault(),this._slide(this._directionToOrder(p)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const p=W.findOne(Do,this._indicatorsElement);p.classList.remove(Li),p.removeAttribute("aria-current");const E=W.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);E&&(E.classList.add(Li),E.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const p=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=p||this._config.defaultInterval}_slide(u,p=null){if(this._isSliding)return;const E=this._getActive(),x=u===Ot,V=p||j(this._getItems(),E,x,this._config.wrap);if(V===E)return;const q=this._getItemIndex(V),Z=he=>Y.trigger(this._element,he,{relatedTarget:V,direction:this._orderToDirection(u),from:this._getItemIndex(E),to:q});if(Z(Ps).defaultPrevented||!E||!V)return;const le=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(q),this._activeElement=V;const me=x?"carousel-item-start":"carousel-item-end",_e=x?"carousel-item-next":"carousel-item-prev";V.classList.add(_e),y(V),E.classList.add(me),V.classList.add(me),this._queueCallback(()=>{V.classList.remove(me,_e),V.classList.add(Li),E.classList.remove(Li,_e,me),this._isSliding=!1,Z(Js)},E,this._isAnimated()),le&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return W.findOne(jc,this._element)}_getItems(){return W.find(Os,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return L()?u===Ht?St:Ot:u===Ht?Ot:St}_orderToDirection(u){return L()?u===St?Ht:kt:u===St?kt:Ht}static jQueryInterface(u){return this.each(function(){const p=Zs.getOrCreateInstance(this,u);if(typeof u!="number"){if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u]()}}else p.to(u)})}}Y.on(document,Uc,"[data-bs-slide], [data-bs-slide-to]",function(v){const u=W.getElementFromSelector(this);if(!u||!u.classList.contains(xi))return;v.preventDefault();const p=Zs.getOrCreateInstance(u),E=this.getAttribute("data-bs-slide-to");return E?(p.to(E),void p._maybeEnableCycle()):Tt.getDataAttribute(this,"slide")==="next"?(p.next(),void p._maybeEnableCycle()):(p.prev(),void p._maybeEnableCycle())}),Y.on(window,Fc,()=>{const v=W.find('[data-bs-ride="carousel"]');for(const u of v)Zs.getOrCreateInstance(u)}),F(Zs);const xt=".bs.collapse",Hc=`show${xt}`,Dr=`shown${xt}`,Nr=`hide${xt}`,Sd=`hidden${xt}`,Rd=`click${xt}.data-api`,Ds="show",Vi="collapse",ko="collapsing",xo=`:scope .${Vi} .${Vi}`,Lo='[data-bs-toggle="collapse"]',Xa={parent:null,toggle:!0},Vo={parent:"(null|element)",toggle:"boolean"};class vn extends st{constructor(u,p){super(u,p),this._isTransitioning=!1,this._triggerArray=[];const E=W.find(Lo);for(const x of E){const V=W.getSelectorFromElement(x),q=W.find(V).filter(Z=>Z===this._element);V!==null&&q.length&&this._triggerArray.push(x)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Xa}static get DefaultType(){return Vo}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(x=>x!==this._element).map(x=>vn.getOrCreateInstance(x,{toggle:!1}))),u.length&&u[0]._isTransitioning||Y.trigger(this._element,Hc).defaultPrevented)return;for(const x of u)x.hide();const p=this._getDimension();this._element.classList.remove(Vi),this._element.classList.add(ko),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const E=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ko),this._element.classList.add(Vi,Ds),this._element.style[p]="",Y.trigger(this._element,Dr)},this._element,!0),this._element.style[p]=`${this._element[E]}px`}hide(){if(this._isTransitioning||!this._isShown()||Y.trigger(this._element,Nr).defaultPrevented)return;const u=this._getDimension();this._element.style[u]=`${this._element.getBoundingClientRect()[u]}px`,y(this._element),this._element.classList.add(ko),this._element.classList.remove(Vi,Ds);for(const p of this._triggerArray){const E=W.getElementFromSelector(p);E&&!this._isShown(E)&&this._addAriaAndCollapsedClass([p],!1)}this._isTransitioning=!0,this._element.style[u]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ko),this._element.classList.add(Vi),Y.trigger(this._element,Sd)},this._element,!0)}_isShown(u=this._element){return u.classList.contains(Ds)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=c(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(Lo);for(const p of u){const E=W.getElementFromSelector(p);E&&this._addAriaAndCollapsedClass([p],this._isShown(E))}}_getFirstLevelChildren(u){const p=W.find(xo,this._config.parent);return W.find(u,this._config.parent).filter(E=>!p.includes(E))}_addAriaAndCollapsedClass(u,p){if(u.length)for(const E of u)E.classList.toggle("collapsed",!p),E.setAttribute("aria-expanded",p)}static jQueryInterface(u){const p={};return typeof u=="string"&&/show|hide/.test(u)&&(p.toggle=!1),this.each(function(){const E=vn.getOrCreateInstance(this,p);if(typeof u=="string"){if(E[u]===void 0)throw new TypeError(`No method named "${u}"`);E[u]()}})}}Y.on(document,Rd,Lo,function(v){(v.target.tagName==="A"||v.delegateTarget&&v.delegateTarget.tagName==="A")&&v.preventDefault();for(const u of W.getMultipleElementsFromSelector(this))vn.getOrCreateInstance(u,{toggle:!1}).toggle()}),F(vn);var Yt="top",un="bottom",rn="right",Wt="left",kr="auto",ei=[Yt,un,rn,Wt],ti="start",ps="end",Ja="clippingParents",xr="viewport",Yn="popper",Ns="reference",Lr=ei.reduce(function(v,u){return v.concat([u+"-"+ti,u+"-"+ps])},[]),Za=[].concat(ei,[kr]).reduce(function(v,u){return v.concat([u,u+"-"+ti,u+"-"+ps])},[]),el="beforeRead",tl="read",nl="afterRead",Mo="beforeMain",$o="main",sl="afterMain",il="beforeWrite",qc="write",Wc="afterWrite",rl=[el,tl,nl,Mo,$o,sl,il,qc,Wc];function Fn(v){return v?(v.nodeName||"").toLowerCase():null}function yn(v){if(v==null)return window;if(v.toString()!=="[object Window]"){var u=v.ownerDocument;return u&&u.defaultView||window}return v}function En(v){return v instanceof yn(v).Element||v instanceof Element}function Dt(v){return v instanceof yn(v).HTMLElement||v instanceof HTMLElement}function Mi(v){return typeof ShadowRoot<"u"&&(v instanceof yn(v).ShadowRoot||v instanceof ShadowRoot)}const $i={name:"applyStyles",enabled:!0,phase:"write",fn:function(v){var u=v.state;Object.keys(u.elements).forEach(function(p){var E=u.styles[p]||{},x=u.attributes[p]||{},V=u.elements[p];Dt(V)&&Fn(V)&&(Object.assign(V.style,E),Object.keys(x).forEach(function(q){var Z=x[q];Z===!1?V.removeAttribute(q):V.setAttribute(q,Z===!0?"":Z)}))})},effect:function(v){var u=v.state,p={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,p.popper),u.styles=p,u.elements.arrow&&Object.assign(u.elements.arrow.style,p.arrow),function(){Object.keys(u.elements).forEach(function(E){var x=u.elements[E],V=u.attributes[E]||{},q=Object.keys(u.styles.hasOwnProperty(E)?u.styles[E]:p[E]).reduce(function(Z,le){return Z[le]="",Z},{});Dt(x)&&Fn(x)&&(Object.assign(x.style,q),Object.keys(V).forEach(function(Z){x.removeAttribute(Z)}))})}},requires:["computeStyles"]};function Un(v){return v.split("-")[0]}var Je=Math.max,ni=Math.min,Qn=Math.round;function si(){var v=navigator.userAgentData;return v!=null&&v.brands&&Array.isArray(v.brands)?v.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function zc(){return!/^((?!chrome|android).)*safari/i.test(si())}function ii(v,u,p){u===void 0&&(u=!1),p===void 0&&(p=!1);var E=v.getBoundingClientRect(),x=1,V=1;u&&Dt(v)&&(x=v.offsetWidth>0&&Qn(E.width)/v.offsetWidth||1,V=v.offsetHeight>0&&Qn(E.height)/v.offsetHeight||1);var q=(En(v)?yn(v):window).visualViewport,Z=!zc()&&p,le=(E.left+(Z&&q?q.offsetLeft:0))/x,me=(E.top+(Z&&q?q.offsetTop:0))/V,_e=E.width/x,he=E.height/V;return{width:_e,height:he,top:me,right:le+_e,bottom:me+he,left:le,x:le,y:me}}function ol(v){var u=ii(v),p=v.offsetWidth,E=v.offsetHeight;return Math.abs(u.width-p)<=1&&(p=u.width),Math.abs(u.height-E)<=1&&(E=u.height),{x:v.offsetLeft,y:v.offsetTop,width:p,height:E}}function Kc(v,u){var p=u.getRootNode&&u.getRootNode();if(v.contains(u))return!0;if(p&&Mi(p)){var E=u;do{if(E&&v.isSameNode(E))return!0;E=E.parentNode||E.host}while(E)}return!1}function ms(v){return yn(v).getComputedStyle(v)}function Pd(v){return["table","td","th"].indexOf(Fn(v))>=0}function xn(v){return((En(v)?v.ownerDocument:v.document)||window.document).documentElement}function jn(v){return Fn(v)==="html"?v:v.assignedSlot||v.parentNode||(Mi(v)?v.host:null)||xn(v)}function al(v){return Dt(v)&&ms(v).position!=="fixed"?v.offsetParent:null}function Fi(v){for(var u=yn(v),p=al(v);p&&Pd(p)&&ms(p).position==="static";)p=al(p);return p&&(Fn(p)==="html"||Fn(p)==="body"&&ms(p).position==="static")?u:p||function(E){var x=/firefox/i.test(si());if(/Trident/i.test(si())&&Dt(E)&&ms(E).position==="fixed")return null;var V=jn(E);for(Mi(V)&&(V=V.host);Dt(V)&&["html","body"].indexOf(Fn(V))<0;){var q=ms(V);if(q.transform!=="none"||q.perspective!=="none"||q.contain==="paint"||["transform","perspective"].indexOf(q.willChange)!==-1||x&&q.willChange==="filter"||x&&q.filter&&q.filter!=="none")return V;V=V.parentNode}return null}(v)||u}function Fo(v){return["top","bottom"].indexOf(v)>=0?"x":"y"}function Xn(v,u,p){return Je(v,ni(u,p))}function Gc(v){return Object.assign({},{top:0,right:0,bottom:0,left:0},v)}function Yc(v,u){return u.reduce(function(p,E){return p[E]=v,p},{})}const Qc={name:"arrow",enabled:!0,phase:"main",fn:function(v){var u,p=v.state,E=v.name,x=v.options,V=p.elements.arrow,q=p.modifiersData.popperOffsets,Z=Un(p.placement),le=Fo(Z),me=[Wt,rn].indexOf(Z)>=0?"height":"width";if(V&&q){var _e=function(ft,ht){return Gc(typeof(ft=typeof ft=="function"?ft(Object.assign({},ht.rects,{placement:ht.placement})):ft)!="number"?ft:Yc(ft,ei))}(x.padding,p),he=ol(V),je=le==="y"?Yt:Wt,Re=le==="y"?un:rn,Le=p.rects.reference[me]+p.rects.reference[le]-q[le]-p.rects.popper[me],ke=q[le]-p.rects.reference[le],Ve=Fi(V),dt=Ve?le==="y"?Ve.clientHeight||0:Ve.clientWidth||0:0,Et=Le/2-ke/2,ze=_e[je],rt=dt-he[me]-_e[Re],Be=dt/2-he[me]/2+Et,Ye=Xn(ze,Be,rt),ut=le;p.modifiersData[E]=((u={})[ut]=Ye,u.centerOffset=Ye-Be,u)}},effect:function(v){var u=v.state,p=v.options.element,E=p===void 0?"[data-popper-arrow]":p;E!=null&&(typeof E!="string"||(E=u.elements.popper.querySelector(E)))&&Kc(u.elements.popper,E)&&(u.elements.arrow=E)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bn(v){return v.split("-")[1]}var Od={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xc(v){var u,p=v.popper,E=v.popperRect,x=v.placement,V=v.variation,q=v.offsets,Z=v.position,le=v.gpuAcceleration,me=v.adaptive,_e=v.roundOffsets,he=v.isFixed,je=q.x,Re=je===void 0?0:je,Le=q.y,ke=Le===void 0?0:Le,Ve=typeof _e=="function"?_e({x:Re,y:ke}):{x:Re,y:ke};Re=Ve.x,ke=Ve.y;var dt=q.hasOwnProperty("x"),Et=q.hasOwnProperty("y"),ze=Wt,rt=Yt,Be=window;if(me){var Ye=Fi(p),ut="clientHeight",ft="clientWidth";Ye===yn(p)&&ms(Ye=xn(p)).position!=="static"&&Z==="absolute"&&(ut="scrollHeight",ft="scrollWidth"),(x===Yt||(x===Wt||x===rn)&&V===ps)&&(rt=un,ke-=(he&&Ye===Be&&Be.visualViewport?Be.visualViewport.height:Ye[ut])-E.height,ke*=le?1:-1),x!==Wt&&(x!==Yt&&x!==un||V!==ps)||(ze=rn,Re-=(he&&Ye===Be&&Be.visualViewport?Be.visualViewport.width:Ye[ft])-E.width,Re*=le?1:-1)}var ht,Lt=Object.assign({position:Z},me&&Od),Bn=_e===!0?function(_s,Tn){var Zn=_s.x,es=_s.y,Nt=Tn.devicePixelRatio||1;return{x:Qn(Zn*Nt)/Nt||0,y:Qn(es*Nt)/Nt||0}}({x:Re,y:ke},yn(p)):{x:Re,y:ke};return Re=Bn.x,ke=Bn.y,le?Object.assign({},Lt,((ht={})[rt]=Et?"0":"",ht[ze]=dt?"0":"",ht.transform=(Be.devicePixelRatio||1)<=1?"translate("+Re+"px, "+ke+"px)":"translate3d("+Re+"px, "+ke+"px, 0)",ht)):Object.assign({},Lt,((u={})[rt]=Et?ke+"px":"",u[ze]=dt?Re+"px":"",u.transform="",u))}const Ui={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(v){var u=v.state,p=v.options,E=p.gpuAcceleration,x=E===void 0||E,V=p.adaptive,q=V===void 0||V,Z=p.roundOffsets,le=Z===void 0||Z,me={placement:Un(u.placement),variation:bn(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:x,isFixed:u.options.strategy==="fixed"};u.modifiersData.popperOffsets!=null&&(u.styles.popper=Object.assign({},u.styles.popper,Xc(Object.assign({},me,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:q,roundOffsets:le})))),u.modifiersData.arrow!=null&&(u.styles.arrow=Object.assign({},u.styles.arrow,Xc(Object.assign({},me,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:le})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}};var ri={passive:!0};const Uo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(v){var u=v.state,p=v.instance,E=v.options,x=E.scroll,V=x===void 0||x,q=E.resize,Z=q===void 0||q,le=yn(u.elements.popper),me=[].concat(u.scrollParents.reference,u.scrollParents.popper);return V&&me.forEach(function(_e){_e.addEventListener("scroll",p.update,ri)}),Z&&le.addEventListener("resize",p.update,ri),function(){V&&me.forEach(function(_e){_e.removeEventListener("scroll",p.update,ri)}),Z&&le.removeEventListener("resize",p.update,ri)}},data:{}};var Vr={left:"right",right:"left",bottom:"top",top:"bottom"};function ks(v){return v.replace(/left|right|bottom|top/g,function(u){return Vr[u]})}var Jc={start:"end",end:"start"};function jo(v){return v.replace(/start|end/g,function(u){return Jc[u]})}function yt(v){var u=yn(v);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function ll(v){return ii(xn(v)).left+yt(v).scrollLeft}function cl(v){var u=ms(v),p=u.overflow,E=u.overflowX,x=u.overflowY;return/auto|scroll|overlay|hidden/.test(p+x+E)}function ul(v){return["html","body","#document"].indexOf(Fn(v))>=0?v.ownerDocument.body:Dt(v)&&cl(v)?v:ul(jn(v))}function ji(v,u){var p;u===void 0&&(u=[]);var E=ul(v),x=E===((p=v.ownerDocument)==null?void 0:p.body),V=yn(E),q=x?[V].concat(V.visualViewport||[],cl(E)?E:[]):E,Z=u.concat(q);return x?Z:Z.concat(ji(jn(q)))}function Bo(v){return Object.assign({},v,{left:v.x,top:v.y,right:v.x+v.width,bottom:v.y+v.height})}function Mr(v,u,p){return u===xr?Bo(function(E,x){var V=yn(E),q=xn(E),Z=V.visualViewport,le=q.clientWidth,me=q.clientHeight,_e=0,he=0;if(Z){le=Z.width,me=Z.height;var je=zc();(je||!je&&x==="fixed")&&(_e=Z.offsetLeft,he=Z.offsetTop)}return{width:le,height:me,x:_e+ll(E),y:he}}(v,p)):En(u)?function(E,x){var V=ii(E,!1,x==="fixed");return V.top=V.top+E.clientTop,V.left=V.left+E.clientLeft,V.bottom=V.top+E.clientHeight,V.right=V.left+E.clientWidth,V.width=E.clientWidth,V.height=E.clientHeight,V.x=V.left,V.y=V.top,V}(u,p):Bo(function(E){var x,V=xn(E),q=yt(E),Z=(x=E.ownerDocument)==null?void 0:x.body,le=Je(V.scrollWidth,V.clientWidth,Z?Z.scrollWidth:0,Z?Z.clientWidth:0),me=Je(V.scrollHeight,V.clientHeight,Z?Z.scrollHeight:0,Z?Z.clientHeight:0),_e=-q.scrollLeft+ll(E),he=-q.scrollTop;return ms(Z||V).direction==="rtl"&&(_e+=Je(V.clientWidth,Z?Z.clientWidth:0)-le),{width:le,height:me,x:_e,y:he}}(xn(v)))}function hl(v){var u,p=v.reference,E=v.element,x=v.placement,V=x?Un(x):null,q=x?bn(x):null,Z=p.x+p.width/2-E.width/2,le=p.y+p.height/2-E.height/2;switch(V){case Yt:u={x:Z,y:p.y-E.height};break;case un:u={x:Z,y:p.y+p.height};break;case rn:u={x:p.x+p.width,y:le};break;case Wt:u={x:p.x-E.width,y:le};break;default:u={x:p.x,y:p.y}}var me=V?Fo(V):null;if(me!=null){var _e=me==="y"?"height":"width";switch(q){case ti:u[me]=u[me]-(p[_e]/2-E[_e]/2);break;case ps:u[me]=u[me]+(p[_e]/2-E[_e]/2)}}return u}function hn(v,u){u===void 0&&(u={});var p=u,E=p.placement,x=E===void 0?v.placement:E,V=p.strategy,q=V===void 0?v.strategy:V,Z=p.boundary,le=Z===void 0?Ja:Z,me=p.rootBoundary,_e=me===void 0?xr:me,he=p.elementContext,je=he===void 0?Yn:he,Re=p.altBoundary,Le=Re!==void 0&&Re,ke=p.padding,Ve=ke===void 0?0:ke,dt=Gc(typeof Ve!="number"?Ve:Yc(Ve,ei)),Et=je===Yn?Ns:Yn,ze=v.rects.popper,rt=v.elements[Le?Et:je],Be=function(Tn,Zn,es,Nt){var Ls=Zn==="clippingParents"?function(pt){var An=ji(jn(pt)),ts=["absolute","fixed"].indexOf(ms(pt).position)>=0&&Dt(pt)?Fi(pt):pt;return En(ts)?An.filter(function(zi){return En(zi)&&Kc(zi,ts)&&Fn(zi)!=="body"}):[]}(Tn):[].concat(Zn),Vs=[].concat(Ls,[es]),Yo=Vs[0],Zt=Vs.reduce(function(pt,An){var ts=Mr(Tn,An,Nt);return pt.top=Je(ts.top,pt.top),pt.right=ni(ts.right,pt.right),pt.bottom=ni(ts.bottom,pt.bottom),pt.left=Je(ts.left,pt.left),pt},Mr(Tn,Yo,Nt));return Zt.width=Zt.right-Zt.left,Zt.height=Zt.bottom-Zt.top,Zt.x=Zt.left,Zt.y=Zt.top,Zt}(En(rt)?rt:rt.contextElement||xn(v.elements.popper),le,_e,q),Ye=ii(v.elements.reference),ut=hl({reference:Ye,element:ze,placement:x}),ft=Bo(Object.assign({},ze,ut)),ht=je===Yn?ft:Ye,Lt={top:Be.top-ht.top+dt.top,bottom:ht.bottom-Be.bottom+dt.bottom,left:Be.left-ht.left+dt.left,right:ht.right-Be.right+dt.right},Bn=v.modifiersData.offset;if(je===Yn&&Bn){var _s=Bn[x];Object.keys(Lt).forEach(function(Tn){var Zn=[rn,un].indexOf(Tn)>=0?1:-1,es=[Yt,un].indexOf(Tn)>=0?"y":"x";Lt[Tn]+=_s[es]*Zn})}return Lt}function Zc(v,u){u===void 0&&(u={});var p=u,E=p.placement,x=p.boundary,V=p.rootBoundary,q=p.padding,Z=p.flipVariations,le=p.allowedAutoPlacements,me=le===void 0?Za:le,_e=bn(E),he=_e?Z?Lr:Lr.filter(function(Le){return bn(Le)===_e}):ei,je=he.filter(function(Le){return me.indexOf(Le)>=0});je.length===0&&(je=he);var Re=je.reduce(function(Le,ke){return Le[ke]=hn(v,{placement:ke,boundary:x,rootBoundary:V,padding:q})[Un(ke)],Le},{});return Object.keys(Re).sort(function(Le,ke){return Re[Le]-Re[ke]})}const eu={name:"flip",enabled:!0,phase:"main",fn:function(v){var u=v.state,p=v.options,E=v.name;if(!u.modifiersData[E]._skip){for(var x=p.mainAxis,V=x===void 0||x,q=p.altAxis,Z=q===void 0||q,le=p.fallbackPlacements,me=p.padding,_e=p.boundary,he=p.rootBoundary,je=p.altBoundary,Re=p.flipVariations,Le=Re===void 0||Re,ke=p.allowedAutoPlacements,Ve=u.options.placement,dt=Un(Ve),Et=le||(dt!==Ve&&Le?function(pt){if(Un(pt)===kr)return[];var An=ks(pt);return[jo(pt),An,jo(An)]}(Ve):[ks(Ve)]),ze=[Ve].concat(Et).reduce(function(pt,An){return pt.concat(Un(An)===kr?Zc(u,{placement:An,boundary:_e,rootBoundary:he,padding:me,flipVariations:Le,allowedAutoPlacements:ke}):An)},[]),rt=u.rects.reference,Be=u.rects.popper,Ye=new Map,ut=!0,ft=ze[0],ht=0;ht<ze.length;ht++){var Lt=ze[ht],Bn=Un(Lt),_s=bn(Lt)===ti,Tn=[Yt,un].indexOf(Bn)>=0,Zn=Tn?"width":"height",es=hn(u,{placement:Lt,boundary:_e,rootBoundary:he,altBoundary:je,padding:me}),Nt=Tn?_s?rn:Wt:_s?un:Yt;rt[Zn]>Be[Zn]&&(Nt=ks(Nt));var Ls=ks(Nt),Vs=[];if(V&&Vs.push(es[Bn]<=0),Z&&Vs.push(es[Nt]<=0,es[Ls]<=0),Vs.every(function(pt){return pt})){ft=Lt,ut=!1;break}Ye.set(Lt,Vs)}if(ut)for(var Yo=function(pt){var An=ze.find(function(ts){var zi=Ye.get(ts);if(zi)return zi.slice(0,pt).every(function(hu){return hu})});if(An)return ft=An,"break"},Zt=Le?3:1;Zt>0&&Yo(Zt)!=="break";Zt--);u.placement!==ft&&(u.modifiersData[E]._skip=!0,u.placement=ft,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Bi(v,u,p){return p===void 0&&(p={x:0,y:0}),{top:v.top-u.height-p.y,right:v.right-u.width+p.x,bottom:v.bottom-u.height+p.y,left:v.left-u.width-p.x}}function dl(v){return[Yt,rn,un,Wt].some(function(u){return v[u]>=0})}const Ho={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(v){var u=v.state,p=v.name,E=u.rects.reference,x=u.rects.popper,V=u.modifiersData.preventOverflow,q=hn(u,{elementContext:"reference"}),Z=hn(u,{altBoundary:!0}),le=Bi(q,E),me=Bi(Z,x,V),_e=dl(le),he=dl(me);u.modifiersData[p]={referenceClippingOffsets:le,popperEscapeOffsets:me,isReferenceHidden:_e,hasPopperEscaped:he},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":_e,"data-popper-escaped":he})}},$r={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(v){var u=v.state,p=v.options,E=v.name,x=p.offset,V=x===void 0?[0,0]:x,q=Za.reduce(function(_e,he){return _e[he]=function(je,Re,Le){var ke=Un(je),Ve=[Wt,Yt].indexOf(ke)>=0?-1:1,dt=typeof Le=="function"?Le(Object.assign({},Re,{placement:je})):Le,Et=dt[0],ze=dt[1];return Et=Et||0,ze=(ze||0)*Ve,[Wt,rn].indexOf(ke)>=0?{x:ze,y:Et}:{x:Et,y:ze}}(he,u.rects,V),_e},{}),Z=q[u.placement],le=Z.x,me=Z.y;u.modifiersData.popperOffsets!=null&&(u.modifiersData.popperOffsets.x+=le,u.modifiersData.popperOffsets.y+=me),u.modifiersData[E]=q}},qo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(v){var u=v.state,p=v.name;u.modifiersData[p]=hl({reference:u.rects.reference,element:u.rects.popper,placement:u.placement})},data:{}},Fr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(v){var u=v.state,p=v.options,E=v.name,x=p.mainAxis,V=x===void 0||x,q=p.altAxis,Z=q!==void 0&&q,le=p.boundary,me=p.rootBoundary,_e=p.altBoundary,he=p.padding,je=p.tether,Re=je===void 0||je,Le=p.tetherOffset,ke=Le===void 0?0:Le,Ve=hn(u,{boundary:le,rootBoundary:me,padding:he,altBoundary:_e}),dt=Un(u.placement),Et=bn(u.placement),ze=!Et,rt=Fo(dt),Be=rt==="x"?"y":"x",Ye=u.modifiersData.popperOffsets,ut=u.rects.reference,ft=u.rects.popper,ht=typeof ke=="function"?ke(Object.assign({},u.rects,{placement:u.placement})):ke,Lt=typeof ht=="number"?{mainAxis:ht,altAxis:ht}:Object.assign({mainAxis:0,altAxis:0},ht),Bn=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,_s={x:0,y:0};if(Ye){if(V){var Tn,Zn=rt==="y"?Yt:Wt,es=rt==="y"?un:rn,Nt=rt==="y"?"height":"width",Ls=Ye[rt],Vs=Ls+Ve[Zn],Yo=Ls-Ve[es],Zt=Re?-ft[Nt]/2:0,pt=Et===ti?ut[Nt]:ft[Nt],An=Et===ti?-ft[Nt]:-ut[Nt],ts=u.elements.arrow,zi=Re&&ts?ol(ts):{width:0,height:0},hu=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Wg=hu[Zn],zg=hu[es],du=Xn(0,ut[Nt],zi[Nt]),jC=ze?ut[Nt]/2-Zt-du-Wg-Lt.mainAxis:pt-du-Wg-Lt.mainAxis,BC=ze?-ut[Nt]/2+Zt+du+zg+Lt.mainAxis:An+du+zg+Lt.mainAxis,Bd=u.elements.arrow&&Fi(u.elements.arrow),HC=Bd?rt==="y"?Bd.clientTop||0:Bd.clientLeft||0:0,Kg=(Tn=Bn==null?void 0:Bn[rt])!=null?Tn:0,qC=Ls+BC-Kg,Gg=Xn(Re?ni(Vs,Ls+jC-Kg-HC):Vs,Ls,Re?Je(Yo,qC):Yo);Ye[rt]=Gg,_s[rt]=Gg-Ls}if(Z){var Yg,WC=rt==="x"?Yt:Wt,zC=rt==="x"?un:rn,Gr=Ye[Be],fu=Be==="y"?"height":"width",Qg=Gr+Ve[WC],Xg=Gr-Ve[zC],Hd=[Yt,Wt].indexOf(dt)!==-1,Jg=(Yg=Bn==null?void 0:Bn[Be])!=null?Yg:0,Zg=Hd?Qg:Gr-ut[fu]-ft[fu]-Jg+Lt.altAxis,e_=Hd?Gr+ut[fu]+ft[fu]-Jg-Lt.altAxis:Xg,t_=Re&&Hd?function(KC,GC,qd){var n_=Xn(KC,GC,qd);return n_>qd?qd:n_}(Zg,Gr,e_):Xn(Re?Zg:Qg,Gr,Re?e_:Xg);Ye[Be]=t_,_s[Be]=t_-Gr}u.modifiersData[E]=_s}},requiresIfExists:["offset"]};function Dd(v,u,p){p===void 0&&(p=!1);var E,x,V=Dt(u),q=Dt(u)&&function(he){var je=he.getBoundingClientRect(),Re=Qn(je.width)/he.offsetWidth||1,Le=Qn(je.height)/he.offsetHeight||1;return Re!==1||Le!==1}(u),Z=xn(u),le=ii(v,q,p),me={scrollLeft:0,scrollTop:0},_e={x:0,y:0};return(V||!V&&!p)&&((Fn(u)!=="body"||cl(Z))&&(me=(E=u)!==yn(E)&&Dt(E)?{scrollLeft:(x=E).scrollLeft,scrollTop:x.scrollTop}:yt(E)),Dt(u)?((_e=ii(u,!0)).x+=u.clientLeft,_e.y+=u.clientTop):Z&&(_e.x=ll(Z))),{x:le.left+me.scrollLeft-_e.x,y:le.top+me.scrollTop-_e.y,width:le.width,height:le.height}}function tu(v){var u=new Map,p=new Set,E=[];function x(V){p.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function(q){if(!p.has(q)){var Z=u.get(q);Z&&x(Z)}}),E.push(V)}return v.forEach(function(V){u.set(V.name,V)}),v.forEach(function(V){p.has(V.name)||x(V)}),E}var Hi={placement:"bottom",modifiers:[],strategy:"absolute"};function fl(){for(var v=arguments.length,u=new Array(v),p=0;p<v;p++)u[p]=arguments[p];return!u.some(function(E){return!(E&&typeof E.getBoundingClientRect=="function")})}function Ur(v){v===void 0&&(v={});var u=v,p=u.defaultModifiers,E=p===void 0?[]:p,x=u.defaultOptions,V=x===void 0?Hi:x;return function(q,Z,le){le===void 0&&(le=V);var me,_e,he={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hi,V),modifiersData:{},elements:{reference:q,popper:Z},attributes:{},styles:{}},je=[],Re=!1,Le={state:he,setOptions:function(Ve){var dt=typeof Ve=="function"?Ve(he.options):Ve;ke(),he.options=Object.assign({},V,he.options,dt),he.scrollParents={reference:En(q)?ji(q):q.contextElement?ji(q.contextElement):[],popper:ji(Z)};var Et,ze,rt=function(Be){var Ye=tu(Be);return rl.reduce(function(ut,ft){return ut.concat(Ye.filter(function(ht){return ht.phase===ft}))},[])}((Et=[].concat(E,he.options.modifiers),ze=Et.reduce(function(Be,Ye){var ut=Be[Ye.name];return Be[Ye.name]=ut?Object.assign({},ut,Ye,{options:Object.assign({},ut.options,Ye.options),data:Object.assign({},ut.data,Ye.data)}):Ye,Be},{}),Object.keys(ze).map(function(Be){return ze[Be]})));return he.orderedModifiers=rt.filter(function(Be){return Be.enabled}),he.orderedModifiers.forEach(function(Be){var Ye=Be.name,ut=Be.options,ft=ut===void 0?{}:ut,ht=Be.effect;if(typeof ht=="function"){var Lt=ht({state:he,name:Ye,instance:Le,options:ft});je.push(Lt||function(){})}}),Le.update()},forceUpdate:function(){if(!Re){var Ve=he.elements,dt=Ve.reference,Et=Ve.popper;if(fl(dt,Et)){he.rects={reference:Dd(dt,Fi(Et),he.options.strategy==="fixed"),popper:ol(Et)},he.reset=!1,he.placement=he.options.placement,he.orderedModifiers.forEach(function(ht){return he.modifiersData[ht.name]=Object.assign({},ht.data)});for(var ze=0;ze<he.orderedModifiers.length;ze++)if(he.reset!==!0){var rt=he.orderedModifiers[ze],Be=rt.fn,Ye=rt.options,ut=Ye===void 0?{}:Ye,ft=rt.name;typeof Be=="function"&&(he=Be({state:he,options:ut,name:ft,instance:Le})||he)}else he.reset=!1,ze=-1}}},update:(me=function(){return new Promise(function(Ve){Le.forceUpdate(),Ve(he)})},function(){return _e||(_e=new Promise(function(Ve){Promise.resolve().then(function(){_e=void 0,Ve(me())})})),_e}),destroy:function(){ke(),Re=!0}};if(!fl(q,Z))return Le;function ke(){je.forEach(function(Ve){return Ve()}),je=[]}return Le.setOptions(le).then(function(Ve){!Re&&le.onFirstUpdate&&le.onFirstUpdate(Ve)}),Le}}var pl=Ur(),ml=Ur({defaultModifiers:[Uo,qo,Ui,$i]}),Wo=Ur({defaultModifiers:[Uo,qo,Ui,$i,$r,eu,Fr,Qc,Ho]});const jr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:sl,afterRead:nl,afterWrite:Wc,applyStyles:$i,arrow:Qc,auto:kr,basePlacements:ei,beforeMain:Mo,beforeRead:el,beforeWrite:il,bottom:un,clippingParents:Ja,computeStyles:Ui,createPopper:Wo,createPopperBase:pl,createPopperLite:ml,detectOverflow:hn,end:ps,eventListeners:Uo,flip:eu,hide:Ho,left:Wt,main:$o,modifierPhases:rl,offset:$r,placements:Za,popper:Yn,popperGenerator:Ur,popperOffsets:qo,preventOverflow:Fr,read:tl,reference:Ns,right:rn,start:ti,top:Yt,variationPlacements:Lr,viewport:xr,write:qc},Symbol.toStringTag,{value:"Module"})),gl="dropdown",xs=".bs.dropdown",gs=".data-api",nu="ArrowUp",_l="ArrowDown",su=`hide${xs}`,iu=`hidden${xs}`,zo=`show${xs}`,wn=`shown${xs}`,vl=`click${xs}${gs}`,yl=`keydown${xs}${gs}`,qi=`keyup${xs}${gs}`,a="show",f='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',g=`${f}.${a}`,b=".dropdown-menu",$=L()?"top-end":"top-start",H=L()?"top-start":"top-end",ae=L()?"bottom-end":"bottom-start",ct=L()?"bottom-start":"bottom-end",zt=L()?"left-start":"right-start",Qe=L()?"right-start":"left-start",Qt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Xt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Jt extends st{constructor(u,p){super(u,p),this._popper=null,this._parent=this._element.parentNode,this._menu=W.next(this._element,b)[0]||W.prev(this._element,b)[0]||W.findOne(b,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Qt}static get DefaultType(){return Xt}static get NAME(){return gl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(d(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!Y.trigger(this._element,zo,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))Y.on(p,"mouseover",_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(a),this._element.classList.add(a),Y.trigger(this._element,wn,u)}}hide(){if(d(this._element)||!this._isShown())return;const u={relatedTarget:this._element};this._completeHide(u)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!Y.trigger(this._element,su,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))Y.off(p,"mouseover",_);this._popper&&this._popper.destroy(),this._menu.classList.remove(a),this._element.classList.remove(a),this._element.setAttribute("aria-expanded","false"),Tt.removeDataAttribute(this._menu,"popper"),Y.trigger(this._element,iu,u),this._element.focus()}}_getConfig(u){if(typeof(u=super._getConfig(u)).reference=="object"&&!l(u.reference)&&typeof u.reference.getBoundingClientRect!="function")throw new TypeError(`${gl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(jr===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let u=this._element;this._config.reference==="parent"?u=this._parent:l(this._config.reference)?u=c(this._config.reference):typeof this._config.reference=="object"&&(u=this._config.reference);const p=this._getPopperConfig();this._popper=Wo(u,this._menu,p)}_isShown(){return this._menu.classList.contains(a)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return zt;if(u.classList.contains("dropstart"))return Qe;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const p=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return u.classList.contains("dropup")?p?H:$:p?ct:ae}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(p=>Number.parseInt(p,10)):typeof u=="function"?p=>u(p,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Tt.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...U(this._config.popperConfig,[void 0,u])}}_selectMenuItem({key:u,target:p}){const E=W.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(x=>h(x));E.length&&j(E,p,u===_l,!E.includes(p)).focus()}static jQueryInterface(u){return this.each(function(){const p=Jt.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u]()}})}static clearMenus(u){if(u.button===2||u.type==="keyup"&&u.key!=="Tab")return;const p=W.find(g);for(const E of p){const x=Jt.getInstance(E);if(!x||x._config.autoClose===!1)continue;const V=u.composedPath(),q=V.includes(x._menu);if(V.includes(x._element)||x._config.autoClose==="inside"&&!q||x._config.autoClose==="outside"&&q||x._menu.contains(u.target)&&(u.type==="keyup"&&u.key==="Tab"||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const Z={relatedTarget:x._element};u.type==="click"&&(Z.clickEvent=u),x._completeHide(Z)}}static dataApiKeydownHandler(u){const p=/input|textarea/i.test(u.target.tagName),E=u.key==="Escape",x=[nu,_l].includes(u.key);if(!x&&!E||p&&!E)return;u.preventDefault();const V=this.matches(f)?this:W.prev(this,f)[0]||W.next(this,f)[0]||W.findOne(f,u.delegateTarget.parentNode),q=Jt.getOrCreateInstance(V);if(x)return u.stopPropagation(),q.show(),void q._selectMenuItem(u);q._isShown()&&(u.stopPropagation(),q.hide(),V.focus())}}Y.on(document,yl,f,Jt.dataApiKeydownHandler),Y.on(document,yl,b,Jt.dataApiKeydownHandler),Y.on(document,vl,Jt.clearMenus),Y.on(document,qi,Jt.clearMenus),Y.on(document,vl,f,function(v){v.preventDefault(),Jt.getOrCreateInstance(this).toggle()}),F(Jt);const Ln="backdrop",Br="show",Ko=`mousedown.bs.${Ln}`,PI={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},OI={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class gg extends At{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return PI}static get DefaultType(){return OI}static get NAME(){return Ln}show(u){if(!this._config.isVisible)return void U(u);this._append();const p=this._getElement();this._config.isAnimated&&y(p),p.classList.add(Br),this._emulateAnimation(()=>{U(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove(Br),this._emulateAnimation(()=>{this.dispose(),U(u)})):U(u)}dispose(){this._isAppended&&(Y.off(this._element,Ko),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=c(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),Y.on(u,Ko,()=>{U(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){B(u,this._getElement(),this._config.isAnimated)}}const ru=".bs.focustrap",DI=`focusin${ru}`,NI=`keydown.tab${ru}`,_g="backward",kI={autofocus:!0,trapElement:null},xI={autofocus:"boolean",trapElement:"element"};class vg extends At{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return kI}static get DefaultType(){return xI}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Y.off(document,ru),Y.on(document,DI,u=>this._handleFocusin(u)),Y.on(document,NI,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Y.off(document,ru))}_handleFocusin(u){const{trapElement:p}=this._config;if(u.target===document||u.target===p||p.contains(u.target))return;const E=W.focusableChildren(p);E.length===0?p.focus():this._lastTabNavDirection===_g?E[E.length-1].focus():E[0].focus()}_handleKeydown(u){u.key==="Tab"&&(this._lastTabNavDirection=u.shiftKey?_g:"forward")}}const yg=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Eg=".sticky-top",ou="padding-right",bg="margin-right";class Nd{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ou,p=>p+u),this._setElementAttributes(yg,ou,p=>p+u),this._setElementAttributes(Eg,bg,p=>p-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ou),this._resetElementAttributes(yg,ou),this._resetElementAttributes(Eg,bg)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,p,E){const x=this.getWidth();this._applyManipulationCallback(u,V=>{if(V!==this._element&&window.innerWidth>V.clientWidth+x)return;this._saveInitialAttribute(V,p);const q=window.getComputedStyle(V).getPropertyValue(p);V.style.setProperty(p,`${E(Number.parseFloat(q))}px`)})}_saveInitialAttribute(u,p){const E=u.style.getPropertyValue(p);E&&Tt.setDataAttribute(u,p,E)}_resetElementAttributes(u,p){this._applyManipulationCallback(u,E=>{const x=Tt.getDataAttribute(E,p);x!==null?(Tt.removeDataAttribute(E,p),E.style.setProperty(p,x)):E.style.removeProperty(p)})}_applyManipulationCallback(u,p){if(l(u))p(u);else for(const E of W.find(u,this._element))p(E)}}const Jn=".bs.modal",LI=`hide${Jn}`,VI=`hidePrevented${Jn}`,wg=`hidden${Jn}`,Tg=`show${Jn}`,MI=`shown${Jn}`,$I=`resize${Jn}`,FI=`click.dismiss${Jn}`,UI=`mousedown.dismiss${Jn}`,jI=`keydown.dismiss${Jn}`,BI=`click${Jn}.data-api`,Ag="modal-open",Ig="show",kd="modal-static",HI={backdrop:!0,focus:!0,keyboard:!0},qI={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Hr extends st{constructor(u,p){super(u,p),this._dialog=W.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Nd,this._addEventListeners()}static get Default(){return HI}static get DefaultType(){return qI}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||Y.trigger(this._element,Tg,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ag),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){this._isShown&&!this._isTransitioning&&(Y.trigger(this._element,LI).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ig),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Y.off(window,Jn),Y.off(this._dialog,Jn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new gg({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new vg({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const p=W.findOne(".modal-body",this._dialog);p&&(p.scrollTop=0),y(this._element),this._element.classList.add(Ig),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Y.trigger(this._element,MI,{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){Y.on(this._element,jI,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),Y.on(window,$I,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Y.on(this._element,UI,u=>{Y.one(this._element,FI,p=>{this._element===u.target&&this._element===p.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ag),this._resetAdjustments(),this._scrollBar.reset(),Y.trigger(this._element,wg)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Y.trigger(this._element,VI).defaultPrevented)return;const u=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;p==="hidden"||this._element.classList.contains(kd)||(u||(this._element.style.overflowY="hidden"),this._element.classList.add(kd),this._queueCallback(()=>{this._element.classList.remove(kd),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,p=this._scrollBar.getWidth(),E=p>0;if(E&&!u){const x=L()?"paddingLeft":"paddingRight";this._element.style[x]=`${p}px`}if(!E&&u){const x=L()?"paddingRight":"paddingLeft";this._element.style[x]=`${p}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,p){return this.each(function(){const E=Hr.getOrCreateInstance(this,u);if(typeof u=="string"){if(E[u]===void 0)throw new TypeError(`No method named "${u}"`);E[u](p)}})}}Y.on(document,BI,'[data-bs-toggle="modal"]',function(v){const u=W.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&v.preventDefault(),Y.one(u,Tg,E=>{E.defaultPrevented||Y.one(u,wg,()=>{h(this)&&this.focus()})});const p=W.findOne(".modal.show");p&&Hr.getInstance(p).hide(),Hr.getOrCreateInstance(u).toggle(this)}),oe(Hr),F(Hr);const oi=".bs.offcanvas",Cg=".data-api",WI=`load${oi}${Cg}`,Sg="show",Rg="showing",Pg="hiding",Og=".offcanvas.show",zI=`show${oi}`,KI=`shown${oi}`,GI=`hide${oi}`,Dg=`hidePrevented${oi}`,Ng=`hidden${oi}`,YI=`resize${oi}`,QI=`click${oi}${Cg}`,XI=`keydown.dismiss${oi}`,JI={backdrop:!0,keyboard:!0,scroll:!1},ZI={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ai extends st{constructor(u,p){super(u,p),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return JI}static get DefaultType(){return ZI}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||Y.trigger(this._element,zI,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Nd().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Rg),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Sg),this._element.classList.remove(Rg),Y.trigger(this._element,KI,{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&(Y.trigger(this._element,GI).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Pg),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Sg,Pg),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Nd().reset(),Y.trigger(this._element,Ng)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const u=!!this._config.backdrop;return new gg({className:"offcanvas-backdrop",isVisible:u,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:u?()=>{this._config.backdrop!=="static"?this.hide():Y.trigger(this._element,Dg)}:null})}_initializeFocusTrap(){return new vg({trapElement:this._element})}_addEventListeners(){Y.on(this._element,XI,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():Y.trigger(this._element,Dg))})}static jQueryInterface(u){return this.each(function(){const p=ai.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u](this)}})}}Y.on(document,QI,'[data-bs-toggle="offcanvas"]',function(v){const u=W.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&v.preventDefault(),d(this))return;Y.one(u,Ng,()=>{h(this)&&this.focus()});const p=W.findOne(Og);p&&p!==u&&ai.getInstance(p).hide(),ai.getOrCreateInstance(u).toggle(this)}),Y.on(window,WI,()=>{for(const v of W.find(Og))ai.getOrCreateInstance(v).show()}),Y.on(window,YI,()=>{for(const v of W.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(v).position!=="fixed"&&ai.getOrCreateInstance(v).hide()}),oe(ai),F(ai);const kg={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},eC=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),tC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,nC=(v,u)=>{const p=v.nodeName.toLowerCase();return u.includes(p)?!eC.has(p)||!!tC.test(v.nodeValue):u.filter(E=>E instanceof RegExp).some(E=>E.test(p))},sC={allowList:kg,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},iC={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},rC={entry:"(string|element|function|null)",selector:"(string|element)"};class oC extends At{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return sC}static get DefaultType(){return iC}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[x,V]of Object.entries(this._config.content))this._setContent(u,V,x);const p=u.children[0],E=this._resolvePossibleFunction(this._config.extraClass);return E&&p.classList.add(...E.split(" ")),p}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[p,E]of Object.entries(u))super._typeCheckConfig({selector:p,entry:E},rC)}_setContent(u,p,E){const x=W.findOne(E,u);x&&((p=this._resolvePossibleFunction(p))?l(p)?this._putElementInTemplate(c(p),x):this._config.html?x.innerHTML=this._maybeSanitize(p):x.textContent=p:x.remove())}_maybeSanitize(u){return this._config.sanitize?function(p,E,x){if(!p.length)return p;if(x&&typeof x=="function")return x(p);const V=new window.DOMParser().parseFromString(p,"text/html"),q=[].concat(...V.body.querySelectorAll("*"));for(const Z of q){const le=Z.nodeName.toLowerCase();if(!Object.keys(E).includes(le)){Z.remove();continue}const me=[].concat(...Z.attributes),_e=[].concat(E["*"]||[],E[le]||[]);for(const he of me)nC(he,_e)||Z.removeAttribute(he.nodeName)}return V.body.innerHTML}(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return U(u,[void 0,this])}_putElementInTemplate(u,p){if(this._config.html)return p.innerHTML="",void p.append(u);p.textContent=u.textContent}}const aC=new Set(["sanitize","allowList","sanitizeFn"]),xd="fade",au="show",lC=".tooltip-inner",xg=".modal",Lg="hide.bs.modal",El="hover",Ld="focus",cC={AUTO:"auto",TOP:"top",RIGHT:L()?"left":"right",BOTTOM:"bottom",LEFT:L()?"right":"left"},uC={allowList:kg,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},hC={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class qr extends st{constructor(u,p){if(jr===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(u,p),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return uC}static get DefaultType(){return hC}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Y.off(this._element.closest(xg),Lg,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=Y.trigger(this._element,this.constructor.eventName("show")),p=(m(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!p)return;this._disposePopper();const E=this._getTipElement();this._element.setAttribute("aria-describedby",E.getAttribute("id"));const{container:x}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(x.append(E),Y.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(E),E.classList.add(au),"ontouchstart"in document.documentElement)for(const V of[].concat(...document.body.children))Y.on(V,"mouseover",_);this._queueCallback(()=>{Y.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Y.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(au),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))Y.off(u,"mouseover",_);this._activeTrigger.click=!1,this._activeTrigger[Ld]=!1,this._activeTrigger[El]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Y.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const p=this._getTemplateFactory(u).toHtml();if(!p)return null;p.classList.remove(xd,au),p.classList.add(`bs-${this.constructor.NAME}-auto`);const E=(x=>{do x+=Math.floor(1e6*Math.random());while(document.getElementById(x));return x})(this.constructor.NAME).toString();return p.setAttribute("id",E),this._isAnimated()&&p.classList.add(xd),p}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new oC({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[lC]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(xd)}_isShown(){return this.tip&&this.tip.classList.contains(au)}_createPopper(u){const p=U(this._config.placement,[this,u,this._element]),E=cC[p.toUpperCase()];return Wo(this._element,u,this._getPopperConfig(E))}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(p=>Number.parseInt(p,10)):typeof u=="function"?p=>u(p,this._element):u}_resolvePossibleFunction(u){return U(u,[this._element,this._element])}_getPopperConfig(u){const p={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:E=>{this._getTipElement().setAttribute("data-popper-placement",E.state.placement)}}]};return{...p,...U(this._config.popperConfig,[void 0,p])}}_setListeners(){const u=this._config.trigger.split(" ");for(const p of u)if(p==="click")Y.on(this._element,this.constructor.eventName("click"),this._config.selector,E=>{this._initializeOnDelegatedTarget(E).toggle()});else if(p!=="manual"){const E=p===El?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),x=p===El?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Y.on(this._element,E,this._config.selector,V=>{const q=this._initializeOnDelegatedTarget(V);q._activeTrigger[V.type==="focusin"?Ld:El]=!0,q._enter()}),Y.on(this._element,x,this._config.selector,V=>{const q=this._initializeOnDelegatedTarget(V);q._activeTrigger[V.type==="focusout"?Ld:El]=q._element.contains(V.relatedTarget),q._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Y.on(this._element.closest(xg),Lg,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,p){clearTimeout(this._timeout),this._timeout=setTimeout(u,p)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const p=Tt.getDataAttributes(this._element);for(const E of Object.keys(p))aC.has(E)&&delete p[E];return u={...p,...typeof u=="object"&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=u.container===!1?document.body:c(u.container),typeof u.delay=="number"&&(u.delay={show:u.delay,hide:u.delay}),typeof u.title=="number"&&(u.title=u.title.toString()),typeof u.content=="number"&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[p,E]of Object.entries(this._config))this.constructor.Default[p]!==E&&(u[p]=E);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const p=qr.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u]()}})}}F(qr);const dC=".popover-header",fC=".popover-body",pC={...qr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},mC={...qr.DefaultType,content:"(null|string|element|function)"};class lu extends qr{static get Default(){return pC}static get DefaultType(){return mC}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[dC]:this._getTitle(),[fC]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const p=lu.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u]()}})}}F(lu);const Vd=".bs.scrollspy",gC=`activate${Vd}`,Vg=`click${Vd}`,_C=`load${Vd}.data-api`,Go="active",Md="[href]",Mg=".nav-link",vC=`${Mg}, .nav-item > ${Mg}, .list-group-item`,yC={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},EC={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class bl extends st{constructor(u,p){super(u,p),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return yC}static get DefaultType(){return EC}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=c(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,typeof u.threshold=="string"&&(u.threshold=u.threshold.split(",").map(p=>Number.parseFloat(p))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Y.off(this._config.target,Vg),Y.on(this._config.target,Vg,Md,u=>{const p=this._observableSections.get(u.target.hash);if(p){u.preventDefault();const E=this._rootElement||window,x=p.offsetTop-this._element.offsetTop;if(E.scrollTo)return void E.scrollTo({top:x,behavior:"smooth"});E.scrollTop=x}}))}_getNewObserver(){const u={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(p=>this._observerCallback(p),u)}_observerCallback(u){const p=q=>this._targetLinks.get(`#${q.target.id}`),E=q=>{this._previousScrollData.visibleEntryTop=q.target.offsetTop,this._process(p(q))},x=(this._rootElement||document.documentElement).scrollTop,V=x>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=x;for(const q of u){if(!q.isIntersecting){this._activeTarget=null,this._clearActiveClass(p(q));continue}const Z=q.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(V&&Z){if(E(q),!x)return}else V||Z||E(q)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=W.find(Md,this._config.target);for(const p of u){if(!p.hash||d(p))continue;const E=W.findOne(decodeURI(p.hash),this._element);h(E)&&(this._targetLinks.set(decodeURI(p.hash),p),this._observableSections.set(p.hash,E))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(Go),this._activateParents(u),Y.trigger(this._element,gC,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))W.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(Go);else for(const p of W.parents(u,".nav, .list-group"))for(const E of W.prev(p,vC))E.classList.add(Go)}_clearActiveClass(u){u.classList.remove(Go);const p=W.find(`${Md}.${Go}`,u);for(const E of p)E.classList.remove(Go)}static jQueryInterface(u){return this.each(function(){const p=bl.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u]()}})}}Y.on(window,_C,()=>{for(const v of W.find('[data-bs-spy="scroll"]'))bl.getOrCreateInstance(v)}),F(bl);const Wr=".bs.tab",bC=`hide${Wr}`,wC=`hidden${Wr}`,TC=`show${Wr}`,AC=`shown${Wr}`,IC=`click${Wr}`,CC=`keydown${Wr}`,SC=`load${Wr}`,RC="ArrowLeft",$g="ArrowRight",PC="ArrowUp",Fg="ArrowDown",$d="Home",Ug="End",zr="active",jg="fade",Fd="show",Bg=".dropdown-toggle",Ud=`:not(${Bg})`,Hg='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',jd=`.nav-link${Ud}, .list-group-item${Ud}, [role="tab"]${Ud}, ${Hg}`,OC=`.${zr}[data-bs-toggle="tab"], .${zr}[data-bs-toggle="pill"], .${zr}[data-bs-toggle="list"]`;class Kr extends st{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Y.on(this._element,CC,p=>this._keydown(p)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const p=this._getActiveElem(),E=p?Y.trigger(p,bC,{relatedTarget:u}):null;Y.trigger(u,TC,{relatedTarget:p}).defaultPrevented||E&&E.defaultPrevented||(this._deactivate(p,u),this._activate(u,p))}_activate(u,p){u&&(u.classList.add(zr),this._activate(W.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),Y.trigger(u,AC,{relatedTarget:p})):u.classList.add(Fd)},u,u.classList.contains(jg)))}_deactivate(u,p){u&&(u.classList.remove(zr),u.blur(),this._deactivate(W.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),Y.trigger(u,wC,{relatedTarget:p})):u.classList.remove(Fd)},u,u.classList.contains(jg)))}_keydown(u){if(![RC,$g,PC,Fg,$d,Ug].includes(u.key))return;u.stopPropagation(),u.preventDefault();const p=this._getChildren().filter(x=>!d(x));let E;if([$d,Ug].includes(u.key))E=p[u.key===$d?0:p.length-1];else{const x=[$g,Fg].includes(u.key);E=j(p,u.target,x,!0)}E&&(E.focus({preventScroll:!0}),Kr.getOrCreateInstance(E).show())}_getChildren(){return W.find(jd,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,p){this._setAttributeIfNotExists(u,"role","tablist");for(const E of p)this._setInitialAttributesOnChild(E)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const p=this._elemIsActive(u),E=this._getOuterElement(u);u.setAttribute("aria-selected",p),E!==u&&this._setAttributeIfNotExists(E,"role","presentation"),p||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const p=W.getElementFromSelector(u);p&&(this._setAttributeIfNotExists(p,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(p,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,p){const E=this._getOuterElement(u);if(!E.classList.contains("dropdown"))return;const x=(V,q)=>{const Z=W.findOne(V,E);Z&&Z.classList.toggle(q,p)};x(Bg,zr),x(".dropdown-menu",Fd),E.setAttribute("aria-expanded",p)}_setAttributeIfNotExists(u,p,E){u.hasAttribute(p)||u.setAttribute(p,E)}_elemIsActive(u){return u.classList.contains(zr)}_getInnerElement(u){return u.matches(jd)?u:W.findOne(jd,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const p=Kr.getOrCreateInstance(this);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u]()}})}}Y.on(document,IC,Hg,function(v){["A","AREA"].includes(this.tagName)&&v.preventDefault(),d(this)||Kr.getOrCreateInstance(this).show()}),Y.on(window,SC,()=>{for(const v of W.find(OC))Kr.getOrCreateInstance(v)}),F(Kr);const Wi=".bs.toast",DC=`mouseover${Wi}`,NC=`mouseout${Wi}`,kC=`focusin${Wi}`,xC=`focusout${Wi}`,LC=`hide${Wi}`,VC=`hidden${Wi}`,MC=`show${Wi}`,$C=`shown${Wi}`,qg="hide",cu="show",uu="showing",FC={animation:"boolean",autohide:"boolean",delay:"number"},UC={animation:!0,autohide:!0,delay:5e3};class wl extends st{constructor(u,p){super(u,p),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return UC}static get DefaultType(){return FC}static get NAME(){return"toast"}show(){Y.trigger(this._element,MC).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(qg),y(this._element),this._element.classList.add(cu,uu),this._queueCallback(()=>{this._element.classList.remove(uu),Y.trigger(this._element,$C),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Y.trigger(this._element,LC).defaultPrevented||(this._element.classList.add(uu),this._queueCallback(()=>{this._element.classList.add(qg),this._element.classList.remove(uu,cu),Y.trigger(this._element,VC)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(cu),super.dispose()}isShown(){return this._element.classList.contains(cu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,p){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=p;break;case"focusin":case"focusout":this._hasKeyboardInteraction=p}if(p)return void this._clearTimeout();const E=u.relatedTarget;this._element===E||this._element.contains(E)||this._maybeScheduleHide()}_setListeners(){Y.on(this._element,DC,u=>this._onInteraction(u,!0)),Y.on(this._element,NC,u=>this._onInteraction(u,!1)),Y.on(this._element,kC,u=>this._onInteraction(u,!0)),Y.on(this._element,xC,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const p=wl.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u](this)}})}}return oe(wl),F(wl),{Alert:P,Button:K,Carousel:Zs,Collapse:vn,Dropdown:Jt,Modal:Hr,Offcanvas:ai,Popover:lu,ScrollSpy:bl,Tab:Kr,Toast:wl,Tooltip:qr}})}(Ku)),Ku.exports}PV();const OV={props:{text:{type:String,required:!0},maxLength:{type:Number,default:100}},computed:{truncatedText(){return this.text.length<=this.maxLength?this.text:this.text.slice(0,this.maxLength).trim()+"..."}}};function DV(t,e,n,s,i,r){return be(),Te("div",null,[D("p",null,_t(r.truncatedText),1)])}const NV=Ss(OV,[["render",DV]]),kV={class:"container-fluid py-2 commentaires"},xV={class:"font-weight-light"},LV={class:"media-scroller snaps-inline comms",id:"commentairesIn"},VV={class:"comm-card"},MV={class:"small"},$V={class:"user"},FV=["src","alt"],UV={class:"username"},jV={class:"stars"},BV={__name:"Comments",setup(t){const e=it([{id:1,username:"xXDarkSasukeDu44Xx",picture:"/assets/img/gtavi.png",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"1"},{id:2,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"2"},{id:3,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"},{id:4,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"5"},{id:5,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"},{id:6,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"}]);return(n,s)=>(be(),Te("div",kV,[D("h2",xV,_t(e.value.length)+" Commentaires :",1),D("div",null,[D("ul",LV,[(be(!0),Te(wt,null,wi(e.value,i=>(be(),Te("li",{key:i.id},[D("div",VV,[D("div",MV,[D("div",$V,[D("img",{src:i.picture,alt:i.username},null,8,FV),D("h3",UV,_t(i.username),1)]),D("div",jV,[(be(),Te(wt,null,wi(5,(r,o)=>D("span",{key:o},_t(o<i.rating?"":""),1)),64))])]),s[0]||(s[0]=D("div",{class:"texte"},null,-1)),D("h4",null,[Ce(NV,{text:i.text,maxLength:80},null,8,["text"])]),s[1]||(s[1]=D("h2",null,null,-1))])]))),128))])])]))}},HV=Ss(BV,[["__scopeId","data-v-410a89e0"]]),qV={class:"container-fluid py-2"},WV={class:"media-scroller snaps-inline"},zV={class:"game-card"},KV=["href"],GV=["src","alt"],YV={class:"game-text"},QV={class:"titre"},XV={class:"prix"},JV={__name:"Promo",setup(t){const e=it([]),n=["kn9pH1dkwMBBF3YOvmvN","sTIYDzvGIubJuR7DOIaD","NUSTlf7nbt76DKvcEFmv"],s=async()=>{const i=wm(Cs,"games"),r=Om(i,Dm("__name__","in",n));try{const o=await Mm(r);e.value=[],o.forEach(l=>{const c=l.data();e.value.push({id:l.id,titre:c.name,link:c.link,image:c.image,price:`${c.price}`})})}catch(o){console.error("Erreur lors de la rcupration des jeux :",o)}};return To(()=>{s()}),console.log("Rsultat Firestore:",e.value),(i,r)=>(be(),Te("div",qV,[r[1]||(r[1]=D("h2",{class:"font-weight-light"},"Les jeux de la semaine",-1)),D("div",null,[D("ul",WV,[(be(!0),Te(wt,null,wi(e.value,o=>(be(),Te("li",{key:o.id},[D("div",zV,[D("a",{href:o.link},[D("img",{src:`/assets/img/preview/${o.image}`,alt:o.titre},null,8,GV)],8,KV),D("div",YV,[D("h3",QV,_t(o.titre)+" :",1),D("h3",XV,_t(o.price),1)]),r[0]||(r[0]=D("h2",null,null,-1))])]))),128))])])]))}},ZV=Ss(JV,[["__scopeId","data-v-72334672"]]);var Dn="top",zn="bottom",Kn="right",Nn="left",vd="auto",za=[Dn,zn,Kn,Nn],yo="start",Da="end",RA="clippingParents",Qm="viewport",oa="popper",PA="reference",yp=za.reduce(function(t,e){return t.concat([e+"-"+yo,e+"-"+Da])},[]),Xm=[].concat(za,[vd]).reduce(function(t,e){return t.concat([e,e+"-"+yo,e+"-"+Da])},[]),OA="beforeRead",DA="read",NA="afterRead",kA="beforeMain",xA="main",LA="afterMain",VA="beforeWrite",MA="write",$A="afterWrite",FA=[OA,DA,NA,kA,xA,LA,VA,MA,$A];function Qs(t){return t?(t.nodeName||"").toLowerCase():null}function Gn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Eo(t){var e=Gn(t).Element;return t instanceof e||t instanceof Element}function ls(t){var e=Gn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Jm(t){if(typeof ShadowRoot>"u")return!1;var e=Gn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function eM(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},i=e.attributes[n]||{},r=e.elements[n];!ls(r)||!Qs(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(o){var l=i[o];l===!1?r.removeAttribute(o):r.setAttribute(o,l===!0?"":l)}))})}function tM(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var i=e.elements[s],r=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),l=o.reduce(function(c,h){return c[h]="",c},{});!ls(i)||!Qs(i)||(Object.assign(i.style,l),Object.keys(r).forEach(function(c){i.removeAttribute(c)}))})}}const Zm={name:"applyStyles",enabled:!0,phase:"write",fn:eM,effect:tM,requires:["computeStyles"]};function Ks(t){return t.split("-")[0]}var uo=Math.max,Oh=Math.min,Na=Math.round;function Ep(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function UA(){return!/^((?!chrome|android).)*safari/i.test(Ep())}function ka(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),i=1,r=1;e&&ls(t)&&(i=t.offsetWidth>0&&Na(s.width)/t.offsetWidth||1,r=t.offsetHeight>0&&Na(s.height)/t.offsetHeight||1);var o=Eo(t)?Gn(t):window,l=o.visualViewport,c=!UA()&&n,h=(s.left+(c&&l?l.offsetLeft:0))/i,d=(s.top+(c&&l?l.offsetTop:0))/r,m=s.width/i,_=s.height/r;return{width:m,height:_,top:d,right:h+m,bottom:d+_,left:h,x:h,y:d}}function eg(t){var e=ka(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function jA(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Jm(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Si(t){return Gn(t).getComputedStyle(t)}function nM(t){return["table","td","th"].indexOf(Qs(t))>=0}function Sr(t){return((Eo(t)?t.ownerDocument:t.document)||window.document).documentElement}function yd(t){return Qs(t)==="html"?t:t.assignedSlot||t.parentNode||(Jm(t)?t.host:null)||Sr(t)}function Uy(t){return!ls(t)||Si(t).position==="fixed"?null:t.offsetParent}function sM(t){var e=/firefox/i.test(Ep()),n=/Trident/i.test(Ep());if(n&&ls(t)){var s=Si(t);if(s.position==="fixed")return null}var i=yd(t);for(Jm(i)&&(i=i.host);ls(i)&&["html","body"].indexOf(Qs(i))<0;){var r=Si(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function kc(t){for(var e=Gn(t),n=Uy(t);n&&nM(n)&&Si(n).position==="static";)n=Uy(n);return n&&(Qs(n)==="html"||Qs(n)==="body"&&Si(n).position==="static")?e:n||sM(t)||e}function tg(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ql(t,e,n){return uo(t,Oh(e,n))}function iM(t,e,n){var s=Ql(t,e,n);return s>n?n:s}function BA(){return{top:0,right:0,bottom:0,left:0}}function HA(t){return Object.assign({},BA(),t)}function qA(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var rM=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,HA(typeof e!="number"?e:qA(e,za))};function oM(t){var e,n=t.state,s=t.name,i=t.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,l=Ks(n.placement),c=tg(l),h=[Nn,Kn].indexOf(l)>=0,d=h?"height":"width";if(!(!r||!o)){var m=rM(i.padding,n),_=eg(r),y=c==="y"?Dn:Nn,N=c==="y"?zn:Kn,k=n.rects.reference[d]+n.rects.reference[c]-o[c]-n.rects.popper[d],L=o[c]-n.rects.reference[c],F=kc(r),U=F?c==="y"?F.clientHeight||0:F.clientWidth||0:0,B=k/2-L/2,j=m[y],ne=U-_[d]-m[N],ie=U/2-_[d]/2+B,O=Ql(j,ie,ne),T=c;n.modifiersData[s]=(e={},e[T]=O,e.centerOffset=O-ie,e)}}function aM(t){var e=t.state,n=t.options,s=n.element,i=s===void 0?"[data-popper-arrow]":s;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||jA(e.elements.popper,i)&&(e.elements.arrow=i))}const WA={name:"arrow",enabled:!0,phase:"main",fn:oM,effect:aM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xa(t){return t.split("-")[1]}var lM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function cM(t,e){var n=t.x,s=t.y,i=e.devicePixelRatio||1;return{x:Na(n*i)/i||0,y:Na(s*i)/i||0}}function jy(t){var e,n=t.popper,s=t.popperRect,i=t.placement,r=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,h=t.adaptive,d=t.roundOffsets,m=t.isFixed,_=o.x,y=_===void 0?0:_,N=o.y,k=N===void 0?0:N,L=typeof d=="function"?d({x:y,y:k}):{x:y,y:k};y=L.x,k=L.y;var F=o.hasOwnProperty("x"),U=o.hasOwnProperty("y"),B=Nn,j=Dn,ne=window;if(h){var ie=kc(n),O="clientHeight",T="clientWidth";if(ie===Gn(n)&&(ie=Sr(n),Si(ie).position!=="static"&&l==="absolute"&&(O="scrollHeight",T="scrollWidth")),ie=ie,i===Dn||(i===Nn||i===Kn)&&r===Da){j=zn;var w=m&&ie===ne&&ne.visualViewport?ne.visualViewport.height:ie[O];k-=w-s.height,k*=c?1:-1}if(i===Nn||(i===Dn||i===zn)&&r===Da){B=Kn;var C=m&&ie===ne&&ne.visualViewport?ne.visualViewport.width:ie[T];y-=C-s.width,y*=c?1:-1}}var A=Object.assign({position:l},h&&lM),S=d===!0?cM({x:y,y:k},Gn(n)):{x:y,y:k};if(y=S.x,k=S.y,c){var I;return Object.assign({},A,(I={},I[j]=U?"0":"",I[B]=F?"0":"",I.transform=(ne.devicePixelRatio||1)<=1?"translate("+y+"px, "+k+"px)":"translate3d("+y+"px, "+k+"px, 0)",I))}return Object.assign({},A,(e={},e[j]=U?k+"px":"",e[B]=F?y+"px":"",e.transform="",e))}function uM(t){var e=t.state,n=t.options,s=n.gpuAcceleration,i=s===void 0?!0:s,r=n.adaptive,o=r===void 0?!0:r,l=n.roundOffsets,c=l===void 0?!0:l,h={placement:Ks(e.placement),variation:xa(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,jy(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,jy(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ng={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:uM,data:{}};var Au={passive:!0};function hM(t){var e=t.state,n=t.instance,s=t.options,i=s.scroll,r=i===void 0?!0:i,o=s.resize,l=o===void 0?!0:o,c=Gn(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&h.forEach(function(d){d.addEventListener("scroll",n.update,Au)}),l&&c.addEventListener("resize",n.update,Au),function(){r&&h.forEach(function(d){d.removeEventListener("scroll",n.update,Au)}),l&&c.removeEventListener("resize",n.update,Au)}}const sg={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:hM,data:{}};var dM={left:"right",right:"left",bottom:"top",top:"bottom"};function Gu(t){return t.replace(/left|right|bottom|top/g,function(e){return dM[e]})}var fM={start:"end",end:"start"};function By(t){return t.replace(/start|end/g,function(e){return fM[e]})}function ig(t){var e=Gn(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function rg(t){return ka(Sr(t)).left+ig(t).scrollLeft}function pM(t,e){var n=Gn(t),s=Sr(t),i=n.visualViewport,r=s.clientWidth,o=s.clientHeight,l=0,c=0;if(i){r=i.width,o=i.height;var h=UA();(h||!h&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:r,height:o,x:l+rg(t),y:c}}function mM(t){var e,n=Sr(t),s=ig(t),i=(e=t.ownerDocument)==null?void 0:e.body,r=uo(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=uo(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-s.scrollLeft+rg(t),c=-s.scrollTop;return Si(i||n).direction==="rtl"&&(l+=uo(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:o,x:l,y:c}}function og(t){var e=Si(t),n=e.overflow,s=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+s)}function zA(t){return["html","body","#document"].indexOf(Qs(t))>=0?t.ownerDocument.body:ls(t)&&og(t)?t:zA(yd(t))}function Xl(t,e){var n;e===void 0&&(e=[]);var s=zA(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),r=Gn(s),o=i?[r].concat(r.visualViewport||[],og(s)?s:[]):s,l=e.concat(o);return i?l:l.concat(Xl(yd(o)))}function bp(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function gM(t,e){var n=ka(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Hy(t,e,n){return e===Qm?bp(pM(t,n)):Eo(e)?gM(e,n):bp(mM(Sr(t)))}function _M(t){var e=Xl(yd(t)),n=["absolute","fixed"].indexOf(Si(t).position)>=0,s=n&&ls(t)?kc(t):t;return Eo(s)?e.filter(function(i){return Eo(i)&&jA(i,s)&&Qs(i)!=="body"}):[]}function vM(t,e,n,s){var i=e==="clippingParents"?_M(t):[].concat(e),r=[].concat(i,[n]),o=r[0],l=r.reduce(function(c,h){var d=Hy(t,h,s);return c.top=uo(d.top,c.top),c.right=Oh(d.right,c.right),c.bottom=Oh(d.bottom,c.bottom),c.left=uo(d.left,c.left),c},Hy(t,o,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function KA(t){var e=t.reference,n=t.element,s=t.placement,i=s?Ks(s):null,r=s?xa(s):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(i){case Dn:c={x:o,y:e.y-n.height};break;case zn:c={x:o,y:e.y+e.height};break;case Kn:c={x:e.x+e.width,y:l};break;case Nn:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var h=i?tg(i):null;if(h!=null){var d=h==="y"?"height":"width";switch(r){case yo:c[h]=c[h]-(e[d]/2-n[d]/2);break;case Da:c[h]=c[h]+(e[d]/2-n[d]/2);break}}return c}function La(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=s===void 0?t.placement:s,r=n.strategy,o=r===void 0?t.strategy:r,l=n.boundary,c=l===void 0?RA:l,h=n.rootBoundary,d=h===void 0?Qm:h,m=n.elementContext,_=m===void 0?oa:m,y=n.altBoundary,N=y===void 0?!1:y,k=n.padding,L=k===void 0?0:k,F=HA(typeof L!="number"?L:qA(L,za)),U=_===oa?PA:oa,B=t.rects.popper,j=t.elements[N?U:_],ne=vM(Eo(j)?j:j.contextElement||Sr(t.elements.popper),c,d,o),ie=ka(t.elements.reference),O=KA({reference:ie,element:B,placement:i}),T=bp(Object.assign({},B,O)),w=_===oa?T:ie,C={top:ne.top-w.top+F.top,bottom:w.bottom-ne.bottom+F.bottom,left:ne.left-w.left+F.left,right:w.right-ne.right+F.right},A=t.modifiersData.offset;if(_===oa&&A){var S=A[i];Object.keys(C).forEach(function(I){var Ue=[Kn,zn].indexOf(I)>=0?1:-1,et=[Dn,zn].indexOf(I)>=0?"y":"x";C[I]+=S[et]*Ue})}return C}function yM(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=n.boundary,r=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,h=c===void 0?Xm:c,d=xa(s),m=d?l?yp:yp.filter(function(N){return xa(N)===d}):za,_=m.filter(function(N){return h.indexOf(N)>=0});_.length===0&&(_=m);var y=_.reduce(function(N,k){return N[k]=La(t,{placement:k,boundary:i,rootBoundary:r,padding:o})[Ks(k)],N},{});return Object.keys(y).sort(function(N,k){return y[N]-y[k]})}function EM(t){if(Ks(t)===vd)return[];var e=Gu(t);return[By(t),e,By(e)]}function bM(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,h=n.padding,d=n.boundary,m=n.rootBoundary,_=n.altBoundary,y=n.flipVariations,N=y===void 0?!0:y,k=n.allowedAutoPlacements,L=e.options.placement,F=Ks(L),U=F===L,B=c||(U||!N?[Gu(L)]:EM(L)),j=[L].concat(B).reduce(function(Tt,At){return Tt.concat(Ks(At)===vd?yM(e,{placement:At,boundary:d,rootBoundary:m,padding:h,flipVariations:N,allowedAutoPlacements:k}):At)},[]),ne=e.rects.reference,ie=e.rects.popper,O=new Map,T=!0,w=j[0],C=0;C<j.length;C++){var A=j[C],S=Ks(A),I=xa(A)===yo,Ue=[Dn,zn].indexOf(S)>=0,et=Ue?"width":"height",Ne=La(e,{placement:A,boundary:d,rootBoundary:m,altBoundary:_,padding:h}),ve=Ue?I?Kn:Nn:I?zn:Dn;ne[et]>ie[et]&&(ve=Gu(ve));var Fe=Gu(ve),Ct=[];if(r&&Ct.push(Ne[S]<=0),l&&Ct.push(Ne[ve]<=0,Ne[Fe]<=0),Ct.every(function(Tt){return Tt})){w=A,T=!1;break}O.set(A,Ct)}if(T)for(var Y=N?3:1,Ft=function(At){var st=j.find(function(z){var W=O.get(z);if(W)return W.slice(0,At).every(function(oe){return oe})});if(st)return w=st,"break"},tt=Y;tt>0;tt--){var nt=Ft(tt);if(nt==="break")break}e.placement!==w&&(e.modifiersData[s]._skip=!0,e.placement=w,e.reset=!0)}}const GA={name:"flip",enabled:!0,phase:"main",fn:bM,requiresIfExists:["offset"],data:{_skip:!1}};function qy(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Wy(t){return[Dn,Kn,zn,Nn].some(function(e){return t[e]>=0})}function wM(t){var e=t.state,n=t.name,s=e.rects.reference,i=e.rects.popper,r=e.modifiersData.preventOverflow,o=La(e,{elementContext:"reference"}),l=La(e,{altBoundary:!0}),c=qy(o,s),h=qy(l,i,r),d=Wy(c),m=Wy(h);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":m})}const YA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:wM};function TM(t,e,n){var s=Ks(t),i=[Nn,Dn].indexOf(s)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=r[0],l=r[1];return o=o||0,l=(l||0)*i,[Nn,Kn].indexOf(s)>=0?{x:l,y:o}:{x:o,y:l}}function AM(t){var e=t.state,n=t.options,s=t.name,i=n.offset,r=i===void 0?[0,0]:i,o=Xm.reduce(function(d,m){return d[m]=TM(m,e.rects,r),d},{}),l=o[e.placement],c=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=h),e.modifiersData[s]=o}const QA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:AM};function IM(t){var e=t.state,n=t.name;e.modifiersData[n]=KA({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const ag={name:"popperOffsets",enabled:!0,phase:"read",fn:IM,data:{}};function CM(t){return t==="x"?"y":"x"}function SM(t){var e=t.state,n=t.options,s=t.name,i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,h=n.rootBoundary,d=n.altBoundary,m=n.padding,_=n.tether,y=_===void 0?!0:_,N=n.tetherOffset,k=N===void 0?0:N,L=La(e,{boundary:c,rootBoundary:h,padding:m,altBoundary:d}),F=Ks(e.placement),U=xa(e.placement),B=!U,j=tg(F),ne=CM(j),ie=e.modifiersData.popperOffsets,O=e.rects.reference,T=e.rects.popper,w=typeof k=="function"?k(Object.assign({},e.rects,{placement:e.placement})):k,C=typeof w=="number"?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,S={x:0,y:0};if(ie){if(r){var I,Ue=j==="y"?Dn:Nn,et=j==="y"?zn:Kn,Ne=j==="y"?"height":"width",ve=ie[j],Fe=ve+L[Ue],Ct=ve-L[et],Y=y?-T[Ne]/2:0,Ft=U===yo?O[Ne]:T[Ne],tt=U===yo?-T[Ne]:-O[Ne],nt=e.elements.arrow,Tt=y&&nt?eg(nt):{width:0,height:0},At=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:BA(),st=At[Ue],z=At[et],W=Ql(0,O[Ne],Tt[Ne]),oe=B?O[Ne]/2-Y-W-st-C.mainAxis:Ft-W-st-C.mainAxis,fe=B?-O[Ne]/2+Y+W+z+C.mainAxis:tt+W+z+C.mainAxis,We=e.elements.arrow&&kc(e.elements.arrow),R=We?j==="y"?We.clientTop||0:We.clientLeft||0:0,P=(I=A==null?void 0:A[j])!=null?I:0,M=ve+oe-P-R,K=ve+fe-P,G=Ql(y?Oh(Fe,M):Fe,ve,y?uo(Ct,K):Ct);ie[j]=G,S[j]=G-ve}if(l){var Q,ce=j==="x"?Dn:Nn,re=j==="x"?zn:Kn,se=ie[ne],ee=ne==="y"?"height":"width",we=se+L[ce],ue=se-L[re],ge=[Dn,Nn].indexOf(F)!==-1,ye=(Q=A==null?void 0:A[ne])!=null?Q:0,Ee=ge?we:se-O[ee]-T[ee]-ye+C.altAxis,De=ge?se+O[ee]+T[ee]-ye-C.altAxis:ue,He=y&&ge?iM(Ee,se,De):Ql(y?Ee:we,se,y?De:ue);ie[ne]=He,S[ne]=He-se}e.modifiersData[s]=S}}const XA={name:"preventOverflow",enabled:!0,phase:"main",fn:SM,requiresIfExists:["offset"]};function RM(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function PM(t){return t===Gn(t)||!ls(t)?ig(t):RM(t)}function OM(t){var e=t.getBoundingClientRect(),n=Na(e.width)/t.offsetWidth||1,s=Na(e.height)/t.offsetHeight||1;return n!==1||s!==1}function DM(t,e,n){n===void 0&&(n=!1);var s=ls(e),i=ls(e)&&OM(e),r=Sr(e),o=ka(t,i,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!n)&&((Qs(e)!=="body"||og(r))&&(l=PM(e)),ls(e)?(c=ka(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):r&&(c.x=rg(r))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function NM(t){var e=new Map,n=new Set,s=[];t.forEach(function(r){e.set(r.name,r)});function i(r){n.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&i(c)}}),s.push(r)}return t.forEach(function(r){n.has(r.name)||i(r)}),s}function kM(t){var e=NM(t);return FA.reduce(function(n,s){return n.concat(e.filter(function(i){return i.phase===s}))},[])}function xM(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function LM(t){var e=t.reduce(function(n,s){var i=n[s.name];return n[s.name]=i?Object.assign({},i,s,{options:Object.assign({},i.options,s.options),data:Object.assign({},i.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var zy={placement:"bottom",modifiers:[],strategy:"absolute"};function Ky(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Ed(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,i=e.defaultOptions,r=i===void 0?zy:i;return function(l,c,h){h===void 0&&(h=r);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},zy,r),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},m=[],_=!1,y={state:d,setOptions:function(F){var U=typeof F=="function"?F(d.options):F;k(),d.options=Object.assign({},r,d.options,U),d.scrollParents={reference:Eo(l)?Xl(l):l.contextElement?Xl(l.contextElement):[],popper:Xl(c)};var B=kM(LM([].concat(s,d.options.modifiers)));return d.orderedModifiers=B.filter(function(j){return j.enabled}),N(),y.update()},forceUpdate:function(){if(!_){var F=d.elements,U=F.reference,B=F.popper;if(Ky(U,B)){d.rects={reference:DM(U,kc(B),d.options.strategy==="fixed"),popper:eg(B)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(C){return d.modifiersData[C.name]=Object.assign({},C.data)});for(var j=0;j<d.orderedModifiers.length;j++){if(d.reset===!0){d.reset=!1,j=-1;continue}var ne=d.orderedModifiers[j],ie=ne.fn,O=ne.options,T=O===void 0?{}:O,w=ne.name;typeof ie=="function"&&(d=ie({state:d,options:T,name:w,instance:y})||d)}}}},update:xM(function(){return new Promise(function(L){y.forceUpdate(),L(d)})}),destroy:function(){k(),_=!0}};if(!Ky(l,c))return y;y.setOptions(h).then(function(L){!_&&h.onFirstUpdate&&h.onFirstUpdate(L)});function N(){d.orderedModifiers.forEach(function(L){var F=L.name,U=L.options,B=U===void 0?{}:U,j=L.effect;if(typeof j=="function"){var ne=j({state:d,name:F,instance:y,options:B}),ie=function(){};m.push(ne||ie)}})}function k(){m.forEach(function(L){return L()}),m=[]}return y}}var VM=Ed(),MM=[sg,ag,ng,Zm],$M=Ed({defaultModifiers:MM}),FM=[sg,ag,ng,Zm,QA,GA,XA,WA,YA],lg=Ed({defaultModifiers:FM});const JA=Object.freeze(Object.defineProperty({__proto__:null,afterMain:LA,afterRead:NA,afterWrite:$A,applyStyles:Zm,arrow:WA,auto:vd,basePlacements:za,beforeMain:kA,beforeRead:OA,beforeWrite:VA,bottom:zn,clippingParents:RA,computeStyles:ng,createPopper:lg,createPopperBase:VM,createPopperLite:$M,detectOverflow:La,end:Da,eventListeners:sg,flip:GA,hide:YA,left:Nn,main:xA,modifierPhases:FA,offset:QA,placements:Xm,popper:oa,popperGenerator:Ed,popperOffsets:ag,preventOverflow:XA,read:DA,reference:PA,right:Kn,start:yo,top:Dn,variationPlacements:yp,viewport:Qm,write:MA},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Qi=new Map,vf={set(t,e,n){Qi.has(t)||Qi.set(t,new Map);const s=Qi.get(t);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,n)},get(t,e){return Qi.has(t)&&Qi.get(t).get(e)||null},remove(t,e){if(!Qi.has(t))return;const n=Qi.get(t);n.delete(e),n.size===0&&Qi.delete(t)}},UM=1e6,jM=1e3,wp="transitionend",ZA=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),BM=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),HM=t=>{do t+=Math.floor(Math.random()*UM);while(document.getElementById(t));return t},qM=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const s=Number.parseFloat(e),i=Number.parseFloat(n);return!s&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*jM)},eI=t=>{t.dispatchEvent(new Event(wp))},Ei=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),wr=t=>Ei(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(ZA(t)):null,Ka=t=>{if(!Ei(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const s=t.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return e},Tr=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",tI=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?tI(t.parentNode):null},Dh=()=>{},xc=t=>{t.offsetHeight},nI=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,yf=[],WM=t=>{document.readyState==="loading"?(yf.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of yf)e()}),yf.push(t)):t()},hs=()=>document.documentElement.dir==="rtl",fs=t=>{WM(()=>{const e=nI();if(e){const n=t.NAME,s=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=s,t.jQueryInterface)}})},$n=(t,e=[],n=t)=>typeof t=="function"?t.call(...e):n,sI=(t,e,n=!0)=>{if(!n){$n(t);return}const i=qM(e)+5;let r=!1;const o=({target:l})=>{l===e&&(r=!0,e.removeEventListener(wp,o),$n(t))};e.addEventListener(wp,o),setTimeout(()=>{r||eI(e)},i)},cg=(t,e,n,s)=>{const i=t.length;let r=t.indexOf(e);return r===-1?!n&&s?t[i-1]:t[0]:(r+=n?1:-1,s&&(r=(r+i)%i),t[Math.max(0,Math.min(r,i-1))])},zM=/[^.]*(?=\..*)\.|.*/,KM=/\..*/,GM=/::\d+$/,Ef={};let Gy=1;const iI={mouseenter:"mouseover",mouseleave:"mouseout"},YM=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function rI(t,e){return e&&`${e}::${Gy++}`||t.uidEvent||Gy++}function oI(t){const e=rI(t);return t.uidEvent=e,Ef[e]=Ef[e]||{},Ef[e]}function QM(t,e){return function n(s){return ug(s,{delegateTarget:t}),n.oneOff&&te.off(t,s.type,e),e.apply(t,[s])}}function XM(t,e,n){return function s(i){const r=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const l of r)if(l===o)return ug(i,{delegateTarget:o}),s.oneOff&&te.off(t,i.type,e,n),n.apply(o,[i])}}function aI(t,e,n=null){return Object.values(t).find(s=>s.callable===e&&s.delegationSelector===n)}function lI(t,e,n){const s=typeof e=="string",i=s?n:e||n;let r=cI(t);return YM.has(r)||(r=t),[s,i,r]}function Yy(t,e,n,s,i){if(typeof e!="string"||!t)return;let[r,o,l]=lI(e,n,s);e in iI&&(o=(N=>function(k){if(!k.relatedTarget||k.relatedTarget!==k.delegateTarget&&!k.delegateTarget.contains(k.relatedTarget))return N.call(this,k)})(o));const c=oI(t),h=c[l]||(c[l]={}),d=aI(h,o,r?n:null);if(d){d.oneOff=d.oneOff&&i;return}const m=rI(o,e.replace(zM,"")),_=r?XM(t,n,o):QM(t,o);_.delegationSelector=r?n:null,_.callable=o,_.oneOff=i,_.uidEvent=m,h[m]=_,t.addEventListener(l,_,r)}function Tp(t,e,n,s,i){const r=aI(e[n],s,i);r&&(t.removeEventListener(n,r,!!i),delete e[n][r.uidEvent])}function JM(t,e,n,s){const i=e[n]||{};for(const[r,o]of Object.entries(i))r.includes(s)&&Tp(t,e,n,o.callable,o.delegationSelector)}function cI(t){return t=t.replace(KM,""),iI[t]||t}const te={on(t,e,n,s){Yy(t,e,n,s,!1)},one(t,e,n,s){Yy(t,e,n,s,!0)},off(t,e,n,s){if(typeof e!="string"||!t)return;const[i,r,o]=lI(e,n,s),l=o!==e,c=oI(t),h=c[o]||{},d=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(h).length)return;Tp(t,c,o,r,i?n:null);return}if(d)for(const m of Object.keys(c))JM(t,c,m,e.slice(1));for(const[m,_]of Object.entries(h)){const y=m.replace(GM,"");(!l||e.includes(y))&&Tp(t,c,o,_.callable,_.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const s=nI(),i=cI(e),r=e!==i;let o=null,l=!0,c=!0,h=!1;r&&s&&(o=s.Event(e,n),s(t).trigger(o),l=!o.isPropagationStopped(),c=!o.isImmediatePropagationStopped(),h=o.isDefaultPrevented());const d=ug(new Event(e,{bubbles:l,cancelable:!0}),n);return h&&d.preventDefault(),c&&t.dispatchEvent(d),d.defaultPrevented&&o&&o.preventDefault(),d}};function ug(t,e={}){for(const[n,s]of Object.entries(e))try{t[n]=s}catch{Object.defineProperty(t,n,{configurable:!0,get(){return s}})}return t}function Qy(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function bf(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const bi={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${bf(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${bf(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=Qy(t.dataset[s])}return e},getDataAttribute(t,e){return Qy(t.getAttribute(`data-bs-${bf(e)}`))}};class Lc{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const s=Ei(n)?bi.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...Ei(n)?bi.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[s,i]of Object.entries(n)){const r=e[s],o=Ei(r)?"element":BM(r);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${i}".`)}}}const ZM="5.3.6";class Rs extends Lc{constructor(e,n){super(),e=wr(e),e&&(this._element=e,this._config=this._getConfig(n),vf.set(this._element,this.constructor.DATA_KEY,this))}dispose(){vf.remove(this._element,this.constructor.DATA_KEY),te.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,s=!0){sI(e,n,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return vf.get(wr(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return ZM}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const wf=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>ZA(n)).join(","):null},Ie={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let s=t.parentNode.closest(e);for(;s;)n.push(s),s=s.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!Tr(n)&&Ka(n))},getSelectorFromElement(t){const e=wf(t);return e&&Ie.findOne(e)?e:null},getElementFromSelector(t){const e=wf(t);return e?Ie.findOne(e):null},getMultipleElementsFromSelector(t){const e=wf(t);return e?Ie.find(e):[]}},bd=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;te.on(document,n,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Tr(this))return;const r=Ie.getElementFromSelector(this)||this.closest(`.${s}`);t.getOrCreateInstance(r)[e]()})},e$="alert",t$="bs.alert",uI=`.${t$}`,n$=`close${uI}`,s$=`closed${uI}`,i$="fade",r$="show";class wd extends Rs{static get NAME(){return e$}close(){if(te.trigger(this._element,n$).defaultPrevented)return;this._element.classList.remove(r$);const n=this._element.classList.contains(i$);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),te.trigger(this._element,s$),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=wd.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}bd(wd,"close");fs(wd);const o$="button",a$="bs.button",l$=`.${a$}`,c$=".data-api",u$="active",Xy='[data-bs-toggle="button"]',h$=`click${l$}${c$}`;class Td extends Rs{static get NAME(){return o$}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(u$))}static jQueryInterface(e){return this.each(function(){const n=Td.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}te.on(document,h$,Xy,t=>{t.preventDefault();const e=t.target.closest(Xy);Td.getOrCreateInstance(e).toggle()});fs(Td);const d$="swipe",Ga=".bs.swipe",f$=`touchstart${Ga}`,p$=`touchmove${Ga}`,m$=`touchend${Ga}`,g$=`pointerdown${Ga}`,_$=`pointerup${Ga}`,v$="touch",y$="pen",E$="pointer-event",b$=40,w$={endCallback:null,leftCallback:null,rightCallback:null},T$={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Nh extends Lc{constructor(e,n){super(),this._element=e,!(!e||!Nh.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return w$}static get DefaultType(){return T$}static get NAME(){return d$}dispose(){te.off(this._element,Ga)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),$n(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=b$)return;const n=e/this._deltaX;this._deltaX=0,n&&$n(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(te.on(this._element,g$,e=>this._start(e)),te.on(this._element,_$,e=>this._end(e)),this._element.classList.add(E$)):(te.on(this._element,f$,e=>this._start(e)),te.on(this._element,p$,e=>this._move(e)),te.on(this._element,m$,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===y$||e.pointerType===v$)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const A$="carousel",I$="bs.carousel",Rr=`.${I$}`,hI=".data-api",C$="ArrowLeft",S$="ArrowRight",R$=500,Cl="next",Jo="prev",aa="left",Yu="right",P$=`slide${Rr}`,Tf=`slid${Rr}`,O$=`keydown${Rr}`,D$=`mouseenter${Rr}`,N$=`mouseleave${Rr}`,k$=`dragstart${Rr}`,x$=`load${Rr}${hI}`,L$=`click${Rr}${hI}`,dI="carousel",Iu="active",V$="slide",M$="carousel-item-end",$$="carousel-item-start",F$="carousel-item-next",U$="carousel-item-prev",fI=".active",pI=".carousel-item",j$=fI+pI,B$=".carousel-item img",H$=".carousel-indicators",q$="[data-bs-slide], [data-bs-slide-to]",W$='[data-bs-ride="carousel"]',z$={[C$]:Yu,[S$]:aa},K$={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},G$={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Vc extends Rs{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ie.findOne(H$,this._element),this._addEventListeners(),this._config.ride===dI&&this.cycle()}static get Default(){return K$}static get DefaultType(){return G$}static get NAME(){return A$}next(){this._slide(Cl)}nextWhenVisible(){!document.hidden&&Ka(this._element)&&this.next()}prev(){this._slide(Jo)}pause(){this._isSliding&&eI(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){te.one(this._element,Tf,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){te.one(this._element,Tf,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const i=e>s?Cl:Jo;this._slide(i,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&te.on(this._element,O$,e=>this._keydown(e)),this._config.pause==="hover"&&(te.on(this._element,D$,()=>this.pause()),te.on(this._element,N$,()=>this._maybeEnableCycle())),this._config.touch&&Nh.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of Ie.find(B$,this._element))te.on(s,k$,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(aa)),rightCallback:()=>this._slide(this._directionToOrder(Yu)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),R$+this._config.interval))}};this._swipeHelper=new Nh(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=z$[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=Ie.findOne(fI,this._indicatorsElement);n.classList.remove(Iu),n.removeAttribute("aria-current");const s=Ie.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(Iu),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const s=this._getActive(),i=e===Cl,r=n||cg(this._getItems(),s,i,this._config.wrap);if(r===s)return;const o=this._getItemIndex(r),l=y=>te.trigger(this._element,y,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:o});if(l(P$).defaultPrevented||!s||!r)return;const h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const d=i?$$:M$,m=i?F$:U$;r.classList.add(m),xc(r),s.classList.add(d),r.classList.add(d);const _=()=>{r.classList.remove(d,m),r.classList.add(Iu),s.classList.remove(Iu,m,d),this._isSliding=!1,l(Tf)};this._queueCallback(_,s,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(V$)}_getActive(){return Ie.findOne(j$,this._element)}_getItems(){return Ie.find(pI,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return hs()?e===aa?Jo:Cl:e===aa?Cl:Jo}_orderToDirection(e){return hs()?e===Jo?aa:Yu:e===Jo?Yu:aa}static jQueryInterface(e){return this.each(function(){const n=Vc.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}te.on(document,L$,q$,function(t){const e=Ie.getElementFromSelector(this);if(!e||!e.classList.contains(dI))return;t.preventDefault();const n=Vc.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(bi.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});te.on(window,x$,()=>{const t=Ie.find(W$);for(const e of t)Vc.getOrCreateInstance(e)});fs(Vc);const Y$="collapse",Q$="bs.collapse",Mc=`.${Q$}`,X$=".data-api",J$=`show${Mc}`,Z$=`shown${Mc}`,e2=`hide${Mc}`,t2=`hidden${Mc}`,n2=`click${Mc}${X$}`,Af="show",ca="collapse",Cu="collapsing",s2="collapsed",i2=`:scope .${ca} .${ca}`,r2="collapse-horizontal",o2="width",a2="height",l2=".collapse.show, .collapse.collapsing",Ap='[data-bs-toggle="collapse"]',c2={parent:null,toggle:!0},u2={parent:"(null|element)",toggle:"boolean"};class _c extends Rs{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const s=Ie.find(Ap);for(const i of s){const r=Ie.getSelectorFromElement(i),o=Ie.find(r).filter(l=>l===this._element);r!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return c2}static get DefaultType(){return u2}static get NAME(){return Y$}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(l2).filter(l=>l!==this._element).map(l=>_c.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||te.trigger(this._element,J$).defaultPrevented)return;for(const l of e)l.hide();const s=this._getDimension();this._element.classList.remove(ca),this._element.classList.add(Cu),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Cu),this._element.classList.add(ca,Af),this._element.style[s]="",te.trigger(this._element,Z$)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||te.trigger(this._element,e2).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,xc(this._element),this._element.classList.add(Cu),this._element.classList.remove(ca,Af);for(const i of this._triggerArray){const r=Ie.getElementFromSelector(i);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(Cu),this._element.classList.add(ca),te.trigger(this._element,t2)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Af)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=wr(e.parent),e}_getDimension(){return this._element.classList.contains(r2)?o2:a2}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Ap);for(const n of e){const s=Ie.getElementFromSelector(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(e){const n=Ie.find(i2,this._config.parent);return Ie.find(e,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const s of e)s.classList.toggle(s2,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const s=_c.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}te.on(document,n2,Ap,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of Ie.getMultipleElementsFromSelector(this))_c.getOrCreateInstance(e,{toggle:!1}).toggle()});fs(_c);const Jy="dropdown",h2="bs.dropdown",Ro=`.${h2}`,hg=".data-api",d2="Escape",Zy="Tab",f2="ArrowUp",eE="ArrowDown",p2=2,m2=`hide${Ro}`,g2=`hidden${Ro}`,_2=`show${Ro}`,v2=`shown${Ro}`,mI=`click${Ro}${hg}`,gI=`keydown${Ro}${hg}`,y2=`keyup${Ro}${hg}`,la="show",E2="dropup",b2="dropend",w2="dropstart",T2="dropup-center",A2="dropdown-center",oo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',I2=`${oo}.${la}`,Qu=".dropdown-menu",C2=".navbar",S2=".navbar-nav",R2=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",P2=hs()?"top-end":"top-start",O2=hs()?"top-start":"top-end",D2=hs()?"bottom-end":"bottom-start",N2=hs()?"bottom-start":"bottom-end",k2=hs()?"left-start":"right-start",x2=hs()?"right-start":"left-start",L2="top",V2="bottom",M2={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},$2={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ws extends Rs{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=Ie.next(this._element,Qu)[0]||Ie.prev(this._element,Qu)[0]||Ie.findOne(Qu,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return M2}static get DefaultType(){return $2}static get NAME(){return Jy}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Tr(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!te.trigger(this._element,_2,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(S2))for(const s of[].concat(...document.body.children))te.on(s,"mouseover",Dh);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(la),this._element.classList.add(la),te.trigger(this._element,v2,e)}}hide(){if(Tr(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!te.trigger(this._element,m2,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))te.off(s,"mouseover",Dh);this._popper&&this._popper.destroy(),this._menu.classList.remove(la),this._element.classList.remove(la),this._element.setAttribute("aria-expanded","false"),bi.removeDataAttribute(this._menu,"popper"),te.trigger(this._element,g2,e),this._element.focus()}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Ei(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Jy.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof JA>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:Ei(this._config.reference)?e=wr(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=lg(e,this._menu,n)}_isShown(){return this._menu.classList.contains(la)}_getPlacement(){const e=this._parent;if(e.classList.contains(b2))return k2;if(e.classList.contains(w2))return x2;if(e.classList.contains(T2))return L2;if(e.classList.contains(A2))return V2;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(E2)?n?O2:P2:n?N2:D2}_detectNavbar(){return this._element.closest(C2)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(bi.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...$n(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:n}){const s=Ie.find(R2,this._menu).filter(i=>Ka(i));s.length&&cg(s,n,e===eE,!s.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=ws.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===p2||e.type==="keyup"&&e.key!==Zy)return;const n=Ie.find(I2);for(const s of n){const i=ws.getInstance(s);if(!i||i._config.autoClose===!1)continue;const r=e.composedPath(),o=r.includes(i._menu);if(r.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Zy||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const l={relatedTarget:i._element};e.type==="click"&&(l.clickEvent=e),i._completeHide(l)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),s=e.key===d2,i=[f2,eE].includes(e.key);if(!i&&!s||n&&!s)return;e.preventDefault();const r=this.matches(oo)?this:Ie.prev(this,oo)[0]||Ie.next(this,oo)[0]||Ie.findOne(oo,e.delegateTarget.parentNode),o=ws.getOrCreateInstance(r);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}te.on(document,gI,oo,ws.dataApiKeydownHandler);te.on(document,gI,Qu,ws.dataApiKeydownHandler);te.on(document,mI,ws.clearMenus);te.on(document,y2,ws.clearMenus);te.on(document,mI,oo,function(t){t.preventDefault(),ws.getOrCreateInstance(this).toggle()});fs(ws);const _I="backdrop",F2="fade",tE="show",nE=`mousedown.bs.${_I}`,U2={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},j2={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class vI extends Lc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return U2}static get DefaultType(){return j2}static get NAME(){return _I}show(e){if(!this._config.isVisible){$n(e);return}this._append();const n=this._getElement();this._config.isAnimated&&xc(n),n.classList.add(tE),this._emulateAnimation(()=>{$n(e)})}hide(e){if(!this._config.isVisible){$n(e);return}this._getElement().classList.remove(tE),this._emulateAnimation(()=>{this.dispose(),$n(e)})}dispose(){this._isAppended&&(te.off(this._element,nE),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(F2),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=wr(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),te.on(e,nE,()=>{$n(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){sI(e,this._getElement(),this._config.isAnimated)}}const B2="focustrap",H2="bs.focustrap",kh=`.${H2}`,q2=`focusin${kh}`,W2=`keydown.tab${kh}`,z2="Tab",K2="forward",sE="backward",G2={autofocus:!0,trapElement:null},Y2={autofocus:"boolean",trapElement:"element"};class yI extends Lc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return G2}static get DefaultType(){return Y2}static get NAME(){return B2}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),te.off(document,kh),te.on(document,q2,e=>this._handleFocusin(e)),te.on(document,W2,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,te.off(document,kh))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const s=Ie.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===sE?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===z2&&(this._lastTabNavDirection=e.shiftKey?sE:K2)}}const iE=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",rE=".sticky-top",Su="padding-right",oE="margin-right";class Ip{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Su,n=>n+e),this._setElementAttributes(iE,Su,n=>n+e),this._setElementAttributes(rE,oE,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Su),this._resetElementAttributes(iE,Su),this._resetElementAttributes(rE,oE)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,s){const i=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,n);const l=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${s(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,n){const s=e.style.getPropertyValue(n);s&&bi.setDataAttribute(e,n,s)}_resetElementAttributes(e,n){const s=i=>{const r=bi.getDataAttribute(i,n);if(r===null){i.style.removeProperty(n);return}bi.removeDataAttribute(i,n),i.style.setProperty(n,r)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,n){if(Ei(e)){n(e);return}for(const s of Ie.find(e,this._element))n(s)}}const Q2="modal",X2="bs.modal",ds=`.${X2}`,J2=".data-api",Z2="Escape",eF=`hide${ds}`,tF=`hidePrevented${ds}`,EI=`hidden${ds}`,bI=`show${ds}`,nF=`shown${ds}`,sF=`resize${ds}`,iF=`click.dismiss${ds}`,rF=`mousedown.dismiss${ds}`,oF=`keydown.dismiss${ds}`,aF=`click${ds}${J2}`,aE="modal-open",lF="fade",lE="show",If="modal-static",cF=".modal.show",uF=".modal-dialog",hF=".modal-body",dF='[data-bs-toggle="modal"]',fF={backdrop:!0,focus:!0,keyboard:!0},pF={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class bo extends Rs{constructor(e,n){super(e,n),this._dialog=Ie.findOne(uF,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ip,this._addEventListeners()}static get Default(){return fF}static get DefaultType(){return pF}static get NAME(){return Q2}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||te.trigger(this._element,bI,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(aE),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||te.trigger(this._element,eF).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(lE),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){te.off(window,ds),te.off(this._dialog,ds),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new vI({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new yI({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=Ie.findOne(hF,this._dialog);n&&(n.scrollTop=0),xc(this._element),this._element.classList.add(lE);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,te.trigger(this._element,nF,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){te.on(this._element,oF,e=>{if(e.key===Z2){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),te.on(window,sF,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),te.on(this._element,rF,e=>{te.one(this._element,iF,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(aE),this._resetAdjustments(),this._scrollBar.reset(),te.trigger(this._element,EI)})}_isAnimated(){return this._element.classList.contains(lF)}_triggerBackdropTransition(){if(te.trigger(this._element,tF).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(If)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(If),this._queueCallback(()=>{this._element.classList.remove(If),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!e){const i=hs()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!s&&e){const i=hs()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const s=bo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](n)}})}}te.on(document,aF,dF,function(t){const e=Ie.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),te.one(e,bI,i=>{i.defaultPrevented||te.one(e,EI,()=>{Ka(this)&&this.focus()})});const n=Ie.findOne(cF);n&&bo.getInstance(n).hide(),bo.getOrCreateInstance(e).toggle(this)});bd(bo);fs(bo);const mF="offcanvas",gF="bs.offcanvas",ki=`.${gF}`,wI=".data-api",_F=`load${ki}${wI}`,vF="Escape",cE="show",uE="showing",hE="hiding",yF="offcanvas-backdrop",TI=".offcanvas.show",EF=`show${ki}`,bF=`shown${ki}`,wF=`hide${ki}`,dE=`hidePrevented${ki}`,AI=`hidden${ki}`,TF=`resize${ki}`,AF=`click${ki}${wI}`,IF=`keydown.dismiss${ki}`,CF='[data-bs-toggle="offcanvas"]',SF={backdrop:!0,keyboard:!0,scroll:!1},RF={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ar extends Rs{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return SF}static get DefaultType(){return RF}static get NAME(){return mF}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||te.trigger(this._element,EF,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ip().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(uE);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(cE),this._element.classList.remove(uE),te.trigger(this._element,bF,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||te.trigger(this._element,wF).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(hE),this._backdrop.hide();const n=()=>{this._element.classList.remove(cE,hE),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ip().reset(),te.trigger(this._element,AI)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){te.trigger(this._element,dE);return}this.hide()},n=!!this._config.backdrop;return new vI({className:yF,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new yI({trapElement:this._element})}_addEventListeners(){te.on(this._element,IF,e=>{if(e.key===vF){if(this._config.keyboard){this.hide();return}te.trigger(this._element,dE)}})}static jQueryInterface(e){return this.each(function(){const n=Ar.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}te.on(document,AF,CF,function(t){const e=Ie.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Tr(this))return;te.one(e,AI,()=>{Ka(this)&&this.focus()});const n=Ie.findOne(TI);n&&n!==e&&Ar.getInstance(n).hide(),Ar.getOrCreateInstance(e).toggle(this)});te.on(window,_F,()=>{for(const t of Ie.find(TI))Ar.getOrCreateInstance(t).show()});te.on(window,TF,()=>{for(const t of Ie.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Ar.getOrCreateInstance(t).hide()});bd(Ar);fs(Ar);const PF=/^aria-[\w-]*$/i,II={"*":["class","dir","id","lang","role",PF],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},OF=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),DF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,NF=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?OF.has(n)?!!DF.test(t.nodeValue):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(n))};function kF(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const i=new window.DOMParser().parseFromString(t,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const o of r){const l=o.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){o.remove();continue}const c=[].concat(...o.attributes),h=[].concat(e["*"]||[],e[l]||[]);for(const d of c)NF(d,h)||o.removeAttribute(d.nodeName)}return i.body.innerHTML}const xF="TemplateFactory",LF={allowList:II,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},VF={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},MF={entry:"(string|element|function|null)",selector:"(string|element)"};class $F extends Lc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return LF}static get DefaultType(){return VF}static get NAME(){return xF}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(e,r,i);const n=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,s]of Object.entries(e))super._typeCheckConfig({selector:n,entry:s},MF)}_setContent(e,n,s){const i=Ie.findOne(s,e);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(Ei(n)){this._putElementInTemplate(wr(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(e){return this._config.sanitize?kF(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return $n(e,[void 0,this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const FF="tooltip",UF=new Set(["sanitize","allowList","sanitizeFn"]),Cf="fade",jF="modal",Ru="show",BF=".tooltip-inner",fE=`.${jF}`,pE="hide.bs.modal",Sl="hover",Sf="focus",HF="click",qF="manual",WF="hide",zF="hidden",KF="show",GF="shown",YF="inserted",QF="click",XF="focusin",JF="focusout",ZF="mouseenter",e4="mouseleave",t4={AUTO:"auto",TOP:"top",RIGHT:hs()?"left":"right",BOTTOM:"bottom",LEFT:hs()?"right":"left"},n4={allowList:II,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},s4={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ya extends Rs{constructor(e,n){if(typeof JA>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return n4}static get DefaultType(){return s4}static get NAME(){return FF}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),te.off(this._element.closest(fE),pE,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=te.trigger(this._element,this.constructor.eventName(KF)),s=(tI(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),te.trigger(this._element,this.constructor.eventName(YF))),this._popper=this._createPopper(i),i.classList.add(Ru),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))te.on(l,"mouseover",Dh);const o=()=>{te.trigger(this._element,this.constructor.eventName(GF)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||te.trigger(this._element,this.constructor.eventName(WF)).defaultPrevented)return;if(this._getTipElement().classList.remove(Ru),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))te.off(i,"mouseover",Dh);this._activeTrigger[HF]=!1,this._activeTrigger[Sf]=!1,this._activeTrigger[Sl]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),te.trigger(this._element,this.constructor.eventName(zF)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Cf,Ru),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=HM(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(Cf),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new $F({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[BF]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Cf)}_isShown(){return this.tip&&this.tip.classList.contains(Ru)}_createPopper(e){const n=$n(this._config.placement,[this,e,this._element]),s=t4[n.toUpperCase()];return lg(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return $n(e,[this._element,this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...$n(this._config.popperConfig,[void 0,n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")te.on(this._element,this.constructor.eventName(QF),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==qF){const s=n===Sl?this.constructor.eventName(ZF):this.constructor.eventName(XF),i=n===Sl?this.constructor.eventName(e4):this.constructor.eventName(JF);te.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusin"?Sf:Sl]=!0,o._enter()}),te.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusout"?Sf:Sl]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},te.on(this._element.closest(fE),pE,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=bi.getDataAttributes(this._element);for(const s of Object.keys(n))UF.has(s)&&delete n[s];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:wr(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,s]of Object.entries(this._config))this.constructor.Default[n]!==s&&(e[n]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=Ya.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}fs(Ya);const i4="popover",r4=".popover-header",o4=".popover-body",a4={...Ya.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},l4={...Ya.DefaultType,content:"(null|string|element|function)"};class dg extends Ya{static get Default(){return a4}static get DefaultType(){return l4}static get NAME(){return i4}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[r4]:this._getTitle(),[o4]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=dg.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}fs(dg);const c4="scrollspy",u4="bs.scrollspy",fg=`.${u4}`,h4=".data-api",d4=`activate${fg}`,mE=`click${fg}`,f4=`load${fg}${h4}`,p4="dropdown-item",Zo="active",m4='[data-bs-spy="scroll"]',Rf="[href]",g4=".nav, .list-group",gE=".nav-link",_4=".nav-item",v4=".list-group-item",y4=`${gE}, ${_4} > ${gE}, ${v4}`,E4=".dropdown",b4=".dropdown-toggle",w4={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},T4={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ad extends Rs{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return w4}static get DefaultType(){return T4}static get NAME(){return c4}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=wr(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(te.off(this._config.target,mE),te.on(this._config.target,mE,Rf,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const s=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:i,behavior:"smooth"});return}s.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const l=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&l){if(s(o),!i)return;continue}!r&&!l&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Ie.find(Rf,this._config.target);for(const n of e){if(!n.hash||Tr(n))continue;const s=Ie.findOne(decodeURI(n.hash),this._element);Ka(s)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Zo),this._activateParents(e),te.trigger(this._element,d4,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(p4)){Ie.findOne(b4,e.closest(E4)).classList.add(Zo);return}for(const n of Ie.parents(e,g4))for(const s of Ie.prev(n,y4))s.classList.add(Zo)}_clearActiveClass(e){e.classList.remove(Zo);const n=Ie.find(`${Rf}.${Zo}`,e);for(const s of n)s.classList.remove(Zo)}static jQueryInterface(e){return this.each(function(){const n=Ad.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}te.on(window,f4,()=>{for(const t of Ie.find(m4))Ad.getOrCreateInstance(t)});fs(Ad);const A4="tab",I4="bs.tab",Po=`.${I4}`,C4=`hide${Po}`,S4=`hidden${Po}`,R4=`show${Po}`,P4=`shown${Po}`,O4=`click${Po}`,D4=`keydown${Po}`,N4=`load${Po}`,k4="ArrowLeft",_E="ArrowRight",x4="ArrowUp",vE="ArrowDown",Pf="Home",yE="End",ao="active",EE="fade",Of="show",L4="dropdown",CI=".dropdown-toggle",V4=".dropdown-menu",Df=`:not(${CI})`,M4='.list-group, .nav, [role="tablist"]',$4=".nav-item, .list-group-item",F4=`.nav-link${Df}, .list-group-item${Df}, [role="tab"]${Df}`,SI='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Nf=`${F4}, ${SI}`,U4=`.${ao}[data-bs-toggle="tab"], .${ao}[data-bs-toggle="pill"], .${ao}[data-bs-toggle="list"]`;class Va extends Rs{constructor(e){super(e),this._parent=this._element.closest(M4),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),te.on(this._element,D4,n=>this._keydown(n)))}static get NAME(){return A4}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),s=n?te.trigger(n,C4,{relatedTarget:e}):null;te.trigger(e,R4,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(ao),this._activate(Ie.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Of);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),te.trigger(e,P4,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(EE))}_deactivate(e,n){if(!e)return;e.classList.remove(ao),e.blur(),this._deactivate(Ie.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Of);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),te.trigger(e,S4,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(EE))}_keydown(e){if(![k4,_E,x4,vE,Pf,yE].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(i=>!Tr(i));let s;if([Pf,yE].includes(e.key))s=n[e.key===Pf?0:n.length-1];else{const i=[_E,vE].includes(e.key);s=cg(n,e.target,i,!0)}s&&(s.focus({preventScroll:!0}),Va.getOrCreateInstance(s).show())}_getChildren(){return Ie.find(Nf,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",n),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=Ie.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const s=this._getOuterElement(e);if(!s.classList.contains(L4))return;const i=(r,o)=>{const l=Ie.findOne(r,s);l&&l.classList.toggle(o,n)};i(CI,ao),i(V4,Of),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,s){e.hasAttribute(n)||e.setAttribute(n,s)}_elemIsActive(e){return e.classList.contains(ao)}_getInnerElement(e){return e.matches(Nf)?e:Ie.findOne(Nf,e)}_getOuterElement(e){return e.closest($4)||e}static jQueryInterface(e){return this.each(function(){const n=Va.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}te.on(document,O4,SI,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Tr(this)&&Va.getOrCreateInstance(this).show()});te.on(window,N4,()=>{for(const t of Ie.find(U4))Va.getOrCreateInstance(t)});fs(Va);const j4="toast",B4="bs.toast",Pr=`.${B4}`,H4=`mouseover${Pr}`,q4=`mouseout${Pr}`,W4=`focusin${Pr}`,z4=`focusout${Pr}`,K4=`hide${Pr}`,G4=`hidden${Pr}`,Y4=`show${Pr}`,Q4=`shown${Pr}`,X4="fade",bE="hide",Pu="show",Ou="showing",J4={animation:"boolean",autohide:"boolean",delay:"number"},Z4={animation:!0,autohide:!0,delay:5e3};class Id extends Rs{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Z4}static get DefaultType(){return J4}static get NAME(){return j4}show(){if(te.trigger(this._element,Y4).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(X4);const n=()=>{this._element.classList.remove(Ou),te.trigger(this._element,Q4),this._maybeScheduleHide()};this._element.classList.remove(bE),xc(this._element),this._element.classList.add(Pu,Ou),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||te.trigger(this._element,K4).defaultPrevented)return;const n=()=>{this._element.classList.add(bE),this._element.classList.remove(Ou,Pu),te.trigger(this._element,G4)};this._element.classList.add(Ou),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Pu),super.dispose()}isShown(){return this._element.classList.contains(Pu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){te.on(this._element,H4,e=>this._onInteraction(e,!0)),te.on(this._element,q4,e=>this._onInteraction(e,!1)),te.on(this._element,W4,e=>this._onInteraction(e,!0)),te.on(this._element,z4,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Id.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}bd(Id);fs(Id);const eU={name:"Footer",data(){return{modalInstance:null,selectedLangue:"fr",selectedDevise:"EUR",langues:[{value:"fr",text:"Franais"},{value:"en",text:"Anglais"},{value:"es",text:"Espagnol"}],devises:[{value:"EUR",text:"Euro ()"},{value:"USD",text:"Dollar ($)"},{value:"GBP",text:"Livre ()"}]}},mounted(){const t=this.$refs.preferencesModal;this.modalInstance=new bo(t);const e=localStorage.getItem("langue"),n=localStorage.getItem("devise");e&&(this.selectedLangue=e),n&&(this.selectedDevise=n)},methods:{getLangueText(t){const e=this.langues.find(n=>n.value===t);return e?e.text:"Langue"},getDeviseText(t){const e=this.devises.find(n=>n.value===t);return e?e.text:"Devise"},openModal(){this.modalInstance&&this.modalInstance.show()},appliquerPreferences(){localStorage.setItem("langue",this.selectedLangue),localStorage.setItem("devise",this.selectedDevise),this.modalInstance&&this.modalInstance.hide()}}},tU={class:"modal fade",id:"preferencesModal",ref:"preferencesModal",tabindex:"-1","aria-labelledby":"preferencesModalLabel","aria-hidden":"true"},nU={class:"modal-dialog modal-dialog-centered"},sU={class:"modal-content"},iU={class:"modal-body"},rU={class:"mb-3"},oU=["value"],aU={class:"mb-3"},lU=["value"],cU={class:"modal-footer"};function uU(t,e,n,s,i,r){return be(),Te("footer",null,[e[8]||(e[8]=Nb('<p class="footer-text" data-v-2af8034d> 2025 Instant Geek</p><div class="footer-links" data-v-2af8034d><a class="footer-link" href="/about" data-v-2af8034d> propos</a> | <a class="footer-link" href="/privacy-policy" data-v-2af8034d>Politique de confidentialit</a> | <a class="footer-link" href="/terms-of-service" data-v-2af8034d>Conditions de ventes</a> | <a class="footer-link" href="/contact" data-v-2af8034d>Nous Contacter</a></div>',2)),D("div",null,[D("button",{class:"footer-button btn btn-primary",onClick:e[0]||(e[0]=(...o)=>r.openModal&&r.openModal(...o))},_t(r.getLangueText(i.selectedLangue))+" | "+_t(r.getDeviseText(i.selectedDevise)),1)]),D("div",tU,[D("div",nU,[D("div",sU,[e[7]||(e[7]=D("div",{class:"modal-header"},[D("h5",{class:"modal-title",id:"preferencesModalLabel"},"Prfrences"),D("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),D("div",iU,[D("form",null,[D("div",rU,[e[4]||(e[4]=D("label",{for:"langueSelect",class:"form-label"},"Langue :",-1)),is(D("select",{class:"form-select",id:"langueSelect","onUpdate:modelValue":e[1]||(e[1]=o=>i.selectedLangue=o)},[(be(!0),Te(wt,null,wi(i.langues,o=>(be(),Te("option",{key:o.value,value:o.value},_t(o.text),9,oU))),128))],512),[[U_,i.selectedLangue]])]),D("div",aU,[e[5]||(e[5]=D("label",{for:"deviseSelect",class:"form-label"},"Devise :",-1)),is(D("select",{class:"form-select",id:"deviseSelect","onUpdate:modelValue":e[2]||(e[2]=o=>i.selectedDevise=o)},[(be(!0),Te(wt,null,wi(i.devises,o=>(be(),Te("option",{key:o.value,value:o.value},_t(o.text),9,lU))),128))],512),[[U_,i.selectedDevise]])])])]),D("div",cU,[e[6]||(e[6]=D("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Annuler",-1)),D("button",{type:"button",class:"btn btn-primary",onClick:e[3]||(e[3]=(...o)=>r.appliquerPreferences&&r.appliquerPreferences(...o))},"Appliquer")])])])],512)])}const Cd=Ss(eU,[["render",uU],["__scopeId","data-v-2af8034d"]]),hU="/assets/img/Logo.png",pg=jb("auth",{state:()=>({user:null,isLoading:!0,userData:null,userWishlistCount:null,_authListenerUnsubscribe:null,_wishlistListenerUnsubscribe:null}),getters:{isLoggedIn:t=>!!t.user,currentUsername:t=>t.userData&&t.userData.displayName?t.userData.displayName:t.user&&t.user.displayName?t.user.displayName:t.user&&t.user.email?t.user.email.split("@")[0]:"Invit"},actions:{initAuthListener(){this._authListenerUnsubscribe||(this._authListenerUnsubscribe=Bx(Wa,async t=>{if(this.isLoading=!0,t){this.user=t;const e=br(Cs,"users",t.uid),n=await Lm(e);n.exists()?this.userData=n.data():(this.userData=null,console.warn("L'utilisateur est authentifi mais pas de donnes trouves dans Firestore.")),this.listenToUserWishlist()}else this.user=null,this.userData=null,this._wishlistListenerUnsubscribe&&(this._wishlistListenerUnsubscribe(),this._wishlistListenerUnsubscribe=null),this.userWishlistCount=null;this.isLoading=!1}))},listenToUserWishlist(){if(this._wishlistListenerUnsubscribe&&this._wishlistListenerUnsubscribe(),!this.user)return;const t=br(Cs,"users",this.user.uid,"privateData","wishlist");this._wishlistListenerUnsubscribe=$m(t,e=>{e.exists()&&e.data().items?this.userWishlistCount=e.data().items.length:this.userWishlistCount=0},e=>{console.error("Erreur lors de l'coute de la wishlist:",e),this.userWishlistCount=0})},cleanupListeners(){this._authListenerUnsubscribe&&this._authListenerUnsubscribe(),this._wishlistListenerUnsubscribe&&this._wishlistListenerUnsubscribe()}}});async function dU(t,e,n){const i=(await Vx(Wa,t,e)).user,r=t.split("@")[0];return await Fx(i,{displayName:r}),await pd(br(Cs,"users",i.uid),{uid:i.uid,email:i.email,displayName:r,createdAt:new Date}),i}async function fU(t,e){return(await Mx(Wa,t,e)).user}async function pU(){const t=new pi,n=(await cL(Wa,t)).user,s=br(Cs,"users",n.uid),i=await Lm(s),r={uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL};return i.exists()||(r.createdAt=new Date),await pd(s,r,{merge:!0}),n}async function mU(){await Hx(Wa)}async function gU(t){await Lx(Wa,t)}const _U={class:"navbar navbar-expand-lg shadow-sm"},vU={class:"container-fluid"},yU={class:"navbar-center-content flex-grow-1 d-flex justify-content-center align-items-center"},EU={class:"ig-stepper"},bU={class:"navbar-nav d-none d-lg-flex position-absolute top-50 start-50 translate-middle"},wU={class:"nav-item"},TU={class:"nav-item"},AU={class:"nav-item"},IU={class:"d-flex align-items-center ms-auto"},CU={class:"nav-item dropdown"},SU={key:0,class:"bi bi-person-fill connected-profile-icon navbar-icon"},RU={key:1,class:"bi bi-person-circle navbar-icon"},PU={key:0},OU={class:"dropdown-header"},DU={class:"d-lg-none"},NU={class:"d-lg-none"},kU={class:"d-lg-none"},xU={key:1,class:"d-lg-none"},LU={key:2},VU={key:3},MU={key:4},$U={key:5},FU={key:0,class:"badge bg-danger rounded-pill"},UU={key:1,class:"badge bg-danger rounded-pill"},jU={key:6},BU={key:7},HU={key:8},qU={__name:"Navbar",setup(t){const e=FP(),n=pg(),s=it(!0),i=it(!1);let r=null,o=null;const l=it(!1),c=it(""),h=it(null),d=it(null),m=()=>{l.value=!l.value,l.value?va(()=>{var C;(C=h.value)==null||C.focus()}):c.value=""},_=()=>{l.value=!1,c.value=""},y=()=>{c.value&&(console.log("Recherche PC lance pour :",c.value),_())},N=()=>{setTimeout(()=>{d.value&&!d.value.contains(document.activeElement)&&_()},150)},k=it(!1),L=it(""),F=it(null),U=()=>{k.value=!k.value,k.value?(i.value&&r&&r.hide(),va(()=>{var C;return(C=F.value)==null?void 0:C.focus()})):L.value=""},B=()=>{k.value=!1,L.value=""},j=()=>{L.value&&(console.log("Recherche Mobile lance pour :",L.value),B())},ne=async()=>{try{await mU(),console.log("Dconnexion russie !")}catch(C){console.error("Erreur lors de la dconnexion :",C)}},ie=()=>{r&&(i.value?r.hide():r.show()),k.value&&B()},O=()=>{s.value=!s.value,document.body.classList.toggle("dark-mode",s.value)};To(()=>{const C=document.getElementById("navbarDropdownProfile");C&&(r=new ws(C),C.addEventListener("show.bs.dropdown",()=>i.value=!0),C.addEventListener("hide.bs.dropdown",()=>i.value=!1)),document.body.classList.toggle("dark-mode",s.value)});const T=jt(()=>["/panier","/paiement","/validation"].includes(e.path)),w=jt(()=>{switch(e.path){case"/panier":return 1;case"/paiement":return 2;case"/validation":return 3;default:return 0}});return lr(e,()=>{i.value&&r&&r.hide(),l.value&&_(),k.value&&B()}),lr(()=>n.user,C=>{if(o&&o(),C){const A=br(Cs,"users",C.uid,"privateData","wishlist");o=$m(A,S=>{n.userWishlistCount=S.exists()&&S.data().items?S.data().items.length:0},S=>{console.error("Erreur d'coute wishlist:",S),n.userWishlistCount=0})}else n.userWishlistCount=null},{immediate:!0}),(C,A)=>{const S=bc("router-link");return be(),Te("nav",_U,[D("div",vU,[Ce(S,{class:"navbar-brand fw-bold me-auto",to:"/"},{default:Rt(()=>A[2]||(A[2]=[D("img",{src:hU,alt:"Logo",width:"150",height:"50",class:"d-inline-block align-text-top"},null,-1)])),_:1}),T.value?(be(),Te(wt,{key:0},[D("div",yU,[D("div",EU,[D("div",{class:Cn(["step",{completed:w.value>1,active:w.value===1}])},A[3]||(A[3]=[D("div",{class:"step-circle"},"1",-1),D("div",{class:"step-label"},"Panier",-1)]),2),D("div",{class:Cn(["step-line",{completed:w.value>=2}])},null,2),D("div",{class:Cn(["step",{completed:w.value>2,active:w.value===2}])},A[4]||(A[4]=[D("div",{class:"step-circle"},"2",-1),D("div",{class:"step-label"},"Paiement",-1)]),2),D("div",{class:Cn(["step-line",{completed:w.value>=3}])},null,2),D("div",{class:Cn(["step",{completed:w.value>3,active:w.value===3}])},A[5]||(A[5]=[D("div",{class:"step-circle"},"3",-1),D("div",{class:"step-label"},"Validation",-1)]),2)])]),A[6]||(A[6]=Nb('<div class="secure-payment-cart d-flex align-items-center ms-auto" data-v-0c1cad56><i class="bi bi-check-circle-fill secure-icon-cart me-2" data-v-0c1cad56></i><div class="text-end" data-v-0c1cad56><span class="secure-text-cart d-block" data-v-0c1cad56>Paiement scuris</span><span class="ssl-text-cart d-block" data-v-0c1cad56>SSL Secured</span></div></div>',1))],64)):(be(),Te(wt,{key:1},[D("form",{class:Cn(["search-form-mobile-overlay d-lg-none",{active:k.value}]),onSubmit:so(j,["prevent"])},[is(D("input",{class:"form-control me-2 search-input-mobile-overlay",type:"search",placeholder:"Rechercher...","aria-label":"Search","onUpdate:modelValue":A[0]||(A[0]=I=>L.value=I),ref_key:"searchInputMobileRef",ref:F},null,512),[[js,L.value]]),A[8]||(A[8]=D("button",{class:"btn search-submit-btn",type:"submit"},[D("i",{class:"bi bi-search"})],-1)),D("button",{class:"btn search-close-btn-mobile-overlay",type:"button",onClick:B},A[7]||(A[7]=[D("i",{class:"bi bi-x-lg"},null,-1)]))],34),D("ul",bU,[D("li",wU,[Ce(S,{class:"nav-link",to:"/nouveautes"},{default:Rt(()=>A[9]||(A[9]=[en("Nouveauts")])),_:1})]),D("li",TU,[Ce(S,{class:"nav-link",to:"/precommandes"},{default:Rt(()=>A[10]||(A[10]=[en("Prcommandes")])),_:1})]),D("li",AU,[Ce(S,{class:"nav-link",to:"/prochaines-sorties"},{default:Rt(()=>A[11]||(A[11]=[en("Prochaines sorties")])),_:1})])]),D("div",IU,[Ce(T_,{name:"fade"},{default:Rt(()=>[k.value?ss("",!0):(be(),Te("button",{key:0,class:"btn btn-outline-secondary d-lg-none search-icon-mobile",type:"button",onClick:U},A[12]||(A[12]=[D("i",{class:"bi bi-search navbar-icon"},null,-1)])))]),_:1}),Ce(T_,{name:"fade"},{default:Rt(()=>[l.value?ss("",!0):(be(),Te("button",{key:"search-icon",class:"btn btn-outline-secondary d-none d-lg-block search-icon-desktop",type:"button",onClick:m},A[13]||(A[13]=[D("i",{class:"bi bi-search navbar-icon"},null,-1)])))]),_:1}),D("form",{class:Cn(["search-form d-none d-lg-flex",{active:l.value}]),onSubmit:so(y,["prevent"]),ref_key:"searchFormRef",ref:d},[is(D("input",{class:"form-control me-2 search-input",type:"search",placeholder:"Rechercher...","aria-label":"Search","onUpdate:modelValue":A[1]||(A[1]=I=>c.value=I),ref_key:"searchInputRef",ref:h,onBlur:N},null,544),[[js,c.value]]),A[15]||(A[15]=D("button",{class:"btn search-submit-btn",type:"submit"},[D("i",{class:"bi bi-search"})],-1)),l.value?(be(),Te("button",{key:0,class:"btn search-close-btn",type:"button",onClick:_},A[14]||(A[14]=[D("i",{class:"bi bi-x-lg"},null,-1)]))):ss("",!0)],34),D("div",CU,[D("a",{class:"nav-link text ms-2 dropdown-toggle-no-caret",href:"#",id:"navbarDropdownProfile",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:ie},[mt(n).isLoggedIn?(be(),Te("i",SU)):(be(),Te("i",RU))]),D("ul",{class:Cn(["dropdown-menu dropdown-menu-end profile-dropdown-menu",{show:i.value}]),"aria-labelledby":"navbarDropdownProfile"},[mt(n).isLoggedIn?(be(),Te("li",PU,[D("span",OU,"Bienvenue, "+_t(mt(n).currentUsername)+"!",1),A[16]||(A[16]=D("hr",{class:"dropdown-divider"},null,-1))])):ss("",!0),D("li",DU,[Ce(S,{class:"dropdown-item",to:"/nouveautes"},{default:Rt(()=>A[17]||(A[17]=[en("Nouveauts")])),_:1})]),D("li",NU,[Ce(S,{class:"dropdown-item",to:"/precommandes"},{default:Rt(()=>A[18]||(A[18]=[en("Prcommandes")])),_:1})]),D("li",kU,[Ce(S,{class:"dropdown-item",to:"/prochaines-sorties"},{default:Rt(()=>A[19]||(A[19]=[en("Prochaines sorties")])),_:1})]),mt(n).isLoggedIn?ss("",!0):(be(),Te("li",xU,A[20]||(A[20]=[D("hr",{class:"dropdown-divider"},null,-1)]))),D("li",null,[Ce(S,{class:"dropdown-item",to:"/support"},{default:Rt(()=>A[21]||(A[21]=[en("Support 24/7")])),_:1})]),mt(n).isLoggedIn?(be(),Te("li",LU,[Ce(S,{class:"dropdown-item",to:"/dashboard"},{default:Rt(()=>A[22]||(A[22]=[en("Dashboard")])),_:1})])):ss("",!0),mt(n).isLoggedIn?(be(),Te("li",VU,[Ce(S,{class:"dropdown-item",to:"/mes-achats"},{default:Rt(()=>A[23]||(A[23]=[en("Mes achats")])),_:1})])):ss("",!0),mt(n).isLoggedIn?(be(),Te("li",MU,[Ce(S,{class:"dropdown-item d-flex justify-content-between align-items-center",to:"/partenariat"},{default:Rt(()=>A[24]||(A[24]=[en("Partenariat "),D("span",{class:"badge bg-secondary"},"0.00 ",-1)])),_:1})])):ss("",!0),mt(n).isLoggedIn?(be(),Te("li",$U,[Ce(S,{class:"dropdown-item d-flex justify-content-between align-items-center",to:"/wishlist"},{default:Rt(()=>[A[25]||(A[25]=en("Wishlist ")),mt(n).userWishlistCount!==null?(be(),Te("span",FU,_t(mt(n).userWishlistCount),1)):(be(),Te("span",UU,"0"))]),_:1})])):ss("",!0),mt(n).isLoggedIn?(be(),Te("li",jU,[Ce(S,{class:"dropdown-item",to:"/parametres"},{default:Rt(()=>A[26]||(A[26]=[en("Paramtres")])),_:1})])):ss("",!0),mt(n).isLoggedIn?(be(),Te("li",BU,A[27]||(A[27]=[D("hr",{class:"dropdown-divider"},null,-1)]))):ss("",!0),D("li",null,[D("button",{class:"dropdown-item d-flex justify-content-between align-items-center",onClick:so(O,["stop"])},[D("span",null,_t(s.value?"Mode clair":"Mode sombre"),1),D("i",{class:Cn(s.value?"bi bi-sun-fill":"bi bi-moon-stars-fill")},null,2)])]),mt(n).isLoggedIn?(be(),Te("li",HU,A[28]||(A[28]=[D("hr",{class:"dropdown-divider"},null,-1)]))):ss("",!0),D("li",null,[mt(n).isLoggedIn?(be(),Te("a",{key:1,class:"dropdown-item custom-auth-link",href:"#",onClick:so(ne,["prevent"])},"Dconnexion")):(be(),Ob(S,{key:0,class:"dropdown-item custom-auth-link",to:"/connexion"},{default:Rt(()=>A[29]||(A[29]=[en("Se connecter")])),_:1}))])],2)]),Ce(S,{class:"nav-link text ms-2",to:"/panier"},{default:Rt(()=>A[30]||(A[30]=[D("i",{class:"bi bi-cart3 navbar-icon"},null,-1)])),_:1})])],64))])])}}},$c=Ss(qU,[["__scopeId","data-v-0c1cad56"]]),WU={__name:"Accueil",setup(t){return(e,n)=>(be(),Te(wt,null,[Ce($c),Ce(_V),Ce(SV),Ce(HV),Ce(ZV),Ce(Cd)],64))}},zU={__name:"Nouveautes",setup(t){return(e,n)=>(be(),Te(wt,null,[Ce($c),n[0]||(n[0]=D("div",null,[D("h1",null,"Nouveauts"),D("p",null,"Dcouvrez ici les dernires nouveauts.")],-1)),Ce(Cd)],64))}},KU={class:"container-fluid py-2 preco"},GU={id:"precoIn"},YU={class:"game-card"},QU=["href"],XU=["src","alt"],JU={class:"game-text"},ZU={class:"titre"},e6={class:"prix"},t6={class:"dateSortie"},n6={__name:"PrecoPage",setup(t){const e=it([]),n=async()=>{const s=wm(Cs,"games"),i=new Date;i.setHours(0,0,0,0);const r=Om(s,Dm("dateSortie",">=",i),HT("dateSortie"));try{const o=await Mm(r);e.value=[],o.forEach(l=>{const c=l.data();e.value.push({id:l.id,titre:c.name,link:c.link,image:c.image,price:`${c.price}`,date:c.dateSortie.toDate().toLocaleDateString("fr-FR")})})}catch(o){console.error("Erreur lors de la rcupration des jeux :",o)}};return To(()=>{n()}),(s,i)=>(be(),Te("div",KU,[D("div",null,[i[0]||(i[0]=D("h1",{class:"mt-3"},"Prcommandes",-1)),i[1]||(i[1]=D("p",{class:"mb-5"},"Rservez ds maintenant les articles  venir.",-1)),D("ul",GU,[(be(!0),Te(wt,null,wi(e.value,r=>(be(),Te("li",{key:r.id},[D("div",YU,[D("a",{href:r.link},[D("img",{src:`/assets/img/preview/${r.image}`,alt:r.titre},null,8,XU)],8,QU),D("div",JU,[D("h3",ZU,_t(r.titre),1),D("h3",e6,_t(r.price),1)]),D("p",t6,_t(r.date),1)])]))),128))])])]))}},s6=Ss(n6,[["__scopeId","data-v-7f2bdaa9"]]),i6={__name:"Precommandes",setup(t){return(e,n)=>(be(),Te(wt,null,[Ce($c),D("div",null,[Ce(s6)]),Ce(Cd)],64))}},r6={__name:"ProchainesSorties",setup(t){return(e,n)=>(be(),Te(wt,null,[Ce($c),n[0]||(n[0]=D("div",null,[D("h1",null,"Prochaines sorties"),D("p",null,"Consultez la liste de nos prochaines sorties.")],-1)),Ce(Cd)],64))}},o6="/assets/img/inscription.jpg",a6={class:"login-page-wrapper vh-100 d-flex align-items-center justify-content-center"},l6={class:"login-card-container d-flex shadow-lg"},c6={class:"login-form-section p-4 d-flex flex-column justify-content-center align-items-center text-center"},u6={class:"form-group mb-3 text-start"},h6={class:"form-group mb-3 text-start"},d6={class:"form-group mb-3 text-start"},f6={class:"form-group mb-3 text-start"},p6={class:"form-group mb-3 text-start"},m6={class:"form-group mb-4 text-start"},g6={class:"d-flex justify-content-center w-100 mt-4 small-links"},_6={class:"login-image-section d-none d-md-flex align-items-center justify-content-center p-0"},v6={__name:"Inscription",setup(t){const e=it(""),n=it(""),s=it(""),i=it(""),r=it(""),o=it(""),l=Wp();async function c(){try{const h=await dU(e.value,n.value);if(h&&h.uid)await pd(br(Cs,"users",h.uid),{email:e.value,username:s.value,firstname:i.value,birthdate:r.value,country:o.value,createdAt:new Date},{merge:!0}),alert("Compte cr avec succs !"),l.push("/");else throw new Error("L'utilisateur n'a pas t cr correctement par Firebase.")}catch(h){alert("Erreur lors de l'inscription : "+h.message)}}return(h,d)=>{const m=bc("router-link");return be(),Te("div",a6,[D("div",l6,[D("div",c6,[d[14]||(d[14]=D("h2",{class:"login-title mb-4 text-white"},"inscription",-1)),D("form",{onSubmit:so(c,["prevent"]),class:"w-100"},[D("div",u6,[d[6]||(d[6]=D("label",{for:"email",class:"form-label text-uppercase text-white-50"},"Email",-1)),is(D("input",{id:"email","onUpdate:modelValue":d[0]||(d[0]=_=>e.value=_),type:"email",class:"form-control login-input",required:"","aria-label":"Email"},null,512),[[js,e.value]])]),D("div",h6,[d[7]||(d[7]=D("label",{for:"password",class:"form-label text-uppercase text-white-50"},"Mot de passe",-1)),is(D("input",{id:"password","onUpdate:modelValue":d[1]||(d[1]=_=>n.value=_),type:"password",class:"form-control login-input",required:"","aria-label":"Mot de passe"},null,512),[[js,n.value]])]),D("div",d6,[d[8]||(d[8]=D("label",{for:"username",class:"form-label text-uppercase text-white-50"},"Nom",-1)),is(D("input",{id:"username","onUpdate:modelValue":d[2]||(d[2]=_=>s.value=_),type:"text",class:"form-control login-input",required:"","aria-label":"Nom d'utilisateur"},null,512),[[js,s.value]])]),D("div",f6,[d[9]||(d[9]=D("label",{for:"firstname",class:"form-label text-uppercase text-white-50"},"Prnom",-1)),is(D("input",{id:"firstname","onUpdate:modelValue":d[3]||(d[3]=_=>i.value=_),type:"text",class:"form-control login-input",required:"","aria-label":"Prnom"},null,512),[[js,i.value]])]),D("div",p6,[d[10]||(d[10]=D("label",{for:"birthdate",class:"form-label text-uppercase text-white-50"},"Date de naissance",-1)),is(D("input",{id:"birthdate","onUpdate:modelValue":d[4]||(d[4]=_=>r.value=_),type:"date",class:"form-control login-input",required:"","aria-label":"Date de naissance"},null,512),[[js,r.value]])]),D("div",m6,[d[11]||(d[11]=D("label",{for:"country",class:"form-label text-uppercase text-white-50"},"Pays",-1)),is(D("input",{id:"country","onUpdate:modelValue":d[5]||(d[5]=_=>o.value=_),type:"text",class:"form-control login-input",required:"","aria-label":"Pays"},null,512),[[js,o.value]])]),d[12]||(d[12]=D("button",{type:"submit",class:"btn login-btn w-100"},"valider",-1))],32),D("div",g6,[Ce(m,{to:"/connexion",class:"text-decoration-none text-white-50"},{default:Rt(()=>d[13]||(d[13]=[D("i",{class:"bi bi-arrow-left me-2"},null,-1),en(" RETOUR ")])),_:1})])]),D("div",_6,[Ce(m,{to:"/",class:"close-button","aria-label":"Retour  l'accueil"},{default:Rt(()=>d[15]||(d[15]=[D("i",{class:"bi bi-x-lg"},null,-1)])),_:1}),d[16]||(d[16]=D("img",{src:o6,alt:"Illustration de jeux vido pour l'inscription",class:"img-fluid login-background-image"},null,-1))])])])}}},y6=Ss(v6,[["__scopeId","data-v-826e79dc"]]),E6="/assets/img/connexion.jpg",b6={class:"login-page-wrapper vh-100 d-flex align-items-center justify-content-center"},w6={class:"login-card-container d-flex shadow-lg"},T6={class:"login-form-section p-4 d-flex flex-column justify-content-center align-items-center text-center"},A6={class:"form-group mb-3 text-start"},I6={class:"form-group mb-4 text-start"},C6={class:"d-flex justify-content-between w-100 mt-3 small-links"},S6={class:"login-image-section d-none d-md-flex align-items-center justify-content-center p-0"},R6={__name:"Connexion",setup(t){const e=it(""),n=it(""),s=Wp();async function i(){try{await fU(e.value,n.value),alert("Connexion russie !"),s.push("/")}catch(l){alert("Erreur lors de la connexion : "+l.message)}}async function r(){try{await pU(),alert("Connexion Google russie !"),s.push("/")}catch(l){alert("Erreur avec Google : "+l.message)}}async function o(){if(!e.value){alert('Veuillez entrer votre adresse email dans le champ "Email" pour rinitialiser votre mot de passe.');return}try{await gU(e.value),alert("Un e-mail de rinitialisation de mot de passe a t envoy  "+e.value+". Veuillez vrifier votre bote de rception.")}catch(l){alert("Erreur lors de l'envoi de l'e-mail de rinitialisation : "+l.message)}}return(l,c)=>{const h=bc("router-link");return be(),Te("div",b6,[D("div",w6,[D("div",T6,[c[9]||(c[9]=D("h2",{class:"login-title mb-4"},"Se connecter",-1)),D("div",{class:"social-icons d-flex justify-content-center w-100 mb-4"},[D("button",{onClick:r,class:"btn social-icon-btn google-btn me-3","aria-label":"Se connecter avec Google"},c[2]||(c[2]=[D("i",{class:"bi bi-google"},null,-1)])),c[3]||(c[3]=D("button",{class:"btn social-icon-btn discord-btn me-3","aria-label":"Se connecter avec Discord"},[D("i",{class:"bi bi-discord"})],-1)),c[4]||(c[4]=D("button",{class:"btn social-icon-btn facebook-btn","aria-label":"Se connecter avec Facebook"},[D("i",{class:"bi bi-facebook"})],-1))]),c[10]||(c[10]=D("div",{class:"social-login-separator my-3"}," ou ",-1)),D("form",{onSubmit:so(i,["prevent"]),class:"w-100"},[D("div",A6,[c[5]||(c[5]=D("label",{for:"email",class:"form-label text-uppercase"},"Email",-1)),is(D("input",{id:"email","onUpdate:modelValue":c[0]||(c[0]=d=>e.value=d),type:"email",class:"form-control login-input",required:"","aria-label":"Email"},null,512),[[js,e.value]])]),D("div",I6,[c[6]||(c[6]=D("label",{for:"password",class:"form-label text-uppercase"},"Mot de passe",-1)),is(D("input",{id:"password","onUpdate:modelValue":c[1]||(c[1]=d=>n.value=d),type:"password",class:"form-control login-input",required:"","aria-label":"Mot de passe"},null,512),[[js,n.value]])]),c[7]||(c[7]=D("button",{type:"submit",class:"btn login-btn w-100"},"Se connecter",-1))],32),D("div",C6,[Ce(h,{to:"/inscription",class:"text-decoration-none"},{default:Rt(()=>c[8]||(c[8]=[en(" J'ai besoin de compte ? ")])),_:1}),D("a",{href:"#",onClick:so(o,["prevent"]),class:"text-decoration-none"}," Mot de passe oubli ? ")])]),D("div",S6,[Ce(h,{to:"/",class:"close-button","aria-label":"Retour  l'accueil"},{default:Rt(()=>c[11]||(c[11]=[D("i",{class:"bi bi-x-lg"},null,-1)])),_:1}),c[12]||(c[12]=D("img",{src:E6,alt:"Illustration de jeux vido",class:"img-fluid login-background-image"},null,-1))])])])}}},P6=Ss(R6,[["__scopeId","data-v-6422ba25"]]),Du="guestCart",RI=jb("cart",()=>{const t=it([]),e=pg();let n=null;const s=jt(()=>t.value.reduce((y,N)=>y+N.quantity,0)),i=jt(()=>t.value.reduce((N,k)=>N+k.price*k.quantity,0).toFixed(2));async function r(){if(e.isLoggedIn&&e.user){const y=br(Cs,"users",e.user.uid,"privateData","cart");await pd(y,{items:JSON.parse(JSON.stringify(t.value))})}}function o(){e.isLoggedIn||localStorage.setItem(Du,JSON.stringify(t.value))}function l(y){const N=t.value.find(k=>k.id===y.id);N?N.quantity++:t.value.push({...y,quantity:1}),e.isLoggedIn?r():o()}function c(y){t.value=t.value.filter(N=>N.id!==y),e.isLoggedIn?r():o()}function h(y){const N=t.value.find(k=>k.id===y);N&&N.quantity++,e.isLoggedIn?r():o()}function d(y){const N=t.value.find(k=>k.id===y);if(N&&N.quantity>1)N.quantity--;else if(N&&N.quantity===1){c(y);return}e.isLoggedIn?r():o()}function m(){t.value=[],e.isLoggedIn?r():o()}async function _(){lr(()=>e.user,async(y,N)=>{if(n&&(n(),n=null),y){const k=br(Cs,"users",y.uid,"privateData","cart"),L=JSON.parse(localStorage.getItem(Du)||"[]"),F=await Lm(k),B=[...F.exists()?F.data().items:[]];L.forEach(j=>{const ne=B.find(ie=>ie.id===j.id);ne?ne.quantity+=j.quantity:B.push(j)}),t.value=B,await r(),localStorage.removeItem(Du),n=$m(k,j=>{t.value=j.exists()?j.data().items:[]})}else{const k=JSON.parse(localStorage.getItem(Du)||"[]");t.value=k}},{immediate:!0})}return{items:t,totalItems:s,totalPrice:i,addItem:l,removeItem:c,increaseQuantity:h,decreaseQuantity:d,clearCart:m,init:_}}),O6={class:"panier-container container py-5"},D6={class:"row g-4 mt-4"},N6={class:"col-lg-8"},k6={class:"cart-items-list"},x6={key:0,class:"empty-cart-message"},L6=["src","alt"],V6={class:"item-details"},M6={class:"item-name"},$6={class:"item-price-unit"},F6={class:"item-quantity-controls"},U6=["onClick"],j6={class:"quantity-display"},B6=["onClick"],H6={class:"item-subtotal"},q6={class:"mb-0"},W6=["onClick"],z6={class:"col-lg-4"},K6={class:"order-summary"},G6={class:"summary-details mt-4"},Y6={class:"d-flex justify-content-between fw-bold summary-total-final"},Q6={class:"display-6"},X6=["disabled"],J6={__name:"Panier",setup(t){const e=RI();return Wp(),(n,s)=>{const i=bc("router-link");return be(),Te(wt,null,[Ce($c),D("div",O6,[D("div",D6,[D("div",N6,[D("div",k6,[mt(e).items.length===0?(be(),Te("div",x6,[s[1]||(s[1]=D("i",{class:"bi bi-bag-fill empty-cart-icon"},null,-1)),s[2]||(s[2]=D("h3",null,"Votre panier est vide.",-1)),s[3]||(s[3]=D("p",null,"Dcouvrez notre catalogue de jeux et remplissez votre collection !",-1)),Ce(i,{to:"/",class:"btn btn-primary mt-3"},{default:Rt(()=>s[0]||(s[0]=[en("Explorer le catalogue")])),_:1})])):(be(!0),Te(wt,{key:1},wi(mt(e).items,r=>(be(),Te("div",{key:r.id,class:"cart-item"},[D("img",{src:r.image,alt:r.name,class:"item-image"},null,8,L6),D("div",V6,[D("h5",M6,_t(r.name),1),D("p",$6,_t(r.price)+" ",1)]),D("div",F6,[D("button",{class:"btn-quantity",onClick:o=>mt(e).decreaseQuantity(r.id)},s[4]||(s[4]=[D("i",{class:"bi bi-dash"},null,-1)]),8,U6),D("span",j6,_t(r.quantity),1),D("button",{class:"btn-quantity",onClick:o=>mt(e).increaseQuantity(r.id)},s[5]||(s[5]=[D("i",{class:"bi bi-plus"},null,-1)]),8,B6)]),D("div",H6,[D("p",q6,_t((r.price*r.quantity).toFixed(2))+" ",1)]),D("button",{class:"btn-delete",onClick:o=>mt(e).removeItem(r.id)},s[6]||(s[6]=[D("i",{class:"bi bi-trash-fill"},null,-1)]),8,W6)]))),128))])]),D("div",z6,[D("div",K6,[s[10]||(s[10]=D("h3",{class:"summary-title"},"RSUM DE LA COMMANDE",-1)),D("div",G6,[D("div",Y6,[s[7]||(s[7]=D("span",null,"TOTAL :",-1)),D("span",Q6,_t(mt(e).totalPrice)+" ",1)]),s[8]||(s[8]=D("p",{class:"mt-3 text-muted small"}," *Livraison instantane par cl numrique. ",-1))]),D("button",{class:"btn-validate",disabled:mt(e).items.length===0}," VALIDER MA COMMANDE ",8,X6),Ce(i,{to:"/",class:"btn btn-continue-shopping mt-3"},{default:Rt(()=>s[9]||(s[9]=[en(" Continuer mes achats ")])),_:1})])])])])],64)}}},Z6=Ss(J6,[["__scopeId","data-v-e778cf63"]]),ej=MP({history:dP("/"),routes:[{path:"/",name:"accueil",component:WU},{path:"/nouveautes",name:"nouveautes",component:zU},{path:"/precommandes",name:"precommandes",component:i6},{path:"/prochaines-sorties",name:"prochaines-sorties",component:r6},{path:"/inscription",name:"inscription",component:y6},{path:"/connexion",name:"connexion",component:P6},{path:"/panier",name:"panier",component:Z6}],linkActiveClass:"active"}),mg=AR(LR),tj=SR();mg.use(tj);mg.use(ej);const nj=pg();nj.initAuthListener();const sj=RI();sj.init();mg.mount("#app");
