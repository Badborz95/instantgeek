(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ym(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const wt={},Ma=[],li=()=>{},IS=()=>!1,pd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Em=t=>t.startsWith("onUpdate:"),an=Object.assign,bm=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},CS=Object.prototype.hasOwnProperty,ft=(t,e)=>CS.call(t,e),ke=Array.isArray,$a=t=>Qc(t)==="[object Map]",md=t=>Qc(t)==="[object Set]",X_=t=>Qc(t)==="[object Date]",qe=t=>typeof t=="function",qt=t=>typeof t=="string",js=t=>typeof t=="symbol",Tt=t=>t!==null&&typeof t=="object",Ab=t=>(Tt(t)||qe(t))&&qe(t.then)&&qe(t.catch),Ib=Object.prototype.toString,Qc=t=>Ib.call(t),SS=t=>Qc(t).slice(8,-1),Cb=t=>Qc(t)==="[object Object]",wm=t=>qt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,fc=ym(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gd=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},RS=/-(\w)/g,Cs=gd(t=>t.replace(RS,(e,n)=>n?n.toUpperCase():"")),PS=/\B([A-Z])/g,Qo=gd(t=>t.replace(PS,"-$1").toLowerCase()),_d=gd(t=>t.charAt(0).toUpperCase()+t.slice(1)),uh=gd(t=>t?`on${_d(t)}`:""),kr=(t,e)=>!Object.is(t,e),hh=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Sb=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},kh=t=>{const e=parseFloat(t);return isNaN(e)?t:e},OS=t=>{const e=qt(t)?Number(t):NaN;return isNaN(e)?t:e};let J_;const vd=()=>J_||(J_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ji(t){if(ke(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=qt(s)?NS(s):ji(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(qt(t)||Tt(t))return t}const kS=/;(?![^(]*\))/g,xS=/:([^]+)/,DS=/\/\*[^]*?\*\//g;function NS(t){const e={};return t.replace(DS,"").split(kS).forEach(n=>{if(n){const s=n.split(xS);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Dt(t){let e="";if(qt(t))e=t;else if(ke(t))for(let n=0;n<t.length;n++){const s=Dt(t[n]);s&&(e+=s+" ")}else if(Tt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const LS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",VS=ym(LS);function Rb(t){return!!t||t===""}function MS(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=yd(t[s],e[s]);return n}function yd(t,e){if(t===e)return!0;let n=X_(t),s=X_(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=js(t),s=js(e),n||s)return t===e;if(n=ke(t),s=ke(e),n||s)return n&&s?MS(t,e):!1;if(n=Tt(t),s=Tt(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!yd(t[o],e[o]))return!1}}return String(t)===String(e)}function $S(t,e){return t.findIndex(n=>yd(n,e))}const Pb=t=>!!(t&&t.__v_isRef===!0),ae=t=>qt(t)?t:t==null?"":ke(t)||Tt(t)&&(t.toString===Ib||!qe(t.toString))?Pb(t)?ae(t.value):JSON.stringify(t,Ob,2):String(t),Ob=(t,e)=>Pb(e)?Ob(t,e.value):$a(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[Lf(s,r)+" =>"]=i,n),{})}:md(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Lf(n))}:js(e)?Lf(e):Tt(e)&&!ke(e)&&!Cb(e)?String(e):e,Lf=(t,e="")=>{var n;return js(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mn;class kb{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Mn,!e&&Mn&&(this.index=(Mn.scopes||(Mn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Mn;try{return Mn=this,e()}finally{Mn=n}}}on(){Mn=this}off(){Mn=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function xb(t){return new kb(t)}function Db(){return Mn}function FS(t,e=!1){Mn&&Mn.cleanups.push(t)}let Ct;const Vf=new WeakSet;class Nb{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Mn&&Mn.active&&Mn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Vf.has(this)&&(Vf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Vb(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Z_(this),Mb(this);const e=Ct,n=Fs;Ct=this,Fs=!0;try{return this.fn()}finally{$b(this),Ct=e,Fs=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Im(e);this.deps=this.depsTail=void 0,Z_(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Vf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){wp(this)&&this.run()}get dirty(){return wp(this)}}let Lb=0,pc,mc;function Vb(t,e=!1){if(t.flags|=8,e){t.next=mc,mc=t;return}t.next=pc,pc=t}function Tm(){Lb++}function Am(){if(--Lb>0)return;if(mc){let e=mc;for(mc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;pc;){let e=pc;for(pc=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Mb(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function $b(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Im(s),US(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function wp(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Fb(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Fb(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Pc))return;t.globalVersion=Pc;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!wp(t)){t.flags&=-3;return}const n=Ct,s=Fs;Ct=t,Fs=!0;try{Mb(t);const i=t.fn(t._value);(e.version===0||kr(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Ct=n,Fs=s,$b(t),t.flags&=-3}}function Im(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Im(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function US(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Fs=!0;const Ub=[];function Yr(){Ub.push(Fs),Fs=!1}function Xr(){const t=Ub.pop();Fs=t===void 0?!0:t}function Z_(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ct;Ct=void 0;try{e()}finally{Ct=n}}}let Pc=0;class jS{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Cm{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ct||!Fs||Ct===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ct)n=this.activeLink=new jS(Ct,this),Ct.deps?(n.prevDep=Ct.depsTail,Ct.depsTail.nextDep=n,Ct.depsTail=n):Ct.deps=Ct.depsTail=n,jb(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Ct.depsTail,n.nextDep=void 0,Ct.depsTail.nextDep=n,Ct.depsTail=n,Ct.deps===n&&(Ct.deps=s)}return n}trigger(e){this.version++,Pc++,this.notify(e)}notify(e){Tm();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Am()}}}function jb(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)jb(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const xh=new WeakMap,Lo=Symbol(""),Tp=Symbol(""),Oc=Symbol("");function An(t,e,n){if(Fs&&Ct){let s=xh.get(t);s||xh.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new Cm),i.map=s,i.key=n),i.track()}}function xi(t,e,n,s,i,r){const o=xh.get(t);if(!o){Pc++;return}const a=c=>{c&&c.trigger()};if(Tm(),e==="clear")o.forEach(a);else{const c=ke(t),d=c&&wm(n);if(c&&n==="length"){const h=Number(s);o.forEach((f,_)=>{(_==="length"||_===Oc||!js(_)&&_>=h)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),d&&a(o.get(Oc)),e){case"add":c?d&&a(o.get("length")):(a(o.get(Lo)),$a(t)&&a(o.get(Tp)));break;case"delete":c||(a(o.get(Lo)),$a(t)&&a(o.get(Tp)));break;case"set":$a(t)&&a(o.get(Lo));break}}Am()}function BS(t,e){const n=xh.get(t);return n&&n.get(e)}function Ta(t){const e=nt(t);return e===t?e:(An(e,"iterate",Oc),ws(t)?e:e.map(In))}function Ed(t){return An(t=nt(t),"iterate",Oc),t}const HS={__proto__:null,[Symbol.iterator](){return Mf(this,Symbol.iterator,In)},concat(...t){return Ta(this).concat(...t.map(e=>ke(e)?Ta(e):e))},entries(){return Mf(this,"entries",t=>(t[1]=In(t[1]),t))},every(t,e){return Pi(this,"every",t,e,void 0,arguments)},filter(t,e){return Pi(this,"filter",t,e,n=>n.map(In),arguments)},find(t,e){return Pi(this,"find",t,e,In,arguments)},findIndex(t,e){return Pi(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Pi(this,"findLast",t,e,In,arguments)},findLastIndex(t,e){return Pi(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Pi(this,"forEach",t,e,void 0,arguments)},includes(...t){return $f(this,"includes",t)},indexOf(...t){return $f(this,"indexOf",t)},join(t){return Ta(this).join(t)},lastIndexOf(...t){return $f(this,"lastIndexOf",t)},map(t,e){return Pi(this,"map",t,e,void 0,arguments)},pop(){return tc(this,"pop")},push(...t){return tc(this,"push",t)},reduce(t,...e){return ev(this,"reduce",t,e)},reduceRight(t,...e){return ev(this,"reduceRight",t,e)},shift(){return tc(this,"shift")},some(t,e){return Pi(this,"some",t,e,void 0,arguments)},splice(...t){return tc(this,"splice",t)},toReversed(){return Ta(this).toReversed()},toSorted(t){return Ta(this).toSorted(t)},toSpliced(...t){return Ta(this).toSpliced(...t)},unshift(...t){return tc(this,"unshift",t)},values(){return Mf(this,"values",In)}};function Mf(t,e,n){const s=Ed(t),i=s[e]();return s!==t&&!ws(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const qS=Array.prototype;function Pi(t,e,n,s,i,r){const o=Ed(t),a=o!==t&&!ws(t),c=o[e];if(c!==qS[e]){const f=c.apply(t,r);return a?In(f):f}let d=n;o!==t&&(a?d=function(f,_){return n.call(this,In(f),_,t)}:n.length>2&&(d=function(f,_){return n.call(this,f,_,t)}));const h=c.call(o,d,s);return a&&i?i(h):h}function ev(t,e,n,s){const i=Ed(t);let r=n;return i!==t&&(ws(t)?n.length>3&&(r=function(o,a,c){return n.call(this,o,a,c,t)}):r=function(o,a,c){return n.call(this,o,In(a),c,t)}),i[e](r,...s)}function $f(t,e,n){const s=nt(t);An(s,"iterate",Oc);const i=s[e](...n);return(i===-1||i===!1)&&Pm(n[0])?(n[0]=nt(n[0]),s[e](...n)):i}function tc(t,e,n=[]){Yr(),Tm();const s=nt(t)[e].apply(t,n);return Am(),Xr(),s}const WS=ym("__proto__,__v_isRef,__isVue"),Bb=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(js));function zS(t){js(t)||(t=String(t));const e=nt(this);return An(e,"has",t),e.hasOwnProperty(t)}class Hb{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?n1:Kb:r?zb:Wb).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ke(e);if(!i){let c;if(o&&(c=HS[n]))return c;if(n==="hasOwnProperty")return zS}const a=Reflect.get(e,n,Lt(e)?e:s);return(js(n)?Bb.has(n):WS(n))||(i||An(e,"get",n),r)?a:Lt(a)?o&&wm(n)?a:a.value:Tt(a)?i?Qb(a):Yc(a):a}}class qb extends Hb{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const c=$o(r);if(!ws(s)&&!$o(s)&&(r=nt(r),s=nt(s)),!ke(e)&&Lt(r)&&!Lt(s))return c?!1:(r.value=s,!0)}const o=ke(e)&&wm(n)?Number(n)<e.length:ft(e,n),a=Reflect.set(e,n,s,Lt(e)?e:i);return e===nt(i)&&(o?kr(s,r)&&xi(e,"set",n,s):xi(e,"add",n,s)),a}deleteProperty(e,n){const s=ft(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&xi(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!js(n)||!Bb.has(n))&&An(e,"has",n),s}ownKeys(e){return An(e,"iterate",ke(e)?"length":Lo),Reflect.ownKeys(e)}}class KS extends Hb{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const GS=new qb,QS=new KS,YS=new qb(!0);const Ap=t=>t,zu=t=>Reflect.getPrototypeOf(t);function XS(t,e,n){return function(...s){const i=this.__v_raw,r=nt(i),o=$a(r),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,d=i[t](...s),h=n?Ap:e?Ip:In;return!e&&An(r,"iterate",c?Tp:Lo),{next(){const{value:f,done:_}=d.next();return _?{value:f,done:_}:{value:a?[h(f[0]),h(f[1])]:h(f),done:_}},[Symbol.iterator](){return this}}}}function Ku(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function JS(t,e){const n={get(i){const r=this.__v_raw,o=nt(r),a=nt(i);t||(kr(i,a)&&An(o,"get",i),An(o,"get",a));const{has:c}=zu(o),d=e?Ap:t?Ip:In;if(c.call(o,i))return d(r.get(i));if(c.call(o,a))return d(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&An(nt(i),"iterate",Lo),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=nt(r),a=nt(i);return t||(kr(i,a)&&An(o,"has",i),An(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,c=nt(a),d=e?Ap:t?Ip:In;return!t&&An(c,"iterate",Lo),a.forEach((h,f)=>i.call(r,d(h),d(f),o))}};return an(n,t?{add:Ku("add"),set:Ku("set"),delete:Ku("delete"),clear:Ku("clear")}:{add(i){!e&&!ws(i)&&!$o(i)&&(i=nt(i));const r=nt(this);return zu(r).has.call(r,i)||(r.add(i),xi(r,"add",i,i)),this},set(i,r){!e&&!ws(r)&&!$o(r)&&(r=nt(r));const o=nt(this),{has:a,get:c}=zu(o);let d=a.call(o,i);d||(i=nt(i),d=a.call(o,i));const h=c.call(o,i);return o.set(i,r),d?kr(r,h)&&xi(o,"set",i,r):xi(o,"add",i,r),this},delete(i){const r=nt(this),{has:o,get:a}=zu(r);let c=o.call(r,i);c||(i=nt(i),c=o.call(r,i)),a&&a.call(r,i);const d=r.delete(i);return c&&xi(r,"delete",i,void 0),d},clear(){const i=nt(this),r=i.size!==0,o=i.clear();return r&&xi(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=XS(i,t,e)}),n}function Sm(t,e){const n=JS(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(ft(n,i)&&i in s?n:s,i,r)}const ZS={get:Sm(!1,!1)},e1={get:Sm(!1,!0)},t1={get:Sm(!0,!1)};const Wb=new WeakMap,zb=new WeakMap,Kb=new WeakMap,n1=new WeakMap;function s1(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function i1(t){return t.__v_skip||!Object.isExtensible(t)?0:s1(SS(t))}function Yc(t){return $o(t)?t:Rm(t,!1,GS,ZS,Wb)}function Gb(t){return Rm(t,!1,YS,e1,zb)}function Qb(t){return Rm(t,!0,QS,t1,Kb)}function Rm(t,e,n,s,i){if(!Tt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=i1(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function xr(t){return $o(t)?xr(t.__v_raw):!!(t&&t.__v_isReactive)}function $o(t){return!!(t&&t.__v_isReadonly)}function ws(t){return!!(t&&t.__v_isShallow)}function Pm(t){return t?!!t.__v_raw:!1}function nt(t){const e=t&&t.__v_raw;return e?nt(e):t}function Om(t){return!ft(t,"__v_skip")&&Object.isExtensible(t)&&Sb(t,"__v_skip",!0),t}const In=t=>Tt(t)?Yc(t):t,Ip=t=>Tt(t)?Qb(t):t;function Lt(t){return t?t.__v_isRef===!0:!1}function we(t){return Yb(t,!1)}function r1(t){return Yb(t,!0)}function Yb(t,e){return Lt(t)?t:new o1(t,e)}class o1{constructor(e,n){this.dep=new Cm,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:nt(e),this._value=n?e:In(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||ws(e)||$o(e);e=s?e:nt(e),kr(e,n)&&(this._rawValue=e,this._value=s?e:In(e),this.dep.trigger())}}function Ne(t){return Lt(t)?t.value:t}const a1={get:(t,e,n)=>e==="__v_raw"?t:Ne(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Lt(i)&&!Lt(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Xb(t){return xr(t)?t:new Proxy(t,a1)}function l1(t){const e=ke(t)?new Array(t.length):{};for(const n in t)e[n]=u1(t,n);return e}class c1{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return BS(nt(this._object),this._key)}}function u1(t,e,n){const s=t[e];return Lt(s)?s:new c1(t,e,n)}class h1{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Cm(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ct!==this)return Vb(this,!0),!0}get value(){const e=this.dep.track();return Fb(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function d1(t,e,n=!1){let s,i;return qe(t)?s=t:(s=t.get,i=t.set),new h1(s,i,n)}const Gu={},Dh=new WeakMap;let So;function f1(t,e=!1,n=So){if(n){let s=Dh.get(n);s||Dh.set(n,s=[]),s.push(t)}}function p1(t,e,n=wt){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:c}=n,d=H=>i?H:ws(H)||i===!1||i===0?Di(H,1):Di(H);let h,f,_,E,S=!1,D=!1;if(Lt(t)?(f=()=>t.value,S=ws(t)):xr(t)?(f=()=>d(t),S=!0):ke(t)?(D=!0,S=t.some(H=>xr(H)||ws(H)),f=()=>t.map(H=>{if(Lt(H))return H.value;if(xr(H))return d(H);if(qe(H))return c?c(H,2):H()})):qe(t)?e?f=c?()=>c(t,2):t:f=()=>{if(_){Yr();try{_()}finally{Xr()}}const H=So;So=h;try{return c?c(t,3,[E]):t(E)}finally{So=H}}:f=li,e&&i){const H=f,ie=i===!0?1/0:i;f=()=>Di(H(),ie)}const N=Db(),B=()=>{h.stop(),N&&N.active&&bm(N.effects,h)};if(r&&e){const H=e;e=(...ie)=>{H(...ie),B()}}let $=D?new Array(t.length).fill(Gu):Gu;const j=H=>{if(!(!(h.flags&1)||!h.dirty&&!H))if(e){const ie=h.run();if(i||S||(D?ie.some((oe,x)=>kr(oe,$[x])):kr(ie,$))){_&&_();const oe=So;So=h;try{const x=[ie,$===Gu?void 0:D&&$[0]===Gu?[]:$,E];c?c(e,3,x):e(...x),$=ie}finally{So=oe}}}else h.run()};return a&&a(j),h=new Nb(f),h.scheduler=o?()=>o(j,!1):j,E=H=>f1(H,!1,h),_=h.onStop=()=>{const H=Dh.get(h);if(H){if(c)c(H,4);else for(const ie of H)ie();Dh.delete(h)}},e?s?j(!0):$=h.run():o?o(j.bind(null,!0),!0):h.run(),B.pause=h.pause.bind(h),B.resume=h.resume.bind(h),B.stop=B,B}function Di(t,e=1/0,n){if(e<=0||!Tt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Lt(t))Di(t.value,e,n);else if(ke(t))for(let s=0;s<t.length;s++)Di(t[s],e,n);else if(md(t)||$a(t))t.forEach(s=>{Di(s,e,n)});else if(Cb(t)){for(const s in t)Di(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Di(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Xc(t,e,n,s){try{return s?t(...s):t()}catch(i){bd(i,e,n)}}function Bs(t,e,n,s){if(qe(t)){const i=Xc(t,e,n,s);return i&&Ab(i)&&i.catch(r=>{bd(r,e,n)}),i}if(ke(t)){const i=[];for(let r=0;r<t.length;r++)i.push(Bs(t[r],e,n,s));return i}}function bd(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||wt;if(e){let a=e.parent;const c=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](t,c,d)===!1)return}a=a.parent}if(r){Yr(),Xc(r,null,10,[t,c,d]),Xr();return}}m1(t,n,i,s,o)}function m1(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const $n=[];let si=-1;const Fa=[];let Tr=null,Sa=0;const Jb=Promise.resolve();let Nh=null;function Dr(t){const e=Nh||Jb;return t?e.then(this?t.bind(this):t):e}function g1(t){let e=si+1,n=$n.length;for(;e<n;){const s=e+n>>>1,i=$n[s],r=kc(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function km(t){if(!(t.flags&1)){const e=kc(t),n=$n[$n.length-1];!n||!(t.flags&2)&&e>=kc(n)?$n.push(t):$n.splice(g1(e),0,t),t.flags|=1,Zb()}}function Zb(){Nh||(Nh=Jb.then(tw))}function _1(t){ke(t)?Fa.push(...t):Tr&&t.id===-1?Tr.splice(Sa+1,0,t):t.flags&1||(Fa.push(t),t.flags|=1),Zb()}function tv(t,e,n=si+1){for(;n<$n.length;n++){const s=$n[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;$n.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function ew(t){if(Fa.length){const e=[...new Set(Fa)].sort((n,s)=>kc(n)-kc(s));if(Fa.length=0,Tr){Tr.push(...e);return}for(Tr=e,Sa=0;Sa<Tr.length;Sa++){const n=Tr[Sa];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Tr=null,Sa=0}}const kc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function tw(t){try{for(si=0;si<$n.length;si++){const e=$n[si];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Xc(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;si<$n.length;si++){const e=$n[si];e&&(e.flags&=-2)}si=-1,$n.length=0,ew(),Nh=null,($n.length||Fa.length)&&tw()}}let sn=null,nw=null;function Lh(t){const e=sn;return sn=t,nw=t&&t.type.__scopeId||null,e}function Oe(t,e=sn,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&dv(-1);const r=Lh(e);let o;try{o=t(...i)}finally{Lh(r),s._d&&dv(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ut(t,e){if(sn===null)return t;const n=Rd(sn),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,c=wt]=e[i];r&&(qe(r)&&(r={mounted:r,updated:r}),r.deep&&Di(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function Ao(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let c=a.dir[s];c&&(Yr(),Bs(c,n,8,[t.el,a,t,e]),Xr())}}const v1=Symbol("_vte"),sw=t=>t.__isTeleport,Ar=Symbol("_leaveCb"),Qu=Symbol("_enterCb");function iw(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Bn(()=>{t.isMounted=!0}),dw(()=>{t.isUnmounting=!0}),t}const bs=[Function,Array],rw={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:bs,onEnter:bs,onAfterEnter:bs,onEnterCancelled:bs,onBeforeLeave:bs,onLeave:bs,onAfterLeave:bs,onLeaveCancelled:bs,onBeforeAppear:bs,onAppear:bs,onAfterAppear:bs,onAppearCancelled:bs},ow=t=>{const e=t.subTree;return e.component?ow(e.component):e},y1={name:"BaseTransition",props:rw,setup(t,{slots:e}){const n=Mm(),s=iw();return()=>{const i=e.default&&xm(e.default(),!0);if(!i||!i.length)return;const r=aw(i),o=nt(t),{mode:a}=o;if(s.isLeaving)return Ff(r);const c=nv(r);if(!c)return Ff(r);let d=xc(c,o,s,n,f=>d=f);c.type!==Fn&&Fo(c,d);let h=n.subTree&&nv(n.subTree);if(h&&h.type!==Fn&&!Po(c,h)&&ow(n).type!==Fn){let f=xc(h,o,s,n);if(Fo(h,f),a==="out-in"&&c.type!==Fn)return s.isLeaving=!0,f.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,h=void 0},Ff(r);a==="in-out"&&c.type!==Fn?f.delayLeave=(_,E,S)=>{const D=lw(s,h);D[String(h.key)]=h,_[Ar]=()=>{E(),_[Ar]=void 0,delete d.delayedLeave,h=void 0},d.delayedLeave=()=>{S(),delete d.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return r}}};function aw(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Fn){e=n;break}}return e}const E1=y1;function lw(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function xc(t,e,n,s,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:_,onLeave:E,onAfterLeave:S,onLeaveCancelled:D,onBeforeAppear:N,onAppear:B,onAfterAppear:$,onAppearCancelled:j}=e,H=String(t.key),ie=lw(n,t),oe=(T,R)=>{T&&Bs(T,s,9,R)},x=(T,R)=>{const O=R[1];oe(T,R),ke(T)?T.every(A=>A.length<=1)&&O():T.length<=1&&O()},I={mode:o,persisted:a,beforeEnter(T){let R=c;if(!n.isMounted)if(r)R=N||c;else return;T[Ar]&&T[Ar](!0);const O=ie[H];O&&Po(t,O)&&O.el[Ar]&&O.el[Ar](),oe(R,[T])},enter(T){let R=d,O=h,A=f;if(!n.isMounted)if(r)R=B||d,O=$||h,A=j||f;else return;let C=!1;const Me=T[Qu]=ot=>{C||(C=!0,ot?oe(A,[T]):oe(O,[T]),I.delayedLeave&&I.delayedLeave(),T[Qu]=void 0)};R?x(R,[T,Me]):Me()},leave(T,R){const O=String(t.key);if(T[Qu]&&T[Qu](!0),n.isUnmounting)return R();oe(_,[T]);let A=!1;const C=T[Ar]=Me=>{A||(A=!0,R(),Me?oe(D,[T]):oe(S,[T]),T[Ar]=void 0,ie[O]===t&&delete ie[O])};ie[O]=t,E?x(E,[T,C]):C()},clone(T){const R=xc(T,e,n,s,i);return i&&i(R),R}};return I}function Ff(t){if(wd(t))return t=Fr(t),t.children=null,t}function nv(t){if(!wd(t))return sw(t.type)&&t.children?aw(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&qe(n.default))return n.default()}}function Fo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Fo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function xm(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Ae?(o.patchFlag&128&&i++,s=s.concat(xm(o.children,e,a))):(e||o.type!==Fn)&&s.push(a!=null?Fr(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Yi(t,e){return qe(t)?an({name:t.name},e,{setup:t}):t}function cw(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Vh(t,e,n,s,i=!1){if(ke(t)){t.forEach((S,D)=>Vh(S,e&&(ke(e)?e[D]:e),n,s,i));return}if(Ua(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Vh(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?Rd(s.component):s.el,o=i?null:r,{i:a,r:c}=t,d=e&&e.r,h=a.refs===wt?a.refs={}:a.refs,f=a.setupState,_=nt(f),E=f===wt?()=>!1:S=>ft(_,S);if(d!=null&&d!==c&&(qt(d)?(h[d]=null,E(d)&&(f[d]=null)):Lt(d)&&(d.value=null)),qe(c))Xc(c,a,12,[o,h]);else{const S=qt(c),D=Lt(c);if(S||D){const N=()=>{if(t.f){const B=S?E(c)?f[c]:h[c]:c.value;i?ke(B)&&bm(B,r):ke(B)?B.includes(r)||B.push(r):S?(h[c]=[r],E(c)&&(f[c]=h[c])):(c.value=[r],t.k&&(h[t.k]=c.value))}else S?(h[c]=o,E(c)&&(f[c]=o)):D&&(c.value=o,t.k&&(h[t.k]=o))};o?(N.id=-1,ss(N,n)):N()}}}vd().requestIdleCallback;vd().cancelIdleCallback;const Ua=t=>!!t.type.__asyncLoader,wd=t=>t.type.__isKeepAlive;function b1(t,e){uw(t,"a",e)}function w1(t,e){uw(t,"da",e)}function uw(t,e,n=mn){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Td(e,s,n),n){let i=n.parent;for(;i&&i.parent;)wd(i.parent.vnode)&&T1(s,e,n,i),i=i.parent}}function T1(t,e,n,s){const i=Td(e,t,s,!0);Ad(()=>{bm(s[e],i)},n)}function Td(t,e,n=mn,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Yr();const a=Jc(n),c=Bs(e,n,t,o);return a(),Xr(),c});return s?i.unshift(r):i.push(r),r}}const Xi=t=>(e,n=mn)=>{(!Lc||t==="sp")&&Td(t,(...s)=>e(...s),n)},A1=Xi("bm"),Bn=Xi("m"),I1=Xi("bu"),hw=Xi("u"),dw=Xi("bum"),Ad=Xi("um"),C1=Xi("sp"),S1=Xi("rtg"),R1=Xi("rtc");function P1(t,e=mn){Td("ec",t,e)}const fw="components";function Vt(t,e){return mw(fw,t,!0,e)||t}const pw=Symbol.for("v-ndc");function Dm(t){return qt(t)?mw(fw,t,!1)||t:t||pw}function mw(t,e,n=!0,s=!1){const i=sn||mn;if(i){const r=i.type;{const a=vR(r,!1);if(a&&(a===e||a===Cs(e)||a===_d(Cs(e))))return r}const o=sv(i[t]||r[t],e)||sv(i.appContext[t],e);return!o&&s?r:o}}function sv(t,e){return t&&(t[e]||t[Cs(e)]||t[_d(Cs(e))])}function vt(t,e,n,s){let i;const r=n,o=ke(t);if(o||qt(t)){const a=o&&xr(t);let c=!1;a&&(c=!ws(t),t=Ed(t)),i=new Array(t.length);for(let d=0,h=t.length;d<h;d++)i[d]=e(c?In(t[d]):t[d],d,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(Tt(t))if(t[Symbol.iterator])i=Array.from(t,(a,c)=>e(a,c,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let c=0,d=a.length;c<d;c++){const h=a[c];i[c]=e(t[h],h,c,r)}}else i=[];return i}function O1(t,e,n={},s,i){if(sn.ce||sn.parent&&Ua(sn.parent)&&sn.parent.ce)return U(),as(Ae,null,[ne("slot",n,s)],64);let r=t[e];r&&r._c&&(r._d=!1),U();const o=r&&gw(r(n)),a=n.key||o&&o.key,c=as(Ae,{key:(a&&!js(a)?a:`_${e}`)+""},o||[],o&&t._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),r&&r._c&&(r._d=!0),c}function gw(t){return t.some(e=>Nc(e)?!(e.type===Fn||e.type===Ae&&!gw(e.children)):!0)?t:null}function k1(t,e){const n={};for(const s in t)n[uh(s)]=t[s];return n}const Cp=t=>t?Vw(t)?Rd(t):Cp(t.parent):null,gc=an(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Cp(t.parent),$root:t=>Cp(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>vw(t),$forceUpdate:t=>t.f||(t.f=()=>{km(t.update)}),$nextTick:t=>t.n||(t.n=Dr.bind(t.proxy)),$watch:t=>eR.bind(t)}),Uf=(t,e)=>t!==wt&&!t.__isScriptSetup&&ft(t,e),x1={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:c}=t;let d;if(e[0]!=="$"){const E=o[e];if(E!==void 0)switch(E){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(Uf(s,e))return o[e]=1,s[e];if(i!==wt&&ft(i,e))return o[e]=2,i[e];if((d=t.propsOptions[0])&&ft(d,e))return o[e]=3,r[e];if(n!==wt&&ft(n,e))return o[e]=4,n[e];Sp&&(o[e]=0)}}const h=gc[e];let f,_;if(h)return e==="$attrs"&&An(t.attrs,"get",""),h(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==wt&&ft(n,e))return o[e]=4,n[e];if(_=c.config.globalProperties,ft(_,e))return _[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return Uf(i,e)?(i[e]=n,!0):s!==wt&&ft(s,e)?(s[e]=n,!0):ft(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==wt&&ft(t,o)||Uf(e,o)||(a=r[0])&&ft(a,o)||ft(s,o)||ft(gc,o)||ft(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ft(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function iv(t){return ke(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Sp=!0;function D1(t){const e=vw(t),n=t.proxy,s=t.ctx;Sp=!1,e.beforeCreate&&rv(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:c,inject:d,created:h,beforeMount:f,mounted:_,beforeUpdate:E,updated:S,activated:D,deactivated:N,beforeDestroy:B,beforeUnmount:$,destroyed:j,unmounted:H,render:ie,renderTracked:oe,renderTriggered:x,errorCaptured:I,serverPrefetch:T,expose:R,inheritAttrs:O,components:A,directives:C,filters:Me}=e;if(d&&N1(d,s,null),o)for(const Te in o){const ze=o[Te];qe(ze)&&(s[Te]=ze.bind(n))}if(i){const Te=i.call(n,n);Tt(Te)&&(t.data=Yc(Te))}if(Sp=!0,r)for(const Te in r){const ze=r[Te],kt=qe(ze)?ze.bind(n,n):qe(ze.get)?ze.get.bind(n,n):li,X=!qe(ze)&&qe(ze.set)?ze.set.bind(n):li,Qt=St({get:kt,set:X});Object.defineProperty(s,Te,{enumerable:!0,configurable:!0,get:()=>Qt.value,set:at=>Qt.value=at})}if(a)for(const Te in a)_w(a[Te],s,n,Te);if(c){const Te=qe(c)?c.call(n):c;Reflect.ownKeys(Te).forEach(ze=>{dh(ze,Te[ze])})}h&&rv(h,t,"c");function Fe(Te,ze){ke(ze)?ze.forEach(kt=>Te(kt.bind(n))):ze&&Te(ze.bind(n))}if(Fe(A1,f),Fe(Bn,_),Fe(I1,E),Fe(hw,S),Fe(b1,D),Fe(w1,N),Fe(P1,I),Fe(R1,oe),Fe(S1,x),Fe(dw,$),Fe(Ad,H),Fe(C1,T),ke(R))if(R.length){const Te=t.exposed||(t.exposed={});R.forEach(ze=>{Object.defineProperty(Te,ze,{get:()=>n[ze],set:kt=>n[ze]=kt})})}else t.exposed||(t.exposed={});ie&&t.render===li&&(t.render=ie),O!=null&&(t.inheritAttrs=O),A&&(t.components=A),C&&(t.directives=C),T&&cw(t)}function N1(t,e,n=li){ke(t)&&(t=Rp(t));for(const s in t){const i=t[s];let r;Tt(i)?"default"in i?r=cs(i.from||s,i.default,!0):r=cs(i.from||s):r=cs(i),Lt(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function rv(t,e,n){Bs(ke(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function _w(t,e,n,s){let i=s.includes(".")?kw(n,s):()=>n[s];if(qt(t)){const r=e[t];qe(r)&&us(i,r)}else if(qe(t))us(i,t.bind(n));else if(Tt(t))if(ke(t))t.forEach(r=>_w(r,e,n,s));else{const r=qe(t.handler)?t.handler.bind(n):e[t.handler];qe(r)&&us(i,r,t)}}function vw(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let c;return a?c=a:!i.length&&!n&&!s?c=e:(c={},i.length&&i.forEach(d=>Mh(c,d,o,!0)),Mh(c,e,o)),Tt(e)&&r.set(e,c),c}function Mh(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&Mh(t,r,n,!0),i&&i.forEach(o=>Mh(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=L1[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const L1={data:ov,props:av,emits:av,methods:oc,computed:oc,beforeCreate:Vn,created:Vn,beforeMount:Vn,mounted:Vn,beforeUpdate:Vn,updated:Vn,beforeDestroy:Vn,beforeUnmount:Vn,destroyed:Vn,unmounted:Vn,activated:Vn,deactivated:Vn,errorCaptured:Vn,serverPrefetch:Vn,components:oc,directives:oc,watch:M1,provide:ov,inject:V1};function ov(t,e){return e?t?function(){return an(qe(t)?t.call(this,this):t,qe(e)?e.call(this,this):e)}:e:t}function V1(t,e){return oc(Rp(t),Rp(e))}function Rp(t){if(ke(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Vn(t,e){return t?[...new Set([].concat(t,e))]:e}function oc(t,e){return t?an(Object.create(null),t,e):e}function av(t,e){return t?ke(t)&&ke(e)?[...new Set([...t,...e])]:an(Object.create(null),iv(t),iv(e??{})):e}function M1(t,e){if(!t)return e;if(!e)return t;const n=an(Object.create(null),t);for(const s in e)n[s]=Vn(t[s],e[s]);return n}function yw(){return{app:null,config:{isNativeTag:IS,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $1=0;function F1(t,e){return function(s,i=null){qe(s)||(s=an({},s)),i!=null&&!Tt(i)&&(i=null);const r=yw(),o=new WeakSet,a=[];let c=!1;const d=r.app={_uid:$1++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:ER,get config(){return r.config},set config(h){},use(h,...f){return o.has(h)||(h&&qe(h.install)?(o.add(h),h.install(d,...f)):qe(h)&&(o.add(h),h(d,...f))),d},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),d},component(h,f){return f?(r.components[h]=f,d):r.components[h]},directive(h,f){return f?(r.directives[h]=f,d):r.directives[h]},mount(h,f,_){if(!c){const E=d._ceVNode||ne(s,i);return E.appContext=r,_===!0?_="svg":_===!1&&(_=void 0),t(E,h,_),c=!0,d._container=h,h.__vue_app__=d,Rd(E.component)}},onUnmount(h){a.push(h)},unmount(){c&&(Bs(a,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(h,f){return r.provides[h]=f,d},runWithContext(h){const f=Vo;Vo=d;try{return h()}finally{Vo=f}}};return d}}let Vo=null;function dh(t,e){if(mn){let n=mn.provides;const s=mn.parent&&mn.parent.provides;s===n&&(n=mn.provides=Object.create(s)),n[t]=e}}function cs(t,e,n=!1){const s=mn||sn;if(s||Vo){const i=Vo?Vo._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&qe(e)?e.call(s&&s.proxy):e}}function U1(){return!!(mn||sn||Vo)}const Ew={},bw=()=>Object.create(Ew),ww=t=>Object.getPrototypeOf(t)===Ew;function j1(t,e,n,s=!1){const i={},r=bw();t.propsDefaults=Object.create(null),Tw(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Gb(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function B1(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=nt(i),[c]=t.propsOptions;let d=!1;if((s||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let _=h[f];if(Id(t.emitsOptions,_))continue;const E=e[_];if(c)if(ft(r,_))E!==r[_]&&(r[_]=E,d=!0);else{const S=Cs(_);i[S]=Pp(c,a,S,E,t,!1)}else E!==r[_]&&(r[_]=E,d=!0)}}}else{Tw(t,e,i,r)&&(d=!0);let h;for(const f in a)(!e||!ft(e,f)&&((h=Qo(f))===f||!ft(e,h)))&&(c?n&&(n[f]!==void 0||n[h]!==void 0)&&(i[f]=Pp(c,a,f,void 0,t,!0)):delete i[f]);if(r!==a)for(const f in r)(!e||!ft(e,f))&&(delete r[f],d=!0)}d&&xi(t.attrs,"set","")}function Tw(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(fc(c))continue;const d=e[c];let h;i&&ft(i,h=Cs(c))?!r||!r.includes(h)?n[h]=d:(a||(a={}))[h]=d:Id(t.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,o=!0)}if(r){const c=nt(n),d=a||wt;for(let h=0;h<r.length;h++){const f=r[h];n[f]=Pp(i,c,f,d[f],t,!ft(d,f))}}return o}function Pp(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=ft(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&qe(c)){const{propsDefaults:d}=i;if(n in d)s=d[n];else{const h=Jc(i);s=d[n]=c.call(null,e),h()}}else s=c;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Qo(n))&&(s=!0))}return s}const H1=new WeakMap;function Aw(t,e,n=!1){const s=n?H1:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let c=!1;if(!qe(t)){const h=f=>{c=!0;const[_,E]=Aw(f,e,!0);an(o,_),E&&a.push(...E)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!r&&!c)return Tt(t)&&s.set(t,Ma),Ma;if(ke(r))for(let h=0;h<r.length;h++){const f=Cs(r[h]);lv(f)&&(o[f]=wt)}else if(r)for(const h in r){const f=Cs(h);if(lv(f)){const _=r[h],E=o[f]=ke(_)||qe(_)?{type:_}:an({},_),S=E.type;let D=!1,N=!0;if(ke(S))for(let B=0;B<S.length;++B){const $=S[B],j=qe($)&&$.name;if(j==="Boolean"){D=!0;break}else j==="String"&&(N=!1)}else D=qe(S)&&S.name==="Boolean";E[0]=D,E[1]=N,(D||ft(E,"default"))&&a.push(f)}}const d=[o,a];return Tt(t)&&s.set(t,d),d}function lv(t){return t[0]!=="$"&&!fc(t)}const Iw=t=>t[0]==="_"||t==="$stable",Nm=t=>ke(t)?t.map(ri):[ri(t)],q1=(t,e,n)=>{if(e._n)return e;const s=Oe((...i)=>Nm(e(...i)),n);return s._c=!1,s},Cw=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Iw(i))continue;const r=t[i];if(qe(r))e[i]=q1(i,r,s);else if(r!=null){const o=Nm(r);e[i]=()=>o}}},Sw=(t,e)=>{const n=Nm(e);t.slots.default=()=>n},Rw=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},W1=(t,e,n)=>{const s=t.slots=bw();if(t.vnode.shapeFlag&32){const i=e._;i?(Rw(s,e,n),n&&Sb(s,"_",i,!0)):Cw(e,s)}else e&&Sw(t,e)},z1=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=wt;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:Rw(i,e,n):(r=!e.$stable,Cw(e,i)),o=e}else e&&(Sw(t,e),o={default:1});if(r)for(const a in i)!Iw(a)&&o[a]==null&&delete i[a]},ss=aR;function K1(t){return G1(t)}function G1(t,e){const n=vd();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:c,setText:d,setElementText:h,parentNode:f,nextSibling:_,setScopeId:E=li,insertStaticContent:S}=t,D=(P,k,M,Q=null,Y=null,J=null,fe=void 0,ce=null,le=!!k.dynamicChildren)=>{if(P===k)return;P&&!Po(P,k)&&(Q=G(P),at(P,Y,J,!0),P=null),k.patchFlag===-2&&(le=!1,k.dynamicChildren=null);const{type:se,ref:Se,shapeFlag:pe}=k;switch(se){case Cd:N(P,k,M,Q);break;case Fn:B(P,k,M,Q);break;case fh:P==null&&$(k,M,Q,fe);break;case Ae:A(P,k,M,Q,Y,J,fe,ce,le);break;default:pe&1?ie(P,k,M,Q,Y,J,fe,ce,le):pe&6?C(P,k,M,Q,Y,J,fe,ce,le):(pe&64||pe&128)&&se.process(P,k,M,Q,Y,J,fe,ce,le,ve)}Se!=null&&Y&&Vh(Se,P&&P.ref,J,k||P,!k)},N=(P,k,M,Q)=>{if(P==null)s(k.el=a(k.children),M,Q);else{const Y=k.el=P.el;k.children!==P.children&&d(Y,k.children)}},B=(P,k,M,Q)=>{P==null?s(k.el=c(k.children||""),M,Q):k.el=P.el},$=(P,k,M,Q)=>{[P.el,P.anchor]=S(P.children,k,M,Q,P.el,P.anchor)},j=({el:P,anchor:k},M,Q)=>{let Y;for(;P&&P!==k;)Y=_(P),s(P,M,Q),P=Y;s(k,M,Q)},H=({el:P,anchor:k})=>{let M;for(;P&&P!==k;)M=_(P),i(P),P=M;i(k)},ie=(P,k,M,Q,Y,J,fe,ce,le)=>{k.type==="svg"?fe="svg":k.type==="math"&&(fe="mathml"),P==null?oe(k,M,Q,Y,J,fe,ce,le):T(P,k,Y,J,fe,ce,le)},oe=(P,k,M,Q,Y,J,fe,ce)=>{let le,se;const{props:Se,shapeFlag:pe,transition:Ee,dirs:Ie}=P;if(le=P.el=o(P.type,J,Se&&Se.is,Se),pe&8?h(le,P.children):pe&16&&I(P.children,le,null,Q,Y,jf(P,J),fe,ce),Ie&&Ao(P,null,Q,"created"),x(le,P,P.scopeId,fe,Q),Se){for(const $e in Se)$e!=="value"&&!fc($e)&&r(le,$e,null,Se[$e],J,Q);"value"in Se&&r(le,"value",null,Se.value,J),(se=Se.onVnodeBeforeMount)&&ti(se,Q,P)}Ie&&Ao(P,null,Q,"beforeMount");const Ce=Q1(Y,Ee);Ce&&Ee.beforeEnter(le),s(le,k,M),((se=Se&&Se.onVnodeMounted)||Ce||Ie)&&ss(()=>{se&&ti(se,Q,P),Ce&&Ee.enter(le),Ie&&Ao(P,null,Q,"mounted")},Y)},x=(P,k,M,Q,Y)=>{if(M&&E(P,M),Q)for(let J=0;J<Q.length;J++)E(P,Q[J]);if(Y){let J=Y.subTree;if(k===J||Dw(J.type)&&(J.ssContent===k||J.ssFallback===k)){const fe=Y.vnode;x(P,fe,fe.scopeId,fe.slotScopeIds,Y.parent)}}},I=(P,k,M,Q,Y,J,fe,ce,le=0)=>{for(let se=le;se<P.length;se++){const Se=P[se]=ce?Ir(P[se]):ri(P[se]);D(null,Se,k,M,Q,Y,J,fe,ce)}},T=(P,k,M,Q,Y,J,fe)=>{const ce=k.el=P.el;let{patchFlag:le,dynamicChildren:se,dirs:Se}=k;le|=P.patchFlag&16;const pe=P.props||wt,Ee=k.props||wt;let Ie;if(M&&Io(M,!1),(Ie=Ee.onVnodeBeforeUpdate)&&ti(Ie,M,k,P),Se&&Ao(k,P,M,"beforeUpdate"),M&&Io(M,!0),(pe.innerHTML&&Ee.innerHTML==null||pe.textContent&&Ee.textContent==null)&&h(ce,""),se?R(P.dynamicChildren,se,ce,M,Q,jf(k,Y),J):fe||ze(P,k,ce,null,M,Q,jf(k,Y),J,!1),le>0){if(le&16)O(ce,pe,Ee,M,Y);else if(le&2&&pe.class!==Ee.class&&r(ce,"class",null,Ee.class,Y),le&4&&r(ce,"style",pe.style,Ee.style,Y),le&8){const Ce=k.dynamicProps;for(let $e=0;$e<Ce.length;$e++){const Qe=Ce[$e],jt=pe[Qe],xt=Ee[Qe];(xt!==jt||Qe==="value")&&r(ce,Qe,jt,xt,Y,M)}}le&1&&P.children!==k.children&&h(ce,k.children)}else!fe&&se==null&&O(ce,pe,Ee,M,Y);((Ie=Ee.onVnodeUpdated)||Se)&&ss(()=>{Ie&&ti(Ie,M,k,P),Se&&Ao(k,P,M,"updated")},Q)},R=(P,k,M,Q,Y,J,fe)=>{for(let ce=0;ce<k.length;ce++){const le=P[ce],se=k[ce],Se=le.el&&(le.type===Ae||!Po(le,se)||le.shapeFlag&70)?f(le.el):M;D(le,se,Se,null,Q,Y,J,fe,!0)}},O=(P,k,M,Q,Y)=>{if(k!==M){if(k!==wt)for(const J in k)!fc(J)&&!(J in M)&&r(P,J,k[J],null,Y,Q);for(const J in M){if(fc(J))continue;const fe=M[J],ce=k[J];fe!==ce&&J!=="value"&&r(P,J,ce,fe,Y,Q)}"value"in M&&r(P,"value",k.value,M.value,Y)}},A=(P,k,M,Q,Y,J,fe,ce,le)=>{const se=k.el=P?P.el:a(""),Se=k.anchor=P?P.anchor:a("");let{patchFlag:pe,dynamicChildren:Ee,slotScopeIds:Ie}=k;Ie&&(ce=ce?ce.concat(Ie):Ie),P==null?(s(se,M,Q),s(Se,M,Q),I(k.children||[],M,Se,Y,J,fe,ce,le)):pe>0&&pe&64&&Ee&&P.dynamicChildren?(R(P.dynamicChildren,Ee,M,Y,J,fe,ce),(k.key!=null||Y&&k===Y.subTree)&&Pw(P,k,!0)):ze(P,k,M,Se,Y,J,fe,ce,le)},C=(P,k,M,Q,Y,J,fe,ce,le)=>{k.slotScopeIds=ce,P==null?k.shapeFlag&512?Y.ctx.activate(k,M,Q,fe,le):Me(k,M,Q,Y,J,fe,le):ot(P,k,le)},Me=(P,k,M,Q,Y,J,fe)=>{const ce=P.component=fR(P,Q,Y);if(wd(P)&&(ce.ctx.renderer=ve),pR(ce,!1,fe),ce.asyncDep){if(Y&&Y.registerDep(ce,Fe,fe),!P.el){const le=ce.subTree=ne(Fn);B(null,le,k,M)}}else Fe(ce,P,k,M,Y,J,fe)},ot=(P,k,M)=>{const Q=k.component=P.component;if(rR(P,k,M))if(Q.asyncDep&&!Q.asyncResolved){Te(Q,k,M);return}else Q.next=k,Q.update();else k.el=P.el,Q.vnode=k},Fe=(P,k,M,Q,Y,J,fe)=>{const ce=()=>{if(P.isMounted){let{next:pe,bu:Ee,u:Ie,parent:Ce,vnode:$e}=P;{const Wt=Ow(P);if(Wt){pe&&(pe.el=$e.el,Te(P,pe,fe)),Wt.asyncDep.then(()=>{P.isUnmounted||ce()});return}}let Qe=pe,jt;Io(P,!1),pe?(pe.el=$e.el,Te(P,pe,fe)):pe=$e,Ee&&hh(Ee),(jt=pe.props&&pe.props.onVnodeBeforeUpdate)&&ti(jt,Ce,pe,$e),Io(P,!0);const xt=uv(P),Zt=P.subTree;P.subTree=xt,D(Zt,xt,f(Zt.el),G(Zt),P,Y,J),pe.el=xt.el,Qe===null&&oR(P,xt.el),Ie&&ss(Ie,Y),(jt=pe.props&&pe.props.onVnodeUpdated)&&ss(()=>ti(jt,Ce,pe,$e),Y)}else{let pe;const{el:Ee,props:Ie}=k,{bm:Ce,m:$e,parent:Qe,root:jt,type:xt}=P,Zt=Ua(k);Io(P,!1),Ce&&hh(Ce),!Zt&&(pe=Ie&&Ie.onVnodeBeforeMount)&&ti(pe,Qe,k),Io(P,!0);{jt.ce&&jt.ce._injectChildStyle(xt);const Wt=P.subTree=uv(P);D(null,Wt,M,Q,P,Y,J),k.el=Wt.el}if($e&&ss($e,Y),!Zt&&(pe=Ie&&Ie.onVnodeMounted)){const Wt=k;ss(()=>ti(pe,Qe,Wt),Y)}(k.shapeFlag&256||Qe&&Ua(Qe.vnode)&&Qe.vnode.shapeFlag&256)&&P.a&&ss(P.a,Y),P.isMounted=!0,k=M=Q=null}};P.scope.on();const le=P.effect=new Nb(ce);P.scope.off();const se=P.update=le.run.bind(le),Se=P.job=le.runIfDirty.bind(le);Se.i=P,Se.id=P.uid,le.scheduler=()=>km(Se),Io(P,!0),se()},Te=(P,k,M)=>{k.component=P;const Q=P.vnode.props;P.vnode=k,P.next=null,B1(P,k.props,Q,M),z1(P,k.children,M),Yr(),tv(P),Xr()},ze=(P,k,M,Q,Y,J,fe,ce,le=!1)=>{const se=P&&P.children,Se=P?P.shapeFlag:0,pe=k.children,{patchFlag:Ee,shapeFlag:Ie}=k;if(Ee>0){if(Ee&128){X(se,pe,M,Q,Y,J,fe,ce,le);return}else if(Ee&256){kt(se,pe,M,Q,Y,J,fe,ce,le);return}}Ie&8?(Se&16&&ct(se,Y,J),pe!==se&&h(M,pe)):Se&16?Ie&16?X(se,pe,M,Q,Y,J,fe,ce,le):ct(se,Y,J,!0):(Se&8&&h(M,""),Ie&16&&I(pe,M,Q,Y,J,fe,ce,le))},kt=(P,k,M,Q,Y,J,fe,ce,le)=>{P=P||Ma,k=k||Ma;const se=P.length,Se=k.length,pe=Math.min(se,Se);let Ee;for(Ee=0;Ee<pe;Ee++){const Ie=k[Ee]=le?Ir(k[Ee]):ri(k[Ee]);D(P[Ee],Ie,M,null,Y,J,fe,ce,le)}se>Se?ct(P,Y,J,!0,!1,pe):I(k,M,Q,Y,J,fe,ce,le,pe)},X=(P,k,M,Q,Y,J,fe,ce,le)=>{let se=0;const Se=k.length;let pe=P.length-1,Ee=Se-1;for(;se<=pe&&se<=Ee;){const Ie=P[se],Ce=k[se]=le?Ir(k[se]):ri(k[se]);if(Po(Ie,Ce))D(Ie,Ce,M,null,Y,J,fe,ce,le);else break;se++}for(;se<=pe&&se<=Ee;){const Ie=P[pe],Ce=k[Ee]=le?Ir(k[Ee]):ri(k[Ee]);if(Po(Ie,Ce))D(Ie,Ce,M,null,Y,J,fe,ce,le);else break;pe--,Ee--}if(se>pe){if(se<=Ee){const Ie=Ee+1,Ce=Ie<Se?k[Ie].el:Q;for(;se<=Ee;)D(null,k[se]=le?Ir(k[se]):ri(k[se]),M,Ce,Y,J,fe,ce,le),se++}}else if(se>Ee)for(;se<=pe;)at(P[se],Y,J,!0),se++;else{const Ie=se,Ce=se,$e=new Map;for(se=Ce;se<=Ee;se++){const en=k[se]=le?Ir(k[se]):ri(k[se]);en.key!=null&&$e.set(en.key,se)}let Qe,jt=0;const xt=Ee-Ce+1;let Zt=!1,Wt=0;const Ks=new Array(xt);for(se=0;se<xt;se++)Ks[se]=0;for(se=Ie;se<=pe;se++){const en=P[se];if(jt>=xt){at(en,Y,J,!0);continue}let qn;if(en.key!=null)qn=$e.get(en.key);else for(Qe=Ce;Qe<=Ee;Qe++)if(Ks[Qe-Ce]===0&&Po(en,k[Qe])){qn=Qe;break}qn===void 0?at(en,Y,J,!0):(Ks[qn-Ce]=se+1,qn>=Wt?Wt=qn:Zt=!0,D(en,k[qn],M,null,Y,J,fe,ce,le),jt++)}const yi=Zt?Y1(Ks):Ma;for(Qe=yi.length-1,se=xt-1;se>=0;se--){const en=Ce+se,qn=k[en],sa=en+1<Se?k[en+1].el:Q;Ks[se]===0?D(null,qn,M,sa,Y,J,fe,ce,le):Zt&&(Qe<0||se!==yi[Qe]?Qt(qn,M,sa,2):Qe--)}}},Qt=(P,k,M,Q,Y=null)=>{const{el:J,type:fe,transition:ce,children:le,shapeFlag:se}=P;if(se&6){Qt(P.component.subTree,k,M,Q);return}if(se&128){P.suspense.move(k,M,Q);return}if(se&64){fe.move(P,k,M,ve);return}if(fe===Ae){s(J,k,M);for(let pe=0;pe<le.length;pe++)Qt(le[pe],k,M,Q);s(P.anchor,k,M);return}if(fe===fh){j(P,k,M);return}if(Q!==2&&se&1&&ce)if(Q===0)ce.beforeEnter(J),s(J,k,M),ss(()=>ce.enter(J),Y);else{const{leave:pe,delayLeave:Ee,afterLeave:Ie}=ce,Ce=()=>s(J,k,M),$e=()=>{pe(J,()=>{Ce(),Ie&&Ie()})};Ee?Ee(J,Ce,$e):$e()}else s(J,k,M)},at=(P,k,M,Q=!1,Y=!1)=>{const{type:J,props:fe,ref:ce,children:le,dynamicChildren:se,shapeFlag:Se,patchFlag:pe,dirs:Ee,cacheIndex:Ie}=P;if(pe===-2&&(Y=!1),ce!=null&&Vh(ce,null,M,P,!0),Ie!=null&&(k.renderCache[Ie]=void 0),Se&256){k.ctx.deactivate(P);return}const Ce=Se&1&&Ee,$e=!Ua(P);let Qe;if($e&&(Qe=fe&&fe.onVnodeBeforeUnmount)&&ti(Qe,k,P),Se&6)Pt(P.component,M,Q);else{if(Se&128){P.suspense.unmount(M,Q);return}Ce&&Ao(P,null,k,"beforeUnmount"),Se&64?P.type.remove(P,k,M,ve,Q):se&&!se.hasOnce&&(J!==Ae||pe>0&&pe&64)?ct(se,k,M,!1,!0):(J===Ae&&pe&384||!Y&&Se&16)&&ct(le,k,M),Q&&lt(P)}($e&&(Qe=fe&&fe.onVnodeUnmounted)||Ce)&&ss(()=>{Qe&&ti(Qe,k,P),Ce&&Ao(P,null,k,"unmounted")},M)},lt=P=>{const{type:k,el:M,anchor:Q,transition:Y}=P;if(k===Ae){Rt(M,Q);return}if(k===fh){H(P);return}const J=()=>{i(M),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(P.shapeFlag&1&&Y&&!Y.persisted){const{leave:fe,delayLeave:ce}=Y,le=()=>fe(M,J);ce?ce(P.el,J,le):le()}else J()},Rt=(P,k)=>{let M;for(;P!==k;)M=_(P),i(P),P=M;i(k)},Pt=(P,k,M)=>{const{bum:Q,scope:Y,job:J,subTree:fe,um:ce,m:le,a:se}=P;cv(le),cv(se),Q&&hh(Q),Y.stop(),J&&(J.flags|=8,at(fe,P,k,M)),ce&&ss(ce,k),ss(()=>{P.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},ct=(P,k,M,Q=!1,Y=!1,J=0)=>{for(let fe=J;fe<P.length;fe++)at(P[fe],k,M,Q,Y)},G=P=>{if(P.shapeFlag&6)return G(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const k=_(P.anchor||P.el),M=k&&k[v1];return M?_(M):k};let K=!1;const ue=(P,k,M)=>{P==null?k._vnode&&at(k._vnode,null,null,!0):D(k._vnode||null,P,k,null,null,null,M),k._vnode=P,K||(K=!0,tv(),ew(),K=!1)},ve={p:D,um:at,m:Qt,r:lt,mt:Me,mc:I,pc:ze,pbc:R,n:G,o:t};return{render:ue,hydrate:void 0,createApp:F1(ue)}}function jf({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Io({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Q1(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Pw(t,e,n=!1){const s=t.children,i=e.children;if(ke(s)&&ke(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Ir(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&Pw(o,a)),a.type===Cd&&(a.el=o.el)}}function Y1(t){const e=t.slice(),n=[0];let s,i,r,o,a;const c=t.length;for(s=0;s<c;s++){const d=t[s];if(d!==0){if(i=n[n.length-1],t[i]<d){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<d?r=a+1:o=a;d<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Ow(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ow(e)}function cv(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const X1=Symbol.for("v-scx"),J1=()=>cs(X1);function Z1(t,e){return Lm(t,null,e)}function us(t,e,n){return Lm(t,e,n)}function Lm(t,e,n=wt){const{immediate:s,deep:i,flush:r,once:o}=n,a=an({},n),c=e&&s||!e&&r!=="post";let d;if(Lc){if(r==="sync"){const E=J1();d=E.__watcherHandles||(E.__watcherHandles=[])}else if(!c){const E=()=>{};return E.stop=li,E.resume=li,E.pause=li,E}}const h=mn;a.call=(E,S,D)=>Bs(E,h,S,D);let f=!1;r==="post"?a.scheduler=E=>{ss(E,h&&h.suspense)}:r!=="sync"&&(f=!0,a.scheduler=(E,S)=>{S?E():km(E)}),a.augmentJob=E=>{e&&(E.flags|=4),f&&(E.flags|=2,h&&(E.id=h.uid,E.i=h))};const _=p1(t,e,a);return Lc&&(d?d.push(_):c&&_()),_}function eR(t,e,n){const s=this.proxy,i=qt(t)?t.includes(".")?kw(s,t):()=>s[t]:t.bind(s,s);let r;qe(e)?r=e:(r=e.handler,n=e);const o=Jc(this),a=Lm(i,r.bind(s),n);return o(),a}function kw(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const tR=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Cs(e)}Modifiers`]||t[`${Qo(e)}Modifiers`];function nR(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||wt;let i=n;const r=e.startsWith("update:"),o=r&&tR(s,e.slice(7));o&&(o.trim&&(i=n.map(h=>qt(h)?h.trim():h)),o.number&&(i=n.map(kh)));let a,c=s[a=uh(e)]||s[a=uh(Cs(e))];!c&&r&&(c=s[a=uh(Qo(e))]),c&&Bs(c,t,6,i);const d=s[a+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Bs(d,t,6,i)}}function xw(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!qe(t)){const c=d=>{const h=xw(d,e,!0);h&&(a=!0,an(o,h))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!r&&!a?(Tt(t)&&s.set(t,null),null):(ke(r)?r.forEach(c=>o[c]=null):an(o,r),Tt(t)&&s.set(t,o),o)}function Id(t,e){return!t||!pd(e)?!1:(e=e.slice(2).replace(/Once$/,""),ft(t,e[0].toLowerCase()+e.slice(1))||ft(t,Qo(e))||ft(t,e))}function uv(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:c,render:d,renderCache:h,props:f,data:_,setupState:E,ctx:S,inheritAttrs:D}=t,N=Lh(t);let B,$;try{if(n.shapeFlag&4){const H=i||s,ie=H;B=ri(d.call(ie,H,h,f,E,_,S)),$=a}else{const H=e;B=ri(H.length>1?H(f,{attrs:a,slots:o,emit:c}):H(f,null)),$=e.props?a:sR(a)}}catch(H){_c.length=0,bd(H,t,1),B=ne(Fn)}let j=B;if($&&D!==!1){const H=Object.keys($),{shapeFlag:ie}=j;H.length&&ie&7&&(r&&H.some(Em)&&($=iR($,r)),j=Fr(j,$,!1,!0))}return n.dirs&&(j=Fr(j,null,!1,!0),j.dirs=j.dirs?j.dirs.concat(n.dirs):n.dirs),n.transition&&Fo(j,n.transition),B=j,Lh(N),B}const sR=t=>{let e;for(const n in t)(n==="class"||n==="style"||pd(n))&&((e||(e={}))[n]=t[n]);return e},iR=(t,e)=>{const n={};for(const s in t)(!Em(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function rR(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:c}=e,d=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?hv(s,o,d):!!o;if(c&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const _=h[f];if(o[_]!==s[_]&&!Id(d,_))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?hv(s,o,d):!0:!!o;return!1}function hv(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!Id(n,r))return!0}return!1}function oR({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Dw=t=>t.__isSuspense;function aR(t,e){e&&e.pendingBranch?ke(t)?e.effects.push(...t):e.effects.push(t):_1(t)}const Ae=Symbol.for("v-fgt"),Cd=Symbol.for("v-txt"),Fn=Symbol.for("v-cmt"),fh=Symbol.for("v-stc"),_c=[];let os=null;function U(t=!1){_c.push(os=t?null:[])}function lR(){_c.pop(),os=_c[_c.length-1]||null}let Dc=1;function dv(t,e=!1){Dc+=t,t<0&&os&&e&&(os.hasOnce=!0)}function Nw(t){return t.dynamicChildren=Dc>0?os||Ma:null,lR(),Dc>0&&os&&os.push(t),t}function q(t,e,n,s,i,r){return Nw(m(t,e,n,s,i,r,!0))}function as(t,e,n,s,i){return Nw(ne(t,e,n,s,i,!0))}function Nc(t){return t?t.__v_isVNode===!0:!1}function Po(t,e){return t.type===e.type&&t.key===e.key}const Lw=({key:t})=>t??null,ph=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?qt(t)||Lt(t)||qe(t)?{i:sn,r:t,k:e,f:!!n}:t:null);function m(t,e=null,n=null,s=0,i=null,r=t===Ae?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Lw(e),ref:e&&ph(e),scopeId:nw,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:sn};return a?(Vm(c,n),r&128&&t.normalize(c)):n&&(c.shapeFlag|=qt(n)?8:16),Dc>0&&!o&&os&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&os.push(c),c}const ne=cR;function cR(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===pw)&&(t=Fn),Nc(t)){const a=Fr(t,e,!0);return n&&Vm(a,n),Dc>0&&!r&&os&&(a.shapeFlag&6?os[os.indexOf(t)]=a:os.push(a)),a.patchFlag=-2,a}if(yR(t)&&(t=t.__vccOpts),e){e=uR(e);let{class:a,style:c}=e;a&&!qt(a)&&(e.class=Dt(a)),Tt(c)&&(Pm(c)&&!ke(c)&&(c=an({},c)),e.style=ji(c))}const o=qt(t)?1:Dw(t)?128:sw(t)?64:Tt(t)?4:qe(t)?2:0;return m(t,e,n,s,i,o,r,!0)}function uR(t){return t?Pm(t)||ww(t)?an({},t):t:null}function Fr(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:c}=t,d=e?Sd(i||{},e):i,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&Lw(d),ref:e&&e.ref?n&&r?ke(r)?r.concat(ph(e)):[r,ph(e)]:ph(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ae?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Fr(t.ssContent),ssFallback:t.ssFallback&&Fr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&Fo(h,c.clone(h)),h}function xe(t=" ",e=0){return ne(Cd,null,t,e)}function za(t,e){const n=ne(fh,null,t);return n.staticCount=e,n}function Xt(t="",e=!1){return e?(U(),as(Fn,null,t)):ne(Fn,null,t)}function ri(t){return t==null||typeof t=="boolean"?ne(Fn):ke(t)?ne(Ae,null,t.slice()):Nc(t)?Ir(t):ne(Cd,null,String(t))}function Ir(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Fr(t)}function Vm(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ke(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Vm(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!ww(e)?e._ctx=sn:i===3&&sn&&(sn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else qe(e)?(e={default:e,_ctx:sn},n=32):(e=String(e),s&64?(n=16,e=[xe(e)]):n=8);t.children=e,t.shapeFlag|=n}function Sd(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Dt([e.class,s.class]));else if(i==="style")e.style=ji([e.style,s.style]);else if(pd(i)){const r=e[i],o=s[i];o&&r!==o&&!(ke(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function ti(t,e,n,s=null){Bs(t,e,7,[n,s])}const hR=yw();let dR=0;function fR(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||hR,r={uid:dR++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new kb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Aw(s,i),emitsOptions:xw(s,i),emit:null,emitted:null,propsDefaults:wt,inheritAttrs:s.inheritAttrs,ctx:wt,data:wt,props:wt,attrs:wt,slots:wt,refs:wt,setupState:wt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=nR.bind(null,r),t.ce&&t.ce(r),r}let mn=null;const Mm=()=>mn||sn;let $h,Op;{const t=vd(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};$h=e("__VUE_INSTANCE_SETTERS__",n=>mn=n),Op=e("__VUE_SSR_SETTERS__",n=>Lc=n)}const Jc=t=>{const e=mn;return $h(t),t.scope.on(),()=>{t.scope.off(),$h(e)}},fv=()=>{mn&&mn.scope.off(),$h(null)};function Vw(t){return t.vnode.shapeFlag&4}let Lc=!1;function pR(t,e=!1,n=!1){e&&Op(e);const{props:s,children:i}=t.vnode,r=Vw(t);j1(t,s,r,e),W1(t,i,n);const o=r?mR(t,e):void 0;return e&&Op(!1),o}function mR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,x1);const{setup:s}=n;if(s){Yr();const i=t.setupContext=s.length>1?_R(t):null,r=Jc(t),o=Xc(s,t,0,[t.props,i]),a=Ab(o);if(Xr(),r(),(a||t.sp)&&!Ua(t)&&cw(t),a){if(o.then(fv,fv),e)return o.then(c=>{pv(t,c)}).catch(c=>{bd(c,t,0)});t.asyncDep=o}else pv(t,o)}else Mw(t)}function pv(t,e,n){qe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Tt(e)&&(t.setupState=Xb(e)),Mw(t)}function Mw(t,e,n){const s=t.type;t.render||(t.render=s.render||li);{const i=Jc(t);Yr();try{D1(t)}finally{Xr(),i()}}}const gR={get(t,e){return An(t,"get",""),t[e]}};function _R(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,gR),slots:t.slots,emit:t.emit,expose:e}}function Rd(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Xb(Om(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in gc)return gc[n](t)},has(e,n){return n in e||n in gc}})):t.proxy}function vR(t,e=!0){return qe(t)?t.displayName||t.name:t.name||e&&t.__name}function yR(t){return qe(t)&&"__vccOpts"in t}const St=(t,e)=>d1(t,e,Lc);function $m(t,e,n){const s=arguments.length;return s===2?Tt(e)&&!ke(e)?Nc(e)?ne(t,null,[e]):ne(t,e):ne(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Nc(n)&&(n=[n]),ne(t,e,n))}const ER="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let kp;const mv=typeof window<"u"&&window.trustedTypes;if(mv)try{kp=mv.createPolicy("vue",{createHTML:t=>t})}catch{}const $w=kp?t=>kp.createHTML(t):t=>t,bR="http://www.w3.org/2000/svg",wR="http://www.w3.org/1998/Math/MathML",ki=typeof document<"u"?document:null,gv=ki&&ki.createElement("template"),TR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?ki.createElementNS(bR,t):e==="mathml"?ki.createElementNS(wR,t):n?ki.createElement(t,{is:n}):ki.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>ki.createTextNode(t),createComment:t=>ki.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ki.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{gv.innerHTML=$w(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=gv.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},_r="transition",nc="animation",Ka=Symbol("_vtc"),Fw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Uw=an({},rw,Fw),AR=t=>(t.displayName="Transition",t.props=Uw,t),_v=AR((t,{slots:e})=>$m(E1,jw(t),e)),Co=(t,e=[])=>{ke(t)?t.forEach(n=>n(...e)):t&&t(...e)},vv=t=>t?ke(t)?t.some(e=>e.length>1):t.length>1:!1;function jw(t){const e={};for(const A in t)A in Fw||(e[A]=t[A]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=r,appearActiveClass:d=o,appearToClass:h=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:E=`${n}-leave-to`}=t,S=IR(i),D=S&&S[0],N=S&&S[1],{onBeforeEnter:B,onEnter:$,onEnterCancelled:j,onLeave:H,onLeaveCancelled:ie,onBeforeAppear:oe=B,onAppear:x=$,onAppearCancelled:I=j}=e,T=(A,C,Me,ot)=>{A._enterCancelled=ot,br(A,C?h:a),br(A,C?d:o),Me&&Me()},R=(A,C)=>{A._isLeaving=!1,br(A,f),br(A,E),br(A,_),C&&C()},O=A=>(C,Me)=>{const ot=A?x:$,Fe=()=>T(C,A,Me);Co(ot,[C,Fe]),yv(()=>{br(C,A?c:r),ni(C,A?h:a),vv(ot)||Ev(C,s,D,Fe)})};return an(e,{onBeforeEnter(A){Co(B,[A]),ni(A,r),ni(A,o)},onBeforeAppear(A){Co(oe,[A]),ni(A,c),ni(A,d)},onEnter:O(!1),onAppear:O(!0),onLeave(A,C){A._isLeaving=!0;const Me=()=>R(A,C);ni(A,f),A._enterCancelled?(ni(A,_),xp()):(xp(),ni(A,_)),yv(()=>{A._isLeaving&&(br(A,f),ni(A,E),vv(H)||Ev(A,s,N,Me))}),Co(H,[A,Me])},onEnterCancelled(A){T(A,!1,void 0,!0),Co(j,[A])},onAppearCancelled(A){T(A,!0,void 0,!0),Co(I,[A])},onLeaveCancelled(A){R(A),Co(ie,[A])}})}function IR(t){if(t==null)return null;if(Tt(t))return[Bf(t.enter),Bf(t.leave)];{const e=Bf(t);return[e,e]}}function Bf(t){return OS(t)}function ni(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ka]||(t[Ka]=new Set)).add(e)}function br(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Ka];n&&(n.delete(e),n.size||(t[Ka]=void 0))}function yv(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let CR=0;function Ev(t,e,n,s){const i=t._endId=++CR,r=()=>{i===t._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:a,propCount:c}=Bw(t,e);if(!o)return s();const d=o+"end";let h=0;const f=()=>{t.removeEventListener(d,_),r()},_=E=>{E.target===t&&++h>=c&&f()};setTimeout(()=>{h<c&&f()},a+1),t.addEventListener(d,_)}function Bw(t,e){const n=window.getComputedStyle(t),s=S=>(n[S]||"").split(", "),i=s(`${_r}Delay`),r=s(`${_r}Duration`),o=bv(i,r),a=s(`${nc}Delay`),c=s(`${nc}Duration`),d=bv(a,c);let h=null,f=0,_=0;e===_r?o>0&&(h=_r,f=o,_=r.length):e===nc?d>0&&(h=nc,f=d,_=c.length):(f=Math.max(o,d),h=f>0?o>d?_r:nc:null,_=h?h===_r?r.length:c.length:0);const E=h===_r&&/\b(transform|all)(,|$)/.test(s(`${_r}Property`).toString());return{type:h,timeout:f,propCount:_,hasTransform:E}}function bv(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>wv(n)+wv(t[s])))}function wv(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function xp(){return document.body.offsetHeight}function SR(t,e,n){const s=t[Ka];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Tv=Symbol("_vod"),RR=Symbol("_vsh"),PR=Symbol(""),OR=/(^|;)\s*display\s*:/;function kR(t,e,n){const s=t.style,i=qt(n);let r=!1;if(n&&!i){if(e)if(qt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&mh(s,a,"")}else for(const o in e)n[o]==null&&mh(s,o,"");for(const o in n)o==="display"&&(r=!0),mh(s,o,n[o])}else if(i){if(e!==n){const o=s[PR];o&&(n+=";"+o),s.cssText=n,r=OR.test(n)}}else e&&t.removeAttribute("style");Tv in t&&(t[Tv]=r?s.display:"",t[RR]&&(s.display="none"))}const Av=/\s*!important$/;function mh(t,e,n){if(ke(n))n.forEach(s=>mh(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=xR(t,e);Av.test(n)?t.setProperty(Qo(s),n.replace(Av,""),"important"):t[s]=n}}const Iv=["Webkit","Moz","ms"],Hf={};function xR(t,e){const n=Hf[e];if(n)return n;let s=Cs(e);if(s!=="filter"&&s in t)return Hf[e]=s;s=_d(s);for(let i=0;i<Iv.length;i++){const r=Iv[i]+s;if(r in t)return Hf[e]=r}return e}const Cv="http://www.w3.org/1999/xlink";function Sv(t,e,n,s,i,r=VS(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Cv,e.slice(6,e.length)):t.setAttributeNS(Cv,e,n):n==null||r&&!Rb(n)?t.removeAttribute(e):t.setAttribute(e,r?"":js(n)?String(n):n)}function Rv(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?$w(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Rb(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Oo(t,e,n,s){t.addEventListener(e,n,s)}function DR(t,e,n,s){t.removeEventListener(e,n,s)}const Pv=Symbol("_vei");function NR(t,e,n,s,i=null){const r=t[Pv]||(t[Pv]={}),o=r[e];if(s&&o)o.value=s;else{const[a,c]=LR(e);if(s){const d=r[e]=$R(s,i);Oo(t,a,d,c)}else o&&(DR(t,a,o,c),r[e]=void 0)}}const Ov=/(?:Once|Passive|Capture)$/;function LR(t){let e;if(Ov.test(t)){e={};let s;for(;s=t.match(Ov);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Qo(t.slice(2)),e]}let qf=0;const VR=Promise.resolve(),MR=()=>qf||(VR.then(()=>qf=0),qf=Date.now());function $R(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Bs(FR(s,n.value),e,5,[s])};return n.value=t,n.attached=MR(),n}function FR(t,e){if(ke(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const kv=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,UR=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?SR(t,s,o):e==="style"?kR(t,n,s):pd(e)?Em(e)||NR(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):jR(t,e,s,o))?(Rv(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Sv(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!qt(s))?Rv(t,Cs(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Sv(t,e,s,o))};function jR(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&kv(e)&&qe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return kv(e)&&qt(n)?!1:e in t}const Hw=new WeakMap,qw=new WeakMap,Fh=Symbol("_moveCb"),xv=Symbol("_enterCb"),BR=t=>(delete t.props.mode,t),HR=BR({name:"TransitionGroup",props:an({},Uw,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Mm(),s=iw();let i,r;return hw(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!GR(i[0].el,n.vnode.el,o))return;i.forEach(WR),i.forEach(zR);const a=i.filter(KR);xp(),a.forEach(c=>{const d=c.el,h=d.style;ni(d,o),h.transform=h.webkitTransform=h.transitionDuration="";const f=d[Fh]=_=>{_&&_.target!==d||(!_||/transform$/.test(_.propertyName))&&(d.removeEventListener("transitionend",f),d[Fh]=null,br(d,o))};d.addEventListener("transitionend",f)})}),()=>{const o=nt(t),a=jw(o);let c=o.tag||Ae;if(i=[],r)for(let d=0;d<r.length;d++){const h=r[d];h.el&&h.el instanceof Element&&(i.push(h),Fo(h,xc(h,a,s,n)),Hw.set(h,h.el.getBoundingClientRect()))}r=e.default?xm(e.default()):[];for(let d=0;d<r.length;d++){const h=r[d];h.key!=null&&Fo(h,xc(h,a,s,n))}return ne(c,null,r)}}}),qR=HR;function WR(t){const e=t.el;e[Fh]&&e[Fh](),e[xv]&&e[xv]()}function zR(t){qw.set(t,t.el.getBoundingClientRect())}function KR(t){const e=Hw.get(t),n=qw.get(t),s=e.left-n.left,i=e.top-n.top;if(s||i){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",t}}function GR(t,e,n){const s=t.cloneNode(),i=t[Ka];i&&i.forEach(a=>{a.split(/\s+/).forEach(c=>c&&s.classList.remove(c))}),n.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(s);const{hasTransform:o}=Bw(s);return r.removeChild(s),o}const Uh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ke(e)?n=>hh(e,n):e};function QR(t){t.target.composing=!0}function Dv(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ja=Symbol("_assign"),Nt={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[ja]=Uh(i);const r=s||i.props&&i.props.type==="number";Oo(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=kh(a)),t[ja](a)}),n&&Oo(t,"change",()=>{t.value=t.value.trim()}),e||(Oo(t,"compositionstart",QR),Oo(t,"compositionend",Dv),Oo(t,"change",Dv))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[ja]=Uh(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?kh(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===c)||(t.value=c))}},Ur={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=md(e);Oo(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?kh(jh(o)):jh(o));t[ja](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,Dr(()=>{t._assigning=!1})}),t[ja]=Uh(s)},mounted(t,{value:e}){Nv(t,e)},beforeUpdate(t,e,n){t[ja]=Uh(n)},updated(t,{value:e}){t._assigning||Nv(t,e)}};function Nv(t,e){const n=t.multiple,s=ke(e);if(!(n&&!s&&!md(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],a=jh(o);if(n)if(s){const c=typeof a;c==="string"||c==="number"?o.selected=e.some(d=>String(d)===String(a)):o.selected=$S(e,a)>-1}else o.selected=e.has(a);else if(yd(jh(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function jh(t){return"_value"in t?t._value:t.value}const YR=["ctrl","shift","alt","meta"],XR={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>YR.some(n=>t[`${n}Key`]&&!e.includes(n))},Vs=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const a=XR[e[o]];if(a&&a(i,e))return}return t(i,...r)})},JR=an({patchProp:UR},TR);let Lv;function ZR(){return Lv||(Lv=K1(JR))}const Ww=(...t)=>{const e=ZR().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=tP(s);if(!i)return;const r=e._component;!qe(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,eP(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function eP(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function tP(t){return qt(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let zw;const Pd=t=>zw=t,Kw=Symbol();function Dp(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var vc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(vc||(vc={}));function nP(){const t=xb(!0),e=t.run(()=>we({}));let n=[],s=[];const i=Om({install(r){Pd(i),i._a=r,r.provide(Kw,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Gw=()=>{};function Vv(t,e,n,s=Gw){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&Db()&&FS(i),i}function Aa(t,...e){t.slice().forEach(n=>{n(...e)})}const sP=t=>t(),Mv=Symbol(),Wf=Symbol();function Np(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];Dp(i)&&Dp(s)&&t.hasOwnProperty(n)&&!Lt(s)&&!xr(s)?t[n]=Np(i,s):t[n]=s}return t}const iP=Symbol();function rP(t){return!Dp(t)||!Object.prototype.hasOwnProperty.call(t,iP)}const{assign:wr}=Object;function oP(t){return!!(Lt(t)&&t.effect)}function aP(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let c;function d(){a||(n.state.value[t]=i?i():{});const h=l1(n.state.value[t]);return wr(h,r,Object.keys(o||{}).reduce((f,_)=>(f[_]=Om(St(()=>{Pd(n);const E=n._s.get(t);return o[_].call(E,E)})),f),{}))}return c=Qw(t,d,e,n,s,!0),c}function Qw(t,e,n={},s,i,r){let o;const a=wr({actions:{}},n),c={deep:!0};let d,h,f=[],_=[],E;const S=s.state.value[t];!r&&!S&&(s.state.value[t]={}),we({});let D;function N(I){let T;d=h=!1,typeof I=="function"?(I(s.state.value[t]),T={type:vc.patchFunction,storeId:t,events:E}):(Np(s.state.value[t],I),T={type:vc.patchObject,payload:I,storeId:t,events:E});const R=D=Symbol();Dr().then(()=>{D===R&&(d=!0)}),h=!0,Aa(f,T,s.state.value[t])}const B=r?function(){const{state:T}=n,R=T?T():{};this.$patch(O=>{wr(O,R)})}:Gw;function $(){o.stop(),f=[],_=[],s._s.delete(t)}const j=(I,T="")=>{if(Mv in I)return I[Wf]=T,I;const R=function(){Pd(s);const O=Array.from(arguments),A=[],C=[];function Me(Te){A.push(Te)}function ot(Te){C.push(Te)}Aa(_,{args:O,name:R[Wf],store:ie,after:Me,onError:ot});let Fe;try{Fe=I.apply(this&&this.$id===t?this:ie,O)}catch(Te){throw Aa(C,Te),Te}return Fe instanceof Promise?Fe.then(Te=>(Aa(A,Te),Te)).catch(Te=>(Aa(C,Te),Promise.reject(Te))):(Aa(A,Fe),Fe)};return R[Mv]=!0,R[Wf]=T,R},H={_p:s,$id:t,$onAction:Vv.bind(null,_),$patch:N,$reset:B,$subscribe(I,T={}){const R=Vv(f,I,T.detached,()=>O()),O=o.run(()=>us(()=>s.state.value[t],A=>{(T.flush==="sync"?h:d)&&I({storeId:t,type:vc.direct,events:E},A)},wr({},c,T)));return R},$dispose:$},ie=Yc(H);s._s.set(t,ie);const x=(s._a&&s._a.runWithContext||sP)(()=>s._e.run(()=>(o=xb()).run(()=>e({action:j}))));for(const I in x){const T=x[I];if(Lt(T)&&!oP(T)||xr(T))r||(S&&rP(T)&&(Lt(T)?T.value=S[I]:Np(T,S[I])),s.state.value[t][I]=T);else if(typeof T=="function"){const R=j(T,I);x[I]=R,a.actions[I]=T}}return wr(ie,x),wr(nt(ie),x),Object.defineProperty(ie,"$state",{get:()=>s.state.value[t],set:I=>{N(T=>{wr(T,I)})}}),s._p.forEach(I=>{wr(ie,o.run(()=>I({store:ie,app:s._a,pinia:s,options:a})))}),S&&r&&n.hydrate&&n.hydrate(ie.$state,S),d=!0,h=!0,ie}/*! #__NO_SIDE_EFFECTS__ */function Fm(t,e,n){let s;const i=typeof e=="function";s=i?n:e;function r(o,a){const c=U1();return o=o||(c?cs(Kw,null):null),o&&Pd(o),o=zw,o._s.has(t)||(i?Qw(t,e,s,o):aP(t,s,o)),o._s.get(t)}return r.$id=t,r}const lP={id:"app-wrapper"},cP={class:"container-fluid p-0 flex-fill"},uP={__name:"App",setup(t){return(e,n)=>{const s=Vt("router-view");return U(),q("div",lP,[n[0]||(n[0]=m("a",{href:"#main-content",class:"skip-link"},"Aller au contenu principal",-1)),m("main",cP,[ne(s)])])}}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Ra=typeof document<"u";function Yw(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function hP(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Yw(t.default)}const dt=Object.assign;function zf(t,e){const n={};for(const s in e){const i=e[s];n[s]=Hs(i)?i.map(t):t(i)}return n}const yc=()=>{},Hs=Array.isArray,Xw=/#/g,dP=/&/g,fP=/\//g,pP=/=/g,mP=/\?/g,Jw=/\+/g,gP=/%5B/g,_P=/%5D/g,Zw=/%5E/g,vP=/%60/g,eT=/%7B/g,yP=/%7C/g,tT=/%7D/g,EP=/%20/g;function Um(t){return encodeURI(""+t).replace(yP,"|").replace(gP,"[").replace(_P,"]")}function bP(t){return Um(t).replace(eT,"{").replace(tT,"}").replace(Zw,"^")}function Lp(t){return Um(t).replace(Jw,"%2B").replace(EP,"+").replace(Xw,"%23").replace(dP,"%26").replace(vP,"`").replace(eT,"{").replace(tT,"}").replace(Zw,"^")}function wP(t){return Lp(t).replace(pP,"%3D")}function TP(t){return Um(t).replace(Xw,"%23").replace(mP,"%3F")}function AP(t){return t==null?"":TP(t).replace(fP,"%2F")}function Vc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const IP=/\/$/,CP=t=>t.replace(IP,"");function Kf(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=e.slice(0,c),r=e.slice(c+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=OP(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:Vc(o)}}function SP(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function $v(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function RP(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Ga(e.matched[s],n.matched[i])&&nT(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ga(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function nT(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!PP(t[n],e[n]))return!1;return!0}function PP(t,e){return Hs(t)?Fv(t,e):Hs(e)?Fv(e,t):t===e}function Fv(t,e){return Hs(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function OP(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const vr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Mc;(function(t){t.pop="pop",t.push="push"})(Mc||(Mc={}));var Ec;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ec||(Ec={}));function kP(t){if(!t)if(Ra){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),CP(t)}const xP=/^[^#]+#/;function DP(t,e){return t.replace(xP,"#")+e}function NP(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Od=()=>({left:window.scrollX,top:window.scrollY});function LP(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=NP(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Uv(t,e){return(history.state?history.state.position-e:-1)+t}const Vp=new Map;function VP(t,e){Vp.set(t,e)}function MP(t){const e=Vp.get(t);return Vp.delete(t),e}let $P=()=>location.protocol+"//"+location.host;function sT(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),$v(c,"")}return $v(n,t)+s+i}function FP(t,e,n,s){let i=[],r=[],o=null;const a=({state:_})=>{const E=sT(t,location),S=n.value,D=e.value;let N=0;if(_){if(n.value=E,e.value=_,o&&o===S){o=null;return}N=D?_.position-D.position:0}else s(E);i.forEach(B=>{B(n.value,S,{delta:N,type:Mc.pop,direction:N?N>0?Ec.forward:Ec.back:Ec.unknown})})};function c(){o=n.value}function d(_){i.push(_);const E=()=>{const S=i.indexOf(_);S>-1&&i.splice(S,1)};return r.push(E),E}function h(){const{history:_}=window;_.state&&_.replaceState(dt({},_.state,{scroll:Od()}),"")}function f(){for(const _ of r)_();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:d,destroy:f}}function jv(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Od():null}}function UP(t){const{history:e,location:n}=window,s={value:sT(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(c,d,h){const f=t.indexOf("#"),_=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+c:$P()+t+c;try{e[h?"replaceState":"pushState"](d,"",_),i.value=d}catch(E){console.error(E),n[h?"replace":"assign"](_)}}function o(c,d){const h=dt({},e.state,jv(i.value.back,c,i.value.forward,!0),d,{position:i.value.position});r(c,h,!0),s.value=c}function a(c,d){const h=dt({},i.value,e.state,{forward:c,scroll:Od()});r(h.current,h,!0);const f=dt({},jv(s.value,c,null),{position:h.position+1},d);r(c,f,!1),s.value=c}return{location:s,state:i,push:a,replace:o}}function Bv(t){t=kP(t);const e=UP(t),n=FP(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=dt({location:"",base:t,go:s,createHref:DP.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function jP(t){return typeof t=="string"||t&&typeof t=="object"}function iT(t){return typeof t=="string"||typeof t=="symbol"}const rT=Symbol("");var Hv;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Hv||(Hv={}));function Qa(t,e){return dt(new Error,{type:t,[rT]:!0},e)}function Oi(t,e){return t instanceof Error&&rT in t&&(e==null||!!(t.type&e))}const qv="[^/]+?",BP={sensitive:!1,strict:!1,start:!0,end:!0},HP=/[.+*?^${}()[\]/\\]/g;function qP(t,e){const n=dt({},BP,e),s=[];let i=n.start?"^":"";const r=[];for(const d of t){const h=d.length?[]:[90];n.strict&&!d.length&&(i+="/");for(let f=0;f<d.length;f++){const _=d[f];let E=40+(n.sensitive?.25:0);if(_.type===0)f||(i+="/"),i+=_.value.replace(HP,"\\$&"),E+=40;else if(_.type===1){const{value:S,repeatable:D,optional:N,regexp:B}=_;r.push({name:S,repeatable:D,optional:N});const $=B||qv;if($!==qv){E+=10;try{new RegExp(`(${$})`)}catch(H){throw new Error(`Invalid custom RegExp for param "${S}" (${$}): `+H.message)}}let j=D?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;f||(j=N&&d.length<2?`(?:/${j})`:"/"+j),N&&(j+="?"),i+=j,E+=20,N&&(E+=-8),D&&(E+=-20),$===".*"&&(E+=-50)}h.push(E)}s.push(h)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(d){const h=d.match(o),f={};if(!h)return null;for(let _=1;_<h.length;_++){const E=h[_]||"",S=r[_-1];f[S.name]=E&&S.repeatable?E.split("/"):E}return f}function c(d){let h="",f=!1;for(const _ of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const E of _)if(E.type===0)h+=E.value;else if(E.type===1){const{value:S,repeatable:D,optional:N}=E,B=S in d?d[S]:"";if(Hs(B)&&!D)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const $=Hs(B)?B.join("/"):B;if(!$)if(N)_.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${S}"`);h+=$}}return h||"/"}return{re:o,score:s,keys:r,parse:a,stringify:c}}function WP(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function oT(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=WP(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(Wv(s))return 1;if(Wv(i))return-1}return i.length-s.length}function Wv(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const zP={type:0,value:""},KP=/[a-zA-Z0-9_]/;function GP(t){if(!t)return[[]];if(t==="/")return[[zP]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(E){throw new Error(`ERR (${n})/"${d}": ${E}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,c,d="",h="";function f(){d&&(n===0?r.push({type:0,value:d}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:d,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),d="")}function _(){d+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(d&&f(),o()):c===":"?(f(),n=1):_();break;case 4:_(),n=s;break;case 1:c==="("?n=2:KP.test(c)?_():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),f(),o(),i}function QP(t,e,n){const s=qP(GP(t.path),n),i=dt(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function YP(t,e){const n=[],s=new Map;e=Qv({strict:!1,end:!0,sensitive:!1},e);function i(f){return s.get(f)}function r(f,_,E){const S=!E,D=Kv(f);D.aliasOf=E&&E.record;const N=Qv(e,f),B=[D];if("alias"in f){const H=typeof f.alias=="string"?[f.alias]:f.alias;for(const ie of H)B.push(Kv(dt({},D,{components:E?E.record.components:D.components,path:ie,aliasOf:E?E.record:D})))}let $,j;for(const H of B){const{path:ie}=H;if(_&&ie[0]!=="/"){const oe=_.record.path,x=oe[oe.length-1]==="/"?"":"/";H.path=_.record.path+(ie&&x+ie)}if($=QP(H,_,N),E?E.alias.push($):(j=j||$,j!==$&&j.alias.push($),S&&f.name&&!Gv($)&&o(f.name)),aT($)&&c($),D.children){const oe=D.children;for(let x=0;x<oe.length;x++)r(oe[x],$,E&&E.children[x])}E=E||$}return j?()=>{o(j)}:yc}function o(f){if(iT(f)){const _=s.get(f);_&&(s.delete(f),n.splice(n.indexOf(_),1),_.children.forEach(o),_.alias.forEach(o))}else{const _=n.indexOf(f);_>-1&&(n.splice(_,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function c(f){const _=ZP(f,n);n.splice(_,0,f),f.record.name&&!Gv(f)&&s.set(f.record.name,f)}function d(f,_){let E,S={},D,N;if("name"in f&&f.name){if(E=s.get(f.name),!E)throw Qa(1,{location:f});N=E.record.name,S=dt(zv(_.params,E.keys.filter(j=>!j.optional).concat(E.parent?E.parent.keys.filter(j=>j.optional):[]).map(j=>j.name)),f.params&&zv(f.params,E.keys.map(j=>j.name))),D=E.stringify(S)}else if(f.path!=null)D=f.path,E=n.find(j=>j.re.test(D)),E&&(S=E.parse(D),N=E.record.name);else{if(E=_.name?s.get(_.name):n.find(j=>j.re.test(_.path)),!E)throw Qa(1,{location:f,currentLocation:_});N=E.record.name,S=dt({},_.params,f.params),D=E.stringify(S)}const B=[];let $=E;for(;$;)B.unshift($.record),$=$.parent;return{name:N,path:D,params:S,matched:B,meta:JP(B)}}t.forEach(f=>r(f));function h(){n.length=0,s.clear()}return{addRoute:r,resolve:d,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:i}}function zv(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Kv(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:XP(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function XP(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Gv(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function JP(t){return t.reduce((e,n)=>dt(e,n.meta),{})}function Qv(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function ZP(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;oT(t,e[r])<0?s=r:n=r+1}const i=eO(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function eO(t){let e=t;for(;e=e.parent;)if(aT(e)&&oT(t,e)===0)return e}function aT({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function tO(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(Jw," "),o=r.indexOf("="),a=Vc(o<0?r:r.slice(0,o)),c=o<0?null:Vc(r.slice(o+1));if(a in e){let d=e[a];Hs(d)||(d=e[a]=[d]),d.push(c)}else e[a]=c}return e}function Yv(t){let e="";for(let n in t){const s=t[n];if(n=wP(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Hs(s)?s.map(r=>r&&Lp(r)):[s&&Lp(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function nO(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Hs(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const sO=Symbol(""),Xv=Symbol(""),kd=Symbol(""),jm=Symbol(""),Mp=Symbol("");function sc(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Cr(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const d=_=>{_===!1?c(Qa(4,{from:n,to:e})):_ instanceof Error?c(_):jP(_)?c(Qa(2,{from:e,to:_})):(o&&s.enterCallbacks[i]===o&&typeof _=="function"&&o.push(_),a())},h=r(()=>t.call(s&&s.instances[i],e,n,d));let f=Promise.resolve(h);t.length<3&&(f=f.then(d)),f.catch(_=>c(_))})}function Gf(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Yw(c)){const h=(c.__vccOpts||c)[e];h&&r.push(Cr(h,n,s,o,a,i))}else{let d=c();r.push(()=>d.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=hP(h)?h.default:h;o.mods[a]=h,o.components[a]=f;const E=(f.__vccOpts||f)[e];return E&&Cr(E,n,s,o,a,i)()}))}}return r}function Jv(t){const e=cs(kd),n=cs(jm),s=St(()=>{const c=Ne(t.to);return e.resolve(c)}),i=St(()=>{const{matched:c}=s.value,{length:d}=c,h=c[d-1],f=n.matched;if(!h||!f.length)return-1;const _=f.findIndex(Ga.bind(null,h));if(_>-1)return _;const E=Zv(c[d-2]);return d>1&&Zv(h)===E&&f[f.length-1].path!==E?f.findIndex(Ga.bind(null,c[d-2])):_}),r=St(()=>i.value>-1&&lO(n.params,s.value.params)),o=St(()=>i.value>-1&&i.value===n.matched.length-1&&nT(n.params,s.value.params));function a(c={}){if(aO(c)){const d=e[Ne(t.replace)?"replace":"push"](Ne(t.to)).catch(yc);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:s,href:St(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function iO(t){return t.length===1?t[0]:t}const rO=Yi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Jv,setup(t,{slots:e}){const n=Yc(Jv(t)),{options:s}=cs(kd),i=St(()=>({[ey(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[ey(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&iO(e.default(n));return t.custom?r:$m("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),oO=rO;function aO(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function lO(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Hs(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Zv(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ey=(t,e,n)=>t??e??n,cO=Yi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=cs(Mp),i=St(()=>t.route||s.value),r=cs(Xv,0),o=St(()=>{let d=Ne(r);const{matched:h}=i.value;let f;for(;(f=h[d])&&!f.components;)d++;return d}),a=St(()=>i.value.matched[o.value]);dh(Xv,St(()=>o.value+1)),dh(sO,a),dh(Mp,i);const c=we();return us(()=>[c.value,a.value,t.name],([d,h,f],[_,E,S])=>{h&&(h.instances[f]=d,E&&E!==h&&d&&d===_&&(h.leaveGuards.size||(h.leaveGuards=E.leaveGuards),h.updateGuards.size||(h.updateGuards=E.updateGuards))),d&&h&&(!E||!Ga(h,E)||!_)&&(h.enterCallbacks[f]||[]).forEach(D=>D(d))},{flush:"post"}),()=>{const d=i.value,h=t.name,f=a.value,_=f&&f.components[h];if(!_)return ty(n.default,{Component:_,route:d});const E=f.props[h],S=E?E===!0?d.params:typeof E=="function"?E(d):E:null,N=$m(_,dt({},S,e,{onVnodeUnmounted:B=>{B.component.isUnmounted&&(f.instances[h]=null)},ref:c}));return ty(n.default,{Component:N,route:d})||N}}});function ty(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const uO=cO;function hO(t){const e=YP(t.routes,t),n=t.parseQuery||tO,s=t.stringifyQuery||Yv,i=t.history,r=sc(),o=sc(),a=sc(),c=r1(vr);let d=vr;Ra&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=zf.bind(null,G=>""+G),f=zf.bind(null,AP),_=zf.bind(null,Vc);function E(G,K){let ue,ve;return iT(G)?(ue=e.getRecordMatcher(G),ve=K):ve=G,e.addRoute(ve,ue)}function S(G){const K=e.getRecordMatcher(G);K&&e.removeRoute(K)}function D(){return e.getRoutes().map(G=>G.record)}function N(G){return!!e.getRecordMatcher(G)}function B(G,K){if(K=dt({},K||c.value),typeof G=="string"){const M=Kf(n,G,K.path),Q=e.resolve({path:M.path},K),Y=i.createHref(M.fullPath);return dt(M,Q,{params:_(Q.params),hash:Vc(M.hash),redirectedFrom:void 0,href:Y})}let ue;if(G.path!=null)ue=dt({},G,{path:Kf(n,G.path,K.path).path});else{const M=dt({},G.params);for(const Q in M)M[Q]==null&&delete M[Q];ue=dt({},G,{params:f(M)}),K.params=f(K.params)}const ve=e.resolve(ue,K),Xe=G.hash||"";ve.params=h(_(ve.params));const P=SP(s,dt({},G,{hash:bP(Xe),path:ve.path})),k=i.createHref(P);return dt({fullPath:P,hash:Xe,query:s===Yv?nO(G.query):G.query||{}},ve,{redirectedFrom:void 0,href:k})}function $(G){return typeof G=="string"?Kf(n,G,c.value.path):dt({},G)}function j(G,K){if(d!==G)return Qa(8,{from:K,to:G})}function H(G){return x(G)}function ie(G){return H(dt($(G),{replace:!0}))}function oe(G){const K=G.matched[G.matched.length-1];if(K&&K.redirect){const{redirect:ue}=K;let ve=typeof ue=="function"?ue(G):ue;return typeof ve=="string"&&(ve=ve.includes("?")||ve.includes("#")?ve=$(ve):{path:ve},ve.params={}),dt({query:G.query,hash:G.hash,params:ve.path!=null?{}:G.params},ve)}}function x(G,K){const ue=d=B(G),ve=c.value,Xe=G.state,P=G.force,k=G.replace===!0,M=oe(ue);if(M)return x(dt($(M),{state:typeof M=="object"?dt({},Xe,M.state):Xe,force:P,replace:k}),K||ue);const Q=ue;Q.redirectedFrom=K;let Y;return!P&&RP(s,ve,ue)&&(Y=Qa(16,{to:Q,from:ve}),Qt(ve,ve,!0,!1)),(Y?Promise.resolve(Y):R(Q,ve)).catch(J=>Oi(J)?Oi(J,2)?J:X(J):ze(J,Q,ve)).then(J=>{if(J){if(Oi(J,2))return x(dt({replace:k},$(J.to),{state:typeof J.to=="object"?dt({},Xe,J.to.state):Xe,force:P}),K||Q)}else J=A(Q,ve,!0,k,Xe);return O(Q,ve,J),J})}function I(G,K){const ue=j(G,K);return ue?Promise.reject(ue):Promise.resolve()}function T(G){const K=Rt.values().next().value;return K&&typeof K.runWithContext=="function"?K.runWithContext(G):G()}function R(G,K){let ue;const[ve,Xe,P]=dO(G,K);ue=Gf(ve.reverse(),"beforeRouteLeave",G,K);for(const M of ve)M.leaveGuards.forEach(Q=>{ue.push(Cr(Q,G,K))});const k=I.bind(null,G,K);return ue.push(k),ct(ue).then(()=>{ue=[];for(const M of r.list())ue.push(Cr(M,G,K));return ue.push(k),ct(ue)}).then(()=>{ue=Gf(Xe,"beforeRouteUpdate",G,K);for(const M of Xe)M.updateGuards.forEach(Q=>{ue.push(Cr(Q,G,K))});return ue.push(k),ct(ue)}).then(()=>{ue=[];for(const M of P)if(M.beforeEnter)if(Hs(M.beforeEnter))for(const Q of M.beforeEnter)ue.push(Cr(Q,G,K));else ue.push(Cr(M.beforeEnter,G,K));return ue.push(k),ct(ue)}).then(()=>(G.matched.forEach(M=>M.enterCallbacks={}),ue=Gf(P,"beforeRouteEnter",G,K,T),ue.push(k),ct(ue))).then(()=>{ue=[];for(const M of o.list())ue.push(Cr(M,G,K));return ue.push(k),ct(ue)}).catch(M=>Oi(M,8)?M:Promise.reject(M))}function O(G,K,ue){a.list().forEach(ve=>T(()=>ve(G,K,ue)))}function A(G,K,ue,ve,Xe){const P=j(G,K);if(P)return P;const k=K===vr,M=Ra?history.state:{};ue&&(ve||k?i.replace(G.fullPath,dt({scroll:k&&M&&M.scroll},Xe)):i.push(G.fullPath,Xe)),c.value=G,Qt(G,K,ue,k),X()}let C;function Me(){C||(C=i.listen((G,K,ue)=>{if(!Pt.listening)return;const ve=B(G),Xe=oe(ve);if(Xe){x(dt(Xe,{replace:!0,force:!0}),ve).catch(yc);return}d=ve;const P=c.value;Ra&&VP(Uv(P.fullPath,ue.delta),Od()),R(ve,P).catch(k=>Oi(k,12)?k:Oi(k,2)?(x(dt($(k.to),{force:!0}),ve).then(M=>{Oi(M,20)&&!ue.delta&&ue.type===Mc.pop&&i.go(-1,!1)}).catch(yc),Promise.reject()):(ue.delta&&i.go(-ue.delta,!1),ze(k,ve,P))).then(k=>{k=k||A(ve,P,!1),k&&(ue.delta&&!Oi(k,8)?i.go(-ue.delta,!1):ue.type===Mc.pop&&Oi(k,20)&&i.go(-1,!1)),O(ve,P,k)}).catch(yc)}))}let ot=sc(),Fe=sc(),Te;function ze(G,K,ue){X(G);const ve=Fe.list();return ve.length?ve.forEach(Xe=>Xe(G,K,ue)):console.error(G),Promise.reject(G)}function kt(){return Te&&c.value!==vr?Promise.resolve():new Promise((G,K)=>{ot.add([G,K])})}function X(G){return Te||(Te=!G,Me(),ot.list().forEach(([K,ue])=>G?ue(G):K()),ot.reset()),G}function Qt(G,K,ue,ve){const{scrollBehavior:Xe}=t;if(!Ra||!Xe)return Promise.resolve();const P=!ue&&MP(Uv(G.fullPath,0))||(ve||!ue)&&history.state&&history.state.scroll||null;return Dr().then(()=>Xe(G,K,P)).then(k=>k&&LP(k)).catch(k=>ze(k,G,K))}const at=G=>i.go(G);let lt;const Rt=new Set,Pt={currentRoute:c,listening:!0,addRoute:E,removeRoute:S,clearRoutes:e.clearRoutes,hasRoute:N,getRoutes:D,resolve:B,options:t,push:H,replace:ie,go:at,back:()=>at(-1),forward:()=>at(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:Fe.add,isReady:kt,install(G){const K=this;G.component("RouterLink",oO),G.component("RouterView",uO),G.config.globalProperties.$router=K,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>Ne(c)}),Ra&&!lt&&c.value===vr&&(lt=!0,H(i.location).catch(Xe=>{}));const ue={};for(const Xe in vr)Object.defineProperty(ue,Xe,{get:()=>c.value[Xe],enumerable:!0});G.provide(kd,K),G.provide(jm,Gb(ue)),G.provide(Mp,c);const ve=G.unmount;Rt.add(G),G.unmount=function(){Rt.delete(G),Rt.size<1&&(d=vr,C&&C(),C=null,c.value=vr,lt=!1,Te=!1),ve()}}};function ct(G){return G.reduce((K,ue)=>K.then(()=>T(ue)),Promise.resolve())}return Pt}function dO(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(d=>Ga(d,a))?s.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(d=>Ga(d,c))||i.push(c))}return[n,s,i]}function fl(){return cs(kd)}function Bm(t){return cs(jm)}const fO=()=>{};var ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pO=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},cT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=r>>2,f=(r&3)<<4|a>>4;let _=(a&15)<<2|d>>6,E=d&63;c||(E=64,o||(_=64)),s.push(n[h],n[f],n[_],n[E])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||d==null||f==null)throw new mO;const _=r<<2|a>>4;if(s.push(_),d!==64){const E=a<<4&240|d>>2;if(s.push(E),f!==64){const S=d<<6&192|f;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gO=function(t){const e=lT(t);return cT.encodeByteArray(e,!0)},Bh=function(t){return gO(t).replace(/\./g,"")},uT=function(t){try{return cT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=()=>_O().__FIREBASE_DEFAULTS__,yO=()=>{if(typeof process>"u"||typeof ny>"u")return;const t=ny.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uT(t[1]);return e&&JSON.parse(e)},xd=()=>{try{return fO()||vO()||yO()||EO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hT=t=>{var e,n;return(n=(e=xd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bO=t=>{const e=hT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},dT=()=>{var t;return(t=xd())===null||t===void 0?void 0:t.config},fT=t=>{var e;return(e=xd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){return t.endsWith(".cloudworkstations.dev")}async function pT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bh(JSON.stringify(n)),Bh(JSON.stringify(o)),""].join(".")}const bc={};function AO(){const t={prod:[],emulator:[]};for(const e of Object.keys(bc))bc[e]?t.emulator.push(e):t.prod.push(e);return t}function IO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sy=!1;function mT(t,e){if(typeof window>"u"||typeof document>"u"||!pl(window.location.host)||bc[t]===e||bc[t]||sy)return;bc[t]=e;function n(_){return`__firebase__banner__${_}`}const s="__firebase__banner",r=AO().prod.length>0;function o(){const _=document.getElementById(s);_&&_.remove()}function a(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function c(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{sy=!0,o()},_}function h(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function f(){const _=IO(s),E=n("text"),S=document.getElementById(E)||document.createElement("span"),D=n("learnmore"),N=document.getElementById(D)||document.createElement("a"),B=n("preprendIcon"),$=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const j=_.element;a(j),h(N,D);const H=d();c($,B),j.append($,S,N,H),document.body.appendChild(j)}r?(S.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function SO(){var t;const e=(t=xd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kO(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xO(){return!SO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DO(){try{return typeof indexedDB=="object"}catch{return!1}}function NO(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="FirebaseError";class Ji extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=LO,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zc.prototype.create)}}class Zc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?VO(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ji(i,a,s)}}function VO(t,e){return t.replace(MO,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const MO=/\{\$([^}]+)}/g;function $O(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bi(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(iy(r)&&iy(o)){if(!Bi(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function iy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ac(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function lc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FO(t,e){const n=new UO(t,e);return n.subscribe.bind(n)}class UO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");jO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=Qf),i.error===void 0&&(i.error=Qf),i.complete===void 0&&(i.complete=Qf);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return t&&t._delegate?t._delegate:t}class Uo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new wO;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qO(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HO(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HO(t){return t===Ro?void 0:t}function qO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const zO={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},KO=Ze.INFO,GO={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},QO=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=GO[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hm{constructor(e){this.name=e,this._logLevel=KO,this._logHandler=QO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const YO=(t,e)=>e.some(n=>t instanceof n);let ry,oy;function XO(){return ry||(ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JO(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gT=new WeakMap,$p=new WeakMap,_T=new WeakMap,Yf=new WeakMap,qm=new WeakMap;function ZO(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Nr(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gT.set(n,t)}).catch(()=>{}),qm.set(e,t),e}function ek(t){if($p.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});$p.set(t,e)}let Fp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $p.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_T.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tk(t){Fp=t(Fp)}function nk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Xf(this),e,...n);return _T.set(s,e.sort?e.sort():[e]),Nr(s)}:JO().includes(t)?function(...e){return t.apply(Xf(this),e),Nr(gT.get(this))}:function(...e){return Nr(t.apply(Xf(this),e))}}function sk(t){return typeof t=="function"?nk(t):(t instanceof IDBTransaction&&ek(t),YO(t,XO())?new Proxy(t,Fp):t)}function Nr(t){if(t instanceof IDBRequest)return ZO(t);if(Yf.has(t))return Yf.get(t);const e=sk(t);return e!==t&&(Yf.set(t,e),qm.set(e,t)),e}const Xf=t=>qm.get(t);function ik(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=Nr(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Nr(o.result),c.oldVersion,c.newVersion,Nr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{r&&c.addEventListener("close",()=>r()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const rk=["get","getKey","getAll","getAllKeys","count"],ok=["put","add","delete","clear"],Jf=new Map;function ay(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=ok.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||rk.includes(n)))return;const r=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return s&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),i&&c.done]))[0]};return Jf.set(e,r),r}tk(t=>({...t,get:(e,n,s)=>ay(e,n)||t.get(e,n,s),has:(e,n)=>!!ay(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Up="@firebase/app",ly="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Hm("@firebase/app"),ck="@firebase/app-compat",uk="@firebase/analytics-compat",hk="@firebase/analytics",dk="@firebase/app-check-compat",fk="@firebase/app-check",pk="@firebase/auth",mk="@firebase/auth-compat",gk="@firebase/database",_k="@firebase/data-connect",vk="@firebase/database-compat",yk="@firebase/functions",Ek="@firebase/functions-compat",bk="@firebase/installations",wk="@firebase/installations-compat",Tk="@firebase/messaging",Ak="@firebase/messaging-compat",Ik="@firebase/performance",Ck="@firebase/performance-compat",Sk="@firebase/remote-config",Rk="@firebase/remote-config-compat",Pk="@firebase/storage",Ok="@firebase/storage-compat",kk="@firebase/firestore",xk="@firebase/ai",Dk="@firebase/firestore-compat",Nk="firebase",Lk="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="[DEFAULT]",Vk={[Up]:"fire-core",[ck]:"fire-core-compat",[hk]:"fire-analytics",[uk]:"fire-analytics-compat",[fk]:"fire-app-check",[dk]:"fire-app-check-compat",[pk]:"fire-auth",[mk]:"fire-auth-compat",[gk]:"fire-rtdb",[_k]:"fire-data-connect",[vk]:"fire-rtdb-compat",[yk]:"fire-fn",[Ek]:"fire-fn-compat",[bk]:"fire-iid",[wk]:"fire-iid-compat",[Tk]:"fire-fcm",[Ak]:"fire-fcm-compat",[Ik]:"fire-perf",[Ck]:"fire-perf-compat",[Sk]:"fire-rc",[Rk]:"fire-rc-compat",[Pk]:"fire-gcs",[Ok]:"fire-gcs-compat",[kk]:"fire-fst",[Dk]:"fire-fst-compat",[xk]:"fire-vertex","fire-js":"fire-js",[Nk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Map,Mk=new Map,Bp=new Map;function cy(t,e){try{t.container.addComponent(e)}catch(n){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ya(t){const e=t.name;if(Bp.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Bp.set(e,t);for(const n of Hh.values())cy(n,t);for(const n of Mk.values())cy(n,t);return!0}function Wm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Zc("app","Firebase",$k);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=Lk;function vT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jp,automaticDataCollectionEnabled:!0},e),i=s.name;if(typeof i!="string"||!i)throw Lr.create("bad-app-name",{appName:String(i)});if(n||(n=dT()),!n)throw Lr.create("no-options");const r=Hh.get(i);if(r){if(Bi(n,r.options)&&Bi(s,r.config))return r;throw Lr.create("duplicate-app",{appName:i})}const o=new WO(i);for(const c of Bp.values())o.addComponent(c);const a=new Fk(n,s,o);return Hh.set(i,a),a}function yT(t=jp){const e=Hh.get(t);if(!e&&t===jp&&dT())return vT();if(!e)throw Lr.create("no-app",{appName:t});return e}function Vr(t,e,n){var s;let i=(s=Vk[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(a.join(" "));return}Ya(new Uo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="firebase-heartbeat-database",jk=1,$c="firebase-heartbeat-store";let Zf=null;function ET(){return Zf||(Zf=ik(Uk,jk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($c)}catch(n){console.warn(n)}}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),Zf}async function Bk(t){try{const n=(await ET()).transaction($c),s=await n.objectStore($c).get(bT(t));return await n.done,s}catch(e){if(e instanceof Ji)Hi.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hi.warn(n.message)}}}async function uy(t,e){try{const s=(await ET()).transaction($c,"readwrite");await s.objectStore($c).put(e,bT(t)),await s.done}catch(n){if(n instanceof Ji)Hi.warn(n.message);else{const s=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hi.warn(s.message)}}}function bT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=1024,qk=30;class Wk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kk(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>qk){const o=Gk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Hi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hy(),{heartbeatsToSend:s,unsentEntries:i}=zk(this._heartbeatsCache.heartbeats),r=Bh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Hi.warn(n),""}}}function hy(){return new Date().toISOString().substring(0,10)}function zk(t,e=Hk){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),dy(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dy(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Kk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DO()?NO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Bk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dy(t){return Bh(JSON.stringify({version:2,heartbeats:t})).length}function Gk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t){Ya(new Uo("platform-logger",e=>new ak(e),"PRIVATE")),Ya(new Uo("heartbeat",e=>new Wk(e),"PRIVATE")),Vr(Up,ly,t),Vr(Up,ly,"esm2017"),Vr("fire-js","")}Qk("");var fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,wT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,I){function T(){}T.prototype=I.prototype,x.D=I.prototype,x.prototype=new T,x.prototype.constructor=x,x.C=function(R,O,A){for(var C=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)C[Me-2]=arguments[Me];return I.prototype[O].apply(R,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,I,T){T||(T=0);var R=Array(16);if(typeof I=="string")for(var O=0;16>O;++O)R[O]=I.charCodeAt(T++)|I.charCodeAt(T++)<<8|I.charCodeAt(T++)<<16|I.charCodeAt(T++)<<24;else for(O=0;16>O;++O)R[O]=I[T++]|I[T++]<<8|I[T++]<<16|I[T++]<<24;I=x.g[0],T=x.g[1],O=x.g[2];var A=x.g[3],C=I+(A^T&(O^A))+R[0]+3614090360&4294967295;I=T+(C<<7&4294967295|C>>>25),C=A+(O^I&(T^O))+R[1]+3905402710&4294967295,A=I+(C<<12&4294967295|C>>>20),C=O+(T^A&(I^T))+R[2]+606105819&4294967295,O=A+(C<<17&4294967295|C>>>15),C=T+(I^O&(A^I))+R[3]+3250441966&4294967295,T=O+(C<<22&4294967295|C>>>10),C=I+(A^T&(O^A))+R[4]+4118548399&4294967295,I=T+(C<<7&4294967295|C>>>25),C=A+(O^I&(T^O))+R[5]+1200080426&4294967295,A=I+(C<<12&4294967295|C>>>20),C=O+(T^A&(I^T))+R[6]+2821735955&4294967295,O=A+(C<<17&4294967295|C>>>15),C=T+(I^O&(A^I))+R[7]+4249261313&4294967295,T=O+(C<<22&4294967295|C>>>10),C=I+(A^T&(O^A))+R[8]+1770035416&4294967295,I=T+(C<<7&4294967295|C>>>25),C=A+(O^I&(T^O))+R[9]+2336552879&4294967295,A=I+(C<<12&4294967295|C>>>20),C=O+(T^A&(I^T))+R[10]+4294925233&4294967295,O=A+(C<<17&4294967295|C>>>15),C=T+(I^O&(A^I))+R[11]+2304563134&4294967295,T=O+(C<<22&4294967295|C>>>10),C=I+(A^T&(O^A))+R[12]+1804603682&4294967295,I=T+(C<<7&4294967295|C>>>25),C=A+(O^I&(T^O))+R[13]+4254626195&4294967295,A=I+(C<<12&4294967295|C>>>20),C=O+(T^A&(I^T))+R[14]+2792965006&4294967295,O=A+(C<<17&4294967295|C>>>15),C=T+(I^O&(A^I))+R[15]+1236535329&4294967295,T=O+(C<<22&4294967295|C>>>10),C=I+(O^A&(T^O))+R[1]+4129170786&4294967295,I=T+(C<<5&4294967295|C>>>27),C=A+(T^O&(I^T))+R[6]+3225465664&4294967295,A=I+(C<<9&4294967295|C>>>23),C=O+(I^T&(A^I))+R[11]+643717713&4294967295,O=A+(C<<14&4294967295|C>>>18),C=T+(A^I&(O^A))+R[0]+3921069994&4294967295,T=O+(C<<20&4294967295|C>>>12),C=I+(O^A&(T^O))+R[5]+3593408605&4294967295,I=T+(C<<5&4294967295|C>>>27),C=A+(T^O&(I^T))+R[10]+38016083&4294967295,A=I+(C<<9&4294967295|C>>>23),C=O+(I^T&(A^I))+R[15]+3634488961&4294967295,O=A+(C<<14&4294967295|C>>>18),C=T+(A^I&(O^A))+R[4]+3889429448&4294967295,T=O+(C<<20&4294967295|C>>>12),C=I+(O^A&(T^O))+R[9]+568446438&4294967295,I=T+(C<<5&4294967295|C>>>27),C=A+(T^O&(I^T))+R[14]+3275163606&4294967295,A=I+(C<<9&4294967295|C>>>23),C=O+(I^T&(A^I))+R[3]+4107603335&4294967295,O=A+(C<<14&4294967295|C>>>18),C=T+(A^I&(O^A))+R[8]+1163531501&4294967295,T=O+(C<<20&4294967295|C>>>12),C=I+(O^A&(T^O))+R[13]+2850285829&4294967295,I=T+(C<<5&4294967295|C>>>27),C=A+(T^O&(I^T))+R[2]+4243563512&4294967295,A=I+(C<<9&4294967295|C>>>23),C=O+(I^T&(A^I))+R[7]+1735328473&4294967295,O=A+(C<<14&4294967295|C>>>18),C=T+(A^I&(O^A))+R[12]+2368359562&4294967295,T=O+(C<<20&4294967295|C>>>12),C=I+(T^O^A)+R[5]+4294588738&4294967295,I=T+(C<<4&4294967295|C>>>28),C=A+(I^T^O)+R[8]+2272392833&4294967295,A=I+(C<<11&4294967295|C>>>21),C=O+(A^I^T)+R[11]+1839030562&4294967295,O=A+(C<<16&4294967295|C>>>16),C=T+(O^A^I)+R[14]+4259657740&4294967295,T=O+(C<<23&4294967295|C>>>9),C=I+(T^O^A)+R[1]+2763975236&4294967295,I=T+(C<<4&4294967295|C>>>28),C=A+(I^T^O)+R[4]+1272893353&4294967295,A=I+(C<<11&4294967295|C>>>21),C=O+(A^I^T)+R[7]+4139469664&4294967295,O=A+(C<<16&4294967295|C>>>16),C=T+(O^A^I)+R[10]+3200236656&4294967295,T=O+(C<<23&4294967295|C>>>9),C=I+(T^O^A)+R[13]+681279174&4294967295,I=T+(C<<4&4294967295|C>>>28),C=A+(I^T^O)+R[0]+3936430074&4294967295,A=I+(C<<11&4294967295|C>>>21),C=O+(A^I^T)+R[3]+3572445317&4294967295,O=A+(C<<16&4294967295|C>>>16),C=T+(O^A^I)+R[6]+76029189&4294967295,T=O+(C<<23&4294967295|C>>>9),C=I+(T^O^A)+R[9]+3654602809&4294967295,I=T+(C<<4&4294967295|C>>>28),C=A+(I^T^O)+R[12]+3873151461&4294967295,A=I+(C<<11&4294967295|C>>>21),C=O+(A^I^T)+R[15]+530742520&4294967295,O=A+(C<<16&4294967295|C>>>16),C=T+(O^A^I)+R[2]+3299628645&4294967295,T=O+(C<<23&4294967295|C>>>9),C=I+(O^(T|~A))+R[0]+4096336452&4294967295,I=T+(C<<6&4294967295|C>>>26),C=A+(T^(I|~O))+R[7]+1126891415&4294967295,A=I+(C<<10&4294967295|C>>>22),C=O+(I^(A|~T))+R[14]+2878612391&4294967295,O=A+(C<<15&4294967295|C>>>17),C=T+(A^(O|~I))+R[5]+4237533241&4294967295,T=O+(C<<21&4294967295|C>>>11),C=I+(O^(T|~A))+R[12]+1700485571&4294967295,I=T+(C<<6&4294967295|C>>>26),C=A+(T^(I|~O))+R[3]+2399980690&4294967295,A=I+(C<<10&4294967295|C>>>22),C=O+(I^(A|~T))+R[10]+4293915773&4294967295,O=A+(C<<15&4294967295|C>>>17),C=T+(A^(O|~I))+R[1]+2240044497&4294967295,T=O+(C<<21&4294967295|C>>>11),C=I+(O^(T|~A))+R[8]+1873313359&4294967295,I=T+(C<<6&4294967295|C>>>26),C=A+(T^(I|~O))+R[15]+4264355552&4294967295,A=I+(C<<10&4294967295|C>>>22),C=O+(I^(A|~T))+R[6]+2734768916&4294967295,O=A+(C<<15&4294967295|C>>>17),C=T+(A^(O|~I))+R[13]+1309151649&4294967295,T=O+(C<<21&4294967295|C>>>11),C=I+(O^(T|~A))+R[4]+4149444226&4294967295,I=T+(C<<6&4294967295|C>>>26),C=A+(T^(I|~O))+R[11]+3174756917&4294967295,A=I+(C<<10&4294967295|C>>>22),C=O+(I^(A|~T))+R[2]+718787259&4294967295,O=A+(C<<15&4294967295|C>>>17),C=T+(A^(O|~I))+R[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+A&4294967295}s.prototype.u=function(x,I){I===void 0&&(I=x.length);for(var T=I-this.blockSize,R=this.B,O=this.h,A=0;A<I;){if(O==0)for(;A<=T;)i(this,x,A),A+=this.blockSize;if(typeof x=="string"){for(;A<I;)if(R[O++]=x.charCodeAt(A++),O==this.blockSize){i(this,R),O=0;break}}else for(;A<I;)if(R[O++]=x[A++],O==this.blockSize){i(this,R),O=0;break}}this.h=O,this.o+=I},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;var T=8*this.o;for(I=x.length-8;I<x.length;++I)x[I]=T&255,T/=256;for(this.u(x),x=Array(16),I=T=0;4>I;++I)for(var R=0;32>R;R+=8)x[T++]=this.g[I]>>>R&255;return x};function r(x,I){var T=a;return Object.prototype.hasOwnProperty.call(T,x)?T[x]:T[x]=I(x)}function o(x,I){this.h=I;for(var T=[],R=!0,O=x.length-1;0<=O;O--){var A=x[O]|0;R&&A==I||(T[O]=A,R=!1)}this.g=T}var a={};function c(x){return-128<=x&&128>x?r(x,function(I){return new o([I|0],0>I?-1:0)}):new o([x|0],0>x?-1:0)}function d(x){if(isNaN(x)||!isFinite(x))return f;if(0>x)return N(d(-x));for(var I=[],T=1,R=0;x>=T;R++)I[R]=x/T|0,T*=4294967296;return new o(I,0)}function h(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return N(h(x.substring(1),I));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=d(Math.pow(I,8)),R=f,O=0;O<x.length;O+=8){var A=Math.min(8,x.length-O),C=parseInt(x.substring(O,O+A),I);8>A?(A=d(Math.pow(I,A)),R=R.j(A).add(d(C))):(R=R.j(T),R=R.add(d(C)))}return R}var f=c(0),_=c(1),E=c(16777216);t=o.prototype,t.m=function(){if(D(this))return-N(this).m();for(var x=0,I=1,T=0;T<this.g.length;T++){var R=this.i(T);x+=(0<=R?R:4294967296+R)*I,I*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S(this))return"0";if(D(this))return"-"+N(this).toString(x);for(var I=d(Math.pow(x,6)),T=this,R="";;){var O=H(T,I).g;T=B(T,O.j(I));var A=((0<T.g.length?T.g[0]:T.h)>>>0).toString(x);if(T=O,S(T))return A+R;for(;6>A.length;)A="0"+A;R=A+R}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function S(x){if(x.h!=0)return!1;for(var I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function D(x){return x.h==-1}t.l=function(x){return x=B(this,x),D(x)?-1:S(x)?0:1};function N(x){for(var I=x.g.length,T=[],R=0;R<I;R++)T[R]=~x.g[R];return new o(T,~x.h).add(_)}t.abs=function(){return D(this)?N(this):this},t.add=function(x){for(var I=Math.max(this.g.length,x.g.length),T=[],R=0,O=0;O<=I;O++){var A=R+(this.i(O)&65535)+(x.i(O)&65535),C=(A>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);R=C>>>16,A&=65535,C&=65535,T[O]=C<<16|A}return new o(T,T[T.length-1]&-2147483648?-1:0)};function B(x,I){return x.add(N(I))}t.j=function(x){if(S(this)||S(x))return f;if(D(this))return D(x)?N(this).j(N(x)):N(N(this).j(x));if(D(x))return N(this.j(N(x)));if(0>this.l(E)&&0>x.l(E))return d(this.m()*x.m());for(var I=this.g.length+x.g.length,T=[],R=0;R<2*I;R++)T[R]=0;for(R=0;R<this.g.length;R++)for(var O=0;O<x.g.length;O++){var A=this.i(R)>>>16,C=this.i(R)&65535,Me=x.i(O)>>>16,ot=x.i(O)&65535;T[2*R+2*O]+=C*ot,$(T,2*R+2*O),T[2*R+2*O+1]+=A*ot,$(T,2*R+2*O+1),T[2*R+2*O+1]+=C*Me,$(T,2*R+2*O+1),T[2*R+2*O+2]+=A*Me,$(T,2*R+2*O+2)}for(R=0;R<I;R++)T[R]=T[2*R+1]<<16|T[2*R];for(R=I;R<2*I;R++)T[R]=0;return new o(T,0)};function $(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function j(x,I){this.g=x,this.h=I}function H(x,I){if(S(I))throw Error("division by zero");if(S(x))return new j(f,f);if(D(x))return I=H(N(x),I),new j(N(I.g),N(I.h));if(D(I))return I=H(x,N(I)),new j(N(I.g),I.h);if(30<x.g.length){if(D(x)||D(I))throw Error("slowDivide_ only works with positive integers.");for(var T=_,R=I;0>=R.l(x);)T=ie(T),R=ie(R);var O=oe(T,1),A=oe(R,1);for(R=oe(R,2),T=oe(T,2);!S(R);){var C=A.add(R);0>=C.l(x)&&(O=O.add(T),A=C),R=oe(R,1),T=oe(T,1)}return I=B(x,O.j(I)),new j(O,I)}for(O=f;0<=x.l(I);){for(T=Math.max(1,Math.floor(x.m()/I.m())),R=Math.ceil(Math.log(T)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),A=d(T),C=A.j(I);D(C)||0<C.l(x);)T-=R,A=d(T),C=A.j(I);S(A)&&(A=_),O=O.add(A),x=B(x,C)}return new j(O,x)}t.A=function(x){return H(this,x).h},t.and=function(x){for(var I=Math.max(this.g.length,x.g.length),T=[],R=0;R<I;R++)T[R]=this.i(R)&x.i(R);return new o(T,this.h&x.h)},t.or=function(x){for(var I=Math.max(this.g.length,x.g.length),T=[],R=0;R<I;R++)T[R]=this.i(R)|x.i(R);return new o(T,this.h|x.h)},t.xor=function(x){for(var I=Math.max(this.g.length,x.g.length),T=[],R=0;R<I;R++)T[R]=this.i(R)^x.i(R);return new o(T,this.h^x.h)};function ie(x){for(var I=x.g.length+1,T=[],R=0;R<I;R++)T[R]=x.i(R)<<1|x.i(R-1)>>>31;return new o(T,x.h)}function oe(x,I){var T=I>>5;I%=32;for(var R=x.g.length-T,O=[],A=0;A<R;A++)O[A]=0<I?x.i(A+T)>>>I|x.i(A+T+1)<<32-I:x.i(A+T);return new o(O,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,wT=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Mr=o}).apply(typeof fy<"u"?fy:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TT,cc,AT,gh,Hp,IT,CT,ST;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,v){return l==Array.prototype||l==Object.prototype||(l[p]=v.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var p=0;p<l.length;++p){var v=l[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function i(l,p){if(p)e:{var v=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var F=l[w];if(!(F in v))break e;v=v[F]}l=l[l.length-1],w=v[l],p=p(w),p!=w&&p!=null&&e(v,l,{configurable:!0,writable:!0,value:p})}}function r(l,p){l instanceof String&&(l+="");var v=0,w=!1,F={next:function(){if(!w&&v<l.length){var W=v++;return{value:p(W,l[W]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(l){return l||function(){return r(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function d(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function h(l,p,v){return l.call.apply(l.bind,arguments)}function f(l,p,v){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),l.apply(p,F)}}return function(){return l.apply(p,arguments)}}function _(l,p,v){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,_.apply(null,arguments)}function E(l,p){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function S(l,p){function v(){}v.prototype=p.prototype,l.aa=p.prototype,l.prototype=new v,l.prototype.constructor=l,l.Qb=function(w,F,W){for(var he=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)he[mt-2]=arguments[mt];return p.prototype[F].apply(w,he)}}function D(l){const p=l.length;if(0<p){const v=Array(p);for(let w=0;w<p;w++)v[w]=l[w];return v}return[]}function N(l,p){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(c(w)){const F=l.length||0,W=w.length||0;l.length=F+W;for(let he=0;he<W;he++)l[F+he]=w[he]}else l.push(w)}}class B{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function $(l){return/^[\s\xa0]*$/.test(l)}function j(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function H(l){return H[" "](l),l}H[" "]=function(){};var ie=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function oe(l,p,v){for(const w in l)p.call(v,l[w],w,l)}function x(l,p){for(const v in l)p.call(void 0,l[v],v,l)}function I(l){const p={};for(const v in l)p[v]=l[v];return p}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,p){let v,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(v in w)l[v]=w[v];for(let W=0;W<T.length;W++)v=T[W],Object.prototype.hasOwnProperty.call(w,v)&&(l[v]=w[v])}}function O(l){var p=1;l=l.split(":");const v=[];for(;0<p&&l.length;)v.push(l.shift()),p--;return l.length&&v.push(l.join(":")),v}function A(l){a.setTimeout(()=>{throw l},0)}function C(){var l=kt;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class Me{constructor(){this.h=this.g=null}add(p,v){const w=ot.get();w.set(p,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ot=new B(()=>new Fe,l=>l.reset());class Fe{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ze=!1,kt=new Me,X=()=>{const l=a.Promise.resolve(void 0);Te=()=>{l.then(Qt)}};var Qt=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(v){A(v)}var p=ot;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}ze=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var Rt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return l}();function Pt(l,p){if(lt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var v=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(ie){e:{try{H(p.nodeName);var F=!0;break e}catch{}F=!1}F||(p=null)}}else v=="mouseover"?p=l.fromElement:v=="mouseout"&&(p=l.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ct[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Pt.aa.h.call(this)}}S(Pt,lt);var ct={2:"touch",3:"pen",4:"mouse"};Pt.prototype.h=function(){Pt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),K=0;function ue(l,p,v,w,F){this.listener=l,this.proxy=null,this.src=p,this.type=v,this.capture=!!w,this.ha=F,this.key=++K,this.da=this.fa=!1}function ve(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Xe(l){this.src=l,this.g={},this.h=0}Xe.prototype.add=function(l,p,v,w,F){var W=l.toString();l=this.g[W],l||(l=this.g[W]=[],this.h++);var he=k(l,p,w,F);return-1<he?(p=l[he],v||(p.fa=!1)):(p=new ue(p,this.src,W,!!w,F),p.fa=v,l.push(p)),p};function P(l,p){var v=p.type;if(v in l.g){var w=l.g[v],F=Array.prototype.indexOf.call(w,p,void 0),W;(W=0<=F)&&Array.prototype.splice.call(w,F,1),W&&(ve(p),l.g[v].length==0&&(delete l.g[v],l.h--))}}function k(l,p,v,w){for(var F=0;F<l.length;++F){var W=l[F];if(!W.da&&W.listener==p&&W.capture==!!v&&W.ha==w)return F}return-1}var M="closure_lm_"+(1e6*Math.random()|0),Q={};function Y(l,p,v,w,F){if(Array.isArray(p)){for(var W=0;W<p.length;W++)Y(l,p[W],v,w,F);return null}return v=Ie(v),l&&l[G]?l.K(p,v,d(w)?!!w.capture:!1,F):J(l,p,v,!1,w,F)}function J(l,p,v,w,F,W){if(!p)throw Error("Invalid event type");var he=d(F)?!!F.capture:!!F,mt=pe(l);if(mt||(l[M]=mt=new Xe(l)),v=mt.add(p,v,w,he,W),v.proxy)return v;if(w=fe(),v.proxy=w,w.src=l,w.listener=v,l.addEventListener)Rt||(F=he),F===void 0&&(F=!1),l.addEventListener(p.toString(),w,F);else if(l.attachEvent)l.attachEvent(se(p.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function fe(){function l(v){return p.call(l.src,l.listener,v)}const p=Se;return l}function ce(l,p,v,w,F){if(Array.isArray(p))for(var W=0;W<p.length;W++)ce(l,p[W],v,w,F);else w=d(w)?!!w.capture:!!w,v=Ie(v),l&&l[G]?(l=l.i,p=String(p).toString(),p in l.g&&(W=l.g[p],v=k(W,v,w,F),-1<v&&(ve(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete l.g[p],l.h--)))):l&&(l=pe(l))&&(p=l.g[p.toString()],l=-1,p&&(l=k(p,v,w,F)),(v=-1<l?p[l]:null)&&le(v))}function le(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[G])P(p.i,l);else{var v=l.type,w=l.proxy;p.removeEventListener?p.removeEventListener(v,w,l.capture):p.detachEvent?p.detachEvent(se(v),w):p.addListener&&p.removeListener&&p.removeListener(w),(v=pe(p))?(P(v,l),v.h==0&&(v.src=null,p[M]=null)):ve(l)}}}function se(l){return l in Q?Q[l]:Q[l]="on"+l}function Se(l,p){if(l.da)l=!0;else{p=new Pt(p,this);var v=l.listener,w=l.ha||l.src;l.fa&&le(l),l=v.call(w,p)}return l}function pe(l){return l=l[M],l instanceof Xe?l:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(l){return typeof l=="function"?l:(l[Ee]||(l[Ee]=function(p){return l.handleEvent(p)}),l[Ee])}function Ce(){at.call(this),this.i=new Xe(this),this.M=this,this.F=null}S(Ce,at),Ce.prototype[G]=!0,Ce.prototype.removeEventListener=function(l,p,v,w){ce(this,l,p,v,w)};function $e(l,p){var v,w=l.F;if(w)for(v=[];w;w=w.F)v.push(w);if(l=l.M,w=p.type||p,typeof p=="string")p=new lt(p,l);else if(p instanceof lt)p.target=p.target||l;else{var F=p;p=new lt(w,l),R(p,F)}if(F=!0,v)for(var W=v.length-1;0<=W;W--){var he=p.g=v[W];F=Qe(he,w,!0,p)&&F}if(he=p.g=l,F=Qe(he,w,!0,p)&&F,F=Qe(he,w,!1,p)&&F,v)for(W=0;W<v.length;W++)he=p.g=v[W],F=Qe(he,w,!1,p)&&F}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var v=l.g[p],w=0;w<v.length;w++)ve(v[w]);delete l.g[p],l.h--}}this.F=null},Ce.prototype.K=function(l,p,v,w){return this.i.add(String(l),p,!1,v,w)},Ce.prototype.L=function(l,p,v,w){return this.i.add(String(l),p,!0,v,w)};function Qe(l,p,v,w){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var F=!0,W=0;W<p.length;++W){var he=p[W];if(he&&!he.da&&he.capture==v){var mt=he.listener,nn=he.ha||he.src;he.fa&&P(l.i,he),F=mt.call(nn,w)!==!1&&F}}return F&&!w.defaultPrevented}function jt(l,p,v){if(typeof l=="function")v&&(l=_(l,v));else if(l&&typeof l.handleEvent=="function")l=_(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(l,p||0)}function xt(l){l.g=jt(()=>{l.g=null,l.i&&(l.i=!1,xt(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class Zt extends at{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:xt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wt(l){at.call(this),this.h=l,this.g={}}S(Wt,at);var Ks=[];function yi(l){oe(l.g,function(p,v){this.g.hasOwnProperty(v)&&le(p)},l),l.g={}}Wt.prototype.N=function(){Wt.aa.N.call(this),yi(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var en=a.JSON.stringify,qn=a.JSON.parse,sa=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Rl(){}Rl.prototype.h=null;function _u(l){return l.h||(l.h=l.i())}function vu(){}var ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){lt.call(this,"d")}S(rr,lt);function ia(){lt.call(this,"c")}S(ia,lt);var Gs={},yu=null;function ra(){return yu=yu||new Ce}Gs.La="serverreachability";function Eu(l){lt.call(this,Gs.La,l)}S(Eu,lt);function io(l){const p=ra();$e(p,new Eu(p))}Gs.STAT_EVENT="statevent";function Ei(l,p){lt.call(this,Gs.STAT_EVENT,l),this.stat=p}S(Ei,lt);function zt(l){const p=ra();$e(p,new Ei(p,l))}Gs.Ma="timingevent";function bu(l,p){lt.call(this,Gs.Ma,l),this.size=p}S(bu,lt);function ro(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},p)}function oo(){this.g=!0}oo.prototype.xa=function(){this.g=!1};function _f(l,p,v,w,F,W){l.info(function(){if(l.g)if(W)for(var he="",mt=W.split("&"),nn=0;nn<mt.length;nn++){var st=mt[nn].split("=");if(1<st.length){var cn=st[0];st=st[1];var un=cn.split("_");he=2<=un.length&&un[1]=="type"?he+(cn+"="+st+"&"):he+(cn+"=redacted&")}}else he=null;else he=W;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+p+`
`+v+`
`+he})}function vf(l,p,v,w,F,W,he){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+p+`
`+v+`
`+W+" "+he})}function Qs(l,p,v,w){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+oa(l,v)+(w?" "+w:"")})}function or(l,p){l.info(function(){return"TIMEOUT: "+p})}oo.prototype.info=function(){};function oa(l,p){if(!l.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(l=0;l<v.length;l++)if(Array.isArray(v[l])){var w=v[l];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var he=1;he<F.length;he++)F[he]=""}}}}return en(v)}catch{return p}}var aa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},la={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pl;function ca(){}S(ca,Rl),ca.prototype.g=function(){return new XMLHttpRequest},ca.prototype.i=function(){return{}},Pl=new ca;function Pn(l,p,v,w){this.j=l,this.i=p,this.l=v,this.R=w||1,this.U=new Wt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ln}function ln(){this.i=null,this.g="",this.h=!1}var En={},gn={};function tn(l,p,v){l.L=1,l.v=Ti(Bt(p)),l.m=v,l.P=!0,ao(l,null)}function ao(l,p){l.F=Date.now(),ks(l),l.A=Bt(l.v);var v=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),da(v.i,"t",w),l.C=0,v=l.j.J,l.h=new ln,l.g=Lu(l.j,v?p:null,!l.m),0<l.O&&(l.M=new Zt(_(l.Y,l,l.g),l.O)),p=l.U,v=l.g,w=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(Ks[0]=F.toString()),F=Ks);for(var W=0;W<F.length;W++){var he=Y(v,F[W],w||p.handleEvent,!1,p.h||p);if(!he)break;p.g[he.key]=he}p=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),io(),_f(l.i,l.u,l.A,l.l,l.R,l.m)}Pn.prototype.ca=function(l){l=l.target;const p=this.M;p&&bn(l)==3?p.j():this.Y(l)},Pn.prototype.Y=function(l){try{if(l==this.g)e:{const un=bn(this.g);var p=this.g.Ba();const hn=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||ku(this.g)))){this.J||un!=4||p==7||(p==8||0>=hn?io(3):io(2)),lo(this);var v=this.g.Z();this.X=v;t:if(bi(this)){var w=ku(this.g);l="";var F=w.length,W=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ys(this),ps(this);var he="";break t}this.h.i=new a.TextDecoder}for(p=0;p<F;p++)this.h.h=!0,l+=this.h.i.decode(w[p],{stream:!(W&&p==F-1)});w.length=0,this.h.g+=l,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=v==200,vf(this.i,this.u,this.A,this.l,this.R,un,v),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,nn=this.g;if((mt=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(mt)){var st=mt;break t}}st=null}if(v=st)Qs(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,co(this,v);else{this.o=!1,this.s=3,zt(12),Ys(this),ps(this);break e}}if(this.P){v=!0;let zn;for(;!this.J&&this.C<he.length;)if(zn=wi(this,he),zn==gn){un==4&&(this.s=4,zt(14),v=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==En){this.s=4,zt(15),Qs(this.i,this.l,he,"[Invalid Chunk]"),v=!1;break}else Qs(this.i,this.l,zn,null),co(this,zn);if(bi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||he.length!=0||this.h.h||(this.s=1,zt(16),v=!1),this.o=this.o&&v,!v)Qs(this.i,this.l,he,"[Invalid Chunked Response]"),Ys(this),ps(this);else if(0<he.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Kl(cn),cn.M=!0,zt(11))}}else Qs(this.i,this.l,he,null),co(this,he);un==4&&Ys(this),this.o&&!this.J&&(un==4?Gl(this.j,this):(this.o=!1,ks(this)))}else xu(this.g),v==400&&0<he.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),Ys(this),ps(this)}}}catch{}finally{}};function bi(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function wi(l,p){var v=l.C,w=p.indexOf(`
`,v);return w==-1?gn:(v=Number(p.substring(v,w)),isNaN(v)?En:(w+=1,w+v>p.length?gn:(p=p.slice(w,w+v),l.C=w+v,p)))}Pn.prototype.cancel=function(){this.J=!0,Ys(this)};function ks(l){l.S=Date.now()+l.I,Ol(l,l.I)}function Ol(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ro(_(l.ba,l),p)}function lo(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Pn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(or(this.i,this.A),this.L!=2&&(io(),zt(17)),Ys(this),this.s=2,ps(this)):Ol(this,this.S-l)};function ps(l){l.j.G==0||l.J||Gl(l.j,l)}function Ys(l){lo(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,yi(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function co(l,p){try{var v=l.j;if(v.G!=0&&(v.g==l||ua(v.h,l))){if(!l.K&&ua(v.h,l)&&v.G==3){try{var w=v.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<l.F)go(v),fo(v);else break e;zl(v),zt(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=ro(_(v.Za,v),6e3));if(1>=Nl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ds(v,11)}else if((l.K||v.g==l)&&go(v),!$(p))for(F=v.Da.g.parse(p),p=0;p<F.length;p++){let st=F[p];if(v.T=st[0],st=st[1],v.G==2)if(st[0]=="c"){v.K=st[1],v.ia=st[2];const cn=st[3];cn!=null&&(v.la=cn,v.j.info("VER="+v.la));const un=st[4];un!=null&&(v.Aa=un,v.j.info("SVER="+v.Aa));const hn=st[5];hn!=null&&typeof hn=="number"&&0<hn&&(w=1.5*hn,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const zn=l.g;if(zn){const _o=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_o){var W=w.h;W.g||_o.indexOf("spdy")==-1&&_o.indexOf("quic")==-1&&_o.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ha(W,W.h),W.h=null))}if(w.D){const Ea=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(w.ya=Ea,rt(w.I,w.D,Ea))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-l.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var he=l;if(w.qa=Ql(w,w.J?w.ia:null,w.W),he.K){Ll(w.h,he);var mt=he,nn=w.L;nn&&(mt.I=nn),mt.B&&(lo(mt),ks(mt)),w.g=he}else mo(w);0<v.i.length&&po(v)}else st[0]!="stop"&&st[0]!="close"||Ds(v,7);else v.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Ds(v,7):ga(v):st[0]!="noop"&&v.l&&v.l.ta(st),v.v=0)}}io(4)}catch{}}var kl=class{constructor(l,p){this.g=l,this.map=p}};function xl(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dl(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Nl(l){return l.h?1:l.g?l.g.size:0}function ua(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function ha(l,p){l.g?l.g.add(p):l.h=p}function Ll(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}xl.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Vl(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const v of l.g.values())p=p.concat(v.D);return p}return D(l.i)}function wu(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var p=[],v=l.length,w=0;w<v;w++)p.push(l[w]);return p}p=[],v=0;for(w in l)p[v++]=l[w];return p}function Tu(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var p=[];l=l.length;for(var v=0;v<l;v++)p.push(v);return p}p=[],v=0;for(const w in l)p[v++]=w;return p}}}function Ml(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var v=Tu(l),w=wu(l),F=w.length,W=0;W<F;W++)p.call(void 0,w[W],v&&v[W],l)}var Zn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function On(l,p){if(l){l=l.split("&");for(var v=0;v<l.length;v++){var w=l[v].indexOf("="),F=null;if(0<=w){var W=l[v].substring(0,w);F=l[v].substring(w+1)}else W=l[v];p(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function kn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof kn){this.h=l.h,ar(this,l.j),this.o=l.o,this.g=l.g,lr(this,l.s),this.l=l.l;var p=l.i,v=new Wn;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),es(this,v),this.m=l.m}else l&&(p=String(l).match(Zn))?(this.h=!1,ar(this,p[1]||"",!0),this.o=ms(p[2]||""),this.g=ms(p[3]||"",!0),lr(this,p[4]),this.l=ms(p[5]||"",!0),es(this,p[6]||"",!0),this.m=ms(p[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}kn.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Ai(p,Ii,!0),":");var v=this.g;return(v||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Ai(p,Ii,!0),"@"),l.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&l.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&l.push("/"),l.push(Ai(v,v.charAt(0)=="/"?Iu:$l,!0))),(v=this.i.toString())&&l.push("?",v),(v=this.m)&&l.push("#",Ai(v,yf)),l.join("")};function Bt(l){return new kn(l)}function ar(l,p,v){l.j=v?ms(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function lr(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function es(l,p,v){p instanceof Wn?(l.i=p,Cu(l.i,l.h)):(v||(p=Ai(p,xs)),l.i=new Wn(p,l.h))}function rt(l,p,v){l.i.set(p,v)}function Ti(l){return rt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ms(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ai(l,p,v){return typeof l=="string"?(l=encodeURI(l).replace(p,Au),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Au(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ii=/[#\/\?@]/g,$l=/[#\?:]/g,Iu=/[#\?]/g,xs=/[#\?@]/g,yf=/#/g;function Wn(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function ts(l){l.g||(l.g=new Map,l.h=0,l.i&&On(l.i,function(p,v){l.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=Wn.prototype,t.add=function(l,p){ts(this),this.i=null,l=gs(this,l);var v=this.g.get(l);return v||this.g.set(l,v=[]),v.push(p),this.h+=1,this};function Fl(l,p){ts(l),p=gs(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function cr(l,p){return ts(l),p=gs(l,p),l.g.has(p)}t.forEach=function(l,p){ts(this),this.g.forEach(function(v,w){v.forEach(function(F){l.call(p,F,w,this)},this)},this)},t.na=function(){ts(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let w=0;w<p.length;w++){const F=l[w];for(let W=0;W<F.length;W++)v.push(p[w])}return v},t.V=function(l){ts(this);let p=[];if(typeof l=="string")cr(this,l)&&(p=p.concat(this.g.get(gs(this,l))));else{l=Array.from(this.g.values());for(let v=0;v<l.length;v++)p=p.concat(l[v])}return p},t.set=function(l,p){return ts(this),this.i=null,l=gs(this,l),cr(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function da(l,p,v){Fl(l,p),0<v.length&&(l.i=null,l.g.set(gs(l,p),D(v)),l.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var w=p[v];const W=encodeURIComponent(String(w)),he=this.V(w);for(w=0;w<he.length;w++){var F=W;he[w]!==""&&(F+="="+encodeURIComponent(String(he[w]))),l.push(F)}}return this.i=l.join("&")};function gs(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Cu(l,p){p&&!l.j&&(ts(l),l.i=null,l.g.forEach(function(v,w){var F=w.toLowerCase();w!=F&&(Fl(this,w),da(this,F,v))},l)),l.j=p}function Su(l,p){const v=new oo;if(a.Image){const w=new Image;w.onload=E(xn,v,"TestLoadImage: loaded",!0,p,w),w.onerror=E(xn,v,"TestLoadImage: error",!1,p,w),w.onabort=E(xn,v,"TestLoadImage: abort",!1,p,w),w.ontimeout=E(xn,v,"TestLoadImage: timeout",!1,p,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else p(!1)}function Ru(l,p){const v=new oo,w=new AbortController,F=setTimeout(()=>{w.abort(),xn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:w.signal}).then(W=>{clearTimeout(F),W.ok?xn(v,"TestPingServer: ok",!0,p):xn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(F),xn(v,"TestPingServer: error",!1,p)})}function xn(l,p,v,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(v)}catch{}}function Ef(){this.g=new sa}function Pu(l,p,v){const w=v||"";try{Ml(l,function(F,W){let he=F;d(F)&&(he=en(F)),p.push(w+W+"="+encodeURIComponent(he))})}catch(F){throw p.push(w+"type="+encodeURIComponent("_badmap")),F}}function ur(l){this.l=l.Ub||null,this.j=l.eb||!1}S(ur,Rl),ur.prototype.g=function(){return new Ci(this.l,this.j)},ur.prototype.i=function(l){return function(){return l}}({});function Ci(l,p){Ce.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ci,Ce),t=Ci.prototype,t.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Xs(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,uo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Xs(this)),this.g&&(this.readyState=3,Xs(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function fa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?uo(this):Xs(this),this.readyState==3&&fa(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,uo(this))},t.Qa=function(l){this.g&&(this.response=l,uo(this))},t.ga=function(){this.g&&uo(this)};function uo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Xs(l)}t.setRequestHeader=function(l,p){this.u.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,l.push(v[0]+": "+v[1]),v=p.next();return l.join(`\r
`)};function Xs(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Ou(l){let p="";return oe(l,function(v,w){p+=w,p+=":",p+=v,p+=`\r
`}),p}function pa(l,p,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Ou(v),typeof l=="string"?v!=null&&encodeURIComponent(String(v)):rt(l,p,v))}function At(l){Ce.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(At,Ce);var Ul=/^https?$/i,jl=["POST","PUT"];t=At.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,p,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pl.g(),this.v=this.o?_u(this.o):_u(Pl),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(W){Bl(this,W);return}if(l=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)v.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const W of w.keys())v.set(W,w.get(W));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),F=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(jl,p,void 0))||w||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,he]of v)this.g.setRequestHeader(W,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hl(this),this.u=!0,this.g.send(l),this.u=!1}catch(W){Bl(this,W)}};function Bl(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,hr(l),ho(l)}function hr(l){l.A||(l.A=!0,$e(l,"complete"),$e(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,$e(this,"complete"),$e(this,"abort"),ho(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ho(this,!0)),At.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ma(this):this.bb())},t.bb=function(){ma(this)};function ma(l){if(l.h&&typeof o<"u"&&(!l.v[1]||bn(l)!=4||l.Z()!=2)){if(l.u&&bn(l)==4)jt(l.Ea,0,l);else if($e(l,"readystatechange"),bn(l)==4){l.h=!1;try{const he=l.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var w;if(w=he===0){var F=String(l.D).match(Zn)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),w=!Ul.test(F?F.toLowerCase():"")}v=w}if(v)$e(l,"complete"),$e(l,"success");else{l.m=6;try{var W=2<bn(l)?l.g.statusText:""}catch{W=""}l.l=W+" ["+l.Z()+"]",hr(l)}}finally{ho(l)}}}}function ho(l,p){if(l.g){Hl(l);const v=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||$e(l,"ready");try{v.onreadystatechange=w}catch{}}}function Hl(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function bn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),qn(p)}};function ku(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function xu(l){const p={};l=(l.g&&2<=bn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if($(l[w]))continue;var v=O(l[w]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=p[F]||[];p[F]=W,W.push(v)}x(p,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function dr(l,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[l]||p}function ql(l){this.Aa=0,this.i=[],this.j=new oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=dr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=dr("baseRetryDelayMs",5e3,l),this.cb=dr("retryDelaySeedMs",1e4,l),this.Wa=dr("forwardChannelMaxRetries",2,l),this.wa=dr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new xl(l&&l.concurrentRequestLimit),this.Da=new Ef,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ql.prototype,t.la=8,t.G=1,t.connect=function(l,p,v,w){zt(0),this.W=l,this.H=p||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Ql(this,null,this.W),po(this)};function ga(l){if(_a(l),l.G==3){var p=l.U++,v=Bt(l.I);if(rt(v,"SID",l.K),rt(v,"RID",p),rt(v,"TYPE","terminate"),fr(l,v),p=new Pn(l,l.j,p),p.L=2,p.v=Ti(Bt(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=Lu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ks(p)}Nu(l)}function fo(l){l.g&&(Kl(l),l.g.cancel(),l.g=null)}function _a(l){fo(l),l.u&&(a.clearTimeout(l.u),l.u=null),go(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function po(l){if(!Dl(l.h)&&!l.s){l.s=!0;var p=l.Ga;Te||X(),ze||(Te(),ze=!0),kt.add(p,l),l.B=0}}function bf(l,p){return Nl(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ro(_(l.Ga,l,p),Js(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new Pn(this,this.j,l);let W=this.o;if(this.S&&(W?(W=I(W),R(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Wl(this,F,p),v=Bt(this.I),rt(v,"RID",l),rt(v,"CVER",22),this.D&&rt(v,"X-HTTP-Session-Id",this.D),fr(this,v),W&&(this.O?p="headers="+encodeURIComponent(String(Ou(W)))+"&"+p:this.m&&pa(v,this.m,W)),ha(this.h,F),this.Ua&&rt(v,"TYPE","init"),this.P?(rt(v,"$req",p),rt(v,"SID","null"),F.T=!0,tn(F,v,null)):tn(F,v,p),this.G=2}}else this.G==3&&(l?Du(this,l):this.i.length==0||Dl(this.h)||Du(this))};function Du(l,p){var v;p?v=p.l:v=l.U++;const w=Bt(l.I);rt(w,"SID",l.K),rt(w,"RID",v),rt(w,"AID",l.T),fr(l,w),l.m&&l.o&&pa(w,l.m,l.o),v=new Pn(l,l.j,v,l.B+1),l.m===null&&(v.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Wl(l,v,1e3),v.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ha(l.h,v),tn(v,w,p)}function fr(l,p){l.H&&oe(l.H,function(v,w){rt(p,w,v)}),l.l&&Ml({},function(v,w){rt(p,w,v)})}function Wl(l,p,v){v=Math.min(l.i.length,v);var w=l.l?_(l.l.Na,l.l,l):null;e:{var F=l.i;let W=-1;for(;;){const he=["count="+v];W==-1?0<v?(W=F[0].g,he.push("ofs="+W)):W=0:he.push("ofs="+W);let mt=!0;for(let nn=0;nn<v;nn++){let st=F[nn].g;const cn=F[nn].map;if(st-=W,0>st)W=Math.max(0,F[nn].g-100),mt=!1;else try{Pu(cn,he,"req"+st+"_")}catch{w&&w(cn)}}if(mt){w=he.join("&");break e}}}return l=l.i.splice(0,v),p.D=l,w}function mo(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Te||X(),ze||(Te(),ze=!0),kt.add(p,l),l.v=0}}function zl(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ro(_(l.Fa,l),Js(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,va(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ro(_(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),fo(this),va(this))};function Kl(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function va(l){l.g=new Pn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=Bt(l.qa);rt(p,"RID","rpc"),rt(p,"SID",l.K),rt(p,"AID",l.T),rt(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&rt(p,"TO",l.ja),rt(p,"TYPE","xmlhttp"),fr(l,p),l.m&&l.o&&pa(p,l.m,l.o),l.L&&(l.g.I=l.L);var v=l.g;l=l.ia,v.L=1,v.v=Ti(Bt(p)),v.m=null,v.P=!0,ao(v,l)}t.Za=function(){this.C!=null&&(this.C=null,fo(this),zl(this),zt(19))};function go(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Gl(l,p){var v=null;if(l.g==p){go(l),Kl(l),l.g=null;var w=2}else if(ua(l.h,p))v=p.D,Ll(l.h,p),w=1;else return;if(l.G!=0){if(p.o)if(w==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var F=l.B;w=ra(),$e(w,new bu(w,v)),po(l)}else mo(l);else if(F=p.s,F==3||F==0&&0<p.X||!(w==1&&bf(l,p)||w==2&&zl(l)))switch(v&&0<v.length&&(p=l.h,p.i=p.i.concat(v)),F){case 1:Ds(l,5);break;case 4:Ds(l,10);break;case 3:Ds(l,6);break;default:Ds(l,2)}}}function Js(l,p){let v=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(v*=2),v*p}function Ds(l,p){if(l.j.info("Error code "+p),p==2){var v=_(l.fb,l),w=l.Xa;const F=!w;w=new kn(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ar(w,"https"),Ti(w),F?Su(w.toString(),v):Ru(w.toString(),v)}else zt(2);l.G=0,l.l&&l.l.sa(p),Nu(l),_a(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function Nu(l){if(l.G=0,l.ka=[],l.l){const p=Vl(l.h);(p.length!=0||l.i.length!=0)&&(N(l.ka,p),N(l.ka,l.i),l.h.i.length=0,D(l.i),l.i.length=0),l.l.ra()}}function Ql(l,p,v){var w=v instanceof kn?Bt(v):new kn(v);if(w.g!="")p&&(w.g=p+"."+w.g),lr(w,w.s);else{var F=a.location;w=F.protocol,p=p?p+"."+F.hostname:F.hostname,F=+F.port;var W=new kn(null);w&&ar(W,w),p&&(W.g=p),F&&lr(W,F),v&&(W.l=v),w=W}return v=l.D,p=l.ya,v&&p&&rt(w,v,p),rt(w,"VER",l.la),fr(l,w),w}function Lu(l,p,v){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new At(new ur({eb:v})):new At(l.pa),p.Ha(l.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}t=Vu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ya(){}ya.prototype.g=function(l,p){return new Dn(l,p)};function Dn(l,p){Ce.call(this),this.g=new ql(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!$(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!$(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new pr(this)}S(Dn,Ce),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){ga(this.g)},Dn.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var v={};v.__data__=l,l=v}else this.u&&(v={},v.__data__=en(l),l=v);p.i.push(new kl(p.Ya++,l)),p.G==3&&po(p)},Dn.prototype.N=function(){this.g.l=null,delete this.j,ga(this.g),delete this.g,Dn.aa.N.call(this)};function Yl(l){rr.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const v in p){l=v;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}S(Yl,rr);function Xl(){ia.call(this),this.status=1}S(Xl,ia);function pr(l){this.g=l}S(pr,Vu),pr.prototype.ua=function(){$e(this.g,"a")},pr.prototype.ta=function(l){$e(this.g,new Yl(l))},pr.prototype.sa=function(l){$e(this.g,new Xl)},pr.prototype.ra=function(){$e(this.g,"b")},ya.prototype.createWebChannel=ya.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,ST=function(){return new ya},CT=function(){return ra()},IT=Gs,Hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,gh=aa,la.COMPLETE="complete",AT=la,vu.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,cc=vu,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,TT=At}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const py="@firebase/firestore",my="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new Hm("@firebase/firestore");function Pa(){return jo.logLevel}function _e(t,...e){if(jo.logLevel<=Ze.DEBUG){const n=e.map(zm);jo.debug(`Firestore (${gl}): ${t}`,...n)}}function qi(t,...e){if(jo.logLevel<=Ze.ERROR){const n=e.map(zm);jo.error(`Firestore (${gl}): ${t}`,...n)}}function Xa(t,...e){if(jo.logLevel<=Ze.WARN){const n=e.map(zm);jo.warn(`Firestore (${gl}): ${t}`,...n)}}function zm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,RT(t,s,n)}function RT(t,e,n){let s=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw qi(s),new Error(s)}function pt(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||RT(e,i,s)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class Xk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Jk{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pt(this.o===void 0,42304);let s=this.i;const i=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let r=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Vi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=r;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Vi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(pt(typeof s.accessToken=="string",31837,{l:s}),new PT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class Zk{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ex{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Zk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pt(this.o===void 0,3512);const s=r=>{r.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,_e("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new gy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=nx(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%62))}return s}}function Ye(t,e){return t<e?-1:t>e?1:0}function qp(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),i=e.codePointAt(n);if(s!==i){if(s<128&&i<128)return Ye(s,i);{const r=OT(),o=sx(r.encode(_y(t,n)),r.encode(_y(e,n)));return o!==0?o:Ye(s,i)}}n+=s>65535?2:1}return Ye(t.length,e.length)}function _y(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function sx(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ye(t[n],e[n]);return Ye(t.length,e.length)}function Ja(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=-62135596800,yy=1e6;class rn{static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*yy);return new rn(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vy)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yy}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-vy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new rn(0,0))}static max(){return new je(new rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="__name__";class ii{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=ii.compareSegments(e.get(i),n.get(i));if(r!==0)return r}return Ye(e.length,n.length)}static compareSegments(e,n){const s=ii.isNumericId(e),i=ii.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?ii.extractNumericId(e).compare(ii.extractNumericId(n)):qp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mr.fromString(e.substring(4,e.length-2))}}class Ot extends ii{construct(e,n,s){return new Ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new Ot(n)}static emptyPath(){return new Ot([])}}const ix=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends ii{construct(e,n,s){return new vn(e,n,s)}static isValidIdentifier(e){return ix.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ey}static keyField(){return new vn([Ey])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new ge(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ge(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ge(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(s+=a,i++):(r(),i++)}if(r(),o)throw new ge(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(Ot.fromString(e))}static fromName(e){return new Re(Ot.fromString(e).popFirst(5))}static empty(){return new Re(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new Ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=-1;function rx(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=je.fromTimestamp(s===1e9?new rn(n+1,0):new rn(n,s));return new jr(i,Re.empty(),e)}function ox(t){return new jr(t.readTime,t.key,Fc)}class jr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new jr(je.min(),Re.empty(),Fc)}static max(){return new jr(je.max(),Re.empty(),Fc)}}function ax(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==lx)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let i=0,r=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++r,o&&r===i&&n()},c=>s(c))}),o=!0,r===i&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(i=>i?ee.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,i)=>{const r=e.length,o=new Array(r);let a=0;for(let c=0;c<r;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===r&&s(o)},h=>i(h))}})}static doWhile(e,n){return new ee((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function ux(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Dd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=-1;function Nd(t){return t==null}function qh(t){return t===0&&1/t==-1/0}function hx(t){return typeof t=="number"&&Number.isInteger(t)&&!qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="";function dx(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=by(e)),e=fx(t.get(n),e);return by(e)}function fx(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const r=t.charAt(i);switch(r){case"\0":n+="";break;case xT:n+="";break;default:n+=r}}return n}function by(t){return t+xT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??_n.RED,this.left=i??_n.EMPTY,this.right=r??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new _n(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _n.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,s,i,r){return this}insert(e,n,s){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ty(this.data.getIterator())}getIteratorFrom(e){return new Ty(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class Ty{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new ls([])}unionWith(e){let n=new on(vn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ls(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new NT("Invalid base64 string: "+r):r}}(e);return new yn(n)}static fromUint8Array(e){const n=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const px=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(t){if(pt(!!t,39018),typeof t=="string"){let e=0;const n=px.exec(t);if(pt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hr(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="server_timestamp",VT="__type__",MT="__previous_value__",$T="__local_write_time__";function Gm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[VT])===null||n===void 0?void 0:n.stringValue)===LT}function Ld(t){const e=t.mapValue.fields[MT];return Gm(e)?Ld(e):e}function Uc(t){const e=Br(t.mapValue.fields[$T].timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,s,i,r,o,a,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Wh="(default)";class jc{constructor(e,n){this.projectId=e,this.database=n||Wh}static empty(){return new jc("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(e){return e instanceof jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="__type__",gx="__max__",Ju={mapValue:{}},UT="__vector__",zh="value";function qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gm(t)?4:vx(t)?9007199254740991:_x(t)?10:11:Ve(28295,{value:t})}function mi(t,e){if(t===e)return!0;const n=qr(t);if(n!==qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uc(t).isEqual(Uc(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Br(i.timestampValue),a=Br(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return Hr(i.bytesValue).isEqual(Hr(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return Gt(i.geoPointValue.latitude)===Gt(r.geoPointValue.latitude)&&Gt(i.geoPointValue.longitude)===Gt(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Gt(i.integerValue)===Gt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Gt(i.doubleValue),a=Gt(r.doubleValue);return o===a?qh(o)===qh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ja(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(i,r){const o=i.mapValue.fields||{},a=r.mapValue.fields||{};if(wy(o)!==wy(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!mi(o[c],a[c])))return!1;return!0}(t,e);default:return Ve(52216,{left:t})}}function Bc(t,e){return(t.values||[]).find(n=>mi(n,e))!==void 0}function Za(t,e){if(t===e)return 0;const n=qr(t),s=qr(e);if(n!==s)return Ye(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return function(r,o){const a=Gt(r.integerValue||r.doubleValue),c=Gt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Ay(t.timestampValue,e.timestampValue);case 4:return Ay(Uc(t),Uc(e));case 5:return qp(t.stringValue,e.stringValue);case 6:return function(r,o){const a=Hr(r),c=Hr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const a=r.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Ye(a[d],c[d]);if(h!==0)return h}return Ye(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const a=Ye(Gt(r.latitude),Gt(o.latitude));return a!==0?a:Ye(Gt(r.longitude),Gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Iy(t.arrayValue,e.arrayValue);case 10:return function(r,o){var a,c,d,h;const f=r.fields||{},_=o.fields||{},E=(a=f[zh])===null||a===void 0?void 0:a.arrayValue,S=(c=_[zh])===null||c===void 0?void 0:c.arrayValue,D=Ye(((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0,((h=S==null?void 0:S.values)===null||h===void 0?void 0:h.length)||0);return D!==0?D:Iy(E,S)}(t.mapValue,e.mapValue);case 11:return function(r,o){if(r===Ju.mapValue&&o===Ju.mapValue)return 0;if(r===Ju.mapValue)return 1;if(o===Ju.mapValue)return-1;const a=r.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const _=qp(c[f],h[f]);if(_!==0)return _;const E=Za(a[c[f]],d[h[f]]);if(E!==0)return E}return Ye(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Ve(23264,{Pe:n})}}function Ay(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=Br(t),s=Br(e),i=Ye(n.seconds,s.seconds);return i!==0?i:Ye(n.nanos,s.nanos)}function Iy(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const r=Za(n[i],s[i]);if(r)return r}return Ye(n.length,s.length)}function el(t){return Wp(t)}function Wp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Br(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=Wp(r);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const o of s)r?r=!1:i+=",",i+=`${o}:${Wp(n.fields[o])}`;return i+"}"}(t.mapValue):Ve(61005,{value:t})}function _h(t){switch(qr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ld(t);return e?16+_h(e):16;case 5:return 2*t.stringValue.length;case 6:return Hr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+_h(r),0)}(t.arrayValue);case 10:case 11:return function(s){let i=0;return Jr(s.fields,(r,o)=>{i+=r.length+_h(o)}),i}(t.mapValue);default:throw Ve(13486,{value:t})}}function Cy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zp(t){return!!t&&"integerValue"in t}function Qm(t){return!!t&&"arrayValue"in t}function Sy(t){return!!t&&"nullValue"in t}function Ry(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vh(t){return!!t&&"mapValue"in t}function _x(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[FT])===null||n===void 0?void 0:n.stringValue)===UT}function wc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=wc(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(n)}setAll(e){let n=vn.emptyPath(),s={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,s,i),s={},i=[],n=a.popLast()}o?s[a.lastSegment()]=wc(o):i.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];vh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Jr(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new Qn(wc(this.value))}}function jT(t){const e=[];return Jr(t.fields,(n,s)=>{const i=new vn([n]);if(vh(s)){const r=jT(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)}),new ls(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,s,i,r,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Cn(e,0,je.min(),je.min(),je.min(),Qn.empty(),0)}static newFoundDocument(e,n,s,i){return new Cn(e,1,n,je.min(),s,i,0)}static newNoDocument(e,n){return new Cn(e,2,n,je.min(),je.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,je.min(),je.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.position=e,this.inclusive=n}}function Py(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],o=t.position[i];if(r.field.isKeyField()?s=Re.comparator(Re.fromName(o.referenceValue),n.key):s=Za(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function Oy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n="asc"){this.field=e,this.dir=n}}function yx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{}class Jt extends BT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new bx(e,n,s):n==="array-contains"?new Ax(e,s):n==="in"?new Ix(e,s):n==="not-in"?new Cx(e,s):n==="array-contains-any"?new Sx(e,s):new Jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new wx(e,s):new Tx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Za(n,this.value)):n!==null&&qr(this.value)===qr(n)&&this.matchesComparison(Za(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qs extends BT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new qs(e,n)}matches(e){return HT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function HT(t){return t.op==="and"}function qT(t){return Ex(t)&&HT(t)}function Ex(t){for(const e of t.filters)if(e instanceof qs)return!1;return!0}function Kp(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+el(t.value);if(qT(t))return t.filters.map(e=>Kp(e)).join(",");{const e=t.filters.map(n=>Kp(n)).join(",");return`${t.op}(${e})`}}function WT(t,e){return t instanceof Jt?function(s,i){return i instanceof Jt&&s.op===i.op&&s.field.isEqual(i.field)&&mi(s.value,i.value)}(t,e):t instanceof qs?function(s,i){return i instanceof qs&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,o,a)=>r&&WT(o,i.filters[a]),!0):!1}(t,e):void Ve(19439)}function zT(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${el(n.value)}`}(t):t instanceof qs?function(n){return n.op.toString()+" {"+n.getFilters().map(zT).join(" ,")+"}"}(t):"Filter"}class bx extends Jt{constructor(e,n,s){super(e,n,s),this.key=Re.fromName(s.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class wx extends Jt{constructor(e,n){super(e,"in",n),this.keys=KT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Tx extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=KT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Re.fromName(s.referenceValue))}class Ax extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qm(n)&&Bc(n.arrayValue,this.value)}}class Ix extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bc(this.value.arrayValue,n)}}class Cx extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bc(this.value.arrayValue,n)}}class Sx extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Bc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n=null,s=[],i=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.Ie=null}}function ky(t,e=null,n=[],s=[],i=null,r=null,o=null){return new Rx(t,e,n,s,i,r,o)}function Ym(t){const e=We(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Kp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Nd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>el(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>el(s)).join(",")),e.Ie=n}return e.Ie}function Xm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Oy(t.startAt,e.startAt)&&Oy(t.endAt,e.endAt)}function Gp(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n=null,s=[],i=[],r=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Px(t,e,n,s,i,r,o,a){return new yl(t,e,n,s,i,r,o,a)}function Vd(t){return new yl(t)}function xy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GT(t){return t.collectionGroup!==null}function Tc(t){const e=We(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ee.push(r),n.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new on(vn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ee.push(new Hc(r,s))}),n.has(vn.keyField().canonicalString())||e.Ee.push(new Hc(vn.keyField(),s))}return e.Ee}function ci(t){const e=We(t);return e.de||(e.de=Ox(e,Tc(t))),e.de}function Ox(t,e){if(t.limitType==="F")return ky(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new Hc(i.field,r)});const n=t.endAt?new Kh(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Kh(t.startAt.position,t.startAt.inclusive):null;return ky(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Qp(t,e){const n=t.filters.concat([e]);return new yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gh(t,e,n){return new yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Md(t,e){return Xm(ci(t),ci(e))&&t.limitType===e.limitType}function QT(t){return`${Ym(ci(t))}|lt:${t.limitType}`}function Oa(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>zT(i)).join(", ")}]`),Nd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>el(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>el(i)).join(",")),`Target(${s})`}(ci(t))}; limitType=${t.limitType})`}function $d(t,e){return e.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):Re.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(t,e)&&function(s,i){for(const r of Tc(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(o,a,c){const d=Py(o,a,c);return o.inclusive?d<=0:d<0}(s.startAt,Tc(s),i)||s.endAt&&!function(o,a,c){const d=Py(o,a,c);return o.inclusive?d>=0:d>0}(s.endAt,Tc(s),i))}(t,e)}function kx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YT(t){return(e,n)=>{let s=!1;for(const i of Tc(t)){const r=xx(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function xx(t,e,n){const s=t.field.isKeyField()?Re.comparator(e.key,n.key):function(r,o,a){const c=o.data.field(r),d=a.data.field(r);return c!==null&&d!==null?Za(c,d):Ve(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jr(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return DT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new Ft(Re.comparator);function Wi(){return Dx}const XT=new Ft(Re.comparator);function uc(...t){let e=XT;for(const n of t)e=e.insert(n.key,n);return e}function JT(t){let e=XT;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ko(){return Ac()}function ZT(){return Ac()}function Ac(){return new Yo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Nx=new Ft(Re.comparator),Lx=new on(Re.comparator);function et(...t){let e=Lx;for(const n of t)e=e.add(n);return e}const Vx=new on(Ye);function Mx(){return Vx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function eA(t){return{integerValue:""+t}}function $x(t,e){return hx(e)?eA(e):Jm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this._=void 0}}function Fx(t,e,n){return t instanceof qc?function(i,r){const o={fields:{[VT]:{stringValue:LT},[$T]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Gm(r)&&(r=Ld(r)),r&&(o.fields[MT]=r),{mapValue:o}}(n,e):t instanceof tl?nA(t,e):t instanceof nl?sA(t,e):function(i,r){const o=tA(i,r),a=Dy(o)+Dy(i.Re);return zp(o)&&zp(i.Re)?eA(a):Jm(i.serializer,a)}(t,e)}function Ux(t,e,n){return t instanceof tl?nA(t,e):t instanceof nl?sA(t,e):n}function tA(t,e){return t instanceof Qh?function(s){return zp(s)||function(r){return!!r&&"doubleValue"in r}(s)}(e)?e:{integerValue:0}:null}class qc extends Fd{}class tl extends Fd{constructor(e){super(),this.elements=e}}function nA(t,e){const n=iA(e);for(const s of t.elements)n.some(i=>mi(i,s))||n.push(s);return{arrayValue:{values:n}}}class nl extends Fd{constructor(e){super(),this.elements=e}}function sA(t,e){let n=iA(e);for(const s of t.elements)n=n.filter(i=>!mi(i,s));return{arrayValue:{values:n}}}class Qh extends Fd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Dy(t){return Gt(t.integerValue||t.doubleValue)}function iA(t){return Qm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.field=e,this.transform=n}}function jx(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof tl&&i instanceof tl||s instanceof nl&&i instanceof nl?Ja(s.elements,i.elements,mi):s instanceof Qh&&i instanceof Qh?mi(s.Re,i.Re):s instanceof qc&&i instanceof qc}(t.transform,e.transform)}class Bx{constructor(e,n){this.version=e,this.transformResults=n}}class Ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ts}static exists(e){return new Ts(void 0,e)}static updateTime(e){return new Ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ud{}function rA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new eg(t.key,Ts.none()):new tu(t.key,t.data,Ts.none());{const n=t.data,s=Qn.empty();let i=new on(vn.comparator);for(let r of e.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new Zr(t.key,s,new ls(i.toArray()),Ts.none())}}function Hx(t,e,n){t instanceof tu?function(i,r,o){const a=i.value.clone(),c=Ly(i.fieldTransforms,r,o.transformResults);a.setAll(c),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zr?function(i,r,o){if(!yh(i.precondition,r))return void r.convertToUnknownDocument(o.version);const a=Ly(i.fieldTransforms,r,o.transformResults),c=r.data;c.setAll(oA(i)),c.setAll(a),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ic(t,e,n,s){return t instanceof tu?function(r,o,a,c){if(!yh(r.precondition,o))return a;const d=r.value.clone(),h=Vy(r.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,s):t instanceof Zr?function(r,o,a,c){if(!yh(r.precondition,o))return a;const d=Vy(r.fieldTransforms,c,o),h=o.data;return h.setAll(oA(r)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(f=>f.field))}(t,e,n,s):function(r,o,a){return yh(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function qx(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=tA(s.transform,i||null);r!=null&&(n===null&&(n=Qn.empty()),n.set(s.field,r))}return n||null}function Ny(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Ja(s,i,(r,o)=>jx(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tu extends Ud{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zr extends Ud{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function oA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Ly(t,e,n){const s=new Map;pt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const r=t[i],o=r.transform,a=e.data.field(r.field);s.set(r.field,Ux(o,a,n[i]))}return s}function Vy(t,e,n){const s=new Map;for(const i of t){const r=i.transform,o=n.data.field(i.field);s.set(i.field,Fx(r,o,e))}return s}class eg extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wx extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&Hx(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ic(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ic(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ZT();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(i.key)?null:a;const c=rA(o,a);c!==null&&s.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(je.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(n,s)=>Ny(n,s))&&Ja(this.baseMutations,e.baseMutations,(n,s)=>Ny(n,s))}}class tg{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){pt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let i=function(){return Nx}();const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new tg(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,it;function Qx(t){switch(t){case Z.OK:return Ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function aA(t){if(t===void 0)return qi("GRPC error has no .code"),Z.UNKNOWN;switch(t){case Yt.OK:return Z.OK;case Yt.CANCELLED:return Z.CANCELLED;case Yt.UNKNOWN:return Z.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return Z.INTERNAL;case Yt.UNAVAILABLE:return Z.UNAVAILABLE;case Yt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Yt.NOT_FOUND:return Z.NOT_FOUND;case Yt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Yt.ABORTED:return Z.ABORTED;case Yt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Yt.DATA_LOSS:return Z.DATA_LOSS;default:return Ve(39323,{code:t})}}(it=Yt||(Yt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new Mr([4294967295,4294967295],0);function My(t){const e=OT().encode(t),n=new wT;return n.update(e),new Uint8Array(n.digest())}function $y(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Mr([n,s],0),new Mr([i,r],0)]}class ng{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new hc(`Invalid padding: ${n}`);if(s<0)throw new hc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new hc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Mr.fromNumber(this.pe)}we(e,n,s){let i=e.add(n.multiply(Mr.fromNumber(s)));return i.compare(Yx)===1&&(i=new Mr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=My(e),[s,i]=$y(n);for(let r=0;r<this.hashCount;r++){const o=this.we(s,i,r);if(!this.be(o))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new ng(r,i,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=My(e),[s,i]=$y(n);for(let r=0;r<this.hashCount;r++){const o=this.we(s,i,r);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new jd(je.min(),i,new Ft(Ye),Wi(),et())}}class nu{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new nu(s,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,s,i){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=i}}class lA{constructor(e,n){this.targetId=e,this.Ce=n}}class cA{constructor(e,n,s=yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class Fy{constructor(){this.Fe=0,this.Me=Uy(),this.xe=yn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=et(),n=et(),s=et();return this.Me.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:Ve(38017,{changeType:r})}}),new nu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=Uy()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,pt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Xx{constructor(e){this.ze=e,this.je=new Map,this.He=Wi(),this.Je=Zu(),this.Ye=Zu(),this.Ze=new Ft(Ye)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,s=e.Ce.count,i=this._t(n);if(i){const r=i.target;if(Gp(r))if(s===0){const o=new Re(r.path);this.tt(n,o,Cn.newNoDocument(o,je.min()))}else pt(s===1,20013,{expectedCount:s});else{const o=this.ut(n);if(o!==s){const a=this.ct(e),c=a?this.lt(a,e,o):1;if(c!==0){this.st(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let o,a;try{o=Hr(s).toUint8Array()}catch(c){if(c instanceof NT)return Xa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ng(o,i,r)}catch(c){return Xa(c instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let i=0;return s.forEach(r=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,r,null),i++)}),i}It(e){const n=new Map;this.je.forEach((r,o)=>{const a=this._t(o);if(a){if(r.current&&Gp(a.target)){const c=new Re(a.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,Cn.newNoDocument(c,e))}r.Le&&(n.set(o,r.qe()),r.Qe())}});let s=et();this.Ye.forEach((r,o)=>{let a=!0;o.forEachWhile(c=>{const d=this._t(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(r))}),this.He.forEach((r,o)=>o.setReadTime(e));const i=new jd(e,n,this.Ze,this.He,s);return this.He=Wi(),this.Je=Zu(),this.Ye=Zu(),this.Ze=new Ft(Ye),i}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Fy,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new on(Ye),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new on(Ye),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Fy),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Zu(){return new Ft(Re.comparator)}function Uy(){return new Ft(Re.comparator)}const Jx={asc:"ASCENDING",desc:"DESCENDING"},Zx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eD={and:"AND",or:"OR"};class tD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yp(t,e){return t.useProto3Json||Nd(e)?e:{value:e}}function Yh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nD(t,e){return Yh(t,e.toTimestamp())}function ui(t){return pt(!!t,49232),je.fromTimestamp(function(n){const s=Br(n);return new rn(s.seconds,s.nanos)}(t))}function sg(t,e){return Xp(t,e).canonicalString()}function Xp(t,e){const n=function(i){return new Ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hA(t){const e=Ot.fromString(t);return pt(gA(e),10190,{key:e.toString()}),e}function Jp(t,e){return sg(t.databaseId,e.path)}function ep(t,e){const n=hA(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(fA(n))}function dA(t,e){return sg(t.databaseId,e)}function sD(t){const e=hA(t);return e.length===4?Ot.emptyPath():fA(e)}function Zp(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fA(t){return pt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function jy(t,e,n){return{name:Jp(t,e),fields:n.value.mapValue.fields}}function iD(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ve(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(d,h){return d.useProto3Json?(pt(h===void 0||typeof h=="string",58123),yn.fromBase64String(h||"")):(pt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),yn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?Z.UNKNOWN:aA(d.code);return new ge(h,d.message||"")}(o);n=new cA(s,i,r,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=ep(t,s.document.name),r=ui(s.document.updateTime),o=s.document.createTime?ui(s.document.createTime):je.min(),a=new Qn({mapValue:{fields:s.document.fields}}),c=Cn.newFoundDocument(i,r,o,a),d=s.targetIds||[],h=s.removedTargetIds||[];n=new Eh(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=ep(t,s.document),r=s.readTime?ui(s.readTime):je.min(),o=Cn.newNoDocument(i,r),a=s.removedTargetIds||[];n=new Eh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=ep(t,s.document),r=s.removedTargetIds||[];n=new Eh([],r,i,null)}else{if(!("filter"in e))return Ve(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new Gx(i,r),a=s.targetId;n=new lA(a,o)}}return n}function rD(t,e){let n;if(e instanceof tu)n={update:jy(t,e.key,e.value)};else if(e instanceof eg)n={delete:Jp(t,e.key)};else if(e instanceof Zr)n={update:jy(t,e.key,e.data),updateMask:pD(e.fieldMask)};else{if(!(e instanceof Wx))return Ve(16599,{ft:e.type});n={verify:Jp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,o){const a=o.transform;if(a instanceof qc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qh)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw Ve(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:nD(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Ve(27497)}(t,e.precondition)),n}function oD(t,e){return t&&t.length>0?(pt(e!==void 0,14353),t.map(n=>function(i,r){let o=i.updateTime?ui(i.updateTime):ui(r);return o.isEqual(je.min())&&(o=ui(r)),new Bx(o,i.transformResults||[])}(n,e))):[]}function aD(t,e){return{documents:[dA(t,e.path)]}}function lD(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dA(t,i);const r=function(d){if(d.length!==0)return mA(qs.create(d,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(d){if(d.length!==0)return d.map(h=>function(_){return{field:ka(_.field),direction:hD(_.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Yp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:i}}function cD(t){let e=sD(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){pt(s===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let r=[];n.where&&(r=function(f){const _=pA(f);return _ instanceof qs&&qT(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(_=>function(S){return new Hc(xa(S.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(n.orderBy));let a=null;n.limit&&(a=function(f){let _;return _=typeof f=="object"?f.value:f,Nd(_)?null:_}(n.limit));let c=null;n.startAt&&(c=function(f){const _=!!f.before,E=f.values||[];return new Kh(E,_)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const _=!f.before,E=f.values||[];return new Kh(E,_)}(n.endAt)),Px(e,i,o,r,a,"F",c,d)}function uD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=xa(n.unaryFilter.field);return Jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=xa(n.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=xa(n.unaryFilter.field);return Jt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=xa(n.unaryFilter.field);return Jt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}}(t):t.fieldFilter!==void 0?function(n){return Jt.create(xa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qs.create(n.compositeFilter.filters.map(s=>pA(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}}(n.compositeFilter.op))}(t):Ve(30097,{filter:t})}function hD(t){return Jx[t]}function dD(t){return Zx[t]}function fD(t){return eD[t]}function ka(t){return{fieldPath:t.canonicalString()}}function xa(t){return vn.fromServerFormat(t.fieldPath)}function mA(t){return t instanceof Jt?function(n){if(n.op==="=="){if(Ry(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NAN"}};if(Sy(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ry(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NAN"}};if(Sy(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(n.field),op:dD(n.op),value:n.value}}}(t):t instanceof qs?function(n){const s=n.getFilters().map(i=>mA(i));return s.length===1?s[0]:{compositeFilter:{op:fD(n.op),filters:s}}}(t):Ve(54877,{filter:t})}function pD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n,s,i,r=je.min(),o=je.min(),a=yn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.wt=e}}function gD(t){const e=cD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.Cn=new vD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(jr.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class vD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new on(Ot.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new on(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_A=41943040;class Kn{static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(_A,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new sl(0)}static lr(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="LruGarbageCollector",yD=1048576;function qy([t,e],[n,s]){const i=Ye(t,n);return i===0?Ye(e,s):i}class ED{constructor(e){this.Er=e,this.buffer=new on(qy),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();qy(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){_e(Hy,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vl(n)?_e(Hy,"Ignoring IndexedDB error during garbage collection: ",n):await _l(n)}await this.mr(3e5)})}}class wD{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Dd.le);const s=new ED(n);return this.gr.forEachTarget(e,i=>s.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>s.Rr(i))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(By)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),By):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,i,r,o,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(s=f,a=Date.now(),this.removeTargets(e,s,n))).next(f=>(r=f,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(f=>(d=Date.now(),Pa()<=Ze.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${r} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:f})))}}function TD(t,e){return new wD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.changes=new Yo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&Ic(s.mutation,i,ls.empty(),rn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,et()).next(()=>s))}getLocalViewOfDocuments(e,n,s=et()){const i=ko();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let o=uc();return r.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=ko();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,et()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,i){let r=Wi();const o=Ac(),a=function(){return Ac()}();return n.forEach((c,d)=>{const h=s.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof Zr)?r=r.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Ic(h.mutation,d,h.mutation.getFieldMask(),rn.now())):o.set(d.key,ls.empty())}),this.recalculateAndSaveOverlays(e,r).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var f;return a.set(d,new ID(h,(f=o.get(d))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const s=Ac();let i=new Ft((o,a)=>o-a),r=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=s.get(c)||ls.empty();h=a.applyToLocalView(d,h),s.set(c,h);const f=(i.get(a.batchId)||et()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,f=ZT();h.forEach(_=>{if(!r.has(_)){const E=rA(n.get(_),s.get(_));E!==null&&f.set(_,E),r=r.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return ee.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,i){return function(o){return Re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):ee.resolve(ko());let a=Fc,c=r;return o.next(d=>ee.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),r.get(h)?ee.resolve():this.remoteDocumentCache.getEntry(e,h).next(_=>{c=c.insert(h,_)}))).next(()=>this.populateOverlays(e,d,r)).next(()=>this.computeViews(e,c,d,et())).next(h=>({batchId:a,changes:JT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(s=>{let i=uc();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const r=n.collectionGroup;let o=uc();return this.indexManager.getCollectionParents(e,r).next(a=>ee.forEach(a,c=>{const d=function(f,_){return new yl(_,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(r));return this.getDocumentsMatchingCollectionQuery(e,d,s,i).next(h=>{h.forEach((f,_)=>{o=o.insert(f,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r,i))).next(o=>{r.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Cn.newInvalidDocument(h)))});let a=uc();return o.forEach((c,d)=>{const h=r.get(c);h!==void 0&&Ic(h.mutation,d,ls.empty(),rn.now()),$d(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ee.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ui(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:gD(i.bundledQuery),readTime:ui(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.overlays=new Ft(Re.comparator),this.Qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ko();return ee.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.St(e,n,r)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.Qr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const i=ko(),r=n.length+1,o=new Re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===r&&c.largestBatchId>s&&i.set(c.getKey(),c)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new Ft((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let h=r.get(d.largestBatchId);h===null&&(h=ko(),r=r.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=ko(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=i)););return ee.resolve(a)}St(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(s.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new Kx(n,s));let r=this.Qr.get(n);r===void 0&&(r=et(),this.Qr.set(n,r)),this.Qr.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.$r=new on(pn.Ur),this.Kr=new on(pn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new pn(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new pn(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Re(new Ot([])),s=new pn(n,e),i=new pn(n,e+1),r=[];return this.Kr.forEachInRange([s,i],o=>{this.zr(o),r.push(o.key)}),r}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Re(new Ot([])),s=new pn(n,e),i=new pn(n,e+1);let r=et();return this.Kr.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new pn(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class pn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Re.comparator(e.key,n.key)||Ye(e.Zr,n.Zr)}static Wr(e,n){return Ye(e.Zr,n.Zr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new on(pn.Ur)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zx(r,n,s,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new pn(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ee.resolve(o)}lookupMutationBatch(e,n){return ee.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.ti(s),r=i<0?0:i;return ee.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Km:this.nr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new pn(n,0),i=new pn(n,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([s,i],o=>{const a=this.ei(o.Zr);r.push(a)}),ee.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new on(Ye);return n.forEach(i=>{const r=new pn(i,0),o=new pn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,o],a=>{s=s.add(a.Zr)})}),ee.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;Re.isDocumentKey(r)||(r=r.child(""));const o=new pn(new Re(r),0);let a=new on(Ye);return this.Xr.forEachWhile(c=>{const d=c.key.path;return!!s.isPrefixOf(d)&&(d.length===i&&(a=a.add(c.Zr)),!0)},o),ee.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(s=>{const i=this.ei(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ee.forEach(n.mutations,i=>{const r=new pn(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new pn(n,0),i=this.Xr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.ii=e,this.docs=function(){return new Ft(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let s=Wi();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():Cn.newInvalidDocument(i))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=Wi();const o=n.path,a=new Re(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||ax(ox(h),s)<=0||(i.has(h.key)||$d(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return ee.resolve(r)}getAllFromCollectionGroup(e,n,s,i){Ve(9500)}si(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new xD(this)}getSize(e){return ee.resolve(this.size)}}class xD extends AD{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.persistence=e,this.oi=new Yo(n=>Ym(n),Xm),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this._i=0,this.ai=new ig,this.targetCount=0,this.ui=sl.cr()}forEachTarget(e,n){return this.oi.forEach((s,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),ee.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new sl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Tr(n),ee.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.oi.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ee.waitFor(r).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(e,o))}),ee.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.ci={},this.overlays={},this.li=new Dd(0),this.hi=!1,this.hi=!0,this.Pi=new PD,this.referenceDelegate=e(this),this.Ti=new DD(this),this.indexManager=new _D,this.remoteDocumentCache=function(i){return new kD(i)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new mD(n),this.Ei=new SD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new OD(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){_e("MemoryPersistence","Starting transaction:",e);const i=new ND(this.li.next());return this.referenceDelegate.di(),s(i).next(r=>this.referenceDelegate.Ai(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ri(e,n){return ee.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class ND extends cx{constructor(e){super(),this.currentSequenceNumber=e}}class rg{constructor(e){this.persistence=e,this.Vi=new ig,this.mi=null}static fi(e){return new rg(e)}get gi(){if(this.mi)return this.mi;throw Ve(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.gi.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.gi,s=>{const i=Re.fromPath(s);return this.pi(e,i).next(r=>{r||n.removeEntry(i,je.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ee.or([()=>ee.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Xh{constructor(e,n){this.persistence=e,this.yi=new Yo(s=>dx(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=TD(this,n)}static fi(e,n){return new Xh(e,n)}di(){}Ai(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(i=>s+i))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return ee.forEach(this.yi,(s,i)=>this.Dr(e,s,i).next(r=>r?ee.resolve():n(i)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(s++,r.removeEntry(o,je.min()))})).next(()=>r.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_h(e.data.value)),n}Dr(e,n,s){return ee.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return ee.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.ds=s,this.As=i}static Rs(e,n){let s=et(),i=et();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new og(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return xO()?8:ux(Rn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,i){const r={result:null};return this.ws(e,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.bs(e,n,i,s).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new LD;return this.Ss(e,n,o).next(a=>{if(r.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>r.result)}Ds(e,n,s,i){return s.documentReadCount<this.gs?(Pa()<=Ze.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Oa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ee.resolve()):(Pa()<=Ze.DEBUG&&_e("QueryEngine","Query:",Oa(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.ps*i?(Pa()<=Ze.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Oa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):ee.resolve())}ws(e,n){if(xy(n))return ee.resolve(null);let s=ci(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Gh(n,null,"F"),s=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const o=et(...r);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(c=>{const d=this.vs(n,a);return this.Cs(n,d,o,c.readTime)?this.ws(e,Gh(n,null,"F")):this.Fs(e,d,n,c)}))})))}bs(e,n,s,i){return xy(n)||i.isEqual(je.min())?ee.resolve(null):this.ys.getDocuments(e,s).next(r=>{const o=this.vs(n,r);return this.Cs(n,o,s,i)?ee.resolve(null):(Pa()<=Ze.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oa(n)),this.Fs(e,o,n,rx(i,Fc)).next(a=>a))})}vs(e,n){let s=new on(YT(e));return n.forEach((i,r)=>{$d(e,r)&&(s=s.add(r))}),s}Cs(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(e,n,s){return Pa()<=Ze.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Oa(n)),this.ys.getDocumentsMatchingQuery(e,n,jr.min(),s)}Fs(e,n,s,i){return this.ys.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="LocalStore",MD=3e8;class $D{constructor(e,n,s,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Ft(Ye),this.Os=new Yo(r=>Ym(r),Xm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function FD(t,e,n,s){return new $D(t,e,n,s)}async function yA(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],a=[];let c=et();for(const d of i){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of r){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(s,c).next(d=>({ks:d,removedBatchIds:o,addedBatchIds:a}))})})}function UD(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const f=d.batch,_=f.keys();let E=ee.resolve();return _.forEach(S=>{E=E.next(()=>h.getEntry(c,S)).next(D=>{const N=d.docVersions.get(S);pt(N!==null,48541),D.version.compareTo(N)<0&&(f.applyToRemoteDocument(D,d),D.isValidDocument()&&(D.setReadTime(d.commitVersion),h.addEntry(D)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(a){let c=et();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function EA(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function jD(t,e){const n=We(t),s=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((h,f)=>{const _=i.get(f);if(!_)return;a.push(n.Ti.removeMatchingKeys(r,h.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(r,h.addedDocuments,f)));let E=_.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(f)!==null?E=E.withResumeToken(yn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,s)),i=i.insert(f,E),function(D,N,B){return D.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=MD?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(_,E,h)&&a.push(n.Ti.updateTargetData(r,E))});let c=Wi(),d=et();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))}),a.push(BD(r,o,e.documentUpdates).next(h=>{c=h.qs,d=h.Qs})),!s.isEqual(je.min())){const h=n.Ti.getLastRemoteSnapshotVersion(r).next(f=>n.Ti.setTargetsMetadata(r,r.currentSequenceNumber,s));a.push(h)}return ee.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,c,d)).next(()=>c)}).then(r=>(n.xs=i,r))}function BD(t,e,n){let s=et(),i=et();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let o=Wi();return n.forEach((a,c)=>{const d=r.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(je.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):_e(ag,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{qs:o,Qs:i}})}function HD(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Km),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function qD(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Ti.getTargetData(s,e).next(r=>r?(i=r,ee.resolve(i)):n.Ti.allocateTargetId(s).next(o=>(i=new Pr(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.xs.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function em(t,e,n){const s=We(t),i=s.xs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vl(o))throw o;_e(ag,`Failed to update sequence numbers for target ${e}: ${o}`)}s.xs=s.xs.remove(e),s.Os.delete(i.target)}function Wy(t,e,n){const s=We(t);let i=je.min(),r=et();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=We(c),_=f.Os.get(h);return _!==void 0?ee.resolve(f.xs.get(_)):f.Ti.getTargetData(d,h)}(s,o,ci(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(o,a.targetId).next(c=>{r=c})}).next(()=>s.Ms.getDocumentsMatchingQuery(o,e,n?i:je.min(),n?r:et())).next(a=>(WD(s,kx(e),a),{documents:a,$s:r})))}function WD(t,e,n){let s=t.Ns.get(e)||je.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.Ns.set(e,s)}class zy{constructor(){this.activeTargetIds=Mx()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zD{constructor(){this.xo=new zy,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new zy,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="ConnectivityMonitor";class Gy{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){_e(Ky,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){_e(Ky,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function tm(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="RestConnection",GD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${i}`,this.Go=this.databaseId.database===Wh?`project_id=${s}`:`project_id=${s}&database_id=${i}`}zo(e,n,s,i,r){const o=tm(),a=this.jo(e,n.toUriEncodedString());_e(tp,`Sending RPC '${e}' ${o}:`,a,s);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,r);const{host:d}=new URL(a),h=pl(d);return this.Jo(e,a,c,s,h).then(f=>(_e(tp,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Xa(tp,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",s),f})}Yo(e,n,s,i,r,o){return this.zo(e,n,s,i,r)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}jo(e,n){const s=GD[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class XD extends QD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,i,r){const o=tm();return new Promise((a,c)=>{const d=new TT;d.setWithCredentials(!0),d.listenOnce(AT.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case gh.NO_ERROR:const f=d.getResponseJson();_e(wn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case gh.TIMEOUT:_e(wn,`RPC '${e}' ${o} timed out`),c(new ge(Z.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const _=d.getStatus();if(_e(wn,`RPC '${e}' ${o} failed with status:`,_,"response text:",d.getResponseText()),_>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const D=function(B){const $=B.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf($)>=0?$:Z.UNKNOWN}(S.status);c(new ge(D,S.message))}else c(new ge(Z.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ge(Z.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{h_:e,streamId:o,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{_e(wn,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);_e(wn,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",h,s,15)})}I_(e,n,s){const i=tm(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ST(),a=CT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const h=r.join("");_e(wn,`Creating RPC '${e}' stream ${i}: ${h}`,c);const f=o.createWebChannel(h,c);this.E_(f);let _=!1,E=!1;const S=new YD({Zo:N=>{E?_e(wn,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(_||(_e(wn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),_=!0),_e(wn,`RPC '${e}' stream ${i} sending:`,N),f.send(N))},Xo:()=>f.close()}),D=(N,B,$)=>{N.listen(B,j=>{try{$(j)}catch(H){setTimeout(()=>{throw H},0)}})};return D(f,cc.EventType.OPEN,()=>{E||(_e(wn,`RPC '${e}' stream ${i} transport opened.`),S.__())}),D(f,cc.EventType.CLOSE,()=>{E||(E=!0,_e(wn,`RPC '${e}' stream ${i} transport closed`),S.u_(),this.d_(f))}),D(f,cc.EventType.ERROR,N=>{E||(E=!0,Xa(wn,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),S.u_(new ge(Z.UNAVAILABLE,"The operation could not be completed")))}),D(f,cc.EventType.MESSAGE,N=>{var B;if(!E){const $=N.data[0];pt(!!$,16349);const j=$,H=(j==null?void 0:j.error)||((B=j[0])===null||B===void 0?void 0:B.error);if(H){_e(wn,`RPC '${e}' stream ${i} received error:`,H);const ie=H.status;let oe=function(T){const R=Yt[T];if(R!==void 0)return aA(R)}(ie),x=H.message;oe===void 0&&(oe=Z.INTERNAL,x="Unknown error status: "+ie+" with message "+H.message),E=!0,S.u_(new ge(oe,x)),f.close()}else _e(wn,`RPC '${e}' stream ${i} received:`,$),S.c_($)}}),D(a,IT.STAT_EVENT,N=>{N.stat===Hp.PROXY?_e(wn,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Hp.NOPROXY&&_e(wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){return new tD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,s=1e3,i=1.5,r=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=i,this.V_=r,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-s);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="PersistentStream";class wA{constructor(e,n,s,i,r,o,a,c){this.xi=e,this.S_=s,this.D_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new bA(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(qi(n.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.v_===n&&this.z_(s,i)},s=>{e(()=>{const i=new ge(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(i)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{s(()=>this.j_(i))}),this.stream.onMessage(i=>{s(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return _e(Qy,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(_e(Qy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JD extends wA{constructor(e,n,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=iD(this.serializer,e),s=function(r){if(!("targetChange"in r))return je.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?je.min():o.readTime?ui(o.readTime):je.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=Zp(this.serializer),n.addTarget=function(r,o){let a;const c=o.target;if(a=Gp(c)?{documents:aD(r,c)}:{query:lD(r,c).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=uA(r,o.resumeToken);const d=Yp(r,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(je.min())>0){a.readTime=Yh(r,o.snapshotVersion.toTimestamp());const d=Yp(r,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const s=uD(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=Zp(this.serializer),n.removeTarget=e,this.Q_(n)}}class ZD extends wA{constructor(e,n,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=oD(e.writeResults,e.commitTime),s=ui(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=Zp(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>rD(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{}class tN extends eN{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.zo(e,Xp(n,s),i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ge(Z.UNKNOWN,r.toString())})}Yo(e,n,s,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,Xp(n,s),i,o,a,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(Z.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class nN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(qi(n),this.ua=!1):_e("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="RemoteStore";class sN{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=r,this.Ra.No(o=>{s.enqueueAndForget(async()=>{Xo(this)&&(_e(Bo,"Restarting streams for network reachability change."),await async function(c){const d=We(c);d.da.add(4),await su(d),d.Va.set("Unknown"),d.da.delete(4),await Hd(d)}(this))})}),this.Va=new nN(s,i)}}async function Hd(t){if(Xo(t))for(const e of t.Aa)await e(!0)}async function su(t){for(const e of t.Aa)await e(!1)}function TA(t,e){const n=We(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),hg(n)?ug(n):El(n).N_()&&cg(n,e))}function lg(t,e){const n=We(t),s=El(n);n.Ea.delete(e),s.N_()&&AA(n,e),n.Ea.size===0&&(s.N_()?s.k_():Xo(n)&&n.Va.set("Unknown"))}function cg(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}El(t).Z_(e)}function AA(t,e){t.ma.Ke(e),El(t).X_(e)}function ug(t){t.ma=new Xx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),El(t).start(),t.Va.ca()}function hg(t){return Xo(t)&&!El(t).O_()&&t.Ea.size>0}function Xo(t){return We(t).da.size===0}function IA(t){t.ma=void 0}async function iN(t){t.Va.set("Online")}async function rN(t){t.Ea.forEach((e,n)=>{cg(t,e)})}async function oN(t,e){IA(t),hg(t)?(t.Va.Pa(e),ug(t)):t.Va.set("Unknown")}async function aN(t,e,n){if(t.Va.set("Online"),e instanceof cA&&e.state===2&&e.cause)try{await async function(i,r){const o=r.cause;for(const a of r.targetIds)i.Ea.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ea.delete(a),i.ma.removeTarget(a))}(t,e)}catch(s){_e(Bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jh(t,s)}else if(e instanceof Eh?t.ma.Xe(e):e instanceof lA?t.ma.ot(e):t.ma.nt(e),!n.isEqual(je.min()))try{const s=await EA(t.localStore);n.compareTo(s)>=0&&await function(r,o){const a=r.ma.It(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=r.Ea.get(d);h&&r.Ea.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=r.Ea.get(c);if(!h)return;r.Ea.set(c,h.withResumeToken(yn.EMPTY_BYTE_STRING,h.snapshotVersion)),AA(r,c);const f=new Pr(h.target,c,d,h.sequenceNumber);cg(r,f)}),r.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(s){_e(Bo,"Failed to raise snapshot:",s),await Jh(t,s)}}async function Jh(t,e,n){if(!vl(e))throw e;t.da.add(1),await su(t),t.Va.set("Offline"),n||(n=()=>EA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e(Bo,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Hd(t)})}function CA(t,e){return e().catch(n=>Jh(t,n,e))}async function qd(t){const e=We(t),n=Wr(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Km;for(;lN(e);)try{const i=await HD(e.localStore,s);if(i===null){e.Ia.length===0&&n.k_();break}s=i.batchId,cN(e,i)}catch(i){await Jh(e,i)}SA(e)&&RA(e)}function lN(t){return Xo(t)&&t.Ia.length<10}function cN(t,e){t.Ia.push(e);const n=Wr(t);n.N_()&&n.ea&&n.ta(e.mutations)}function SA(t){return Xo(t)&&!Wr(t).O_()&&t.Ia.length>0}function RA(t){Wr(t).start()}async function uN(t){Wr(t).ia()}async function hN(t){const e=Wr(t);for(const n of t.Ia)e.ta(n.mutations)}async function dN(t,e,n){const s=t.Ia.shift(),i=tg.from(s,e,n);await CA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qd(t)}async function fN(t,e){e&&Wr(t).ea&&await async function(s,i){if(function(o){return Qx(o)&&o!==Z.ABORTED}(i.code)){const r=s.Ia.shift();Wr(s).L_(),await CA(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await qd(s)}}(t,e),SA(t)&&RA(t)}async function Yy(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),_e(Bo,"RemoteStore received new credentials");const s=Xo(n);n.da.add(3),await su(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Hd(n)}async function pN(t,e){const n=We(t);e?(n.da.delete(2),await Hd(n)):e||(n.da.add(2),await su(n),n.Va.set("Unknown"))}function El(t){return t.fa||(t.fa=function(n,s,i){const r=We(n);return r.oa(),new JD(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{e_:iN.bind(null,t),n_:rN.bind(null,t),i_:oN.bind(null,t),Y_:aN.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),hg(t)?ug(t):t.Va.set("Unknown")):(await t.fa.stop(),IA(t))})),t.fa}function Wr(t){return t.ga||(t.ga=function(n,s,i){const r=We(n);return r.oa(),new ZD(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:uN.bind(null,t),i_:fN.bind(null,t),na:hN.bind(null,t),ra:dN.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await qd(t)):(await t.ga.stop(),t.Ia.length>0&&(_e(Bo,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,r){const o=Date.now()+s,a=new dg(e,n,o,i,r);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(t,e){if(qi("AsyncQueue",`${e}: ${t}`),vl(t))return new ge(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{static emptySet(e){return new Ba(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Re.comparator(n.key,s.key):(n,s)=>Re.comparator(n.key,s.key),this.keyedMap=uc(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ba)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ba;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.pa=new Ft(Re.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ve(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class il{constructor(e,n,s,i,r,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,i,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new il(e,n,Ba.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class gN{constructor(){this.queries=Jy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=We(n),r=i.queries;i.queries=Jy(),r.forEach((o,a)=>{for(const c of a.Sa)c.onError(s)})})(this,new ge(Z.ABORTED,"Firestore shutting down"))}}function Jy(){return new Yo(t=>QT(t),Md)}async function pg(t,e){const n=We(t);let s=3;const i=e.query;let r=n.queries.get(i);r?!r.Da()&&e.va()&&(s=2):(r=new mN,s=e.va()?0:1);try{switch(s){case 0:r.ba=await n.onListen(i,!0);break;case 1:r.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=fg(o,`Initialization of query '${Oa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,r),r.Sa.push(e),e.Fa(n.onlineState),r.ba&&e.Ma(r.ba)&&gg(n)}async function mg(t,e){const n=We(t),s=e.query;let i=3;const r=n.queries.get(s);if(r){const o=r.Sa.indexOf(e);o>=0&&(r.Sa.splice(o,1),r.Sa.length===0?i=e.va()?0:1:!r.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function _N(t,e){const n=We(t);let s=!1;for(const i of e){const r=i.query,o=n.queries.get(r);if(o){for(const a of o.Sa)a.Ma(i)&&(s=!0);o.ba=i}}s&&gg(n)}function vN(t,e,n){const s=We(t),i=s.queries.get(e);if(i)for(const r of i.Sa)r.onError(n);s.queries.delete(e)}function gg(t){t.Ca.forEach(e=>{e.next()})}var nm,Zy;(Zy=nm||(nm={})).xa="default",Zy.Cache="cache";class _g{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new il(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==nm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.key=e}}class OA{constructor(e){this.key=e}}class yN{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=et(),this.mutatedKeys=et(),this.Za=YT(e),this.Xa=new Ba(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new Xy,i=n?n.Xa:this.Xa;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const _=i.get(h),E=$d(this.query,f)?f:null,S=!!_&&this.mutatedKeys.has(_.key),D=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;_&&E?_.data.isEqual(E.data)?S!==D&&(s.track({type:3,doc:E}),N=!0):this.ru(_,E)||(s.track({type:2,doc:E}),N=!0,(c&&this.Za(E,c)>0||d&&this.Za(E,d)<0)&&(a=!0)):!_&&E?(s.track({type:0,doc:E}),N=!0):_&&!E&&(s.track({type:1,doc:_}),N=!0,(c||d)&&(a=!0)),N&&(E?(o=o.add(E),r=D?r.add(h):r.delete(h)):(o=o.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),r=r.delete(h.key),s.track({type:1,doc:h})}return{Xa:o,nu:s,Cs:a,mutatedKeys:r}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const r=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((h,f)=>function(E,S){const D=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Vt:N})}};return D(E)-D(S)}(h.type,f.type)||this.Za(h.doc,f.doc)),this.iu(s),i=i!=null&&i;const a=n&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,d=c!==this.Ja;return this.Ja=c,o.length!==0||d?{snapshot:new il(this.query,e.Xa,r,o,e.mutatedKeys,c===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Xy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=et(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new OA(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new PA(s))}),n}au(e){this.Ha=e.$s,this.Ya=et();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return il.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const vg="SyncEngine";class EN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class bN{constructor(e){this.key=e,this.cu=!1}}class wN{constructor(e,n,s,i,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Yo(a=>QT(a),Md),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ft(Re.comparator),this.Eu=new Map,this.du=new ig,this.Au={},this.Ru=new Map,this.Vu=sl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function TN(t,e,n=!0){const s=VA(t);let i;const r=s.hu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.uu()):i=await kA(s,e,n,!0),i}async function AN(t,e){const n=VA(t);await kA(n,e,!0,!1)}async function kA(t,e,n,s){const i=await qD(t.localStore,ci(e)),r=i.targetId,o=t.sharedClientState.addLocalQueryTarget(r,n);let a;return s&&(a=await IN(t,e,r,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&TA(t.remoteStore,i),a}async function IN(t,e,n,s,i){t.fu=(f,_,E)=>async function(D,N,B,$){let j=N.view.tu(B);j.Cs&&(j=await Wy(D.localStore,N.query,!1).then(({documents:x})=>N.view.tu(x,j)));const H=$&&$.targetChanges.get(N.targetId),ie=$&&$.targetMismatches.get(N.targetId)!=null,oe=N.view.applyChanges(j,D.isPrimaryClient,H,ie);return tE(D,N.targetId,oe.ou),oe.snapshot}(t,f,_,E);const r=await Wy(t.localStore,e,!0),o=new yN(e,r.$s),a=o.tu(r.documents),c=nu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),d=o.applyChanges(a,t.isPrimaryClient,c);tE(t,n,d.ou);const h=new EN(e,n,o);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function CN(t,e,n){const s=We(t),i=s.hu.get(e),r=s.Pu.get(i.targetId);if(r.length>1)return s.Pu.set(i.targetId,r.filter(o=>!Md(o,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await em(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),n&&lg(s.remoteStore,i.targetId),sm(s,i.targetId)}).catch(_l)):(sm(s,i.targetId),await em(s.localStore,i.targetId,!0))}async function SN(t,e){const n=We(t),s=n.hu.get(e),i=n.Pu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),lg(n.remoteStore,s.targetId))}async function RN(t,e,n){const s=LN(t);try{const i=await function(o,a){const c=We(o),d=rn.now(),h=a.reduce((E,S)=>E.add(S.key),et());let f,_;return c.persistence.runTransaction("Locally write mutations","readwrite",E=>{let S=Wi(),D=et();return c.Bs.getEntries(E,h).next(N=>{S=N,S.forEach((B,$)=>{$.isValidDocument()||(D=D.add(B))})}).next(()=>c.localDocuments.getOverlayedDocuments(E,S)).next(N=>{f=N;const B=[];for(const $ of a){const j=qx($,f.get($.key).overlayedDocument);j!=null&&B.push(new Zr($.key,j,jT(j.value.mapValue),Ts.exists(!0)))}return c.mutationQueue.addMutationBatch(E,d,B,a)}).next(N=>{_=N;const B=N.applyToLocalDocumentSet(f,D);return c.documentOverlayCache.saveOverlays(E,N.batchId,B)})}).then(()=>({batchId:_.batchId,changes:JT(f)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let d=o.Au[o.currentUser.toKey()];d||(d=new Ft(Ye)),d=d.insert(a,c),o.Au[o.currentUser.toKey()]=d}(s,i.batchId,n),await iu(s,i.changes),await qd(s.remoteStore)}catch(i){const r=fg(i,"Failed to persist write");n.reject(r)}}async function xA(t,e){const n=We(t);try{const s=await jD(n.localStore,e);e.targetChanges.forEach((i,r)=>{const o=n.Eu.get(r);o&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?pt(o.cu,14607):i.removedDocuments.size>0&&(pt(o.cu,42227),o.cu=!1))}),await iu(n,s,e)}catch(s){await _l(s)}}function eE(t,e,n){const s=We(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.hu.forEach((r,o)=>{const a=o.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=We(o);c.onlineState=a;let d=!1;c.queries.forEach((h,f)=>{for(const _ of f.Sa)_.Fa(a)&&(d=!0)}),d&&gg(c)}(s.eventManager,e),i.length&&s.lu.Y_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function PN(t,e,n){const s=We(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Eu.get(e),r=i&&i.key;if(r){let o=new Ft(Re.comparator);o=o.insert(r,Cn.newNoDocument(r,je.min()));const a=et().add(r),c=new jd(je.min(),new Map,new Ft(Ye),o,a);await xA(s,c),s.Iu=s.Iu.remove(r),s.Eu.delete(e),yg(s)}else await em(s.localStore,e,!1).then(()=>sm(s,e,n)).catch(_l)}async function ON(t,e){const n=We(t),s=e.batch.batchId;try{const i=await UD(n.localStore,e);NA(n,s,null),DA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await iu(n,i)}catch(i){await _l(i)}}async function kN(t,e,n){const s=We(t);try{const i=await function(o,a){const c=We(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(f=>(pt(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(s.localStore,e);NA(s,e,n),DA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await iu(s,i)}catch(i){await _l(i)}}function DA(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function NA(t,e,n){const s=We(t);let i=s.Au[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.Au[s.currentUser.toKey()]=i}}function sm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Pu.get(e))t.hu.delete(s),n&&t.lu.gu(s,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(s=>{t.du.containsKey(s)||LA(t,s)})}function LA(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(lg(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),yg(t))}function tE(t,e,n){for(const s of n)s instanceof PA?(t.du.addReference(s.key,e),xN(t,s)):s instanceof OA?(_e(vg,"Document no longer in limbo: "+s.key),t.du.removeReference(s.key,e),t.du.containsKey(s.key)||LA(t,s.key)):Ve(19791,{pu:s})}function xN(t,e){const n=e.key,s=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(s)||(_e(vg,"New document in limbo: "+n),t.Tu.add(s),yg(t))}function yg(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Re(Ot.fromString(e)),s=t.Vu.next();t.Eu.set(s,new bN(n)),t.Iu=t.Iu.insert(n,s),TA(t.remoteStore,new Pr(ci(Vd(n.path)),s,"TargetPurposeLimboResolution",Dd.le))}}async function iu(t,e,n){const s=We(t),i=[],r=[],o=[];s.hu.isEmpty()||(s.hu.forEach((a,c)=>{o.push(s.fu(c,e,n).then(d=>{var h;if((d||n)&&s.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;s.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){i.push(d);const f=og.Rs(c.targetId,d);r.push(f)}}))}),await Promise.all(o),s.lu.Y_(i),await async function(c,d){const h=We(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(d,_=>ee.forEach(_.ds,E=>h.persistence.referenceDelegate.addReference(f,_.targetId,E)).next(()=>ee.forEach(_.As,E=>h.persistence.referenceDelegate.removeReference(f,_.targetId,E)))))}catch(f){if(!vl(f))throw f;_e(ag,"Failed to update sequence numbers: "+f)}for(const f of d){const _=f.targetId;if(!f.fromCache){const E=h.xs.get(_),S=E.snapshotVersion,D=E.withLastLimboFreeSnapshotVersion(S);h.xs=h.xs.insert(_,D)}}}(s.localStore,r))}async function DN(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){_e(vg,"User change. New user:",e.toKey());const s=await yA(n.localStore,e);n.currentUser=e,function(r,o){r.Ru.forEach(a=>{a.forEach(c=>{c.reject(new ge(Z.CANCELLED,o))})}),r.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await iu(n,s.ks)}}function NN(t,e){const n=We(t),s=n.Eu.get(e);if(s&&s.cu)return et().add(s.key);{let i=et();const r=n.Pu.get(e);if(!r)return i;for(const o of r){const a=n.hu.get(o);i=i.unionWith(a.view.eu)}return i}}function VA(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PN.bind(null,e),e.lu.Y_=_N.bind(null,e.eventManager),e.lu.gu=vN.bind(null,e.eventManager),e}function LN(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ON.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kN.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return FD(this.persistence,new VD,e.initialUser,this.serializer)}Su(e){return new vA(rg.fi,this.serializer)}bu(e){return new zD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class VN extends Zh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){pt(this.persistence.referenceDelegate instanceof Xh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new bD(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new vA(s=>Xh.fi(s,n),this.serializer)}}class im{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>eE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DN.bind(null,this.syncEngine),await pN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gN}()}createDatastore(e){const n=Bd(e.databaseInfo.databaseId),s=function(r){return new XD(r)}(e.databaseInfo);return function(r,o,a,c){return new tN(r,o,a,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,i,r,o,a){return new sN(s,i,r,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>eE(this.syncEngine,n,0),function(){return Gy.C()?new Gy:new KD}())}createSyncEngine(e,n){return function(i,r,o,a,c,d,h){const f=new wN(i,r,o,a,c,d);return h&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const r=We(i);_e(Bo,"RemoteStore shutting down."),r.da.add(5),await su(r),r.Ra.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}im.provider={build:()=>new im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="FirestoreClient";class MN{constructor(e,n,s,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=Tn.UNAUTHENTICATED,this.clientId=kT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async o=>{_e(zr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(_e(zr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=fg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function sp(t,e){t.asyncQueue.verifyOperationInProgress(),_e(zr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await yA(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $N(t);_e(zr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>Yy(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>Yy(e.remoteStore,i)),t._onlineComponents=e}async function $N(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(zr,"Using user provided OfflineComponentProvider");try{await sp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Z.FAILED_PRECONDITION||i.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xa("Error using user provided cache. Falling back to memory cache: "+n),await sp(t,new Zh)}}else _e(zr,"Using default OfflineComponentProvider"),await sp(t,new VN(void 0));return t._offlineComponents}async function MA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(zr,"Using user provided OnlineComponentProvider"),await nE(t,t._uninitializedComponentsProvider._online)):(_e(zr,"Using default OnlineComponentProvider"),await nE(t,new im))),t._onlineComponents}function FN(t){return MA(t).then(e=>e.syncEngine)}async function ed(t){const e=await MA(t),n=e.eventManager;return n.onListen=TN.bind(null,e.syncEngine),n.onUnlisten=CN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SN.bind(null,e.syncEngine),n}function UN(t,e,n={}){const s=new Vi;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,a,c,d){const h=new Eg({next:_=>{h.xu(),o.enqueueAndForget(()=>mg(r,f));const E=_.docs.has(a);!E&&_.fromCache?d.reject(new ge(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&c&&c.source==="server"?d.reject(new ge(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),f=new _g(Vd(a.path),h,{includeMetadataChanges:!0,Qa:!0});return pg(r,f)}(await ed(t),t.asyncQueue,e,n,s)),s.promise}function jN(t,e,n={}){const s=new Vi;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,a,c,d){const h=new Eg({next:_=>{h.xu(),o.enqueueAndForget(()=>mg(r,f)),_.fromCache&&c.source==="server"?d.reject(new ge(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),f=new _g(a,h,{includeMetadataChanges:!0,Qa:!0});return pg(r,f)}(await ed(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t,e,n){if(!n)throw new ge(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BN(t,e,n,s){if(e===!0&&s===!0)throw new ge(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iE(t){if(!Re.isDocumentKey(t))throw new ge(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rE(t){if(Re.isDocumentKey(t))throw new ge(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function Xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wd(t);throw new ge(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function HN(t,e){if(e<=0)throw new ge(Z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="firestore.googleapis.com",oE=!0;class aE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UA,this.ssl=oE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:oE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_A;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yD)throw new ge(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$A((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zd{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Yk;switch(s.type){case"firstParty":return new ex(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=sE.get(n);s&&(_e("ComponentProvider","Removing Datastore"),sE.delete(n),s.terminate())}(this),Promise.resolve()}}function qN(t,e,n,s={}){var i;t=Xn(t,zd);const r=pl(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;r&&(pT(`https://${c}`),mT("Firestore",!0)),o.host!==UA&&o.host!==c&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:r,emulatorOptions:s});if(!Bi(d,a)&&(t._setSettings(d),s.mockUserToken)){let h,f;if(typeof s.mockUserToken=="string")h=s.mockUserToken,f=Tn.MOCK_USER;else{h=TO(s.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ge(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Tn(_)}t._authCredentials=new Xk(new PT(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class Sn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class $r extends Zi{constructor(e,n,s){super(e,n,Vd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new Re(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function _i(t,e,...n){if(t=$t(t),FA("collection","path",e),t instanceof zd){const s=Ot.fromString(e,...n);return rE(s),new $r(t,null,s)}{if(!(t instanceof Sn||t instanceof $r))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ot.fromString(e,...n));return rE(s),new $r(t.firestore,null,s)}}function Jn(t,e,...n){if(t=$t(t),arguments.length===1&&(e=kT.newId()),FA("doc","path",e),t instanceof zd){const s=Ot.fromString(e,...n);return iE(s),new Sn(t,null,new Re(s))}{if(!(t instanceof Sn||t instanceof $r))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ot.fromString(e,...n));return iE(s),new Sn(t.firestore,t instanceof $r?t.converter:null,new Re(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="AsyncQueue";class cE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new bA(this,"async_queue_retry"),this.rc=()=>{const s=np();s&&_e(lE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=np();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=np();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Vi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!vl(e))throw e;_e(lE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,qi("INTERNAL UNHANDLED ERROR: ",uE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=dg.createAndSchedule(this,e,n,s,r=>this.uc(r));return this.Zu.push(i),i}oc(){this.Xu&&Ve(47125,{cc:uE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function uE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const i=n;for(const r of s)if(r in i&&typeof i[r]=="function")return!0;return!1}(t,["next","error","complete"])}class zi extends zd{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new cE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cE(e),this._firestoreClient=void 0,await e}}}function WN(t,e){const n=typeof t=="object"?t:yT(),s=typeof t=="string"?t:Wh,i=Wm(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=bO("firestore");r&&qN(i,...r)}return i}function Kd(t){if(t._terminated)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zN(t),t._firestoreClient}function zN(t){var e,n,s;const i=t._freezeSettings(),r=function(a,c,d,h){return new mx(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,$A(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=i.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new MN(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rl(yn.fromBase64String(e))}catch(n){throw new ge(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rl(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=/^__.*__$/;class GN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Zr(e,this.data,this.fieldMask,n,this.fieldTransforms):new tu(e,this.data,n,this.fieldTransforms)}}class jA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Zr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ic:t})}}class Qd{constructor(e,n,s,i,r,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Ec(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Qd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:s,Rc:!1});return i.Vc(e),i}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:s,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return td(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(BA(this.Ic)&&KN.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class QN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Bd(e)}bc(e,n,s,i=!1){return new Qd({Ic:e,methodName:n,wc:s,path:vn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yd(t){const e=t._freezeSettings(),n=Bd(t._databaseId);return new QN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HA(t,e,n,s,i,r={}){const o=t.bc(r.merge||r.mergeFields?2:0,e,n,i);Cg("Data must be an object, but it was:",o,s);const a=WA(s,o);let c,d;if(r.merge)c=new ls(o.fieldMask),d=o.fieldTransforms;else if(r.mergeFields){const h=[];for(const f of r.mergeFields){const _=rm(e,f,n);if(!o.contains(_))throw new ge(Z.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);KA(h,_)||h.push(_)}c=new ls(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new GN(new Qn(a),c,d)}class Xd extends bl{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xd}}function qA(t,e,n){return new Qd({Ic:3,wc:e.settings.wc,methodName:t._methodName,Rc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Tg extends bl{_toFieldTransform(e){return new Zm(e.path,new qc)}isEqual(e){return e instanceof Tg}}class Ag extends bl{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=qA(this,e,!0),s=this.Sc.map(r=>Jo(r,n)),i=new tl(s);return new Zm(e.path,i)}isEqual(e){return e instanceof Ag&&Bi(this.Sc,e.Sc)}}class Ig extends bl{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=qA(this,e,!0),s=this.Sc.map(r=>Jo(r,n)),i=new nl(s);return new Zm(e.path,i)}isEqual(e){return e instanceof Ig&&Bi(this.Sc,e.Sc)}}function YN(t,e,n,s){const i=t.bc(1,e,n);Cg("Data must be an object, but it was:",i,s);const r=[],o=Qn.empty();Jr(s,(c,d)=>{const h=Sg(e,c,n);d=$t(d);const f=i.mc(h);if(d instanceof Xd)r.push(h);else{const _=Jo(d,f);_!=null&&(r.push(h),o.set(h,_))}});const a=new ls(r);return new jA(o,a,i.fieldTransforms)}function XN(t,e,n,s,i,r){const o=t.bc(1,e,n),a=[rm(e,s,n)],c=[i];if(r.length%2!=0)throw new ge(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<r.length;_+=2)a.push(rm(e,r[_])),c.push(r[_+1]);const d=[],h=Qn.empty();for(let _=a.length-1;_>=0;--_)if(!KA(d,a[_])){const E=a[_];let S=c[_];S=$t(S);const D=o.mc(E);if(S instanceof Xd)d.push(E);else{const N=Jo(S,D);N!=null&&(d.push(E),h.set(E,N))}}const f=new ls(d);return new jA(h,f,o.fieldTransforms)}function JN(t,e,n,s=!1){return Jo(n,t.bc(s?4:3,e))}function Jo(t,e){if(zA(t=$t(t)))return Cg("Unsupported field value:",e,t),WA(t,e);if(t instanceof bl)return function(s,i){if(!BA(i.Ic))throw i.gc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,i){const r=[];let o=0;for(const a of s){let c=Jo(a,i.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),r.push(c),o++}return{arrayValue:{values:r}}}(t,e)}return function(s,i){if((s=$t(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $x(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=rn.fromDate(s);return{timestampValue:Yh(i.serializer,r)}}if(s instanceof rn){const r=new rn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yh(i.serializer,r)}}if(s instanceof bg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof rl)return{bytesValue:uA(i.serializer,s._byteString)};if(s instanceof Sn){const r=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(r))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:sg(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof wg)return function(o,a){return{mapValue:{fields:{[FT]:{stringValue:UT},[zh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.gc("VectorValues must only contain numeric values.");return Jm(a.serializer,d)})}}}}}}(s,i);throw i.gc(`Unsupported field value: ${Wd(s)}`)}(t,e)}function WA(t,e){const n={};return DT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jr(t,(s,i)=>{const r=Jo(i,e.Ac(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function zA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof bg||t instanceof rl||t instanceof Sn||t instanceof bl||t instanceof wg)}function Cg(t,e,n){if(!zA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const s=Wd(n);throw s==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+s)}}function rm(t,e,n){if((e=$t(e))instanceof Gd)return e._internalPath;if(typeof e=="string")return Sg(t,e);throw td("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZN=new RegExp("[~\\*/\\[\\]]");function Sg(t,e,n){if(e.search(ZN)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gd(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function td(t,e,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(r||o)&&(c+=" (found",r&&(c+=` in field ${s}`),o&&(c+=` in document ${i}`),c+=")"),new ge(Z.INVALID_ARGUMENT,a+t+c)}function KA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eL extends GA{data(){return super.data()}}function Jd(t,e){return typeof e=="string"?Sg(t,e):e instanceof Gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class Pg extends Rg{}function eo(t,e,...n){let s=[];e instanceof Rg&&s.push(e),s=s.concat(n),function(r){const o=r.filter(c=>c instanceof Og).length,a=r.filter(c=>c instanceof Zd).length;if(o>1||o>0&&a>0)throw new ge(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)t=i._apply(t);return t}class Zd extends Pg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Zd(e,n,s)}_apply(e){const n=this._parse(e);return XA(e._query,n),new Zi(e.firestore,e.converter,Qp(e._query,n))}_parse(e){const n=Yd(e.firestore);return function(r,o,a,c,d,h,f){let _;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ge(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){fE(f,h);const S=[];for(const D of f)S.push(dE(c,r,D));_={arrayValue:{values:S}}}else _=dE(c,r,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||fE(f,h),_=JN(a,o,f,h==="in"||h==="not-in");return Jt.create(d,h,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ki(t,e,n){const s=e,i=Jd("where",t);return Zd._create(i,s,n)}class Og extends Rg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Og(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:qs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,r){let o=i;const a=r.getFlattenedFilters();for(const c of a)XA(o,c),o=Qp(o,c)}(e._query,n),new Zi(e.firestore,e.converter,Qp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kg extends Pg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kg(e,n)}_apply(e){const n=function(i,r,o){if(i.startAt!==null)throw new ge(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ge(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hc(r,o)}(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new yl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function wl(t,e="asc"){const n=e,s=Jd("orderBy",t);return kg._create(s,n)}class xg extends Pg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new xg(e,n,s)}_apply(e){return new Zi(e.firestore,e.converter,Gh(e._query,this._limit,this._limitType))}}function YA(t){return HN("limit",t),xg._create("limit",t,"F")}function dE(t,e,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new ge(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GT(e)&&n.indexOf("/")!==-1)throw new ge(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ot.fromString(n));if(!Re.isDocumentKey(s))throw new ge(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Cy(t,new Re(s))}if(n instanceof Sn)return Cy(t,n._key);throw new ge(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wd(n)}.`)}function fE(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XA(t,e){const n=function(i,r){for(const o of i)for(const a of o.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tL{convertValue(e,n="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Jr(e,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertVectorValue(e){var n,s,i;const r=(i=(s=(n=e.fields)===null||n===void 0?void 0:n[zh].arrayValue)===null||s===void 0?void 0:s.values)===null||i===void 0?void 0:i.map(o=>Gt(o.doubleValue));return new wg(r)}convertGeoPoint(e){return new bg(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ld(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Uc(e));default:return null}}convertTimestamp(e){const n=Br(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ot.fromString(e);pt(gA(s),9688,{name:e});const i=new jc(s.get(1),s.get(3)),r=new Re(s.popFirst(5));return i.isEqual(n)||qi(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZA extends GA{constructor(e,n,s,i,r,o){super(e,n,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Jd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class bh extends ZA{data(e={}){return super.data(e)}}class eI{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new dc(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new bh(this._firestore,this._userDataWriter,s.key,s,new dc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new bh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new dc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const c=new bh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new dc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:nL(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t){t=Xn(t,Sn);const e=Xn(t.firestore,zi);return UN(Kd(e),t._key).then(n=>tI(e,t,n))}class Dg extends tL{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,n)}}function er(t){t=Xn(t,Zi);const e=Xn(t.firestore,zi),n=Kd(e),s=new Dg(e);return QA(t._query),jN(n,t._query).then(i=>new eI(e,s,t,i))}function ru(t,e,n){t=Xn(t,Sn);const s=Xn(t.firestore,zi),i=JA(t.converter,e,n);return ef(s,[HA(Yd(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ts.none())])}function om(t,e,n,...s){t=Xn(t,Sn);const i=Xn(t.firestore,zi),r=Yd(i);let o;return o=typeof(e=$t(e))=="string"||e instanceof Gd?XN(r,"updateDoc",t._key,e,n,s):YN(r,"updateDoc",t._key,e),ef(i,[o.toMutation(t._key,Ts.exists(!0))])}function sL(t){return ef(Xn(t.firestore,zi),[new eg(t._key,Ts.none())])}function iL(t,e){const n=Xn(t.firestore,zi),s=Jn(t),i=JA(t.converter,e);return ef(n,[HA(Yd(t.firestore),"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,Ts.exists(!1))]).then(()=>s)}function rL(t,...e){var n,s,i;t=$t(t);let r={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||hE(e[o])||(r=e[o],o++);const a={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(hE(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(s=f.error)===null||s===void 0?void 0:s.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,d,h;if(t instanceof Sn)d=Xn(t.firestore,zi),h=Vd(t._key.path),c={next:f=>{e[o]&&e[o](tI(d,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Xn(t,Zi);d=Xn(f.firestore,zi),h=f._query;const _=new Dg(d);c={next:E=>{e[o]&&e[o](new eI(d,_,f,E))},error:e[o+1],complete:e[o+2]},QA(t._query)}return function(_,E,S,D){const N=new Eg(D),B=new _g(E,N,S);return _.asyncQueue.enqueueAndForget(async()=>pg(await ed(_),B)),()=>{N.xu(),_.asyncQueue.enqueueAndForget(async()=>mg(await ed(_),B))}}(Kd(d),h,a,c)}function ef(t,e){return function(s,i){const r=new Vi;return s.asyncQueue.enqueueAndForget(async()=>RN(await FN(s),i,r)),r.promise}(Kd(t),e)}function tI(t,e,n){const s=n.docs.get(e._key),i=new Dg(t);return new ZA(t,i,e._key,s,new dc(n.hasPendingWrites,n.fromCache),e.converter)}function oL(){return new Tg("serverTimestamp")}function aL(...t){return new Ag("arrayUnion",t)}function lL(...t){return new Ig("arrayRemove",t)}(function(e,n=!0){(function(i){gl=i})(ml),Ya(new Uo("firestore",(s,{instanceIdentifier:i,options:r})=>{const o=s.getProvider("app").getImmediate(),a=new zi(new Jk(s.getProvider("auth-internal")),new tx(o,s.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ge(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(d.options.projectId,h)}(o,i),o);return r=Object.assign({useFetchStreams:n},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),Vr(py,my,e),Vr(py,my,"esm2017")})();var cL="firebase",uL="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(cL,uL,"app");function Ng(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function nI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hL=nI,sI=new Zc("auth","Firebase",nI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Hm("@firebase/auth");function dL(t,...e){nd.logLevel<=Ze.WARN&&nd.warn(`Auth (${ml}): ${t}`,...e)}function wh(t,...e){nd.logLevel<=Ze.ERROR&&nd.error(`Auth (${ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t,...e){throw Vg(t,...e)}function As(t,...e){return Vg(t,...e)}function Lg(t,e,n){const s=Object.assign(Object.assign({},hL()),{[e]:n});return new Zc("auth","Firebase",s).create(e,{appName:t.name})}function Mi(t){return Lg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iI(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ss(t,"argument-error"),Lg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vg(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return sI.create(t,...e)}function Le(t,e,...n){if(!t)throw Vg(e,...n)}function Ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wh(e),new Error(e)}function Gi(t,e){t||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fL(){return pE()==="http:"||pE()==="https:"}function pE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fL()||PO()||"connection"in navigator)?navigator.onLine:!0}function mL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gi(n>e,"Short delay should be less than long delay!"),this.isMobile=CO()||OO()}get(){return pL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t,e){Gi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vL=new ou(3e4,6e4);function tr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vi(t,e,n,s,i={}){return oI(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const a=eu(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},r);return RO()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&pl(t.emulatorConfig.host)&&(d.credentials="include"),rI.fetch()(await aI(t,t.config.apiHost,n,a),d)})}async function oI(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},gL),e);try{const i=new EL(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw th(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw th(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw th(t,"user-disabled",o);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Lg(t,h,d);Ss(t,h)}}catch(i){if(i instanceof Ji)throw i;Ss(t,"network-request-failed",{message:String(i)})}}async function au(t,e,n,s,i={}){const r=await vi(t,e,n,s,i);return"mfaPendingCredential"in r&&Ss(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function aI(t,e,n,s){const i=`${e}${n}?${s}`,r=t,o=r.config.emulator?Mg(t.config,i):`${t.config.apiScheme}://${i}`;return _L.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(o).toString():o}function yL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(As(this.auth,"network-request-failed")),vL.get())})}}function th(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=As(t,e,s);return i.customData._tokenResponse=n,i}function mE(t){return t!==void 0&&t.enterprise!==void 0}class bL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wL(t,e){return vi(t,"GET","/v2/recaptchaConfig",tr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e){return vi(t,"POST","/v1/accounts:delete",e)}async function sd(t,e){return vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AL(t,e=!1){const n=$t(t),s=await n.getIdToken(e),i=$g(s);Le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Cc(ip(i.auth_time)),issuedAtTime:Cc(ip(i.iat)),expirationTime:Cc(ip(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function ip(t){return Number(t)*1e3}function $g(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return wh("JWT malformed, contained fewer than 3 sections"),null;try{const i=uT(n);return i?JSON.parse(i):(wh("Failed to decode base64 JWT payload"),null)}catch(i){return wh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gE(t){const e=$g(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ji&&IL(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function IL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t){var e;const n=t.auth,s=await t.getIdToken(),i=await ol(t,sd(n,{idToken:s}));Le(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?lI(r.providerUserInfo):[],a=RL(t.providerData,o),c=t.isAnonymous,d=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),h=c?d:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new lm(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function SL(t){const e=$t(t);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RL(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function lI(t){return t.map(e=>{var{providerId:n}=e,s=Ng(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e){const n=await oI(t,{},async()=>{const s=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=await aI(t,i,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:s};return t.emulatorConfig&&pl(t.emulatorConfig.host)&&(c.credentials="include"),rI.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OL(t,e){return vi(t,"POST","/v2/accounts:revokeToken",tr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=gE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await PL(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new Ha;return s&&(Le(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(Le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(Le(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ms{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=Ng(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new lm(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await ol(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AL(this,e)}reload(){return SL(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await id(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Mi(this.auth));const e=await this.getIdToken();return await ol(this,TL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,a,c,d,h;const f=(s=n.displayName)!==null&&s!==void 0?s:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,E=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,D=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,B=(d=n.createdAt)!==null&&d!==void 0?d:void 0,$=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:j,emailVerified:H,isAnonymous:ie,providerData:oe,stsTokenManager:x}=n;Le(j&&x,e,"internal-error");const I=Ha.fromJSON(this.name,x);Le(typeof j=="string",e,"internal-error"),yr(f,e.name),yr(_,e.name),Le(typeof H=="boolean",e,"internal-error"),Le(typeof ie=="boolean",e,"internal-error"),yr(E,e.name),yr(S,e.name),yr(D,e.name),yr(N,e.name),yr(B,e.name),yr($,e.name);const T=new Ms({uid:j,auth:e,email:_,emailVerified:H,displayName:f,isAnonymous:ie,photoURL:S,phoneNumber:E,tenantId:D,stsTokenManager:I,createdAt:B,lastLoginAt:$});return oe&&Array.isArray(oe)&&(T.providerData=oe.map(R=>Object.assign({},R))),N&&(T._redirectEventId=N),T}static async _fromIdTokenResponse(e,n,s=!1){const i=new Ha;i.updateFromServerResponse(n);const r=new Ms({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await id(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];Le(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?lI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),a=new Ha;a.updateFromIdToken(s);const c=new Ms({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new lm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;function Li(t){Gi(t instanceof Function,"Expected a class definition");let e=_E.get(t);return e?(Gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_E.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cI.type="NONE";const vE=cI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t,e,n){return`firebase:${t}:${e}:${n}`}class qa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=Th(this.userKey,i.apiKey,r),this.fullPersistenceKey=Th("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sd(this.auth,{idToken:e}).catch(()=>{});return n?Ms._fromGetAccountInfoResponse(this.auth,n,e):null}return Ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new qa(Li(vE),e,s);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let r=i[0]||Li(vE);const o=Th(s,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const _=await sd(e,{idToken:h}).catch(()=>{});if(!_)break;f=await Ms._fromGetAccountInfoResponse(e,_,h)}else f=Ms._fromJSON(e,h);d!==r&&(a=f),r=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new qa(r,e,s):(r=c[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==r)try{await d._remove(o)}catch{}})),new qa(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mI(e))return"Blackberry";if(gI(e))return"Webos";if(hI(e))return"Safari";if((e.includes("chrome/")||dI(e))&&!e.includes("edge/"))return"Chrome";if(pI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function uI(t=Rn()){return/firefox\//i.test(t)}function hI(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dI(t=Rn()){return/crios\//i.test(t)}function fI(t=Rn()){return/iemobile/i.test(t)}function pI(t=Rn()){return/android/i.test(t)}function mI(t=Rn()){return/blackberry/i.test(t)}function gI(t=Rn()){return/webos/i.test(t)}function Fg(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kL(t=Rn()){var e;return Fg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xL(){return kO()&&document.documentMode===10}function _I(t=Rn()){return Fg(t)||pI(t)||gI(t)||mI(t)||/windows phone/i.test(t)||fI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t,e=[]){let n;switch(t){case"Browser":n=yE(Rn());break;case"Worker":n=`${yE(Rn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ml}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,a)=>{try{const c=e(r);o(c)}catch(c){a(c)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t,e={}){return vi(t,"GET","/v2/passwordPolicy",tr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=6;class VL{constructor(e){var n,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:LL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,r,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsUppercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EE(this),this.idTokenSubscription=new EE(this),this.beforeStateQueue=new DL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Li(n)),this._initializationPromise=this.queue(async()=>{var s,i,r;if(!this._deleted&&(this.persistenceManager=await qa.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sd(this,{idToken:e}),s=await Ms._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Mi(this));const n=e?$t(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NL(this),n=new VL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await OL(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Li(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[Li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function nr(t){return $t(t)}class EE{constructor(e){this.auth=e,this.observer=null,this.addObserver=FO(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $L(t){tf=t}function yI(t){return tf.loadJS(t)}function FL(){return tf.recaptchaEnterpriseScript}function UL(){return tf.gapiScript}function jL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class BL{constructor(){this.enterprise=new HL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class HL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const qL="recaptcha-enterprise",EI="NO_RECAPTCHA";class WL{constructor(e){this.type=qL,this.auth=nr(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{wL(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new bL(c);return r.tenantId==null?r._agentRecaptchaConfig=d:r._tenantRecaptchaConfigs[r.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function i(r,o,a){const c=window.grecaptcha;mE(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:e}).then(d=>{o(d)}).catch(()=>{o(EI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BL().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(a=>{if(!n&&mE(window.grecaptcha))i(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=FL();c.length!==0&&(c+=a),yI(c).then(()=>{i(a,r,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function bE(t,e,n,s=!1,i=!1){const r=new WL(t);let o;if(i)o=EI;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return s?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function rd(t,e,n,s,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await bE(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await bE(t,e,n,n==="getOobCode");return s(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t,e){const n=Wm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(Bi(r,e??{}))return i;Ss(i,"already-initialized")}return n.initialize({options:e})}function KL(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function GL(t,e,n){const s=nr(t);Le(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=bI(e),{host:o,port:a}=QL(e),c=a===null?"":`:${a}`,d={url:`${r}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Le(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Le(Bi(d,s.config.emulator)&&Bi(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,pl(o)?(pT(`${r}//${o}${c}`),mT("Auth",!0)):YL()}function bI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QL(t){const e=bI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:wE(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:wE(o)}}}function wE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,n){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function XL(t,e){return vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e){return au(t,"POST","/v1/accounts:signInWithPassword",tr(t,e))}async function ZL(t,e){return vi(t,"POST","/v1/accounts:sendOobCode",tr(t,e))}async function e2(t,e){return ZL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(t,e){return au(t,"POST","/v1/accounts:signInWithEmailLink",tr(t,e))}async function n2(t,e){return au(t,"POST","/v1/accounts:signInWithEmailLink",tr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Ug{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Wc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rd(e,n,"signInWithPassword",JL);case"emailLink":return t2(e,{email:this._email,oobCode:this._password});default:Ss(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rd(e,s,"signUpPassword",XL);case"emailLink":return n2(e,{idToken:n,email:this._email,oobCode:this._password});default:Ss(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t,e){return au(t,"POST","/v1/accounts:signInWithIdp",tr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="http://localhost";class qo extends Ug{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=Ng(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new qo(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Wa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Wa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wa(e,n)}buildRequest(){const e={requestUri:s2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r2(t){const e=ac(lc(t)).link,n=e?ac(lc(e)).deep_link_id:null,s=ac(lc(t)).deep_link_id;return(s?ac(lc(s)).link:null)||s||n||e||t}class jg{constructor(e){var n,s,i,r,o,a;const c=ac(lc(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(s=c.oobCode)!==null&&s!==void 0?s:null,f=i2((i=c.mode)!==null&&i!==void 0?i:null);Le(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(r=c.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=r2(e);try{return new jg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,n){return Wc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=jg.parseLink(n);return Le(s,"argument-error"),Wc._fromEmailAndCode(e,s.code,s.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends nf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends lu{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qo._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ai.credential(n,s)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends lu{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.GITHUB_SIGN_IN_METHOD="github.com";Sr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends lu{constructor(){super("twitter.com")}static credential(e,n){return qo._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Rr.credential(n,s)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(t,e){return au(t,"POST","/v1/accounts:signUp",tr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await Ms._fromIdTokenResponse(e,s,i),o=TE(s);return new Wo({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=TE(s);return new Wo({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function TE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends Ji{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,od.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new od(e,n,s,i)}}function wI(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?od._fromErrorAndOperation(t,r,e,s):r})}async function a2(t,e,n=!1){const s=await ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wo._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(t,e,n=!1){const{auth:s}=t;if(Gn(s.app))return Promise.reject(Mi(s));const i="reauthenticate";try{const r=await ol(t,wI(s,i,e,t),n);Le(r.idToken,s,"internal-error");const o=$g(r.idToken);Le(o,s,"internal-error");const{sub:a}=o;return Le(t.uid===a,s,"user-mismatch"),Wo._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Ss(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(t,e,n=!1){if(Gn(t.app))return Promise.reject(Mi(t));const s="signIn",i=await wI(t,s,e),r=await Wo._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function l2(t,e){return AI(nr(t),e)}async function c2(t,e){return TI($t(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(t){const e=nr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function u2(t,e,n){const s=nr(t);await rd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",e2)}async function h2(t,e,n){if(Gn(t.app))return Promise.reject(Mi(t));const s=nr(t),o=await rd(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",o2).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&II(t),c}),a=await Wo._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(a.user),a}function d2(t,e,n){return Gn(t.app)?Promise.reject(Mi(t)):l2($t(t),Zo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&II(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(t,e){return vi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=$t(t),r={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ol(s,f2(s.auth,r));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const a=s.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function m2(t,e,n,s){return $t(t).onIdTokenChanged(e,n,s)}function g2(t,e,n){return $t(t).beforeAuthStateChanged(e,n)}function _2(t,e,n,s){return $t(t).onAuthStateChanged(e,n,s)}function v2(t){return $t(t).signOut()}async function y2(t){return $t(t).delete()}const ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=1e3,b2=10;class SI extends CI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_I(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);xL()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,b2):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},E2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SI.type="LOCAL";const w2=SI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI extends CI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RI.type="SESSION";const PI=RI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new sf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async d=>d(n.origin,r)),c=await T2(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,c)=>{const d=Bg("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(f){const _=f;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(_.data.response);break;default:clearTimeout(h),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function I2(t){hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function C2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function R2(){return OI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="firebaseLocalStorageDb",P2=1,ld="firebaseLocalStorage",xI="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(t,e){return t.transaction([ld],e?"readwrite":"readonly").objectStore(ld)}function O2(){const t=indexedDB.deleteDatabase(kI);return new cu(t).toPromise()}function cm(){const t=indexedDB.open(kI,P2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ld,{keyPath:xI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ld)?e(s):(s.close(),await O2(),e(await cm()))})})}async function AE(t,e,n){const s=rf(t,!0).put({[xI]:e,value:n});return new cu(s).toPromise()}async function k2(t,e){const n=rf(t,!1).get(e),s=await new cu(n).toPromise();return s===void 0?null:s.value}function IE(t,e){const n=rf(t,!0).delete(e);return new cu(n).toPromise()}const x2=800,D2=3;class DI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>D2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(R2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await C2(),!this.activeServiceWorker)return;this.sender=new A2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cm();return await AE(e,ad,"1"),await IE(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>AE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>k2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>IE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=rf(i,!1).getAll();return new cu(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DI.type="LOCAL";const N2=DI;new ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t,e){return e?Li(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg extends Ug{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function L2(t){return AI(t.auth,new qg(t),t.bypassAuthState)}function V2(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),TI(n,new qg(t),t.bypassAuthState)}async function M2(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),a2(n,new qg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L2;case"linkViaPopup":case"linkViaRedirect":return M2;case"reauthViaPopup":case"reauthViaRedirect":return V2;default:Ss(this.auth,"internal-error")}}resolve(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new ou(2e3,1e4);async function F2(t,e,n){if(Gn(t.app))return Promise.reject(As(t,"operation-not-supported-in-this-environment"));const s=nr(t);iI(t,e,nf);const i=Hg(s,n);return new Or(s,"signInViaPopup",e,i).executeNotNull()}async function U2(t,e,n){const s=$t(t);if(Gn(s.auth.app))return Promise.reject(As(s.auth,"operation-not-supported-in-this-environment"));iI(s.auth,e,nf);const i=Hg(s.auth,n);return new Or(s.auth,"reauthViaPopup",e,i,s).executeNotNull()}class Or extends NI{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Or.currentPopupAction&&Or.currentPopupAction.cancel(),Or.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const e=Bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(As(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(As(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Or.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(As(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$2.get())};e()}}Or.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="pendingRedirect",Ah=new Map;class B2 extends NI{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const s=await H2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H2(t,e){const n=z2(e),s=W2(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function q2(t,e){Ah.set(t._key(),e)}function W2(t){return Li(t._redirectPersistence)}function z2(t){return Th(j2,t.config.apiKey,t.name)}async function K2(t,e,n=!1){if(Gn(t.app))return Promise.reject(Mi(t));const s=nr(t),i=Hg(s,e),o=await new B2(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=10*60*1e3;class Q2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!LI(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(As(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G2&&this.cachedEventUids.clear(),this.cachedEventUids.has(CE(e))}saveEventToCache(e){this.cachedEventUids.add(CE(e)),this.lastProcessedEventTime=Date.now()}}function CE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Y2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(t,e={}){return vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z2=/^https?/;async function eV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await X2(t);for(const n of e)try{if(tV(n))return}catch{}Ss(t,"unauthorized-domain")}function tV(t){const e=am(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!Z2.test(n))return!1;if(J2.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=new ou(3e4,6e4);function SE(){const t=hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sV(t){return new Promise((e,n)=>{var s,i,r;function o(){SE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SE(),n(As(t,"network-request-failed"))},timeout:nV.get()})}if(!((i=(s=hi().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=hi().gapi)===null||r===void 0)&&r.load)o();else{const a=jL("iframefcb");return hi()[a]=()=>{gapi.load?o():n(As(t,"network-request-failed"))},yI(`${UL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function iV(t){return Ih=Ih||sV(t),Ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=new ou(5e3,15e3),oV="__/auth/iframe",aV="emulator/auth/iframe",lV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uV(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mg(e,aV):`https://${t.config.authDomain}/${oV}`,s={apiKey:e.apiKey,appName:t.name,v:ml},i=cV.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${eu(s).slice(1)}`}async function hV(t){const e=await iV(t),n=hi().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:uV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lV,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=As(t,"network-request-failed"),a=hi().setTimeout(()=>{r(o)},rV.get());function c(){hi().clearTimeout(a),i(s)}s.ping(c).then(c,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fV=500,pV=600,mV="_blank",gV="http://localhost";class RE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _V(t,e,n,s=fV,i=pV){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const c=Object.assign(Object.assign({},dV),{width:s.toString(),height:i.toString(),top:r,left:o}),d=Rn().toLowerCase();n&&(a=dI(d)?mV:n),uI(d)&&(e=e||gV,c.scrollbars="yes");const h=Object.entries(c).reduce((_,[E,S])=>`${_}${E}=${S},`,"");if(kL(d)&&a!=="_self")return vV(e||"",a),new RE(null);const f=window.open(e||"",a,h);Le(f,t,"popup-blocked");try{f.focus()}catch{}return new RE(f)}function vV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="__/auth/handler",EV="emulator/auth/handler",bV=encodeURIComponent("fac");async function PE(t,e,n,s,i,r){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ml,eventId:i};if(e instanceof nf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$O(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof lu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${bV}=${encodeURIComponent(c)}`:"";return`${wV(t)}?${eu(a).slice(1)}${d}`}function wV({config:t}){return t.emulator?Mg(t,EV):`https://${t.authDomain}/${yV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="webStorageSupport";class TV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PI,this._completeRedirectFn=K2,this._overrideRedirectResult=q2}async _openPopup(e,n,s,i){var r;Gi((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await PE(e,n,s,am(),i);return _V(e,o,Bg())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await PE(e,n,s,am(),i);return I2(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(Gi(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await hV(e),s=new Q2(e);return n.register("authEvent",i=>(Le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rp,{type:rp},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[rp];o!==void 0&&n(!!o),Ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _I()||hI()||Fg()}}const AV=TV;var OE="@firebase/auth",kE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SV(t){Ya(new Uo("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;Le(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vI(t)},d=new ML(s,i,r,c);return KL(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ya(new Uo("auth-internal",e=>{const n=nr(e.getProvider("auth").getImmediate());return(s=>new IV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(OE,kE,CV(t)),Vr(OE,kE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=5*60,PV=fT("authIdTokenMaxAge")||RV;let xE=null;const OV=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>PV)return;const i=n==null?void 0:n.token;xE!==i&&(xE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kV(t=yT()){const e=Wm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zL(t,{popupRedirectResolver:AV,persistence:[N2,w2,PI]}),s=fT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=OV(r.toString());g2(n,o,()=>o(n.currentUser)),m2(n,a=>o(a))}}const i=hT("auth");return i&&GL(n,`http://${i}`),n}function xV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$L({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=As("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",xV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SV("Browser");const DV={apiKey:"AIzaSyCwjBfaaOxu0q3af_aPIlvDnpvSE1z3ms0",authDomain:"instant-geek.firebaseapp.com",projectId:"instant-geek",storageBucket:"instant-geek.firebasestorage.app",messagingSenderId:"317020332794",appId:"1:317020332794:web:933ab287d47fafd86cdf43",measurementId:"G-5F717TETW2"},VI=vT(DV),ea=kV(VI),Mt=WN(VI),nh="guestCart",Tl=Fm("cart",()=>{const t=we([]),e=di();let n=null;const s=St(()=>t.value.reduce((E,S)=>E+S.quantity,0)),i=St(()=>t.value.reduce((S,D)=>S+D.price*D.quantity,0).toFixed(2));async function r(){if(e.isLoggedIn&&e.user){const E=Jn(Mt,"users",e.user.uid,"privateData","cart");await ru(E,{items:JSON.parse(JSON.stringify(t.value))})}}function o(){e.isLoggedIn||localStorage.setItem(nh,JSON.stringify(t.value))}function a(E){const S=t.value.find(D=>D.id===E.id);S?S.quantity++:t.value.push({...E,quantity:1}),e.isLoggedIn?r():o()}function c(E){t.value=t.value.filter(S=>S.id!==E),e.isLoggedIn?r():o()}function d(E){const S=t.value.find(D=>D.id===E);S&&S.quantity++,e.isLoggedIn?r():o()}function h(E){const S=t.value.find(D=>D.id===E);if(S&&S.quantity>1)S.quantity--;else if(S&&S.quantity===1){c(E);return}e.isLoggedIn?r():o()}function f(){t.value=[],e.isLoggedIn?r():o()}async function _(){us(()=>e.user,async(E,S)=>{if(n&&(n(),n=null),E){const D=Jn(Mt,"users",E.uid,"privateData","cart"),N=JSON.parse(localStorage.getItem(nh)||"[]"),B=await Ho(D),j=[...B.exists()?B.data().items:[]];N.forEach(H=>{const ie=j.find(oe=>oe.id===H.id);ie?ie.quantity+=H.quantity:j.push(H)}),t.value=j,await r(),localStorage.removeItem(nh),n=rL(D,H=>{t.value=H.exists()?H.data().items:[]})}else{const D=JSON.parse(localStorage.getItem(nh)||"[]");t.value=D}},{immediate:!0})}return{items:t,totalItems:s,totalPrice:i,addItem:a,removeItem:c,increaseQuantity:d,decreaseQuantity:h,clearCart:f,init:_}}),di=Fm("auth",{state:()=>({user:null,userData:null,isLoading:!0,_authListenerUnsubscribe:null}),getters:{isLoggedIn:t=>!!t.user,currentUsername:t=>t.userData&&t.userData.displayName?t.userData.displayName:t.user&&t.user.displayName?t.user.displayName:t.user&&t.user.email?t.user.email.split("@")[0]:"Invité",billingAddress:t=>{var e;return((e=t.userData)==null?void 0:e.billingAddress)||null},hasCompleteBillingAddress:t=>{var n;const e=(n=t.userData)==null?void 0:n.billingAddress;return!!(e&&e.street&&e.city&&e.postalCode&&e.country)}},actions:{initAuthListener(){this._authListenerUnsubscribe||(this._authListenerUnsubscribe=_2(ea,async t=>{this.isLoading=!0;const e=uu(),n=Tl();if(t){this.user={uid:t.uid,email:t.email,displayName:t.displayName};const s=Jn(Mt,"users",t.uid),i=await Ho(s);i.exists()?this.userData=i.data():this.userData=null,await e.fetchWishlist(),await n.init()}else this.user=null,this.userData=null,e.$reset(),await n.init();this.isLoading=!1}))},async updateUserProfile(t){if(!this.user)throw new Error("Utilisateur non connecté.");const e=Jn(Mt,"users",this.user.uid);await om(e,t),this.userData={...this.userData,...t}},cleanupListeners(){this._authListenerUnsubscribe&&this._authListenerUnsubscribe()}}}),uu=Fm("wishlist",{state:()=>({gameIds:[],isLoading:!1}),getters:{isInWishlist:t=>e=>t.gameIds.includes(e),wishlistCount:t=>t.gameIds.length},actions:{async fetchWishlist(){const t=di();if(!t.isLoggedIn)return;this.isLoading=!0;const e=Jn(Mt,"users",t.user.uid,"wishlist","items"),n=await Ho(e);n.exists()?this.gameIds=n.data().ids||[]:this.gameIds=[],this.isLoading=!1},async addToWishlist(t){const e=di();if(!e.isLoggedIn){alert("Veuillez vous connecter pour ajouter des jeux à votre wishlist.");return}const n=Jn(Mt,"users",e.user.uid,"wishlist","items");(await Ho(n)).exists()?await om(n,{ids:aL(t)}):await ru(n,{ids:[t]}),this.gameIds.includes(t)||this.gameIds.push(t)},async removeFromWishlist(t){const e=di();if(!e.isLoggedIn)return;const n=Jn(Mt,"users",e.user.uid,"wishlist","items");await om(n,{ids:lL(t)}),this.gameIds=this.gameIds.filter(s=>s!==t)}}}),Ut=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},NV={class:"container-fluid",id:"main-content"},LV={class:"row justify-content-center"},VV={class:"col-12 col-md-10 col-lg-8 p-0 w-100"},MV={class:"slider-wrapper"},$V=["src","alt"],FV=["onClick"],UV=["src","alt"],jV=["src","alt"],BV=["src","alt"],HV={class:"game-info mt-3"},qV=["href"],WV=["src"],zV={__name:"slider",setup(t){const e=uu(),n=we([{src:"/assets/img/icon/gtavi.png",alt:"Image GTA 6"},{src:"/assets/img/icon/metaphor.png",alt:"Image Metaphor :  Re Fantazio"},{src:"/assets/img/icon/nightrein.png",alt:"Image Elden Ring Nightreign"},{src:"/assets/img/icon/TLOU2.jpg",alt:"Image The last of us Part 2"},{src:"/assets/img/icon/Clair_Obscur.jpg",alt:"Image Clair obscur"}]),s=we([{src:"https://www.instant-gaming.com/fr/2462-acheter-grand-theft-auto-vi-pc-jeu-rockstar/",alt:"Page GTA VI"},{src:"https://www.instant-gaming.com/fr/14352-acheter-metaphor-refantazio-pc-jeu-steam-europe/",alt:"Page Metaphor"},{src:"https://www.instant-gaming.com/fr/18294-acheter-elden-ring-nightreign-pc-jeu-steam-europe/",alt:"Page Elden Ring Nightrein"},{src:"https://www.instant-gaming.com/fr/6215-acheter-the-last-of-us-part-ii-remastered-pc-jeu-steam-europe/",alt:"Page The Last of Us 2"},{src:"https://www.instant-gaming.com/fr/17015-acheter-clair-obscur-expedition-33-pc-jeu-steam-europe-us-canada/",alt:"Page Clair Obscur"}]),i=[{src:"https://cdn2.steamgriddb.com/hero_thumb/b80be7960918982fceea91afaf4d5e27.jpg",alt:"Image Hero GTA VI"},{src:"https://cdn2.steamgriddb.com/hero_thumb/aaecbb83e18bf24199bc5b2d3a280054.jpg",alt:"Image Hero Metaphor"},{src:"https://cdn2.steamgriddb.com/hero_thumb/8ec28b09ec95f08279e82459f1289c34.jpg",alt:"Image Hero Nightrein"},{src:"https://cdn2.steamgriddb.com/hero_thumb/5b465c13fd8cac3b9baf4af74bc0069a.png",alt:"Image Hero TLOU2"},{src:"https://cdn2.steamgriddb.com/hero_thumb/d2d195657240f493374e95e2b75cc8cf.jpg",alt:"Image Hero Clair Obscur"}],r=we([{name:"Grand Thief Auto VI",description:"Comme toujours, le jeu se déroule dans un monde ouvert, dans une version fictive de Miami, en Floride, appelée Vice City, Leonida...",price:"99.99€",id:"tEZ8WKToNXRdUw30WBpN"},{name:"Metaphor: ReFantazio",description:"Les créateurs de Persona 3, 4 et 5 ont donné naissance à Metaphor: ReFantazio...",price:"39.99€",id:"ouRWQoFisMSRMbu5RncX"},{name:"Elden Ring Nightrein",description:"ELDEN RING NIGHTREIGN est une aventure indépendante se déroulant dans l'univers d'ELDEN RING, conçue pour offrir...",price:"31.52€",id:"HT3qJHVa9pXQJZSXRkQR"},{name:"The Last of Us Part II REMASTERED",description:"Cinq ans après leur périlleux voyage à travers une Amérique ravagée ...",price:"35.43€",id:"HuvvEF5GQmSZ7ylXW1zW"},{name:"Clair Obscur : Expédition 33",description:"Une fois par an, la Peintresse se réveille. Sur son Monolithe, elle peint son nombre maudit...",price:"29.99€",id:"ZuL3BlFzp83IyXuTQ4DF"}]),o=we(0),a=we(!1);St(()=>(o.value-1+n.value.length)%n.value.length),St(()=>(o.value+1)%n.value.length);const c=St(()=>{const $=n.value.length;return[n.value[(o.value-1+$)%$],n.value[o.value],n.value[(o.value+1)%$]]}),d=St(()=>{const $=n.value.length;return[n.value[(o.value-2+$)%$],n.value[(o.value+2)%$]]}),h=$=>$===1?{width:"50%"}:{width:"25%"},f=St(()=>{var j;const $=(j=r.value[o.value])==null?void 0:j.id;return $?e.isInWishlist($):!1});let _=null;function E(){_&&clearInterval(_),_=setInterval(()=>{S()},6e3)}Bn(async()=>{E()}),Ad(()=>{clearInterval(_)});const S=()=>{a.value=!0,setTimeout(()=>{o.value=(o.value+1)%n.value.length,a.value=!1,E()},500)},D=()=>{a.value=!0,setTimeout(()=>{o.value=(o.value-1+n.value.length)%n.value.length,a.value=!1,E()},500)},N=$=>{$===0&&D(),$===2&&S()},B=()=>{const $=r.value[o.value];$!=null&&$.id&&(f.value?e.removeFromWishlist($.id):e.addToWishlist($.id))};return($,j)=>{const H=Vt("router-link");return U(),q("div",NV,[m("div",LV,[m("div",VV,[m("div",{class:"carousel-container mx-auto",style:ji({"--carousel-bg":`url('${i[o.value].src}')`})},[m("div",MV,[m("div",{class:Dt(["slide","prev"]),onClick:j[0]||(j[0]=ie=>N(0))},[m("img",{src:d.value[0].src,alt:d.value[0].alt,class:"img-fluid rounded-4 w-50"},null,8,$V)]),(U(!0),q(Ae,null,vt(c.value,(ie,oe)=>(U(),q("div",{key:oe,class:Dt(["slide",oe===0?"prev":oe===1?"active":"next",oe===1&&a.value?"fading":""]),style:ji(h(oe)),onClick:x=>N(oe)},[oe===1?(U(),as(H,{key:0,to:`/game/${r.value[o.value].id}`},{default:Oe(()=>[m("img",{src:ie.src,alt:ie.alt,class:"img-fluid rounded-4",style:{cursor:"pointer"}},null,8,UV)]),_:2},1032,["to"])):(U(),q("img",{key:1,src:ie.src,alt:ie.alt,class:"img-fluid rounded-4"},null,8,jV))],14,FV))),128)),m("div",{class:Dt(["slide","next"]),onClick:j[1]||(j[1]=ie=>N(2))},[m("img",{src:d.value[1].src,alt:d.value[1].alt,class:"img-fluid rounded-4 w-50"},null,8,BV)])]),m("div",{class:"controls d-flex justify-content-between mt-3"},[m("button",{type:"button",class:"btn btn_slider",onClick:D},j[2]||(j[2]=[m("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},"prev",-1)])),m("button",{type:"button",class:"btn btn_slider",onClick:S},j[3]||(j[3]=[m("span",{class:"carousel-control-next-icon","aria-hidden":"true"},"next",-1)]))]),m("div",HV,[m("h2",null,ae(r.value[o.value].name),1),m("p",null,ae(r.value[o.value].description),1),m("p",null,ae(r.value[o.value].price),1),j[4]||(j[4]=m("a",{href:"#",class:"btn btn-page me-2"},"Acheter",-1)),m("a",{href:s.value[o.value].src,target:"_blank",class:"btn btn-page me-2"},"Page du jeu",8,qV),m("a",{class:"btn btn-danger",onClick:B},[m("img",{src:f.value?"/assets/img/favorite_black.png":"/assets/img/favorite_empty.png",alt:"Icône de favori",style:{width:"24px",height:"24px"}},null,8,WV)])])],4)])])])}}},KV=Ut(zV,[["__scopeId","data-v-763a09f2"]]),GV={class:"container-fluid py-2 preco"},QV={class:"media-scroller snaps-inline",id:"precoIn"},YV={class:"game-card"},XV=["src","alt"],JV={class:"game-text"},ZV={class:"titre"},eM={class:"prix"},tM={__name:"Preco",setup(t){const e=we([]),n=async()=>{const s=_i(Mt,"games"),i=new Date;i.setHours(0,0,0,0);const r=eo(s,Ki("dateSortie",">=",i),wl("dateSortie"),YA(8));try{const o=await er(r);e.value=[],o.forEach(a=>{const c=a.data();e.value.push({id:a.id,titre:c.name,link:c.link,image:c.image,price:`${c.price}€`})})}catch(o){console.error("Erreur lors de la récupération des jeux :",o)}};return Bn(()=>{n()}),(s,i)=>{const r=Vt("router-link");return U(),q("div",GV,[i[0]||(i[0]=m("h2",{class:"font-weight-light"},"Précommandes",-1)),m("div",null,[m("ul",QV,[(U(!0),q(Ae,null,vt(e.value,o=>(U(),q("li",{key:o.id},[m("div",YV,[ne(r,{class:"nav-link",to:`/game/${o.id}`},{default:Oe(()=>[m("img",{src:`/assets/img/preview/${o.image}`,alt:o.titre},null,8,XV)]),_:2},1032,["to"]),m("div",JV,[m("h3",ZV,ae(o.titre),1),m("h3",eM,ae(o.price),1)])])]))),128))])])])}}},nM=Ut(tM,[["__scopeId","data-v-f9af47ae"]]);var Ch={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var sM=Ch.exports,DE;function iM(){return DE||(DE=1,function(t,e){(function(n,s){t.exports=s()})(sM,function(){const n=new Map,s={set(y,u,g){n.has(y)||n.set(y,new Map);const b=n.get(y);b.has(u)||b.size===0?b.set(u,g):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(b.keys())[0]}.`)},get:(y,u)=>n.has(y)&&n.get(y).get(u)||null,remove(y,u){if(!n.has(y))return;const g=n.get(y);g.delete(u),g.size===0&&n.delete(y)}},i="transitionend",r=y=>(y&&window.CSS&&window.CSS.escape&&(y=y.replace(/#([^\s"#']+)/g,(u,g)=>`#${CSS.escape(g)}`)),y),o=y=>{y.dispatchEvent(new Event(i))},a=y=>!(!y||typeof y!="object")&&(y.jquery!==void 0&&(y=y[0]),y.nodeType!==void 0),c=y=>a(y)?y.jquery?y[0]:y:typeof y=="string"&&y.length>0?document.querySelector(r(y)):null,d=y=>{if(!a(y)||y.getClientRects().length===0)return!1;const u=getComputedStyle(y).getPropertyValue("visibility")==="visible",g=y.closest("details:not([open])");if(!g)return u;if(g!==y){const b=y.closest("summary");if(b&&b.parentNode!==g||b===null)return!1}return u},h=y=>!y||y.nodeType!==Node.ELEMENT_NODE||!!y.classList.contains("disabled")||(y.disabled!==void 0?y.disabled:y.hasAttribute("disabled")&&y.getAttribute("disabled")!=="false"),f=y=>{if(!document.documentElement.attachShadow)return null;if(typeof y.getRootNode=="function"){const u=y.getRootNode();return u instanceof ShadowRoot?u:null}return y instanceof ShadowRoot?y:y.parentNode?f(y.parentNode):null},_=()=>{},E=y=>{y.offsetHeight},S=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,D=[],N=()=>document.documentElement.dir==="rtl",B=y=>{var u;u=()=>{const g=S();if(g){const b=y.NAME,L=g.fn[b];g.fn[b]=y.jQueryInterface,g.fn[b].Constructor=y,g.fn[b].noConflict=()=>(g.fn[b]=L,y.jQueryInterface)}},document.readyState==="loading"?(D.length||document.addEventListener("DOMContentLoaded",()=>{for(const g of D)g()}),D.push(u)):u()},$=(y,u=[],g=y)=>typeof y=="function"?y.call(...u):g,j=(y,u,g=!0)=>{if(!g)return void $(y);const b=(z=>{if(!z)return 0;let{transitionDuration:te,transitionDelay:de}=window.getComputedStyle(z);const ye=Number.parseFloat(te),be=Number.parseFloat(de);return ye||be?(te=te.split(",")[0],de=de.split(",")[0],1e3*(Number.parseFloat(te)+Number.parseFloat(de))):0})(u)+5;let L=!1;const V=({target:z})=>{z===u&&(L=!0,u.removeEventListener(i,V),$(y))};u.addEventListener(i,V),setTimeout(()=>{L||o(u)},b)},H=(y,u,g,b)=>{const L=y.length;let V=y.indexOf(u);return V===-1?!g&&b?y[L-1]:y[0]:(V+=g?1:-1,b&&(V=(V+L)%L),y[Math.max(0,Math.min(V,L-1))])},ie=/[^.]*(?=\..*)\.|.*/,oe=/\..*/,x=/::\d+$/,I={};let T=1;const R={mouseenter:"mouseover",mouseleave:"mouseout"},O=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function A(y,u){return u&&`${u}::${T++}`||y.uidEvent||T++}function C(y){const u=A(y);return y.uidEvent=u,I[u]=I[u]||{},I[u]}function Me(y,u,g=null){return Object.values(y).find(b=>b.callable===u&&b.delegationSelector===g)}function ot(y,u,g){const b=typeof u=="string",L=b?g:u||g;let V=kt(y);return O.has(V)||(V=y),[b,L,V]}function Fe(y,u,g,b,L){if(typeof u!="string"||!y)return;let[V,z,te]=ot(u,g,b);u in R&&(z=(Be=>function(Ue){if(!Ue.relatedTarget||Ue.relatedTarget!==Ue.delegateTarget&&!Ue.delegateTarget.contains(Ue.relatedTarget))return Be.call(this,Ue)})(z));const de=C(y),ye=de[te]||(de[te]={}),be=Me(ye,z,V?g:null);if(be)return void(be.oneOff=be.oneOff&&L);const me=A(z,u.replace(ie,"")),Ke=V?function(De,Be,Ue){return function He(yt){const It=De.querySelectorAll(Be);for(let{target:Je}=yt;Je&&Je!==this;Je=Je.parentNode)for(const ht of It)if(ht===Je)return Qt(yt,{delegateTarget:Je}),He.oneOff&&X.off(De,yt.type,Be,Ue),Ue.apply(Je,[yt])}}(y,g,z):function(De,Be){return function Ue(He){return Qt(He,{delegateTarget:De}),Ue.oneOff&&X.off(De,He.type,Be),Be.apply(De,[He])}}(y,z);Ke.delegationSelector=V?g:null,Ke.callable=z,Ke.oneOff=L,Ke.uidEvent=me,ye[me]=Ke,y.addEventListener(te,Ke,V)}function Te(y,u,g,b,L){const V=Me(u[g],b,L);V&&(y.removeEventListener(g,V,!!L),delete u[g][V.uidEvent])}function ze(y,u,g,b){const L=u[g]||{};for(const[V,z]of Object.entries(L))V.includes(b)&&Te(y,u,g,z.callable,z.delegationSelector)}function kt(y){return y=y.replace(oe,""),R[y]||y}const X={on(y,u,g,b){Fe(y,u,g,b,!1)},one(y,u,g,b){Fe(y,u,g,b,!0)},off(y,u,g,b){if(typeof u!="string"||!y)return;const[L,V,z]=ot(u,g,b),te=z!==u,de=C(y),ye=de[z]||{},be=u.startsWith(".");if(V===void 0){if(be)for(const me of Object.keys(de))ze(y,de,me,u.slice(1));for(const[me,Ke]of Object.entries(ye)){const De=me.replace(x,"");te&&!u.includes(De)||Te(y,de,z,Ke.callable,Ke.delegationSelector)}}else{if(!Object.keys(ye).length)return;Te(y,de,z,V,L?g:null)}},trigger(y,u,g){if(typeof u!="string"||!y)return null;const b=S();let L=null,V=!0,z=!0,te=!1;u!==kt(u)&&b&&(L=b.Event(u,g),b(y).trigger(L),V=!L.isPropagationStopped(),z=!L.isImmediatePropagationStopped(),te=L.isDefaultPrevented());const de=Qt(new Event(u,{bubbles:V,cancelable:!0}),g);return te&&de.preventDefault(),z&&y.dispatchEvent(de),de.defaultPrevented&&L&&L.preventDefault(),de}};function Qt(y,u={}){for(const[g,b]of Object.entries(u))try{y[g]=b}catch{Object.defineProperty(y,g,{configurable:!0,get:()=>b})}return y}function at(y){if(y==="true")return!0;if(y==="false")return!1;if(y===Number(y).toString())return Number(y);if(y===""||y==="null")return null;if(typeof y!="string")return y;try{return JSON.parse(decodeURIComponent(y))}catch{return y}}function lt(y){return y.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const Rt={setDataAttribute(y,u,g){y.setAttribute(`data-bs-${lt(u)}`,g)},removeDataAttribute(y,u){y.removeAttribute(`data-bs-${lt(u)}`)},getDataAttributes(y){if(!y)return{};const u={},g=Object.keys(y.dataset).filter(b=>b.startsWith("bs")&&!b.startsWith("bsConfig"));for(const b of g){let L=b.replace(/^bs/,"");L=L.charAt(0).toLowerCase()+L.slice(1),u[L]=at(y.dataset[b])}return u},getDataAttribute:(y,u)=>at(y.getAttribute(`data-bs-${lt(u)}`))};class Pt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,g){const b=a(g)?Rt.getDataAttribute(g,"config"):{};return{...this.constructor.Default,...typeof b=="object"?b:{},...a(g)?Rt.getDataAttributes(g):{},...typeof u=="object"?u:{}}}_typeCheckConfig(u,g=this.constructor.DefaultType){for(const[L,V]of Object.entries(g)){const z=u[L],te=a(z)?"element":(b=z)==null?`${b}`:Object.prototype.toString.call(b).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(V).test(te))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${L}" provided type "${te}" but expected type "${V}".`)}var b}}class ct extends Pt{constructor(u,g){super(),(u=c(u))&&(this._element=u,this._config=this._getConfig(g),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),X.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,g,b=!0){j(u,g,b)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return s.get(c(u),this.DATA_KEY)}static getOrCreateInstance(u,g={}){return this.getInstance(u)||new this(u,typeof g=="object"?g:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const G=y=>{let u=y.getAttribute("data-bs-target");if(!u||u==="#"){let g=y.getAttribute("href");if(!g||!g.includes("#")&&!g.startsWith("."))return null;g.includes("#")&&!g.startsWith("#")&&(g=`#${g.split("#")[1]}`),u=g&&g!=="#"?g.trim():null}return u?u.split(",").map(g=>r(g)).join(","):null},K={find:(y,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,y)),findOne:(y,u=document.documentElement)=>Element.prototype.querySelector.call(u,y),children:(y,u)=>[].concat(...y.children).filter(g=>g.matches(u)),parents(y,u){const g=[];let b=y.parentNode.closest(u);for(;b;)g.push(b),b=b.parentNode.closest(u);return g},prev(y,u){let g=y.previousElementSibling;for(;g;){if(g.matches(u))return[g];g=g.previousElementSibling}return[]},next(y,u){let g=y.nextElementSibling;for(;g;){if(g.matches(u))return[g];g=g.nextElementSibling}return[]},focusableChildren(y){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(g=>`${g}:not([tabindex^="-"])`).join(",");return this.find(u,y).filter(g=>!h(g)&&d(g))},getSelectorFromElement(y){const u=G(y);return u&&K.findOne(u)?u:null},getElementFromSelector(y){const u=G(y);return u?K.findOne(u):null},getMultipleElementsFromSelector(y){const u=G(y);return u?K.find(u):[]}},ue=(y,u="hide")=>{const g=`click.dismiss${y.EVENT_KEY}`,b=y.NAME;X.on(document,g,`[data-bs-dismiss="${b}"]`,function(L){if(["A","AREA"].includes(this.tagName)&&L.preventDefault(),h(this))return;const V=K.getElementFromSelector(this)||this.closest(`.${b}`);y.getOrCreateInstance(V)[u]()})},ve=".bs.alert",Xe=`close${ve}`,P=`closed${ve}`;class k extends ct{static get NAME(){return"alert"}close(){if(X.trigger(this._element,Xe).defaultPrevented)return;this._element.classList.remove("show");const u=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,u)}_destroyElement(){this._element.remove(),X.trigger(this._element,P),this.dispose()}static jQueryInterface(u){return this.each(function(){const g=k.getOrCreateInstance(this);if(typeof u=="string"){if(g[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);g[u](this)}})}}ue(k,"close"),B(k);const M='[data-bs-toggle="button"]';class Q extends ct{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const g=Q.getOrCreateInstance(this);u==="toggle"&&g[u]()})}}X.on(document,"click.bs.button.data-api",M,y=>{y.preventDefault();const u=y.target.closest(M);Q.getOrCreateInstance(u).toggle()}),B(Q);const Y=".bs.swipe",J=`touchstart${Y}`,fe=`touchmove${Y}`,ce=`touchend${Y}`,le=`pointerdown${Y}`,se=`pointerup${Y}`,Se={endCallback:null,leftCallback:null,rightCallback:null},pe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ee extends Pt{constructor(u,g){super(),this._element=u,u&&Ee.isSupported()&&(this._config=this._getConfig(g),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Se}static get DefaultType(){return pe}static get NAME(){return"swipe"}dispose(){X.off(this._element,Y)}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),$(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const g=u/this._deltaX;this._deltaX=0,g&&$(g>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(X.on(this._element,le,u=>this._start(u)),X.on(this._element,se,u=>this._end(u)),this._element.classList.add("pointer-event")):(X.on(this._element,J,u=>this._start(u)),X.on(this._element,fe,u=>this._move(u)),X.on(this._element,ce,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&(u.pointerType==="pen"||u.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ie=".bs.carousel",Ce=".data-api",$e="ArrowLeft",Qe="ArrowRight",jt="next",xt="prev",Zt="left",Wt="right",Ks=`slide${Ie}`,yi=`slid${Ie}`,en=`keydown${Ie}`,qn=`mouseenter${Ie}`,sa=`mouseleave${Ie}`,Rl=`dragstart${Ie}`,_u=`load${Ie}${Ce}`,vu=`click${Ie}${Ce}`,ir="carousel",rr="active",ia=".active",Gs=".carousel-item",yu=ia+Gs,ra={[$e]:Wt,[Qe]:Zt},Eu={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},io={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ei extends ct{constructor(u,g){super(u,g),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=K.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ir&&this.cycle()}static get Default(){return Eu}static get DefaultType(){return io}static get NAME(){return"carousel"}next(){this._slide(jt)}nextWhenVisible(){!document.hidden&&d(this._element)&&this.next()}prev(){this._slide(xt)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?X.one(this._element,yi,()=>this.cycle()):this.cycle())}to(u){const g=this._getItems();if(u>g.length-1||u<0)return;if(this._isSliding)return void X.one(this._element,yi,()=>this.to(u));const b=this._getItemIndex(this._getActive());if(b===u)return;const L=u>b?jt:xt;this._slide(L,g[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&X.on(this._element,en,u=>this._keydown(u)),this._config.pause==="hover"&&(X.on(this._element,qn,()=>this.pause()),X.on(this._element,sa,()=>this._maybeEnableCycle())),this._config.touch&&Ee.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const g of K.find(".carousel-item img",this._element))X.on(g,Rl,b=>b.preventDefault());const u={leftCallback:()=>this._slide(this._directionToOrder(Zt)),rightCallback:()=>this._slide(this._directionToOrder(Wt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Ee(this._element,u)}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const g=ra[u.key];g&&(u.preventDefault(),this._slide(this._directionToOrder(g)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const g=K.findOne(ia,this._indicatorsElement);g.classList.remove(rr),g.removeAttribute("aria-current");const b=K.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);b&&(b.classList.add(rr),b.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const g=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=g||this._config.defaultInterval}_slide(u,g=null){if(this._isSliding)return;const b=this._getActive(),L=u===jt,V=g||H(this._getItems(),b,L,this._config.wrap);if(V===b)return;const z=this._getItemIndex(V),te=me=>X.trigger(this._element,me,{relatedTarget:V,direction:this._orderToDirection(u),from:this._getItemIndex(b),to:z});if(te(Ks).defaultPrevented||!b||!V)return;const de=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(z),this._activeElement=V;const ye=L?"carousel-item-start":"carousel-item-end",be=L?"carousel-item-next":"carousel-item-prev";V.classList.add(be),E(V),b.classList.add(ye),V.classList.add(ye),this._queueCallback(()=>{V.classList.remove(ye,be),V.classList.add(rr),b.classList.remove(rr,be,ye),this._isSliding=!1,te(yi)},b,this._isAnimated()),de&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return K.findOne(yu,this._element)}_getItems(){return K.find(Gs,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return N()?u===Zt?xt:jt:u===Zt?jt:xt}_orderToDirection(u){return N()?u===xt?Zt:Wt:u===xt?Wt:Zt}static jQueryInterface(u){return this.each(function(){const g=Ei.getOrCreateInstance(this,u);if(typeof u!="number"){if(typeof u=="string"){if(g[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);g[u]()}}else g.to(u)})}}X.on(document,vu,"[data-bs-slide], [data-bs-slide-to]",function(y){const u=K.getElementFromSelector(this);if(!u||!u.classList.contains(ir))return;y.preventDefault();const g=Ei.getOrCreateInstance(u),b=this.getAttribute("data-bs-slide-to");return b?(g.to(b),void g._maybeEnableCycle()):Rt.getDataAttribute(this,"slide")==="next"?(g.next(),void g._maybeEnableCycle()):(g.prev(),void g._maybeEnableCycle())}),X.on(window,_u,()=>{const y=K.find('[data-bs-ride="carousel"]');for(const u of y)Ei.getOrCreateInstance(u)}),B(Ei);const zt=".bs.collapse",bu=`show${zt}`,ro=`shown${zt}`,oo=`hide${zt}`,_f=`hidden${zt}`,vf=`click${zt}.data-api`,Qs="show",or="collapse",oa="collapsing",aa=`:scope .${or} .${or}`,la='[data-bs-toggle="collapse"]',Pl={parent:null,toggle:!0},ca={parent:"(null|element)",toggle:"boolean"};class Pn extends ct{constructor(u,g){super(u,g),this._isTransitioning=!1,this._triggerArray=[];const b=K.find(la);for(const L of b){const V=K.getSelectorFromElement(L),z=K.find(V).filter(te=>te===this._element);V!==null&&z.length&&this._triggerArray.push(L)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Pl}static get DefaultType(){return ca}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(L=>L!==this._element).map(L=>Pn.getOrCreateInstance(L,{toggle:!1}))),u.length&&u[0]._isTransitioning||X.trigger(this._element,bu).defaultPrevented)return;for(const L of u)L.hide();const g=this._getDimension();this._element.classList.remove(or),this._element.classList.add(oa),this._element.style[g]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const b=`scroll${g[0].toUpperCase()+g.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(oa),this._element.classList.add(or,Qs),this._element.style[g]="",X.trigger(this._element,ro)},this._element,!0),this._element.style[g]=`${this._element[b]}px`}hide(){if(this._isTransitioning||!this._isShown()||X.trigger(this._element,oo).defaultPrevented)return;const u=this._getDimension();this._element.style[u]=`${this._element.getBoundingClientRect()[u]}px`,E(this._element),this._element.classList.add(oa),this._element.classList.remove(or,Qs);for(const g of this._triggerArray){const b=K.getElementFromSelector(g);b&&!this._isShown(b)&&this._addAriaAndCollapsedClass([g],!1)}this._isTransitioning=!0,this._element.style[u]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(oa),this._element.classList.add(or),X.trigger(this._element,_f)},this._element,!0)}_isShown(u=this._element){return u.classList.contains(Qs)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=c(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(la);for(const g of u){const b=K.getElementFromSelector(g);b&&this._addAriaAndCollapsedClass([g],this._isShown(b))}}_getFirstLevelChildren(u){const g=K.find(aa,this._config.parent);return K.find(u,this._config.parent).filter(b=>!g.includes(b))}_addAriaAndCollapsedClass(u,g){if(u.length)for(const b of u)b.classList.toggle("collapsed",!g),b.setAttribute("aria-expanded",g)}static jQueryInterface(u){const g={};return typeof u=="string"&&/show|hide/.test(u)&&(g.toggle=!1),this.each(function(){const b=Pn.getOrCreateInstance(this,g);if(typeof u=="string"){if(b[u]===void 0)throw new TypeError(`No method named "${u}"`);b[u]()}})}}X.on(document,vf,la,function(y){(y.target.tagName==="A"||y.delegateTarget&&y.delegateTarget.tagName==="A")&&y.preventDefault();for(const u of K.getMultipleElementsFromSelector(this))Pn.getOrCreateInstance(u,{toggle:!1}).toggle()}),B(Pn);var ln="top",En="bottom",gn="right",tn="left",ao="auto",bi=[ln,En,gn,tn],wi="start",ks="end",Ol="clippingParents",lo="viewport",ps="popper",Ys="reference",co=bi.reduce(function(y,u){return y.concat([u+"-"+wi,u+"-"+ks])},[]),kl=[].concat(bi,[ao]).reduce(function(y,u){return y.concat([u,u+"-"+wi,u+"-"+ks])},[]),xl="beforeRead",Dl="read",Nl="afterRead",ua="beforeMain",ha="main",Ll="afterMain",Vl="beforeWrite",wu="write",Tu="afterWrite",Ml=[xl,Dl,Nl,ua,ha,Ll,Vl,wu,Tu];function Zn(y){return y?(y.nodeName||"").toLowerCase():null}function On(y){if(y==null)return window;if(y.toString()!=="[object Window]"){var u=y.ownerDocument;return u&&u.defaultView||window}return y}function kn(y){return y instanceof On(y).Element||y instanceof Element}function Bt(y){return y instanceof On(y).HTMLElement||y instanceof HTMLElement}function ar(y){return typeof ShadowRoot<"u"&&(y instanceof On(y).ShadowRoot||y instanceof ShadowRoot)}const lr={name:"applyStyles",enabled:!0,phase:"write",fn:function(y){var u=y.state;Object.keys(u.elements).forEach(function(g){var b=u.styles[g]||{},L=u.attributes[g]||{},V=u.elements[g];Bt(V)&&Zn(V)&&(Object.assign(V.style,b),Object.keys(L).forEach(function(z){var te=L[z];te===!1?V.removeAttribute(z):V.setAttribute(z,te===!0?"":te)}))})},effect:function(y){var u=y.state,g={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,g.popper),u.styles=g,u.elements.arrow&&Object.assign(u.elements.arrow.style,g.arrow),function(){Object.keys(u.elements).forEach(function(b){var L=u.elements[b],V=u.attributes[b]||{},z=Object.keys(u.styles.hasOwnProperty(b)?u.styles[b]:g[b]).reduce(function(te,de){return te[de]="",te},{});Bt(L)&&Zn(L)&&(Object.assign(L.style,z),Object.keys(V).forEach(function(te){L.removeAttribute(te)}))})}},requires:["computeStyles"]};function es(y){return y.split("-")[0]}var rt=Math.max,Ti=Math.min,ms=Math.round;function Ai(){var y=navigator.userAgentData;return y!=null&&y.brands&&Array.isArray(y.brands)?y.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function Au(){return!/^((?!chrome|android).)*safari/i.test(Ai())}function Ii(y,u,g){u===void 0&&(u=!1),g===void 0&&(g=!1);var b=y.getBoundingClientRect(),L=1,V=1;u&&Bt(y)&&(L=y.offsetWidth>0&&ms(b.width)/y.offsetWidth||1,V=y.offsetHeight>0&&ms(b.height)/y.offsetHeight||1);var z=(kn(y)?On(y):window).visualViewport,te=!Au()&&g,de=(b.left+(te&&z?z.offsetLeft:0))/L,ye=(b.top+(te&&z?z.offsetTop:0))/V,be=b.width/L,me=b.height/V;return{width:be,height:me,top:ye,right:de+be,bottom:ye+me,left:de,x:de,y:ye}}function $l(y){var u=Ii(y),g=y.offsetWidth,b=y.offsetHeight;return Math.abs(u.width-g)<=1&&(g=u.width),Math.abs(u.height-b)<=1&&(b=u.height),{x:y.offsetLeft,y:y.offsetTop,width:g,height:b}}function Iu(y,u){var g=u.getRootNode&&u.getRootNode();if(y.contains(u))return!0;if(g&&ar(g)){var b=u;do{if(b&&y.isSameNode(b))return!0;b=b.parentNode||b.host}while(b)}return!1}function xs(y){return On(y).getComputedStyle(y)}function yf(y){return["table","td","th"].indexOf(Zn(y))>=0}function Wn(y){return((kn(y)?y.ownerDocument:y.document)||window.document).documentElement}function ts(y){return Zn(y)==="html"?y:y.assignedSlot||y.parentNode||(ar(y)?y.host:null)||Wn(y)}function Fl(y){return Bt(y)&&xs(y).position!=="fixed"?y.offsetParent:null}function cr(y){for(var u=On(y),g=Fl(y);g&&yf(g)&&xs(g).position==="static";)g=Fl(g);return g&&(Zn(g)==="html"||Zn(g)==="body"&&xs(g).position==="static")?u:g||function(b){var L=/firefox/i.test(Ai());if(/Trident/i.test(Ai())&&Bt(b)&&xs(b).position==="fixed")return null;var V=ts(b);for(ar(V)&&(V=V.host);Bt(V)&&["html","body"].indexOf(Zn(V))<0;){var z=xs(V);if(z.transform!=="none"||z.perspective!=="none"||z.contain==="paint"||["transform","perspective"].indexOf(z.willChange)!==-1||L&&z.willChange==="filter"||L&&z.filter&&z.filter!=="none")return V;V=V.parentNode}return null}(y)||u}function da(y){return["top","bottom"].indexOf(y)>=0?"x":"y"}function gs(y,u,g){return rt(y,Ti(u,g))}function Cu(y){return Object.assign({},{top:0,right:0,bottom:0,left:0},y)}function Su(y,u){return u.reduce(function(g,b){return g[b]=y,g},{})}const Ru={name:"arrow",enabled:!0,phase:"main",fn:function(y){var u,g=y.state,b=y.name,L=y.options,V=g.elements.arrow,z=g.modifiersData.popperOffsets,te=es(g.placement),de=da(te),ye=[tn,gn].indexOf(te)>=0?"height":"width";if(V&&z){var be=function(Et,_t){return Cu(typeof(Et=typeof Et=="function"?Et(Object.assign({},_t.rects,{placement:_t.placement})):Et)!="number"?Et:Su(Et,bi))}(L.padding,g),me=$l(V),Ke=de==="y"?ln:tn,De=de==="y"?En:gn,Be=g.rects.reference[ye]+g.rects.reference[de]-z[de]-g.rects.popper[ye],Ue=z[de]-g.rects.reference[de],He=cr(V),yt=He?de==="y"?He.clientHeight||0:He.clientWidth||0:0,It=Be/2-Ue/2,Je=be[Ke],ht=yt-me[ye]-be[De],Ge=yt/2-me[ye]/2+It,tt=gs(Je,Ge,ht),gt=de;g.modifiersData[b]=((u={})[gt]=tt,u.centerOffset=tt-Ge,u)}},effect:function(y){var u=y.state,g=y.options.element,b=g===void 0?"[data-popper-arrow]":g;b!=null&&(typeof b!="string"||(b=u.elements.popper.querySelector(b)))&&Iu(u.elements.popper,b)&&(u.elements.arrow=b)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xn(y){return y.split("-")[1]}var Ef={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Pu(y){var u,g=y.popper,b=y.popperRect,L=y.placement,V=y.variation,z=y.offsets,te=y.position,de=y.gpuAcceleration,ye=y.adaptive,be=y.roundOffsets,me=y.isFixed,Ke=z.x,De=Ke===void 0?0:Ke,Be=z.y,Ue=Be===void 0?0:Be,He=typeof be=="function"?be({x:De,y:Ue}):{x:De,y:Ue};De=He.x,Ue=He.y;var yt=z.hasOwnProperty("x"),It=z.hasOwnProperty("y"),Je=tn,ht=ln,Ge=window;if(ye){var tt=cr(g),gt="clientHeight",Et="clientWidth";tt===On(g)&&xs(tt=Wn(g)).position!=="static"&&te==="absolute"&&(gt="scrollHeight",Et="scrollWidth"),(L===ln||(L===tn||L===gn)&&V===ks)&&(ht=En,Ue-=(me&&tt===Ge&&Ge.visualViewport?Ge.visualViewport.height:tt[gt])-b.height,Ue*=de?1:-1),L!==tn&&(L!==ln&&L!==En||V!==ks)||(Je=gn,De-=(me&&tt===Ge&&Ge.visualViewport?Ge.visualViewport.width:tt[Et])-b.width,De*=de?1:-1)}var _t,Kt=Object.assign({position:te},ye&&Ef),ns=be===!0?function(Ns,Nn){var vs=Ns.x,ys=Ns.y,Ht=Nn.devicePixelRatio||1;return{x:ms(vs*Ht)/Ht||0,y:ms(ys*Ht)/Ht||0}}({x:De,y:Ue},On(g)):{x:De,y:Ue};return De=ns.x,Ue=ns.y,de?Object.assign({},Kt,((_t={})[ht]=It?"0":"",_t[Je]=yt?"0":"",_t.transform=(Ge.devicePixelRatio||1)<=1?"translate("+De+"px, "+Ue+"px)":"translate3d("+De+"px, "+Ue+"px, 0)",_t)):Object.assign({},Kt,((u={})[ht]=It?Ue+"px":"",u[Je]=yt?De+"px":"",u.transform="",u))}const ur={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(y){var u=y.state,g=y.options,b=g.gpuAcceleration,L=b===void 0||b,V=g.adaptive,z=V===void 0||V,te=g.roundOffsets,de=te===void 0||te,ye={placement:es(u.placement),variation:xn(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:L,isFixed:u.options.strategy==="fixed"};u.modifiersData.popperOffsets!=null&&(u.styles.popper=Object.assign({},u.styles.popper,Pu(Object.assign({},ye,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:z,roundOffsets:de})))),u.modifiersData.arrow!=null&&(u.styles.arrow=Object.assign({},u.styles.arrow,Pu(Object.assign({},ye,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:de})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}};var Ci={passive:!0};const fa={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(y){var u=y.state,g=y.instance,b=y.options,L=b.scroll,V=L===void 0||L,z=b.resize,te=z===void 0||z,de=On(u.elements.popper),ye=[].concat(u.scrollParents.reference,u.scrollParents.popper);return V&&ye.forEach(function(be){be.addEventListener("scroll",g.update,Ci)}),te&&de.addEventListener("resize",g.update,Ci),function(){V&&ye.forEach(function(be){be.removeEventListener("scroll",g.update,Ci)}),te&&de.removeEventListener("resize",g.update,Ci)}},data:{}};var uo={left:"right",right:"left",bottom:"top",top:"bottom"};function Xs(y){return y.replace(/left|right|bottom|top/g,function(u){return uo[u]})}var Ou={start:"end",end:"start"};function pa(y){return y.replace(/start|end/g,function(u){return Ou[u]})}function At(y){var u=On(y);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function Ul(y){return Ii(Wn(y)).left+At(y).scrollLeft}function jl(y){var u=xs(y),g=u.overflow,b=u.overflowX,L=u.overflowY;return/auto|scroll|overlay|hidden/.test(g+L+b)}function Bl(y){return["html","body","#document"].indexOf(Zn(y))>=0?y.ownerDocument.body:Bt(y)&&jl(y)?y:Bl(ts(y))}function hr(y,u){var g;u===void 0&&(u=[]);var b=Bl(y),L=b===((g=y.ownerDocument)==null?void 0:g.body),V=On(b),z=L?[V].concat(V.visualViewport||[],jl(b)?b:[]):b,te=u.concat(z);return L?te:te.concat(hr(ts(z)))}function ma(y){return Object.assign({},y,{left:y.x,top:y.y,right:y.x+y.width,bottom:y.y+y.height})}function ho(y,u,g){return u===lo?ma(function(b,L){var V=On(b),z=Wn(b),te=V.visualViewport,de=z.clientWidth,ye=z.clientHeight,be=0,me=0;if(te){de=te.width,ye=te.height;var Ke=Au();(Ke||!Ke&&L==="fixed")&&(be=te.offsetLeft,me=te.offsetTop)}return{width:de,height:ye,x:be+Ul(b),y:me}}(y,g)):kn(u)?function(b,L){var V=Ii(b,!1,L==="fixed");return V.top=V.top+b.clientTop,V.left=V.left+b.clientLeft,V.bottom=V.top+b.clientHeight,V.right=V.left+b.clientWidth,V.width=b.clientWidth,V.height=b.clientHeight,V.x=V.left,V.y=V.top,V}(u,g):ma(function(b){var L,V=Wn(b),z=At(b),te=(L=b.ownerDocument)==null?void 0:L.body,de=rt(V.scrollWidth,V.clientWidth,te?te.scrollWidth:0,te?te.clientWidth:0),ye=rt(V.scrollHeight,V.clientHeight,te?te.scrollHeight:0,te?te.clientHeight:0),be=-z.scrollLeft+Ul(b),me=-z.scrollTop;return xs(te||V).direction==="rtl"&&(be+=rt(V.clientWidth,te?te.clientWidth:0)-de),{width:de,height:ye,x:be,y:me}}(Wn(y)))}function Hl(y){var u,g=y.reference,b=y.element,L=y.placement,V=L?es(L):null,z=L?xn(L):null,te=g.x+g.width/2-b.width/2,de=g.y+g.height/2-b.height/2;switch(V){case ln:u={x:te,y:g.y-b.height};break;case En:u={x:te,y:g.y+g.height};break;case gn:u={x:g.x+g.width,y:de};break;case tn:u={x:g.x-b.width,y:de};break;default:u={x:g.x,y:g.y}}var ye=V?da(V):null;if(ye!=null){var be=ye==="y"?"height":"width";switch(z){case wi:u[ye]=u[ye]-(g[be]/2-b[be]/2);break;case ks:u[ye]=u[ye]+(g[be]/2-b[be]/2)}}return u}function bn(y,u){u===void 0&&(u={});var g=u,b=g.placement,L=b===void 0?y.placement:b,V=g.strategy,z=V===void 0?y.strategy:V,te=g.boundary,de=te===void 0?Ol:te,ye=g.rootBoundary,be=ye===void 0?lo:ye,me=g.elementContext,Ke=me===void 0?ps:me,De=g.altBoundary,Be=De!==void 0&&De,Ue=g.padding,He=Ue===void 0?0:Ue,yt=Cu(typeof He!="number"?He:Su(He,bi)),It=Ke===ps?Ys:ps,Je=y.rects.popper,ht=y.elements[Be?It:Ke],Ge=function(Nn,vs,ys,Ht){var Zs=vs==="clippingParents"?function(bt){var Ln=hr(ts(bt)),Es=["absolute","fixed"].indexOf(xs(bt).position)>=0&&Bt(bt)?cr(bt):bt;return kn(Es)?Ln.filter(function(gr){return kn(gr)&&Iu(gr,Es)&&Zn(gr)!=="body"}):[]}(Nn):[].concat(vs),ei=[].concat(Zs,[ys]),wa=ei[0],dn=ei.reduce(function(bt,Ln){var Es=ho(Nn,Ln,Ht);return bt.top=rt(Es.top,bt.top),bt.right=Ti(Es.right,bt.right),bt.bottom=Ti(Es.bottom,bt.bottom),bt.left=rt(Es.left,bt.left),bt},ho(Nn,wa,Ht));return dn.width=dn.right-dn.left,dn.height=dn.bottom-dn.top,dn.x=dn.left,dn.y=dn.top,dn}(kn(ht)?ht:ht.contextElement||Wn(y.elements.popper),de,be,z),tt=Ii(y.elements.reference),gt=Hl({reference:tt,element:Je,placement:L}),Et=ma(Object.assign({},Je,gt)),_t=Ke===ps?Et:tt,Kt={top:Ge.top-_t.top+yt.top,bottom:_t.bottom-Ge.bottom+yt.bottom,left:Ge.left-_t.left+yt.left,right:_t.right-Ge.right+yt.right},ns=y.modifiersData.offset;if(Ke===ps&&ns){var Ns=ns[L];Object.keys(Kt).forEach(function(Nn){var vs=[gn,En].indexOf(Nn)>=0?1:-1,ys=[ln,En].indexOf(Nn)>=0?"y":"x";Kt[Nn]+=Ns[ys]*vs})}return Kt}function ku(y,u){u===void 0&&(u={});var g=u,b=g.placement,L=g.boundary,V=g.rootBoundary,z=g.padding,te=g.flipVariations,de=g.allowedAutoPlacements,ye=de===void 0?kl:de,be=xn(b),me=be?te?co:co.filter(function(Be){return xn(Be)===be}):bi,Ke=me.filter(function(Be){return ye.indexOf(Be)>=0});Ke.length===0&&(Ke=me);var De=Ke.reduce(function(Be,Ue){return Be[Ue]=bn(y,{placement:Ue,boundary:L,rootBoundary:V,padding:z})[es(Ue)],Be},{});return Object.keys(De).sort(function(Be,Ue){return De[Be]-De[Ue]})}const xu={name:"flip",enabled:!0,phase:"main",fn:function(y){var u=y.state,g=y.options,b=y.name;if(!u.modifiersData[b]._skip){for(var L=g.mainAxis,V=L===void 0||L,z=g.altAxis,te=z===void 0||z,de=g.fallbackPlacements,ye=g.padding,be=g.boundary,me=g.rootBoundary,Ke=g.altBoundary,De=g.flipVariations,Be=De===void 0||De,Ue=g.allowedAutoPlacements,He=u.options.placement,yt=es(He),It=de||(yt!==He&&Be?function(bt){if(es(bt)===ao)return[];var Ln=Xs(bt);return[pa(bt),Ln,pa(Ln)]}(He):[Xs(He)]),Je=[He].concat(It).reduce(function(bt,Ln){return bt.concat(es(Ln)===ao?ku(u,{placement:Ln,boundary:be,rootBoundary:me,padding:ye,flipVariations:Be,allowedAutoPlacements:Ue}):Ln)},[]),ht=u.rects.reference,Ge=u.rects.popper,tt=new Map,gt=!0,Et=Je[0],_t=0;_t<Je.length;_t++){var Kt=Je[_t],ns=es(Kt),Ns=xn(Kt)===wi,Nn=[ln,En].indexOf(ns)>=0,vs=Nn?"width":"height",ys=bn(u,{placement:Kt,boundary:be,rootBoundary:me,altBoundary:Ke,padding:ye}),Ht=Nn?Ns?gn:tn:Ns?En:ln;ht[vs]>Ge[vs]&&(Ht=Xs(Ht));var Zs=Xs(Ht),ei=[];if(V&&ei.push(ys[ns]<=0),te&&ei.push(ys[Ht]<=0,ys[Zs]<=0),ei.every(function(bt){return bt})){Et=Kt,gt=!1;break}tt.set(Kt,ei)}if(gt)for(var wa=function(bt){var Ln=Je.find(function(Es){var gr=tt.get(Es);if(gr)return gr.slice(0,bt).every(function(Hu){return Hu})});if(Ln)return Et=Ln,"break"},dn=Be?3:1;dn>0&&wa(dn)!=="break";dn--);u.placement!==Et&&(u.modifiersData[b]._skip=!0,u.placement=Et,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function dr(y,u,g){return g===void 0&&(g={x:0,y:0}),{top:y.top-u.height-g.y,right:y.right-u.width+g.x,bottom:y.bottom-u.height+g.y,left:y.left-u.width-g.x}}function ql(y){return[ln,gn,En,tn].some(function(u){return y[u]>=0})}const ga={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(y){var u=y.state,g=y.name,b=u.rects.reference,L=u.rects.popper,V=u.modifiersData.preventOverflow,z=bn(u,{elementContext:"reference"}),te=bn(u,{altBoundary:!0}),de=dr(z,b),ye=dr(te,L,V),be=ql(de),me=ql(ye);u.modifiersData[g]={referenceClippingOffsets:de,popperEscapeOffsets:ye,isReferenceHidden:be,hasPopperEscaped:me},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":be,"data-popper-escaped":me})}},fo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(y){var u=y.state,g=y.options,b=y.name,L=g.offset,V=L===void 0?[0,0]:L,z=kl.reduce(function(be,me){return be[me]=function(Ke,De,Be){var Ue=es(Ke),He=[tn,ln].indexOf(Ue)>=0?-1:1,yt=typeof Be=="function"?Be(Object.assign({},De,{placement:Ke})):Be,It=yt[0],Je=yt[1];return It=It||0,Je=(Je||0)*He,[tn,gn].indexOf(Ue)>=0?{x:Je,y:It}:{x:It,y:Je}}(me,u.rects,V),be},{}),te=z[u.placement],de=te.x,ye=te.y;u.modifiersData.popperOffsets!=null&&(u.modifiersData.popperOffsets.x+=de,u.modifiersData.popperOffsets.y+=ye),u.modifiersData[b]=z}},_a={name:"popperOffsets",enabled:!0,phase:"read",fn:function(y){var u=y.state,g=y.name;u.modifiersData[g]=Hl({reference:u.rects.reference,element:u.rects.popper,placement:u.placement})},data:{}},po={name:"preventOverflow",enabled:!0,phase:"main",fn:function(y){var u=y.state,g=y.options,b=y.name,L=g.mainAxis,V=L===void 0||L,z=g.altAxis,te=z!==void 0&&z,de=g.boundary,ye=g.rootBoundary,be=g.altBoundary,me=g.padding,Ke=g.tether,De=Ke===void 0||Ke,Be=g.tetherOffset,Ue=Be===void 0?0:Be,He=bn(u,{boundary:de,rootBoundary:ye,padding:me,altBoundary:be}),yt=es(u.placement),It=xn(u.placement),Je=!It,ht=da(yt),Ge=ht==="x"?"y":"x",tt=u.modifiersData.popperOffsets,gt=u.rects.reference,Et=u.rects.popper,_t=typeof Ue=="function"?Ue(Object.assign({},u.rects,{placement:u.placement})):Ue,Kt=typeof _t=="number"?{mainAxis:_t,altAxis:_t}:Object.assign({mainAxis:0,altAxis:0},_t),ns=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,Ns={x:0,y:0};if(tt){if(V){var Nn,vs=ht==="y"?ln:tn,ys=ht==="y"?En:gn,Ht=ht==="y"?"height":"width",Zs=tt[ht],ei=Zs+He[vs],wa=Zs-He[ys],dn=De?-Et[Ht]/2:0,bt=It===wi?gt[Ht]:Et[Ht],Ln=It===wi?-Et[Ht]:-gt[Ht],Es=u.elements.arrow,gr=De&&Es?$l(Es):{width:0,height:0},Hu=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},F_=Hu[vs],U_=Hu[ys],qu=gs(0,gt[Ht],gr[Ht]),_S=Je?gt[Ht]/2-dn-qu-F_-Kt.mainAxis:bt-qu-F_-Kt.mainAxis,vS=Je?-gt[Ht]/2+dn+qu+U_+Kt.mainAxis:Ln+qu+U_+Kt.mainAxis,xf=u.elements.arrow&&cr(u.elements.arrow),yS=xf?ht==="y"?xf.clientTop||0:xf.clientLeft||0:0,j_=(Nn=ns==null?void 0:ns[ht])!=null?Nn:0,ES=Zs+vS-j_,B_=gs(De?Ti(ei,Zs+_S-j_-yS):ei,Zs,De?rt(wa,ES):wa);tt[ht]=B_,Ns[ht]=B_-Zs}if(te){var H_,bS=ht==="x"?ln:tn,wS=ht==="x"?En:gn,To=tt[Ge],Wu=Ge==="y"?"height":"width",q_=To+He[bS],W_=To-He[wS],Df=[ln,tn].indexOf(yt)!==-1,z_=(H_=ns==null?void 0:ns[Ge])!=null?H_:0,K_=Df?q_:To-gt[Wu]-Et[Wu]-z_+Kt.altAxis,G_=Df?To+gt[Wu]+Et[Wu]-z_-Kt.altAxis:W_,Q_=De&&Df?function(TS,AS,Nf){var Y_=gs(TS,AS,Nf);return Y_>Nf?Nf:Y_}(K_,To,G_):gs(De?K_:q_,To,De?G_:W_);tt[Ge]=Q_,Ns[Ge]=Q_-To}u.modifiersData[b]=Ns}},requiresIfExists:["offset"]};function bf(y,u,g){g===void 0&&(g=!1);var b,L,V=Bt(u),z=Bt(u)&&function(me){var Ke=me.getBoundingClientRect(),De=ms(Ke.width)/me.offsetWidth||1,Be=ms(Ke.height)/me.offsetHeight||1;return De!==1||Be!==1}(u),te=Wn(u),de=Ii(y,z,g),ye={scrollLeft:0,scrollTop:0},be={x:0,y:0};return(V||!V&&!g)&&((Zn(u)!=="body"||jl(te))&&(ye=(b=u)!==On(b)&&Bt(b)?{scrollLeft:(L=b).scrollLeft,scrollTop:L.scrollTop}:At(b)),Bt(u)?((be=Ii(u,!0)).x+=u.clientLeft,be.y+=u.clientTop):te&&(be.x=Ul(te))),{x:de.left+ye.scrollLeft-be.x,y:de.top+ye.scrollTop-be.y,width:de.width,height:de.height}}function Du(y){var u=new Map,g=new Set,b=[];function L(V){g.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function(z){if(!g.has(z)){var te=u.get(z);te&&L(te)}}),b.push(V)}return y.forEach(function(V){u.set(V.name,V)}),y.forEach(function(V){g.has(V.name)||L(V)}),b}var fr={placement:"bottom",modifiers:[],strategy:"absolute"};function Wl(){for(var y=arguments.length,u=new Array(y),g=0;g<y;g++)u[g]=arguments[g];return!u.some(function(b){return!(b&&typeof b.getBoundingClientRect=="function")})}function mo(y){y===void 0&&(y={});var u=y,g=u.defaultModifiers,b=g===void 0?[]:g,L=u.defaultOptions,V=L===void 0?fr:L;return function(z,te,de){de===void 0&&(de=V);var ye,be,me={placement:"bottom",orderedModifiers:[],options:Object.assign({},fr,V),modifiersData:{},elements:{reference:z,popper:te},attributes:{},styles:{}},Ke=[],De=!1,Be={state:me,setOptions:function(He){var yt=typeof He=="function"?He(me.options):He;Ue(),me.options=Object.assign({},V,me.options,yt),me.scrollParents={reference:kn(z)?hr(z):z.contextElement?hr(z.contextElement):[],popper:hr(te)};var It,Je,ht=function(Ge){var tt=Du(Ge);return Ml.reduce(function(gt,Et){return gt.concat(tt.filter(function(_t){return _t.phase===Et}))},[])}((It=[].concat(b,me.options.modifiers),Je=It.reduce(function(Ge,tt){var gt=Ge[tt.name];return Ge[tt.name]=gt?Object.assign({},gt,tt,{options:Object.assign({},gt.options,tt.options),data:Object.assign({},gt.data,tt.data)}):tt,Ge},{}),Object.keys(Je).map(function(Ge){return Je[Ge]})));return me.orderedModifiers=ht.filter(function(Ge){return Ge.enabled}),me.orderedModifiers.forEach(function(Ge){var tt=Ge.name,gt=Ge.options,Et=gt===void 0?{}:gt,_t=Ge.effect;if(typeof _t=="function"){var Kt=_t({state:me,name:tt,instance:Be,options:Et});Ke.push(Kt||function(){})}}),Be.update()},forceUpdate:function(){if(!De){var He=me.elements,yt=He.reference,It=He.popper;if(Wl(yt,It)){me.rects={reference:bf(yt,cr(It),me.options.strategy==="fixed"),popper:$l(It)},me.reset=!1,me.placement=me.options.placement,me.orderedModifiers.forEach(function(_t){return me.modifiersData[_t.name]=Object.assign({},_t.data)});for(var Je=0;Je<me.orderedModifiers.length;Je++)if(me.reset!==!0){var ht=me.orderedModifiers[Je],Ge=ht.fn,tt=ht.options,gt=tt===void 0?{}:tt,Et=ht.name;typeof Ge=="function"&&(me=Ge({state:me,options:gt,name:Et,instance:Be})||me)}else me.reset=!1,Je=-1}}},update:(ye=function(){return new Promise(function(He){Be.forceUpdate(),He(me)})},function(){return be||(be=new Promise(function(He){Promise.resolve().then(function(){be=void 0,He(ye())})})),be}),destroy:function(){Ue(),De=!0}};if(!Wl(z,te))return Be;function Ue(){Ke.forEach(function(He){return He()}),Ke=[]}return Be.setOptions(de).then(function(He){!De&&de.onFirstUpdate&&de.onFirstUpdate(He)}),Be}}var zl=mo(),Kl=mo({defaultModifiers:[fa,_a,ur,lr]}),va=mo({defaultModifiers:[fa,_a,ur,lr,fo,xu,po,Ru,ga]});const go=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Ll,afterRead:Nl,afterWrite:Tu,applyStyles:lr,arrow:Ru,auto:ao,basePlacements:bi,beforeMain:ua,beforeRead:xl,beforeWrite:Vl,bottom:En,clippingParents:Ol,computeStyles:ur,createPopper:va,createPopperBase:zl,createPopperLite:Kl,detectOverflow:bn,end:ks,eventListeners:fa,flip:xu,hide:ga,left:tn,main:ha,modifierPhases:Ml,offset:fo,placements:kl,popper:ps,popperGenerator:mo,popperOffsets:_a,preventOverflow:po,read:Dl,reference:Ys,right:gn,start:wi,top:ln,variationPlacements:co,viewport:lo,write:wu},Symbol.toStringTag,{value:"Module"})),Gl="dropdown",Js=".bs.dropdown",Ds=".data-api",Nu="ArrowUp",Ql="ArrowDown",Lu=`hide${Js}`,Vu=`hidden${Js}`,ya=`show${Js}`,Dn=`shown${Js}`,Yl=`click${Js}${Ds}`,Xl=`keydown${Js}${Ds}`,pr=`keyup${Js}${Ds}`,l="show",p='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',v=`${p}.${l}`,w=".dropdown-menu",F=N()?"top-end":"top-start",W=N()?"top-start":"top-end",he=N()?"bottom-end":"bottom-start",mt=N()?"bottom-start":"bottom-end",nn=N()?"left-start":"right-start",st=N()?"right-start":"left-start",cn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},un={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class hn extends ct{constructor(u,g){super(u,g),this._popper=null,this._parent=this._element.parentNode,this._menu=K.next(this._element,w)[0]||K.prev(this._element,w)[0]||K.findOne(w,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return cn}static get DefaultType(){return un}static get NAME(){return Gl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(h(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!X.trigger(this._element,ya,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const g of[].concat(...document.body.children))X.on(g,"mouseover",_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(l),this._element.classList.add(l),X.trigger(this._element,Dn,u)}}hide(){if(h(this._element)||!this._isShown())return;const u={relatedTarget:this._element};this._completeHide(u)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!X.trigger(this._element,Lu,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const g of[].concat(...document.body.children))X.off(g,"mouseover",_);this._popper&&this._popper.destroy(),this._menu.classList.remove(l),this._element.classList.remove(l),this._element.setAttribute("aria-expanded","false"),Rt.removeDataAttribute(this._menu,"popper"),X.trigger(this._element,Vu,u),this._element.focus()}}_getConfig(u){if(typeof(u=super._getConfig(u)).reference=="object"&&!a(u.reference)&&typeof u.reference.getBoundingClientRect!="function")throw new TypeError(`${Gl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(go===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let u=this._element;this._config.reference==="parent"?u=this._parent:a(this._config.reference)?u=c(this._config.reference):typeof this._config.reference=="object"&&(u=this._config.reference);const g=this._getPopperConfig();this._popper=va(u,this._menu,g)}_isShown(){return this._menu.classList.contains(l)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return nn;if(u.classList.contains("dropstart"))return st;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const g=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return u.classList.contains("dropup")?g?W:F:g?mt:he}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(g=>Number.parseInt(g,10)):typeof u=="function"?g=>u(g,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Rt.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...$(this._config.popperConfig,[void 0,u])}}_selectMenuItem({key:u,target:g}){const b=K.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(L=>d(L));b.length&&H(b,g,u===Ql,!b.includes(g)).focus()}static jQueryInterface(u){return this.each(function(){const g=hn.getOrCreateInstance(this,u);if(typeof u=="string"){if(g[u]===void 0)throw new TypeError(`No method named "${u}"`);g[u]()}})}static clearMenus(u){if(u.button===2||u.type==="keyup"&&u.key!=="Tab")return;const g=K.find(v);for(const b of g){const L=hn.getInstance(b);if(!L||L._config.autoClose===!1)continue;const V=u.composedPath(),z=V.includes(L._menu);if(V.includes(L._element)||L._config.autoClose==="inside"&&!z||L._config.autoClose==="outside"&&z||L._menu.contains(u.target)&&(u.type==="keyup"&&u.key==="Tab"||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const te={relatedTarget:L._element};u.type==="click"&&(te.clickEvent=u),L._completeHide(te)}}static dataApiKeydownHandler(u){const g=/input|textarea/i.test(u.target.tagName),b=u.key==="Escape",L=[Nu,Ql].includes(u.key);if(!L&&!b||g&&!b)return;u.preventDefault();const V=this.matches(p)?this:K.prev(this,p)[0]||K.next(this,p)[0]||K.findOne(p,u.delegateTarget.parentNode),z=hn.getOrCreateInstance(V);if(L)return u.stopPropagation(),z.show(),void z._selectMenuItem(u);z._isShown()&&(u.stopPropagation(),z.hide(),V.focus())}}X.on(document,Xl,p,hn.dataApiKeydownHandler),X.on(document,Xl,w,hn.dataApiKeydownHandler),X.on(document,Yl,hn.clearMenus),X.on(document,pr,hn.clearMenus),X.on(document,Yl,p,function(y){y.preventDefault(),hn.getOrCreateInstance(this).toggle()}),B(hn);const zn="backdrop",_o="show",Ea=`mousedown.bs.${zn}`,rC={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},oC={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class u_ extends Pt{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return rC}static get DefaultType(){return oC}static get NAME(){return zn}show(u){if(!this._config.isVisible)return void $(u);this._append();const g=this._getElement();this._config.isAnimated&&E(g),g.classList.add(_o),this._emulateAnimation(()=>{$(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove(_o),this._emulateAnimation(()=>{this.dispose(),$(u)})):$(u)}dispose(){this._isAppended&&(X.off(this._element,Ea),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=c(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),X.on(u,Ea,()=>{$(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){j(u,this._getElement(),this._config.isAnimated)}}const Mu=".bs.focustrap",aC=`focusin${Mu}`,lC=`keydown.tab${Mu}`,h_="backward",cC={autofocus:!0,trapElement:null},uC={autofocus:"boolean",trapElement:"element"};class d_ extends Pt{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return cC}static get DefaultType(){return uC}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),X.off(document,Mu),X.on(document,aC,u=>this._handleFocusin(u)),X.on(document,lC,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,X.off(document,Mu))}_handleFocusin(u){const{trapElement:g}=this._config;if(u.target===document||u.target===g||g.contains(u.target))return;const b=K.focusableChildren(g);b.length===0?g.focus():this._lastTabNavDirection===h_?b[b.length-1].focus():b[0].focus()}_handleKeydown(u){u.key==="Tab"&&(this._lastTabNavDirection=u.shiftKey?h_:"forward")}}const f_=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",p_=".sticky-top",$u="padding-right",m_="margin-right";class wf{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,$u,g=>g+u),this._setElementAttributes(f_,$u,g=>g+u),this._setElementAttributes(p_,m_,g=>g-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,$u),this._resetElementAttributes(f_,$u),this._resetElementAttributes(p_,m_)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,g,b){const L=this.getWidth();this._applyManipulationCallback(u,V=>{if(V!==this._element&&window.innerWidth>V.clientWidth+L)return;this._saveInitialAttribute(V,g);const z=window.getComputedStyle(V).getPropertyValue(g);V.style.setProperty(g,`${b(Number.parseFloat(z))}px`)})}_saveInitialAttribute(u,g){const b=u.style.getPropertyValue(g);b&&Rt.setDataAttribute(u,g,b)}_resetElementAttributes(u,g){this._applyManipulationCallback(u,b=>{const L=Rt.getDataAttribute(b,g);L!==null?(Rt.removeDataAttribute(b,g),b.style.setProperty(g,L)):b.style.removeProperty(g)})}_applyManipulationCallback(u,g){if(a(u))g(u);else for(const b of K.find(u,this._element))g(b)}}const _s=".bs.modal",hC=`hide${_s}`,dC=`hidePrevented${_s}`,g_=`hidden${_s}`,__=`show${_s}`,fC=`shown${_s}`,pC=`resize${_s}`,mC=`click.dismiss${_s}`,gC=`mousedown.dismiss${_s}`,_C=`keydown.dismiss${_s}`,vC=`click${_s}.data-api`,v_="modal-open",y_="show",Tf="modal-static",yC={backdrop:!0,focus:!0,keyboard:!0},EC={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class vo extends ct{constructor(u,g){super(u,g),this._dialog=K.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new wf,this._addEventListeners()}static get Default(){return yC}static get DefaultType(){return EC}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||X.trigger(this._element,__,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(v_),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){this._isShown&&!this._isTransitioning&&(X.trigger(this._element,hC).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(y_),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){X.off(window,_s),X.off(this._dialog,_s),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new u_({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new d_({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const g=K.findOne(".modal-body",this._dialog);g&&(g.scrollTop=0),E(this._element),this._element.classList.add(y_),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,X.trigger(this._element,fC,{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){X.on(this._element,_C,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),X.on(window,pC,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),X.on(this._element,gC,u=>{X.one(this._element,mC,g=>{this._element===u.target&&this._element===g.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(v_),this._resetAdjustments(),this._scrollBar.reset(),X.trigger(this._element,g_)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(X.trigger(this._element,dC).defaultPrevented)return;const u=this._element.scrollHeight>document.documentElement.clientHeight,g=this._element.style.overflowY;g==="hidden"||this._element.classList.contains(Tf)||(u||(this._element.style.overflowY="hidden"),this._element.classList.add(Tf),this._queueCallback(()=>{this._element.classList.remove(Tf),this._queueCallback(()=>{this._element.style.overflowY=g},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,g=this._scrollBar.getWidth(),b=g>0;if(b&&!u){const L=N()?"paddingLeft":"paddingRight";this._element.style[L]=`${g}px`}if(!b&&u){const L=N()?"paddingRight":"paddingLeft";this._element.style[L]=`${g}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,g){return this.each(function(){const b=vo.getOrCreateInstance(this,u);if(typeof u=="string"){if(b[u]===void 0)throw new TypeError(`No method named "${u}"`);b[u](g)}})}}X.on(document,vC,'[data-bs-toggle="modal"]',function(y){const u=K.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&y.preventDefault(),X.one(u,__,b=>{b.defaultPrevented||X.one(u,g_,()=>{d(this)&&this.focus()})});const g=K.findOne(".modal.show");g&&vo.getInstance(g).hide(),vo.getOrCreateInstance(u).toggle(this)}),ue(vo),B(vo);const Si=".bs.offcanvas",E_=".data-api",bC=`load${Si}${E_}`,b_="show",w_="showing",T_="hiding",A_=".offcanvas.show",wC=`show${Si}`,TC=`shown${Si}`,AC=`hide${Si}`,I_=`hidePrevented${Si}`,C_=`hidden${Si}`,IC=`resize${Si}`,CC=`click${Si}${E_}`,SC=`keydown.dismiss${Si}`,RC={backdrop:!0,keyboard:!0,scroll:!1},PC={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ri extends ct{constructor(u,g){super(u,g),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return RC}static get DefaultType(){return PC}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||X.trigger(this._element,wC,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new wf().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(w_),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(b_),this._element.classList.remove(w_),X.trigger(this._element,TC,{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&(X.trigger(this._element,AC).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(T_),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(b_,T_),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new wf().reset(),X.trigger(this._element,C_)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const u=!!this._config.backdrop;return new u_({className:"offcanvas-backdrop",isVisible:u,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:u?()=>{this._config.backdrop!=="static"?this.hide():X.trigger(this._element,I_)}:null})}_initializeFocusTrap(){return new d_({trapElement:this._element})}_addEventListeners(){X.on(this._element,SC,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():X.trigger(this._element,I_))})}static jQueryInterface(u){return this.each(function(){const g=Ri.getOrCreateInstance(this,u);if(typeof u=="string"){if(g[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);g[u](this)}})}}X.on(document,CC,'[data-bs-toggle="offcanvas"]',function(y){const u=K.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&y.preventDefault(),h(this))return;X.one(u,C_,()=>{d(this)&&this.focus()});const g=K.findOne(A_);g&&g!==u&&Ri.getInstance(g).hide(),Ri.getOrCreateInstance(u).toggle(this)}),X.on(window,bC,()=>{for(const y of K.find(A_))Ri.getOrCreateInstance(y).show()}),X.on(window,IC,()=>{for(const y of K.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(y).position!=="fixed"&&Ri.getOrCreateInstance(y).hide()}),ue(Ri),B(Ri);const S_={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},OC=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),kC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,xC=(y,u)=>{const g=y.nodeName.toLowerCase();return u.includes(g)?!OC.has(g)||!!kC.test(y.nodeValue):u.filter(b=>b instanceof RegExp).some(b=>b.test(g))},DC={allowList:S_,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},NC={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},LC={entry:"(string|element|function|null)",selector:"(string|element)"};class VC extends Pt{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return DC}static get DefaultType(){return NC}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[L,V]of Object.entries(this._config.content))this._setContent(u,V,L);const g=u.children[0],b=this._resolvePossibleFunction(this._config.extraClass);return b&&g.classList.add(...b.split(" ")),g}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[g,b]of Object.entries(u))super._typeCheckConfig({selector:g,entry:b},LC)}_setContent(u,g,b){const L=K.findOne(b,u);L&&((g=this._resolvePossibleFunction(g))?a(g)?this._putElementInTemplate(c(g),L):this._config.html?L.innerHTML=this._maybeSanitize(g):L.textContent=g:L.remove())}_maybeSanitize(u){return this._config.sanitize?function(g,b,L){if(!g.length)return g;if(L&&typeof L=="function")return L(g);const V=new window.DOMParser().parseFromString(g,"text/html"),z=[].concat(...V.body.querySelectorAll("*"));for(const te of z){const de=te.nodeName.toLowerCase();if(!Object.keys(b).includes(de)){te.remove();continue}const ye=[].concat(...te.attributes),be=[].concat(b["*"]||[],b[de]||[]);for(const me of ye)xC(me,be)||te.removeAttribute(me.nodeName)}return V.body.innerHTML}(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return $(u,[void 0,this])}_putElementInTemplate(u,g){if(this._config.html)return g.innerHTML="",void g.append(u);g.textContent=u.textContent}}const MC=new Set(["sanitize","allowList","sanitizeFn"]),Af="fade",Fu="show",$C=".tooltip-inner",R_=".modal",P_="hide.bs.modal",Jl="hover",If="focus",FC={AUTO:"auto",TOP:"top",RIGHT:N()?"left":"right",BOTTOM:"bottom",LEFT:N()?"right":"left"},UC={allowList:S_,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},jC={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class yo extends ct{constructor(u,g){if(go===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(u,g),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return UC}static get DefaultType(){return jC}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),X.off(this._element.closest(R_),P_,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=X.trigger(this._element,this.constructor.eventName("show")),g=(f(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!g)return;this._disposePopper();const b=this._getTipElement();this._element.setAttribute("aria-describedby",b.getAttribute("id"));const{container:L}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(L.append(b),X.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(b),b.classList.add(Fu),"ontouchstart"in document.documentElement)for(const V of[].concat(...document.body.children))X.on(V,"mouseover",_);this._queueCallback(()=>{X.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!X.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Fu),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))X.off(u,"mouseover",_);this._activeTrigger.click=!1,this._activeTrigger[If]=!1,this._activeTrigger[Jl]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),X.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const g=this._getTemplateFactory(u).toHtml();if(!g)return null;g.classList.remove(Af,Fu),g.classList.add(`bs-${this.constructor.NAME}-auto`);const b=(L=>{do L+=Math.floor(1e6*Math.random());while(document.getElementById(L));return L})(this.constructor.NAME).toString();return g.setAttribute("id",b),this._isAnimated()&&g.classList.add(Af),g}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new VC({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[$C]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Af)}_isShown(){return this.tip&&this.tip.classList.contains(Fu)}_createPopper(u){const g=$(this._config.placement,[this,u,this._element]),b=FC[g.toUpperCase()];return va(this._element,u,this._getPopperConfig(b))}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(g=>Number.parseInt(g,10)):typeof u=="function"?g=>u(g,this._element):u}_resolvePossibleFunction(u){return $(u,[this._element,this._element])}_getPopperConfig(u){const g={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:b=>{this._getTipElement().setAttribute("data-popper-placement",b.state.placement)}}]};return{...g,...$(this._config.popperConfig,[void 0,g])}}_setListeners(){const u=this._config.trigger.split(" ");for(const g of u)if(g==="click")X.on(this._element,this.constructor.eventName("click"),this._config.selector,b=>{this._initializeOnDelegatedTarget(b).toggle()});else if(g!=="manual"){const b=g===Jl?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),L=g===Jl?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");X.on(this._element,b,this._config.selector,V=>{const z=this._initializeOnDelegatedTarget(V);z._activeTrigger[V.type==="focusin"?If:Jl]=!0,z._enter()}),X.on(this._element,L,this._config.selector,V=>{const z=this._initializeOnDelegatedTarget(V);z._activeTrigger[V.type==="focusout"?If:Jl]=z._element.contains(V.relatedTarget),z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},X.on(this._element.closest(R_),P_,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,g){clearTimeout(this._timeout),this._timeout=setTimeout(u,g)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const g=Rt.getDataAttributes(this._element);for(const b of Object.keys(g))MC.has(b)&&delete g[b];return u={...g,...typeof u=="object"&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=u.container===!1?document.body:c(u.container),typeof u.delay=="number"&&(u.delay={show:u.delay,hide:u.delay}),typeof u.title=="number"&&(u.title=u.title.toString()),typeof u.content=="number"&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[g,b]of Object.entries(this._config))this.constructor.Default[g]!==b&&(u[g]=b);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const g=yo.getOrCreateInstance(this,u);if(typeof u=="string"){if(g[u]===void 0)throw new TypeError(`No method named "${u}"`);g[u]()}})}}B(yo);const BC=".popover-header",HC=".popover-body",qC={...yo.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},WC={...yo.DefaultType,content:"(null|string|element|function)"};class Uu extends yo{static get Default(){return qC}static get DefaultType(){return WC}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[BC]:this._getTitle(),[HC]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const g=Uu.getOrCreateInstance(this,u);if(typeof u=="string"){if(g[u]===void 0)throw new TypeError(`No method named "${u}"`);g[u]()}})}}B(Uu);const Cf=".bs.scrollspy",zC=`activate${Cf}`,O_=`click${Cf}`,KC=`load${Cf}.data-api`,ba="active",Sf="[href]",k_=".nav-link",GC=`${k_}, .nav-item > ${k_}, .list-group-item`,QC={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},YC={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Zl extends ct{constructor(u,g){super(u,g),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return QC}static get DefaultType(){return YC}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=c(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,typeof u.threshold=="string"&&(u.threshold=u.threshold.split(",").map(g=>Number.parseFloat(g))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(X.off(this._config.target,O_),X.on(this._config.target,O_,Sf,u=>{const g=this._observableSections.get(u.target.hash);if(g){u.preventDefault();const b=this._rootElement||window,L=g.offsetTop-this._element.offsetTop;if(b.scrollTo)return void b.scrollTo({top:L,behavior:"smooth"});b.scrollTop=L}}))}_getNewObserver(){const u={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(g=>this._observerCallback(g),u)}_observerCallback(u){const g=z=>this._targetLinks.get(`#${z.target.id}`),b=z=>{this._previousScrollData.visibleEntryTop=z.target.offsetTop,this._process(g(z))},L=(this._rootElement||document.documentElement).scrollTop,V=L>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=L;for(const z of u){if(!z.isIntersecting){this._activeTarget=null,this._clearActiveClass(g(z));continue}const te=z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(V&&te){if(b(z),!L)return}else V||te||b(z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=K.find(Sf,this._config.target);for(const g of u){if(!g.hash||h(g))continue;const b=K.findOne(decodeURI(g.hash),this._element);d(b)&&(this._targetLinks.set(decodeURI(g.hash),g),this._observableSections.set(g.hash,b))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(ba),this._activateParents(u),X.trigger(this._element,zC,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))K.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(ba);else for(const g of K.parents(u,".nav, .list-group"))for(const b of K.prev(g,GC))b.classList.add(ba)}_clearActiveClass(u){u.classList.remove(ba);const g=K.find(`${Sf}.${ba}`,u);for(const b of g)b.classList.remove(ba)}static jQueryInterface(u){return this.each(function(){const g=Zl.getOrCreateInstance(this,u);if(typeof u=="string"){if(g[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);g[u]()}})}}X.on(window,KC,()=>{for(const y of K.find('[data-bs-spy="scroll"]'))Zl.getOrCreateInstance(y)}),B(Zl);const Eo=".bs.tab",XC=`hide${Eo}`,JC=`hidden${Eo}`,ZC=`show${Eo}`,eS=`shown${Eo}`,tS=`click${Eo}`,nS=`keydown${Eo}`,sS=`load${Eo}`,iS="ArrowLeft",x_="ArrowRight",rS="ArrowUp",D_="ArrowDown",Rf="Home",N_="End",bo="active",L_="fade",Pf="show",V_=".dropdown-toggle",Of=`:not(${V_})`,M_='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',kf=`.nav-link${Of}, .list-group-item${Of}, [role="tab"]${Of}, ${M_}`,oS=`.${bo}[data-bs-toggle="tab"], .${bo}[data-bs-toggle="pill"], .${bo}[data-bs-toggle="list"]`;class wo extends ct{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),X.on(this._element,nS,g=>this._keydown(g)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const g=this._getActiveElem(),b=g?X.trigger(g,XC,{relatedTarget:u}):null;X.trigger(u,ZC,{relatedTarget:g}).defaultPrevented||b&&b.defaultPrevented||(this._deactivate(g,u),this._activate(u,g))}_activate(u,g){u&&(u.classList.add(bo),this._activate(K.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),X.trigger(u,eS,{relatedTarget:g})):u.classList.add(Pf)},u,u.classList.contains(L_)))}_deactivate(u,g){u&&(u.classList.remove(bo),u.blur(),this._deactivate(K.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),X.trigger(u,JC,{relatedTarget:g})):u.classList.remove(Pf)},u,u.classList.contains(L_)))}_keydown(u){if(![iS,x_,rS,D_,Rf,N_].includes(u.key))return;u.stopPropagation(),u.preventDefault();const g=this._getChildren().filter(L=>!h(L));let b;if([Rf,N_].includes(u.key))b=g[u.key===Rf?0:g.length-1];else{const L=[x_,D_].includes(u.key);b=H(g,u.target,L,!0)}b&&(b.focus({preventScroll:!0}),wo.getOrCreateInstance(b).show())}_getChildren(){return K.find(kf,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,g){this._setAttributeIfNotExists(u,"role","tablist");for(const b of g)this._setInitialAttributesOnChild(b)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const g=this._elemIsActive(u),b=this._getOuterElement(u);u.setAttribute("aria-selected",g),b!==u&&this._setAttributeIfNotExists(b,"role","presentation"),g||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const g=K.getElementFromSelector(u);g&&(this._setAttributeIfNotExists(g,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(g,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,g){const b=this._getOuterElement(u);if(!b.classList.contains("dropdown"))return;const L=(V,z)=>{const te=K.findOne(V,b);te&&te.classList.toggle(z,g)};L(V_,bo),L(".dropdown-menu",Pf),b.setAttribute("aria-expanded",g)}_setAttributeIfNotExists(u,g,b){u.hasAttribute(g)||u.setAttribute(g,b)}_elemIsActive(u){return u.classList.contains(bo)}_getInnerElement(u){return u.matches(kf)?u:K.findOne(kf,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const g=wo.getOrCreateInstance(this);if(typeof u=="string"){if(g[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);g[u]()}})}}X.on(document,tS,M_,function(y){["A","AREA"].includes(this.tagName)&&y.preventDefault(),h(this)||wo.getOrCreateInstance(this).show()}),X.on(window,sS,()=>{for(const y of K.find(oS))wo.getOrCreateInstance(y)}),B(wo);const mr=".bs.toast",aS=`mouseover${mr}`,lS=`mouseout${mr}`,cS=`focusin${mr}`,uS=`focusout${mr}`,hS=`hide${mr}`,dS=`hidden${mr}`,fS=`show${mr}`,pS=`shown${mr}`,$_="hide",ju="show",Bu="showing",mS={animation:"boolean",autohide:"boolean",delay:"number"},gS={animation:!0,autohide:!0,delay:5e3};class ec extends ct{constructor(u,g){super(u,g),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return gS}static get DefaultType(){return mS}static get NAME(){return"toast"}show(){X.trigger(this._element,fS).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove($_),E(this._element),this._element.classList.add(ju,Bu),this._queueCallback(()=>{this._element.classList.remove(Bu),X.trigger(this._element,pS),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(X.trigger(this._element,hS).defaultPrevented||(this._element.classList.add(Bu),this._queueCallback(()=>{this._element.classList.add($_),this._element.classList.remove(Bu,ju),X.trigger(this._element,dS)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ju),super.dispose()}isShown(){return this._element.classList.contains(ju)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,g){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=g;break;case"focusin":case"focusout":this._hasKeyboardInteraction=g}if(g)return void this._clearTimeout();const b=u.relatedTarget;this._element===b||this._element.contains(b)||this._maybeScheduleHide()}_setListeners(){X.on(this._element,aS,u=>this._onInteraction(u,!0)),X.on(this._element,lS,u=>this._onInteraction(u,!1)),X.on(this._element,cS,u=>this._onInteraction(u,!0)),X.on(this._element,uS,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const g=ec.getOrCreateInstance(this,u);if(typeof u=="string"){if(g[u]===void 0)throw new TypeError(`No method named "${u}"`);g[u](this)}})}}return ue(ec),B(ec),{Alert:k,Button:Q,Carousel:Ei,Collapse:Pn,Dropdown:hn,Modal:vo,Offcanvas:Ri,Popover:Uu,ScrollSpy:Zl,Tab:wo,Toast:ec,Tooltip:yo}})}(Ch)),Ch.exports}iM();const rM={props:{text:{type:String,required:!0},maxLength:{type:Number,default:100}},computed:{truncatedText(){return this.text.length<=this.maxLength?this.text:this.text.slice(0,this.maxLength).trim()+"..."}}};function oM(t,e,n,s,i,r){return U(),q("div",null,[m("p",null,ae(r.truncatedText),1)])}const um=Ut(rM,[["render",oM]]),aM={class:"container-fluid py-2 commentaires"},lM={class:"font-weight-light"},cM={class:"media-scroller snaps-inline comms",id:"commentairesIn"},uM={class:"comm-card"},hM={class:"small"},dM={class:"user"},fM=["src","alt"],pM={class:"username"},mM={class:"stars"},gM={__name:"Comments",setup(t){const e=we([{id:1,username:"xXDarkSasukeDu44Xx",picture:"/assets/img/gtavi.png",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"1"},{id:2,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"2"},{id:3,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"},{id:4,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"5"},{id:5,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"},{id:6,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"}]);return(n,s)=>(U(),q("div",aM,[m("h2",lM,ae(e.value.length)+" Commentaires :",1),m("div",null,[m("ul",cM,[(U(!0),q(Ae,null,vt(e.value,i=>(U(),q("li",{key:i.id},[m("div",uM,[m("div",hM,[m("div",dM,[m("img",{src:i.picture,alt:i.username},null,8,fM),m("h3",pM,ae(i.username),1)]),m("div",mM,[(U(),q(Ae,null,vt(5,(r,o)=>m("span",{key:o},ae(o<i.rating?"★":"☆"),1)),64))])]),s[0]||(s[0]=m("div",{class:"texte"},null,-1)),m("h4",null,[ne(um,{text:i.text,maxLength:80},null,8,["text"])])])]))),128))])])]))}},_M=Ut(gM,[["__scopeId","data-v-347b5d82"]]),vM={class:"container-fluid py-2"},yM={class:"media-scroller snaps-inline"},EM={class:"game-card mt-4 mb-5"},bM=["src","alt"],wM={class:"game-text"},TM={class:"titre"},AM={class:"prix"},IM={__name:"Promo",setup(t){const e=we([]),n=async()=>{const s=_i(Mt,"games"),i=eo(s,Ki("featured","==",!0),YA(3));try{const r=await er(i);e.value=[],r.forEach(o=>{const a=o.data();e.value.push({id:o.id,titre:a.name,link:a.link,image:a.image,price:`${a.price}€`})})}catch(r){console.error("Erreur lors de la récupération des jeux :",r)}};return Bn(()=>{n()}),(s,i)=>{const r=Vt("router-link");return U(),q("div",vM,[i[0]||(i[0]=m("h2",{class:"font-weight-light"},"Les jeux de la semaine",-1)),m("div",null,[m("ul",yM,[(U(!0),q(Ae,null,vt(e.value,o=>(U(),q("li",{key:o.id},[m("div",EM,[ne(r,{class:"nav-link",to:`/game/${o.id}`},{default:Oe(()=>[m("img",{src:`/assets/img/preview/${o.image}`,alt:o.titre},null,8,bM)]),_:2},1032,["to"]),m("div",wM,[m("h3",TM,ae(o.titre)+" :",1),m("h3",AM,ae(o.price),1)])])]))),128))])])])}}},CM=Ut(IM,[["__scopeId","data-v-4442d952"]]),SM="/assets/img/logos/playstation_icon.png",RM="/assets/img/logos/xbox_game_console_play_icon.png",PM="/assets/img/logos/switch_icon.png",OM="/assets/img/logos/square_steam_icon.png",kM="/assets/img/logos/epic_games_icon.png",xM={},DM={class:"container-fluid py-2 logos"};function NM(t,e){return U(),q("div",DM,e[0]||(e[0]=[za('<a href="/recherche?platform=Playstation"><img src="'+SM+'" alt="Playstation"></a><a href="/recherche?platform=Xbox"><img src="'+RM+'" alt="Xbox"></a><a href="/recherche?platform=Switch"><img src="'+PM+'" alt="Switch"></a><a href="/recherche?platform=Steam"><img src="'+OM+'" alt="Steam"></a><a href="/recherche?platform=Epic%20Games"><img src="'+kM+'" alt="Epic Games"></a>',5)]))}const LM=Ut(xM,[["render",NM]]);var Un="top",hs="bottom",ds="right",jn="left",of="auto",Al=[Un,hs,ds,jn],zo="start",al="end",MI="clippingParents",Wg="viewport",Da="popper",$I="reference",hm=Al.reduce(function(t,e){return t.concat([e+"-"+zo,e+"-"+al])},[]),zg=[].concat(Al,[of]).reduce(function(t,e){return t.concat([e,e+"-"+zo,e+"-"+al])},[]),FI="beforeRead",UI="read",jI="afterRead",BI="beforeMain",HI="main",qI="afterMain",WI="beforeWrite",zI="write",KI="afterWrite",GI=[FI,UI,jI,BI,HI,qI,WI,zI,KI];function gi(t){return t?(t.nodeName||"").toLowerCase():null}function fs(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ko(t){var e=fs(t).Element;return t instanceof e||t instanceof Element}function Is(t){var e=fs(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Kg(t){if(typeof ShadowRoot>"u")return!1;var e=fs(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function VM(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},i=e.attributes[n]||{},r=e.elements[n];!Is(r)||!gi(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(o){var a=i[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function MM(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var i=e.elements[s],r=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),a=o.reduce(function(c,d){return c[d]="",c},{});!Is(i)||!gi(i)||(Object.assign(i.style,a),Object.keys(r).forEach(function(c){i.removeAttribute(c)}))})}}const Gg={name:"applyStyles",enabled:!0,phase:"write",fn:VM,effect:MM,requires:["computeStyles"]};function fi(t){return t.split("-")[0]}var Mo=Math.max,cd=Math.min,ll=Math.round;function dm(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function QI(){return!/^((?!chrome|android).)*safari/i.test(dm())}function cl(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),i=1,r=1;e&&Is(t)&&(i=t.offsetWidth>0&&ll(s.width)/t.offsetWidth||1,r=t.offsetHeight>0&&ll(s.height)/t.offsetHeight||1);var o=Ko(t)?fs(t):window,a=o.visualViewport,c=!QI()&&n,d=(s.left+(c&&a?a.offsetLeft:0))/i,h=(s.top+(c&&a?a.offsetTop:0))/r,f=s.width/i,_=s.height/r;return{width:f,height:_,top:h,right:d+f,bottom:h+_,left:d,x:d,y:h}}function Qg(t){var e=cl(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function YI(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Kg(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Qi(t){return fs(t).getComputedStyle(t)}function $M(t){return["table","td","th"].indexOf(gi(t))>=0}function to(t){return((Ko(t)?t.ownerDocument:t.document)||window.document).documentElement}function af(t){return gi(t)==="html"?t:t.assignedSlot||t.parentNode||(Kg(t)?t.host:null)||to(t)}function NE(t){return!Is(t)||Qi(t).position==="fixed"?null:t.offsetParent}function FM(t){var e=/firefox/i.test(dm()),n=/Trident/i.test(dm());if(n&&Is(t)){var s=Qi(t);if(s.position==="fixed")return null}var i=af(t);for(Kg(i)&&(i=i.host);Is(i)&&["html","body"].indexOf(gi(i))<0;){var r=Qi(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function hu(t){for(var e=fs(t),n=NE(t);n&&$M(n)&&Qi(n).position==="static";)n=NE(n);return n&&(gi(n)==="html"||gi(n)==="body"&&Qi(n).position==="static")?e:n||FM(t)||e}function Yg(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Sc(t,e,n){return Mo(t,cd(e,n))}function UM(t,e,n){var s=Sc(t,e,n);return s>n?n:s}function XI(){return{top:0,right:0,bottom:0,left:0}}function JI(t){return Object.assign({},XI(),t)}function ZI(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var jM=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,JI(typeof e!="number"?e:ZI(e,Al))};function BM(t){var e,n=t.state,s=t.name,i=t.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,a=fi(n.placement),c=Yg(a),d=[jn,ds].indexOf(a)>=0,h=d?"height":"width";if(!(!r||!o)){var f=jM(i.padding,n),_=Qg(r),E=c==="y"?Un:jn,S=c==="y"?hs:ds,D=n.rects.reference[h]+n.rects.reference[c]-o[c]-n.rects.popper[h],N=o[c]-n.rects.reference[c],B=hu(r),$=B?c==="y"?B.clientHeight||0:B.clientWidth||0:0,j=D/2-N/2,H=f[E],ie=$-_[h]-f[S],oe=$/2-_[h]/2+j,x=Sc(H,oe,ie),I=c;n.modifiersData[s]=(e={},e[I]=x,e.centerOffset=x-oe,e)}}function HM(t){var e=t.state,n=t.options,s=n.element,i=s===void 0?"[data-popper-arrow]":s;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||YI(e.elements.popper,i)&&(e.elements.arrow=i))}const e0={name:"arrow",enabled:!0,phase:"main",fn:BM,effect:HM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ul(t){return t.split("-")[1]}var qM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function WM(t,e){var n=t.x,s=t.y,i=e.devicePixelRatio||1;return{x:ll(n*i)/i||0,y:ll(s*i)/i||0}}function LE(t){var e,n=t.popper,s=t.popperRect,i=t.placement,r=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,d=t.adaptive,h=t.roundOffsets,f=t.isFixed,_=o.x,E=_===void 0?0:_,S=o.y,D=S===void 0?0:S,N=typeof h=="function"?h({x:E,y:D}):{x:E,y:D};E=N.x,D=N.y;var B=o.hasOwnProperty("x"),$=o.hasOwnProperty("y"),j=jn,H=Un,ie=window;if(d){var oe=hu(n),x="clientHeight",I="clientWidth";if(oe===fs(n)&&(oe=to(n),Qi(oe).position!=="static"&&a==="absolute"&&(x="scrollHeight",I="scrollWidth")),oe=oe,i===Un||(i===jn||i===ds)&&r===al){H=hs;var T=f&&oe===ie&&ie.visualViewport?ie.visualViewport.height:oe[x];D-=T-s.height,D*=c?1:-1}if(i===jn||(i===Un||i===hs)&&r===al){j=ds;var R=f&&oe===ie&&ie.visualViewport?ie.visualViewport.width:oe[I];E-=R-s.width,E*=c?1:-1}}var O=Object.assign({position:a},d&&qM),A=h===!0?WM({x:E,y:D},fs(n)):{x:E,y:D};if(E=A.x,D=A.y,c){var C;return Object.assign({},O,(C={},C[H]=$?"0":"",C[j]=B?"0":"",C.transform=(ie.devicePixelRatio||1)<=1?"translate("+E+"px, "+D+"px)":"translate3d("+E+"px, "+D+"px, 0)",C))}return Object.assign({},O,(e={},e[H]=$?D+"px":"",e[j]=B?E+"px":"",e.transform="",e))}function zM(t){var e=t.state,n=t.options,s=n.gpuAcceleration,i=s===void 0?!0:s,r=n.adaptive,o=r===void 0?!0:r,a=n.roundOffsets,c=a===void 0?!0:a,d={placement:fi(e.placement),variation:ul(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,LE(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,LE(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Xg={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:zM,data:{}};var sh={passive:!0};function KM(t){var e=t.state,n=t.instance,s=t.options,i=s.scroll,r=i===void 0?!0:i,o=s.resize,a=o===void 0?!0:o,c=fs(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&d.forEach(function(h){h.addEventListener("scroll",n.update,sh)}),a&&c.addEventListener("resize",n.update,sh),function(){r&&d.forEach(function(h){h.removeEventListener("scroll",n.update,sh)}),a&&c.removeEventListener("resize",n.update,sh)}}const Jg={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:KM,data:{}};var GM={left:"right",right:"left",bottom:"top",top:"bottom"};function Sh(t){return t.replace(/left|right|bottom|top/g,function(e){return GM[e]})}var QM={start:"end",end:"start"};function VE(t){return t.replace(/start|end/g,function(e){return QM[e]})}function Zg(t){var e=fs(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function e_(t){return cl(to(t)).left+Zg(t).scrollLeft}function YM(t,e){var n=fs(t),s=to(t),i=n.visualViewport,r=s.clientWidth,o=s.clientHeight,a=0,c=0;if(i){r=i.width,o=i.height;var d=QI();(d||!d&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:r,height:o,x:a+e_(t),y:c}}function XM(t){var e,n=to(t),s=Zg(t),i=(e=t.ownerDocument)==null?void 0:e.body,r=Mo(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Mo(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-s.scrollLeft+e_(t),c=-s.scrollTop;return Qi(i||n).direction==="rtl"&&(a+=Mo(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:o,x:a,y:c}}function t_(t){var e=Qi(t),n=e.overflow,s=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+s)}function t0(t){return["html","body","#document"].indexOf(gi(t))>=0?t.ownerDocument.body:Is(t)&&t_(t)?t:t0(af(t))}function Rc(t,e){var n;e===void 0&&(e=[]);var s=t0(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),r=fs(s),o=i?[r].concat(r.visualViewport||[],t_(s)?s:[]):s,a=e.concat(o);return i?a:a.concat(Rc(af(o)))}function fm(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function JM(t,e){var n=cl(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function ME(t,e,n){return e===Wg?fm(YM(t,n)):Ko(e)?JM(e,n):fm(XM(to(t)))}function ZM(t){var e=Rc(af(t)),n=["absolute","fixed"].indexOf(Qi(t).position)>=0,s=n&&Is(t)?hu(t):t;return Ko(s)?e.filter(function(i){return Ko(i)&&YI(i,s)&&gi(i)!=="body"}):[]}function e$(t,e,n,s){var i=e==="clippingParents"?ZM(t):[].concat(e),r=[].concat(i,[n]),o=r[0],a=r.reduce(function(c,d){var h=ME(t,d,s);return c.top=Mo(h.top,c.top),c.right=cd(h.right,c.right),c.bottom=cd(h.bottom,c.bottom),c.left=Mo(h.left,c.left),c},ME(t,o,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function n0(t){var e=t.reference,n=t.element,s=t.placement,i=s?fi(s):null,r=s?ul(s):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(i){case Un:c={x:o,y:e.y-n.height};break;case hs:c={x:o,y:e.y+e.height};break;case ds:c={x:e.x+e.width,y:a};break;case jn:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var d=i?Yg(i):null;if(d!=null){var h=d==="y"?"height":"width";switch(r){case zo:c[d]=c[d]-(e[h]/2-n[h]/2);break;case al:c[d]=c[d]+(e[h]/2-n[h]/2);break}}return c}function hl(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=s===void 0?t.placement:s,r=n.strategy,o=r===void 0?t.strategy:r,a=n.boundary,c=a===void 0?MI:a,d=n.rootBoundary,h=d===void 0?Wg:d,f=n.elementContext,_=f===void 0?Da:f,E=n.altBoundary,S=E===void 0?!1:E,D=n.padding,N=D===void 0?0:D,B=JI(typeof N!="number"?N:ZI(N,Al)),$=_===Da?$I:Da,j=t.rects.popper,H=t.elements[S?$:_],ie=e$(Ko(H)?H:H.contextElement||to(t.elements.popper),c,h,o),oe=cl(t.elements.reference),x=n0({reference:oe,element:j,placement:i}),I=fm(Object.assign({},j,x)),T=_===Da?I:oe,R={top:ie.top-T.top+B.top,bottom:T.bottom-ie.bottom+B.bottom,left:ie.left-T.left+B.left,right:T.right-ie.right+B.right},O=t.modifiersData.offset;if(_===Da&&O){var A=O[i];Object.keys(R).forEach(function(C){var Me=[ds,hs].indexOf(C)>=0?1:-1,ot=[Un,hs].indexOf(C)>=0?"y":"x";R[C]+=A[ot]*Me})}return R}function t$(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=n.boundary,r=n.rootBoundary,o=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?zg:c,h=ul(s),f=h?a?hm:hm.filter(function(S){return ul(S)===h}):Al,_=f.filter(function(S){return d.indexOf(S)>=0});_.length===0&&(_=f);var E=_.reduce(function(S,D){return S[D]=hl(t,{placement:D,boundary:i,rootBoundary:r,padding:o})[fi(D)],S},{});return Object.keys(E).sort(function(S,D){return E[S]-E[D]})}function n$(t){if(fi(t)===of)return[];var e=Sh(t);return[VE(t),e,VE(e)]}function s$(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,c=n.fallbackPlacements,d=n.padding,h=n.boundary,f=n.rootBoundary,_=n.altBoundary,E=n.flipVariations,S=E===void 0?!0:E,D=n.allowedAutoPlacements,N=e.options.placement,B=fi(N),$=B===N,j=c||($||!S?[Sh(N)]:n$(N)),H=[N].concat(j).reduce(function(Rt,Pt){return Rt.concat(fi(Pt)===of?t$(e,{placement:Pt,boundary:h,rootBoundary:f,padding:d,flipVariations:S,allowedAutoPlacements:D}):Pt)},[]),ie=e.rects.reference,oe=e.rects.popper,x=new Map,I=!0,T=H[0],R=0;R<H.length;R++){var O=H[R],A=fi(O),C=ul(O)===zo,Me=[Un,hs].indexOf(A)>=0,ot=Me?"width":"height",Fe=hl(e,{placement:O,boundary:h,rootBoundary:f,altBoundary:_,padding:d}),Te=Me?C?ds:jn:C?hs:Un;ie[ot]>oe[ot]&&(Te=Sh(Te));var ze=Sh(Te),kt=[];if(r&&kt.push(Fe[A]<=0),a&&kt.push(Fe[Te]<=0,Fe[ze]<=0),kt.every(function(Rt){return Rt})){T=O,I=!1;break}x.set(O,kt)}if(I)for(var X=S?3:1,Qt=function(Pt){var ct=H.find(function(G){var K=x.get(G);if(K)return K.slice(0,Pt).every(function(ue){return ue})});if(ct)return T=ct,"break"},at=X;at>0;at--){var lt=Qt(at);if(lt==="break")break}e.placement!==T&&(e.modifiersData[s]._skip=!0,e.placement=T,e.reset=!0)}}const s0={name:"flip",enabled:!0,phase:"main",fn:s$,requiresIfExists:["offset"],data:{_skip:!1}};function $E(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function FE(t){return[Un,ds,hs,jn].some(function(e){return t[e]>=0})}function i$(t){var e=t.state,n=t.name,s=e.rects.reference,i=e.rects.popper,r=e.modifiersData.preventOverflow,o=hl(e,{elementContext:"reference"}),a=hl(e,{altBoundary:!0}),c=$E(o,s),d=$E(a,i,r),h=FE(c),f=FE(d);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:h,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":f})}const i0={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:i$};function r$(t,e,n){var s=fi(t),i=[jn,Un].indexOf(s)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=r[0],a=r[1];return o=o||0,a=(a||0)*i,[jn,ds].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}function o$(t){var e=t.state,n=t.options,s=t.name,i=n.offset,r=i===void 0?[0,0]:i,o=zg.reduce(function(h,f){return h[f]=r$(f,e.rects,r),h},{}),a=o[e.placement],c=a.x,d=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[s]=o}const r0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:o$};function a$(t){var e=t.state,n=t.name;e.modifiersData[n]=n0({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const n_={name:"popperOffsets",enabled:!0,phase:"read",fn:a$,data:{}};function l$(t){return t==="x"?"y":"x"}function c$(t){var e=t.state,n=t.options,s=t.name,i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.padding,_=n.tether,E=_===void 0?!0:_,S=n.tetherOffset,D=S===void 0?0:S,N=hl(e,{boundary:c,rootBoundary:d,padding:f,altBoundary:h}),B=fi(e.placement),$=ul(e.placement),j=!$,H=Yg(B),ie=l$(H),oe=e.modifiersData.popperOffsets,x=e.rects.reference,I=e.rects.popper,T=typeof D=="function"?D(Object.assign({},e.rects,{placement:e.placement})):D,R=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,A={x:0,y:0};if(oe){if(r){var C,Me=H==="y"?Un:jn,ot=H==="y"?hs:ds,Fe=H==="y"?"height":"width",Te=oe[H],ze=Te+N[Me],kt=Te-N[ot],X=E?-I[Fe]/2:0,Qt=$===zo?x[Fe]:I[Fe],at=$===zo?-I[Fe]:-x[Fe],lt=e.elements.arrow,Rt=E&&lt?Qg(lt):{width:0,height:0},Pt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:XI(),ct=Pt[Me],G=Pt[ot],K=Sc(0,x[Fe],Rt[Fe]),ue=j?x[Fe]/2-X-K-ct-R.mainAxis:Qt-K-ct-R.mainAxis,ve=j?-x[Fe]/2+X+K+G+R.mainAxis:at+K+G+R.mainAxis,Xe=e.elements.arrow&&hu(e.elements.arrow),P=Xe?H==="y"?Xe.clientTop||0:Xe.clientLeft||0:0,k=(C=O==null?void 0:O[H])!=null?C:0,M=Te+ue-k-P,Q=Te+ve-k,Y=Sc(E?cd(ze,M):ze,Te,E?Mo(kt,Q):kt);oe[H]=Y,A[H]=Y-Te}if(a){var J,fe=H==="x"?Un:jn,ce=H==="x"?hs:ds,le=oe[ie],se=ie==="y"?"height":"width",Se=le+N[fe],pe=le-N[ce],Ee=[Un,jn].indexOf(B)!==-1,Ie=(J=O==null?void 0:O[ie])!=null?J:0,Ce=Ee?Se:le-x[se]-I[se]-Ie+R.altAxis,$e=Ee?le+x[se]+I[se]-Ie-R.altAxis:pe,Qe=E&&Ee?UM(Ce,le,$e):Sc(E?Ce:Se,le,E?$e:pe);oe[ie]=Qe,A[ie]=Qe-le}e.modifiersData[s]=A}}const o0={name:"preventOverflow",enabled:!0,phase:"main",fn:c$,requiresIfExists:["offset"]};function u$(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function h$(t){return t===fs(t)||!Is(t)?Zg(t):u$(t)}function d$(t){var e=t.getBoundingClientRect(),n=ll(e.width)/t.offsetWidth||1,s=ll(e.height)/t.offsetHeight||1;return n!==1||s!==1}function f$(t,e,n){n===void 0&&(n=!1);var s=Is(e),i=Is(e)&&d$(e),r=to(e),o=cl(t,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!n)&&((gi(e)!=="body"||t_(r))&&(a=h$(e)),Is(e)?(c=cl(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):r&&(c.x=e_(r))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function p$(t){var e=new Map,n=new Set,s=[];t.forEach(function(r){e.set(r.name,r)});function i(r){n.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&i(c)}}),s.push(r)}return t.forEach(function(r){n.has(r.name)||i(r)}),s}function m$(t){var e=p$(t);return GI.reduce(function(n,s){return n.concat(e.filter(function(i){return i.phase===s}))},[])}function g$(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function _$(t){var e=t.reduce(function(n,s){var i=n[s.name];return n[s.name]=i?Object.assign({},i,s,{options:Object.assign({},i.options,s.options),data:Object.assign({},i.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var UE={placement:"bottom",modifiers:[],strategy:"absolute"};function jE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function lf(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,i=e.defaultOptions,r=i===void 0?UE:i;return function(a,c,d){d===void 0&&(d=r);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},UE,r),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},f=[],_=!1,E={state:h,setOptions:function(B){var $=typeof B=="function"?B(h.options):B;D(),h.options=Object.assign({},r,h.options,$),h.scrollParents={reference:Ko(a)?Rc(a):a.contextElement?Rc(a.contextElement):[],popper:Rc(c)};var j=m$(_$([].concat(s,h.options.modifiers)));return h.orderedModifiers=j.filter(function(H){return H.enabled}),S(),E.update()},forceUpdate:function(){if(!_){var B=h.elements,$=B.reference,j=B.popper;if(jE($,j)){h.rects={reference:f$($,hu(j),h.options.strategy==="fixed"),popper:Qg(j)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(R){return h.modifiersData[R.name]=Object.assign({},R.data)});for(var H=0;H<h.orderedModifiers.length;H++){if(h.reset===!0){h.reset=!1,H=-1;continue}var ie=h.orderedModifiers[H],oe=ie.fn,x=ie.options,I=x===void 0?{}:x,T=ie.name;typeof oe=="function"&&(h=oe({state:h,options:I,name:T,instance:E})||h)}}}},update:g$(function(){return new Promise(function(N){E.forceUpdate(),N(h)})}),destroy:function(){D(),_=!0}};if(!jE(a,c))return E;E.setOptions(d).then(function(N){!_&&d.onFirstUpdate&&d.onFirstUpdate(N)});function S(){h.orderedModifiers.forEach(function(N){var B=N.name,$=N.options,j=$===void 0?{}:$,H=N.effect;if(typeof H=="function"){var ie=H({state:h,name:B,instance:E,options:j}),oe=function(){};f.push(ie||oe)}})}function D(){f.forEach(function(N){return N()}),f=[]}return E}}var v$=lf(),y$=[Jg,n_,Xg,Gg],E$=lf({defaultModifiers:y$}),b$=[Jg,n_,Xg,Gg,r0,s0,o0,e0,i0],s_=lf({defaultModifiers:b$});const a0=Object.freeze(Object.defineProperty({__proto__:null,afterMain:qI,afterRead:jI,afterWrite:KI,applyStyles:Gg,arrow:e0,auto:of,basePlacements:Al,beforeMain:BI,beforeRead:FI,beforeWrite:WI,bottom:hs,clippingParents:MI,computeStyles:Xg,createPopper:s_,createPopperBase:v$,createPopperLite:E$,detectOverflow:hl,end:al,eventListeners:Jg,flip:s0,hide:i0,left:jn,main:HI,modifierPhases:GI,offset:r0,placements:zg,popper:Da,popperGenerator:lf,popperOffsets:n_,preventOverflow:o0,read:UI,reference:$I,right:ds,start:zo,top:Un,variationPlacements:hm,viewport:Wg,write:zI},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Er=new Map,op={set(t,e,n){Er.has(t)||Er.set(t,new Map);const s=Er.get(t);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,n)},get(t,e){return Er.has(t)&&Er.get(t).get(e)||null},remove(t,e){if(!Er.has(t))return;const n=Er.get(t);n.delete(e),n.size===0&&Er.delete(t)}},w$=1e6,T$=1e3,pm="transitionend",l0=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),A$=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),I$=t=>{do t+=Math.floor(Math.random()*w$);while(document.getElementById(t));return t},C$=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const s=Number.parseFloat(e),i=Number.parseFloat(n);return!s&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*T$)},c0=t=>{t.dispatchEvent(new Event(pm))},$i=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Kr=t=>$i(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(l0(t)):null,Il=t=>{if(!$i(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const s=t.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return e},Gr=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",u0=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?u0(t.parentNode):null},ud=()=>{},du=t=>{t.offsetHeight},h0=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,ap=[],S$=t=>{document.readyState==="loading"?(ap.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of ap)e()}),ap.push(t)):t()},Rs=()=>document.documentElement.dir==="rtl",Os=t=>{S$(()=>{const e=h0();if(e){const n=t.NAME,s=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=s,t.jQueryInterface)}})},Yn=(t,e=[],n=t)=>typeof t=="function"?t.call(...e):n,d0=(t,e,n=!0)=>{if(!n){Yn(t);return}const i=C$(e)+5;let r=!1;const o=({target:a})=>{a===e&&(r=!0,e.removeEventListener(pm,o),Yn(t))};e.addEventListener(pm,o),setTimeout(()=>{r||c0(e)},i)},i_=(t,e,n,s)=>{const i=t.length;let r=t.indexOf(e);return r===-1?!n&&s?t[i-1]:t[0]:(r+=n?1:-1,s&&(r=(r+i)%i),t[Math.max(0,Math.min(r,i-1))])},R$=/[^.]*(?=\..*)\.|.*/,P$=/\..*/,O$=/::\d+$/,lp={};let BE=1;const f0={mouseenter:"mouseover",mouseleave:"mouseout"},k$=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function p0(t,e){return e&&`${e}::${BE++}`||t.uidEvent||BE++}function m0(t){const e=p0(t);return t.uidEvent=e,lp[e]=lp[e]||{},lp[e]}function x$(t,e){return function n(s){return r_(s,{delegateTarget:t}),n.oneOff&&re.off(t,s.type,e),e.apply(t,[s])}}function D$(t,e,n){return function s(i){const r=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const a of r)if(a===o)return r_(i,{delegateTarget:o}),s.oneOff&&re.off(t,i.type,e,n),n.apply(o,[i])}}function g0(t,e,n=null){return Object.values(t).find(s=>s.callable===e&&s.delegationSelector===n)}function _0(t,e,n){const s=typeof e=="string",i=s?n:e||n;let r=v0(t);return k$.has(r)||(r=t),[s,i,r]}function HE(t,e,n,s,i){if(typeof e!="string"||!t)return;let[r,o,a]=_0(e,n,s);e in f0&&(o=(S=>function(D){if(!D.relatedTarget||D.relatedTarget!==D.delegateTarget&&!D.delegateTarget.contains(D.relatedTarget))return S.call(this,D)})(o));const c=m0(t),d=c[a]||(c[a]={}),h=g0(d,o,r?n:null);if(h){h.oneOff=h.oneOff&&i;return}const f=p0(o,e.replace(R$,"")),_=r?D$(t,n,o):x$(t,o);_.delegationSelector=r?n:null,_.callable=o,_.oneOff=i,_.uidEvent=f,d[f]=_,t.addEventListener(a,_,r)}function mm(t,e,n,s,i){const r=g0(e[n],s,i);r&&(t.removeEventListener(n,r,!!i),delete e[n][r.uidEvent])}function N$(t,e,n,s){const i=e[n]||{};for(const[r,o]of Object.entries(i))r.includes(s)&&mm(t,e,n,o.callable,o.delegationSelector)}function v0(t){return t=t.replace(P$,""),f0[t]||t}const re={on(t,e,n,s){HE(t,e,n,s,!1)},one(t,e,n,s){HE(t,e,n,s,!0)},off(t,e,n,s){if(typeof e!="string"||!t)return;const[i,r,o]=_0(e,n,s),a=o!==e,c=m0(t),d=c[o]||{},h=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(d).length)return;mm(t,c,o,r,i?n:null);return}if(h)for(const f of Object.keys(c))N$(t,c,f,e.slice(1));for(const[f,_]of Object.entries(d)){const E=f.replace(O$,"");(!a||e.includes(E))&&mm(t,c,o,_.callable,_.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const s=h0(),i=v0(e),r=e!==i;let o=null,a=!0,c=!0,d=!1;r&&s&&(o=s.Event(e,n),s(t).trigger(o),a=!o.isPropagationStopped(),c=!o.isImmediatePropagationStopped(),d=o.isDefaultPrevented());const h=r_(new Event(e,{bubbles:a,cancelable:!0}),n);return d&&h.preventDefault(),c&&t.dispatchEvent(h),h.defaultPrevented&&o&&o.preventDefault(),h}};function r_(t,e={}){for(const[n,s]of Object.entries(e))try{t[n]=s}catch{Object.defineProperty(t,n,{configurable:!0,get(){return s}})}return t}function qE(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function cp(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Fi={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${cp(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${cp(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=qE(t.dataset[s])}return e},getDataAttribute(t,e){return qE(t.getAttribute(`data-bs-${cp(e)}`))}};class fu{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const s=$i(n)?Fi.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...$i(n)?Fi.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[s,i]of Object.entries(n)){const r=e[s],o=$i(r)?"element":A$(r);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${i}".`)}}}const L$="5.3.6";class Ws extends fu{constructor(e,n){super(),e=Kr(e),e&&(this._element=e,this._config=this._getConfig(n),op.set(this._element,this.constructor.DATA_KEY,this))}dispose(){op.remove(this._element,this.constructor.DATA_KEY),re.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,s=!0){d0(e,n,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return op.get(Kr(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return L$}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const up=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>l0(n)).join(","):null},Pe={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let s=t.parentNode.closest(e);for(;s;)n.push(s),s=s.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!Gr(n)&&Il(n))},getSelectorFromElement(t){const e=up(t);return e&&Pe.findOne(e)?e:null},getElementFromSelector(t){const e=up(t);return e?Pe.findOne(e):null},getMultipleElementsFromSelector(t){const e=up(t);return e?Pe.find(e):[]}},cf=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;re.on(document,n,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Gr(this))return;const r=Pe.getElementFromSelector(this)||this.closest(`.${s}`);t.getOrCreateInstance(r)[e]()})},V$="alert",M$="bs.alert",y0=`.${M$}`,$$=`close${y0}`,F$=`closed${y0}`,U$="fade",j$="show";class uf extends Ws{static get NAME(){return V$}close(){if(re.trigger(this._element,$$).defaultPrevented)return;this._element.classList.remove(j$);const n=this._element.classList.contains(U$);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),re.trigger(this._element,F$),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=uf.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}cf(uf,"close");Os(uf);const B$="button",H$="bs.button",q$=`.${H$}`,W$=".data-api",z$="active",WE='[data-bs-toggle="button"]',K$=`click${q$}${W$}`;class hf extends Ws{static get NAME(){return B$}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(z$))}static jQueryInterface(e){return this.each(function(){const n=hf.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}re.on(document,K$,WE,t=>{t.preventDefault();const e=t.target.closest(WE);hf.getOrCreateInstance(e).toggle()});Os(hf);const G$="swipe",Cl=".bs.swipe",Q$=`touchstart${Cl}`,Y$=`touchmove${Cl}`,X$=`touchend${Cl}`,J$=`pointerdown${Cl}`,Z$=`pointerup${Cl}`,e4="touch",t4="pen",n4="pointer-event",s4=40,i4={endCallback:null,leftCallback:null,rightCallback:null},r4={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class hd extends fu{constructor(e,n){super(),this._element=e,!(!e||!hd.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return i4}static get DefaultType(){return r4}static get NAME(){return G$}dispose(){re.off(this._element,Cl)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Yn(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=s4)return;const n=e/this._deltaX;this._deltaX=0,n&&Yn(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(re.on(this._element,J$,e=>this._start(e)),re.on(this._element,Z$,e=>this._end(e)),this._element.classList.add(n4)):(re.on(this._element,Q$,e=>this._start(e)),re.on(this._element,Y$,e=>this._move(e)),re.on(this._element,X$,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===t4||e.pointerType===e4)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const o4="carousel",a4="bs.carousel",no=`.${a4}`,E0=".data-api",l4="ArrowLeft",c4="ArrowRight",u4=500,ic="next",Ia="prev",Na="left",Rh="right",h4=`slide${no}`,hp=`slid${no}`,d4=`keydown${no}`,f4=`mouseenter${no}`,p4=`mouseleave${no}`,m4=`dragstart${no}`,g4=`load${no}${E0}`,_4=`click${no}${E0}`,b0="carousel",ih="active",v4="slide",y4="carousel-item-end",E4="carousel-item-start",b4="carousel-item-next",w4="carousel-item-prev",w0=".active",T0=".carousel-item",T4=w0+T0,A4=".carousel-item img",I4=".carousel-indicators",C4="[data-bs-slide], [data-bs-slide-to]",S4='[data-bs-ride="carousel"]',R4={[l4]:Rh,[c4]:Na},P4={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},O4={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class pu extends Ws{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Pe.findOne(I4,this._element),this._addEventListeners(),this._config.ride===b0&&this.cycle()}static get Default(){return P4}static get DefaultType(){return O4}static get NAME(){return o4}next(){this._slide(ic)}nextWhenVisible(){!document.hidden&&Il(this._element)&&this.next()}prev(){this._slide(Ia)}pause(){this._isSliding&&c0(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){re.one(this._element,hp,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){re.one(this._element,hp,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const i=e>s?ic:Ia;this._slide(i,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&re.on(this._element,d4,e=>this._keydown(e)),this._config.pause==="hover"&&(re.on(this._element,f4,()=>this.pause()),re.on(this._element,p4,()=>this._maybeEnableCycle())),this._config.touch&&hd.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of Pe.find(A4,this._element))re.on(s,m4,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Na)),rightCallback:()=>this._slide(this._directionToOrder(Rh)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),u4+this._config.interval))}};this._swipeHelper=new hd(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=R4[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=Pe.findOne(w0,this._indicatorsElement);n.classList.remove(ih),n.removeAttribute("aria-current");const s=Pe.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(ih),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const s=this._getActive(),i=e===ic,r=n||i_(this._getItems(),s,i,this._config.wrap);if(r===s)return;const o=this._getItemIndex(r),a=E=>re.trigger(this._element,E,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:o});if(a(h4).defaultPrevented||!s||!r)return;const d=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const h=i?E4:y4,f=i?b4:w4;r.classList.add(f),du(r),s.classList.add(h),r.classList.add(h);const _=()=>{r.classList.remove(h,f),r.classList.add(ih),s.classList.remove(ih,f,h),this._isSliding=!1,a(hp)};this._queueCallback(_,s,this._isAnimated()),d&&this.cycle()}_isAnimated(){return this._element.classList.contains(v4)}_getActive(){return Pe.findOne(T4,this._element)}_getItems(){return Pe.find(T0,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Rs()?e===Na?Ia:ic:e===Na?ic:Ia}_orderToDirection(e){return Rs()?e===Ia?Na:Rh:e===Ia?Rh:Na}static jQueryInterface(e){return this.each(function(){const n=pu.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}re.on(document,_4,C4,function(t){const e=Pe.getElementFromSelector(this);if(!e||!e.classList.contains(b0))return;t.preventDefault();const n=pu.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(Fi.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});re.on(window,g4,()=>{const t=Pe.find(S4);for(const e of t)pu.getOrCreateInstance(e)});Os(pu);const k4="collapse",x4="bs.collapse",mu=`.${x4}`,D4=".data-api",N4=`show${mu}`,L4=`shown${mu}`,V4=`hide${mu}`,M4=`hidden${mu}`,$4=`click${mu}${D4}`,dp="show",Va="collapse",rh="collapsing",F4="collapsed",U4=`:scope .${Va} .${Va}`,j4="collapse-horizontal",B4="width",H4="height",q4=".collapse.show, .collapse.collapsing",gm='[data-bs-toggle="collapse"]',W4={parent:null,toggle:!0},z4={parent:"(null|element)",toggle:"boolean"};class zc extends Ws{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const s=Pe.find(gm);for(const i of s){const r=Pe.getSelectorFromElement(i),o=Pe.find(r).filter(a=>a===this._element);r!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return W4}static get DefaultType(){return z4}static get NAME(){return k4}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(q4).filter(a=>a!==this._element).map(a=>zc.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||re.trigger(this._element,N4).defaultPrevented)return;for(const a of e)a.hide();const s=this._getDimension();this._element.classList.remove(Va),this._element.classList.add(rh),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(rh),this._element.classList.add(Va,dp),this._element.style[s]="",re.trigger(this._element,L4)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||re.trigger(this._element,V4).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,du(this._element),this._element.classList.add(rh),this._element.classList.remove(Va,dp);for(const i of this._triggerArray){const r=Pe.getElementFromSelector(i);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(rh),this._element.classList.add(Va),re.trigger(this._element,M4)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(dp)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Kr(e.parent),e}_getDimension(){return this._element.classList.contains(j4)?B4:H4}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(gm);for(const n of e){const s=Pe.getElementFromSelector(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(e){const n=Pe.find(U4,this._config.parent);return Pe.find(e,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const s of e)s.classList.toggle(F4,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const s=zc.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}re.on(document,$4,gm,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of Pe.getMultipleElementsFromSelector(this))zc.getOrCreateInstance(e,{toggle:!1}).toggle()});Os(zc);const zE="dropdown",K4="bs.dropdown",ta=`.${K4}`,o_=".data-api",G4="Escape",KE="Tab",Q4="ArrowUp",GE="ArrowDown",Y4=2,X4=`hide${ta}`,J4=`hidden${ta}`,Z4=`show${ta}`,e6=`shown${ta}`,A0=`click${ta}${o_}`,I0=`keydown${ta}${o_}`,t6=`keyup${ta}${o_}`,La="show",n6="dropup",s6="dropend",i6="dropstart",r6="dropup-center",o6="dropdown-center",xo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',a6=`${xo}.${La}`,Ph=".dropdown-menu",l6=".navbar",c6=".navbar-nav",u6=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",h6=Rs()?"top-end":"top-start",d6=Rs()?"top-start":"top-end",f6=Rs()?"bottom-end":"bottom-start",p6=Rs()?"bottom-start":"bottom-end",m6=Rs()?"left-start":"right-start",g6=Rs()?"right-start":"left-start",_6="top",v6="bottom",y6={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},E6={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Us extends Ws{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=Pe.next(this._element,Ph)[0]||Pe.prev(this._element,Ph)[0]||Pe.findOne(Ph,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return y6}static get DefaultType(){return E6}static get NAME(){return zE}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Gr(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!re.trigger(this._element,Z4,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(c6))for(const s of[].concat(...document.body.children))re.on(s,"mouseover",ud);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(La),this._element.classList.add(La),re.trigger(this._element,e6,e)}}hide(){if(Gr(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!re.trigger(this._element,X4,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))re.off(s,"mouseover",ud);this._popper&&this._popper.destroy(),this._menu.classList.remove(La),this._element.classList.remove(La),this._element.setAttribute("aria-expanded","false"),Fi.removeDataAttribute(this._menu,"popper"),re.trigger(this._element,J4,e),this._element.focus()}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!$i(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${zE.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof a0>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:$i(this._config.reference)?e=Kr(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=s_(e,this._menu,n)}_isShown(){return this._menu.classList.contains(La)}_getPlacement(){const e=this._parent;if(e.classList.contains(s6))return m6;if(e.classList.contains(i6))return g6;if(e.classList.contains(r6))return _6;if(e.classList.contains(o6))return v6;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(n6)?n?d6:h6:n?p6:f6}_detectNavbar(){return this._element.closest(l6)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Fi.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Yn(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:n}){const s=Pe.find(u6,this._menu).filter(i=>Il(i));s.length&&i_(s,n,e===GE,!s.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=Us.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===Y4||e.type==="keyup"&&e.key!==KE)return;const n=Pe.find(a6);for(const s of n){const i=Us.getInstance(s);if(!i||i._config.autoClose===!1)continue;const r=e.composedPath(),o=r.includes(i._menu);if(r.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===KE||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:i._element};e.type==="click"&&(a.clickEvent=e),i._completeHide(a)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),s=e.key===G4,i=[Q4,GE].includes(e.key);if(!i&&!s||n&&!s)return;e.preventDefault();const r=this.matches(xo)?this:Pe.prev(this,xo)[0]||Pe.next(this,xo)[0]||Pe.findOne(xo,e.delegateTarget.parentNode),o=Us.getOrCreateInstance(r);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}re.on(document,I0,xo,Us.dataApiKeydownHandler);re.on(document,I0,Ph,Us.dataApiKeydownHandler);re.on(document,A0,Us.clearMenus);re.on(document,t6,Us.clearMenus);re.on(document,A0,xo,function(t){t.preventDefault(),Us.getOrCreateInstance(this).toggle()});Os(Us);const C0="backdrop",b6="fade",QE="show",YE=`mousedown.bs.${C0}`,w6={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},T6={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class S0 extends fu{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return w6}static get DefaultType(){return T6}static get NAME(){return C0}show(e){if(!this._config.isVisible){Yn(e);return}this._append();const n=this._getElement();this._config.isAnimated&&du(n),n.classList.add(QE),this._emulateAnimation(()=>{Yn(e)})}hide(e){if(!this._config.isVisible){Yn(e);return}this._getElement().classList.remove(QE),this._emulateAnimation(()=>{this.dispose(),Yn(e)})}dispose(){this._isAppended&&(re.off(this._element,YE),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(b6),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Kr(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),re.on(e,YE,()=>{Yn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){d0(e,this._getElement(),this._config.isAnimated)}}const A6="focustrap",I6="bs.focustrap",dd=`.${I6}`,C6=`focusin${dd}`,S6=`keydown.tab${dd}`,R6="Tab",P6="forward",XE="backward",O6={autofocus:!0,trapElement:null},k6={autofocus:"boolean",trapElement:"element"};class R0 extends fu{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return O6}static get DefaultType(){return k6}static get NAME(){return A6}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),re.off(document,dd),re.on(document,C6,e=>this._handleFocusin(e)),re.on(document,S6,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,re.off(document,dd))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const s=Pe.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===XE?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===R6&&(this._lastTabNavDirection=e.shiftKey?XE:P6)}}const JE=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ZE=".sticky-top",oh="padding-right",eb="margin-right";class _m{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,oh,n=>n+e),this._setElementAttributes(JE,oh,n=>n+e),this._setElementAttributes(ZE,eb,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,oh),this._resetElementAttributes(JE,oh),this._resetElementAttributes(ZE,eb)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,s){const i=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,n);const a=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${s(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,n){const s=e.style.getPropertyValue(n);s&&Fi.setDataAttribute(e,n,s)}_resetElementAttributes(e,n){const s=i=>{const r=Fi.getDataAttribute(i,n);if(r===null){i.style.removeProperty(n);return}Fi.removeDataAttribute(i,n),i.style.setProperty(n,r)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,n){if($i(e)){n(e);return}for(const s of Pe.find(e,this._element))n(s)}}const x6="modal",D6="bs.modal",Ps=`.${D6}`,N6=".data-api",L6="Escape",V6=`hide${Ps}`,M6=`hidePrevented${Ps}`,P0=`hidden${Ps}`,O0=`show${Ps}`,$6=`shown${Ps}`,F6=`resize${Ps}`,U6=`click.dismiss${Ps}`,j6=`mousedown.dismiss${Ps}`,B6=`keydown.dismiss${Ps}`,H6=`click${Ps}${N6}`,tb="modal-open",q6="fade",nb="show",fp="modal-static",W6=".modal.show",z6=".modal-dialog",K6=".modal-body",G6='[data-bs-toggle="modal"]',Q6={backdrop:!0,focus:!0,keyboard:!0},Y6={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Go extends Ws{constructor(e,n){super(e,n),this._dialog=Pe.findOne(z6,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _m,this._addEventListeners()}static get Default(){return Q6}static get DefaultType(){return Y6}static get NAME(){return x6}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||re.trigger(this._element,O0,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(tb),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||re.trigger(this._element,V6).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(nb),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){re.off(window,Ps),re.off(this._dialog,Ps),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new S0({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new R0({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=Pe.findOne(K6,this._dialog);n&&(n.scrollTop=0),du(this._element),this._element.classList.add(nb);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,re.trigger(this._element,$6,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){re.on(this._element,B6,e=>{if(e.key===L6){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),re.on(window,F6,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),re.on(this._element,j6,e=>{re.one(this._element,U6,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(tb),this._resetAdjustments(),this._scrollBar.reset(),re.trigger(this._element,P0)})}_isAnimated(){return this._element.classList.contains(q6)}_triggerBackdropTransition(){if(re.trigger(this._element,M6).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(fp)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(fp),this._queueCallback(()=>{this._element.classList.remove(fp),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!e){const i=Rs()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!s&&e){const i=Rs()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const s=Go.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](n)}})}}re.on(document,H6,G6,function(t){const e=Pe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),re.one(e,O0,i=>{i.defaultPrevented||re.one(e,P0,()=>{Il(this)&&this.focus()})});const n=Pe.findOne(W6);n&&Go.getInstance(n).hide(),Go.getOrCreateInstance(e).toggle(this)});cf(Go);Os(Go);const X6="offcanvas",J6="bs.offcanvas",sr=`.${J6}`,k0=".data-api",Z6=`load${sr}${k0}`,e3="Escape",sb="show",ib="showing",rb="hiding",t3="offcanvas-backdrop",x0=".offcanvas.show",n3=`show${sr}`,s3=`shown${sr}`,i3=`hide${sr}`,ob=`hidePrevented${sr}`,D0=`hidden${sr}`,r3=`resize${sr}`,o3=`click${sr}${k0}`,a3=`keydown.dismiss${sr}`,l3='[data-bs-toggle="offcanvas"]',c3={backdrop:!0,keyboard:!0,scroll:!1},u3={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Qr extends Ws{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return c3}static get DefaultType(){return u3}static get NAME(){return X6}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||re.trigger(this._element,n3,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new _m().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ib);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(sb),this._element.classList.remove(ib),re.trigger(this._element,s3,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||re.trigger(this._element,i3).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(rb),this._backdrop.hide();const n=()=>{this._element.classList.remove(sb,rb),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new _m().reset(),re.trigger(this._element,D0)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){re.trigger(this._element,ob);return}this.hide()},n=!!this._config.backdrop;return new S0({className:t3,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new R0({trapElement:this._element})}_addEventListeners(){re.on(this._element,a3,e=>{if(e.key===e3){if(this._config.keyboard){this.hide();return}re.trigger(this._element,ob)}})}static jQueryInterface(e){return this.each(function(){const n=Qr.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}re.on(document,o3,l3,function(t){const e=Pe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Gr(this))return;re.one(e,D0,()=>{Il(this)&&this.focus()});const n=Pe.findOne(x0);n&&n!==e&&Qr.getInstance(n).hide(),Qr.getOrCreateInstance(e).toggle(this)});re.on(window,Z6,()=>{for(const t of Pe.find(x0))Qr.getOrCreateInstance(t).show()});re.on(window,r3,()=>{for(const t of Pe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Qr.getOrCreateInstance(t).hide()});cf(Qr);Os(Qr);const h3=/^aria-[\w-]*$/i,N0={"*":["class","dir","id","lang","role",h3],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},d3=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),f3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,p3=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?d3.has(n)?!!f3.test(t.nodeValue):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(n))};function m3(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const i=new window.DOMParser().parseFromString(t,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const o of r){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const c=[].concat(...o.attributes),d=[].concat(e["*"]||[],e[a]||[]);for(const h of c)p3(h,d)||o.removeAttribute(h.nodeName)}return i.body.innerHTML}const g3="TemplateFactory",_3={allowList:N0,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},v3={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},y3={entry:"(string|element|function|null)",selector:"(string|element)"};class E3 extends fu{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return _3}static get DefaultType(){return v3}static get NAME(){return g3}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(e,r,i);const n=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,s]of Object.entries(e))super._typeCheckConfig({selector:n,entry:s},y3)}_setContent(e,n,s){const i=Pe.findOne(s,e);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if($i(n)){this._putElementInTemplate(Kr(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(e){return this._config.sanitize?m3(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Yn(e,[void 0,this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const b3="tooltip",w3=new Set(["sanitize","allowList","sanitizeFn"]),pp="fade",T3="modal",ah="show",A3=".tooltip-inner",ab=`.${T3}`,lb="hide.bs.modal",rc="hover",mp="focus",I3="click",C3="manual",S3="hide",R3="hidden",P3="show",O3="shown",k3="inserted",x3="click",D3="focusin",N3="focusout",L3="mouseenter",V3="mouseleave",M3={AUTO:"auto",TOP:"top",RIGHT:Rs()?"left":"right",BOTTOM:"bottom",LEFT:Rs()?"right":"left"},$3={allowList:N0,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},F3={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Sl extends Ws{constructor(e,n){if(typeof a0>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return $3}static get DefaultType(){return F3}static get NAME(){return b3}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),re.off(this._element.closest(ab),lb,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=re.trigger(this._element,this.constructor.eventName(P3)),s=(u0(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),re.trigger(this._element,this.constructor.eventName(k3))),this._popper=this._createPopper(i),i.classList.add(ah),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))re.on(a,"mouseover",ud);const o=()=>{re.trigger(this._element,this.constructor.eventName(O3)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||re.trigger(this._element,this.constructor.eventName(S3)).defaultPrevented)return;if(this._getTipElement().classList.remove(ah),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))re.off(i,"mouseover",ud);this._activeTrigger[I3]=!1,this._activeTrigger[mp]=!1,this._activeTrigger[rc]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),re.trigger(this._element,this.constructor.eventName(R3)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(pp,ah),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=I$(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(pp),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new E3({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[A3]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(pp)}_isShown(){return this.tip&&this.tip.classList.contains(ah)}_createPopper(e){const n=Yn(this._config.placement,[this,e,this._element]),s=M3[n.toUpperCase()];return s_(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return Yn(e,[this._element,this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...Yn(this._config.popperConfig,[void 0,n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")re.on(this._element,this.constructor.eventName(x3),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==C3){const s=n===rc?this.constructor.eventName(L3):this.constructor.eventName(D3),i=n===rc?this.constructor.eventName(V3):this.constructor.eventName(N3);re.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusin"?mp:rc]=!0,o._enter()}),re.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusout"?mp:rc]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},re.on(this._element.closest(ab),lb,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=Fi.getDataAttributes(this._element);for(const s of Object.keys(n))w3.has(s)&&delete n[s];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Kr(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,s]of Object.entries(this._config))this.constructor.Default[n]!==s&&(e[n]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=Sl.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Os(Sl);const U3="popover",j3=".popover-header",B3=".popover-body",H3={...Sl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},q3={...Sl.DefaultType,content:"(null|string|element|function)"};class a_ extends Sl{static get Default(){return H3}static get DefaultType(){return q3}static get NAME(){return U3}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[j3]:this._getTitle(),[B3]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=a_.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Os(a_);const W3="scrollspy",z3="bs.scrollspy",l_=`.${z3}`,K3=".data-api",G3=`activate${l_}`,cb=`click${l_}`,Q3=`load${l_}${K3}`,Y3="dropdown-item",Ca="active",X3='[data-bs-spy="scroll"]',gp="[href]",J3=".nav, .list-group",ub=".nav-link",Z3=".nav-item",eF=".list-group-item",tF=`${ub}, ${Z3} > ${ub}, ${eF}`,nF=".dropdown",sF=".dropdown-toggle",iF={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},rF={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class df extends Ws{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return iF}static get DefaultType(){return rF}static get NAME(){return W3}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Kr(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(re.off(this._config.target,cb),re.on(this._config.target,cb,gp,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const s=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:i,behavior:"smooth"});return}s.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(s(o),!i)return;continue}!r&&!a&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Pe.find(gp,this._config.target);for(const n of e){if(!n.hash||Gr(n))continue;const s=Pe.findOne(decodeURI(n.hash),this._element);Il(s)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Ca),this._activateParents(e),re.trigger(this._element,G3,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Y3)){Pe.findOne(sF,e.closest(nF)).classList.add(Ca);return}for(const n of Pe.parents(e,J3))for(const s of Pe.prev(n,tF))s.classList.add(Ca)}_clearActiveClass(e){e.classList.remove(Ca);const n=Pe.find(`${gp}.${Ca}`,e);for(const s of n)s.classList.remove(Ca)}static jQueryInterface(e){return this.each(function(){const n=df.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}re.on(window,Q3,()=>{for(const t of Pe.find(X3))df.getOrCreateInstance(t)});Os(df);const oF="tab",aF="bs.tab",na=`.${aF}`,lF=`hide${na}`,cF=`hidden${na}`,uF=`show${na}`,hF=`shown${na}`,dF=`click${na}`,fF=`keydown${na}`,pF=`load${na}`,mF="ArrowLeft",hb="ArrowRight",gF="ArrowUp",db="ArrowDown",_p="Home",fb="End",Do="active",pb="fade",vp="show",_F="dropdown",L0=".dropdown-toggle",vF=".dropdown-menu",yp=`:not(${L0})`,yF='.list-group, .nav, [role="tablist"]',EF=".nav-item, .list-group-item",bF=`.nav-link${yp}, .list-group-item${yp}, [role="tab"]${yp}`,V0='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ep=`${bF}, ${V0}`,wF=`.${Do}[data-bs-toggle="tab"], .${Do}[data-bs-toggle="pill"], .${Do}[data-bs-toggle="list"]`;class dl extends Ws{constructor(e){super(e),this._parent=this._element.closest(yF),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),re.on(this._element,fF,n=>this._keydown(n)))}static get NAME(){return oF}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),s=n?re.trigger(n,lF,{relatedTarget:e}):null;re.trigger(e,uF,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(Do),this._activate(Pe.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(vp);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),re.trigger(e,hF,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(pb))}_deactivate(e,n){if(!e)return;e.classList.remove(Do),e.blur(),this._deactivate(Pe.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(vp);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),re.trigger(e,cF,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(pb))}_keydown(e){if(![mF,hb,gF,db,_p,fb].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(i=>!Gr(i));let s;if([_p,fb].includes(e.key))s=n[e.key===_p?0:n.length-1];else{const i=[hb,db].includes(e.key);s=i_(n,e.target,i,!0)}s&&(s.focus({preventScroll:!0}),dl.getOrCreateInstance(s).show())}_getChildren(){return Pe.find(Ep,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",n),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=Pe.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const s=this._getOuterElement(e);if(!s.classList.contains(_F))return;const i=(r,o)=>{const a=Pe.findOne(r,s);a&&a.classList.toggle(o,n)};i(L0,Do),i(vF,vp),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,s){e.hasAttribute(n)||e.setAttribute(n,s)}_elemIsActive(e){return e.classList.contains(Do)}_getInnerElement(e){return e.matches(Ep)?e:Pe.findOne(Ep,e)}_getOuterElement(e){return e.closest(EF)||e}static jQueryInterface(e){return this.each(function(){const n=dl.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}re.on(document,dF,V0,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Gr(this)&&dl.getOrCreateInstance(this).show()});re.on(window,pF,()=>{for(const t of Pe.find(wF))dl.getOrCreateInstance(t)});Os(dl);const TF="toast",AF="bs.toast",so=`.${AF}`,IF=`mouseover${so}`,CF=`mouseout${so}`,SF=`focusin${so}`,RF=`focusout${so}`,PF=`hide${so}`,OF=`hidden${so}`,kF=`show${so}`,xF=`shown${so}`,DF="fade",mb="hide",lh="show",ch="showing",NF={animation:"boolean",autohide:"boolean",delay:"number"},LF={animation:!0,autohide:!0,delay:5e3};class ff extends Ws{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return LF}static get DefaultType(){return NF}static get NAME(){return TF}show(){if(re.trigger(this._element,kF).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(DF);const n=()=>{this._element.classList.remove(ch),re.trigger(this._element,xF),this._maybeScheduleHide()};this._element.classList.remove(mb),du(this._element),this._element.classList.add(lh,ch),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||re.trigger(this._element,PF).defaultPrevented)return;const n=()=>{this._element.classList.add(mb),this._element.classList.remove(ch,lh),re.trigger(this._element,OF)};this._element.classList.add(ch),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(lh),super.dispose()}isShown(){return this._element.classList.contains(lh)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){re.on(this._element,IF,e=>this._onInteraction(e,!0)),re.on(this._element,CF,e=>this._onInteraction(e,!1)),re.on(this._element,SF,e=>this._onInteraction(e,!0)),re.on(this._element,RF,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=ff.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}cf(ff);Os(ff);const VF={name:"Footer",data(){return{modalInstance:null,selectedLangue:"fr",selectedDevise:"EUR",langues:[{value:"fr",text:"Français"},{value:"en",text:"Anglais"},{value:"es",text:"Espagnol"}],devises:[{value:"EUR",text:"Euro (€)"},{value:"USD",text:"Dollar ($)"},{value:"GBP",text:"Livre (£)"}]}},mounted(){const t=this.$refs.preferencesModal;this.modalInstance=new Go(t);const e=localStorage.getItem("langue"),n=localStorage.getItem("devise");e&&(this.selectedLangue=e),n&&(this.selectedDevise=n)},methods:{getLangueText(t){const e=this.langues.find(n=>n.value===t);return e?e.text:"Langue"},getDeviseText(t){const e=this.devises.find(n=>n.value===t);return e?e.text:"Devise"},openModal(){this.modalInstance&&this.modalInstance.show()},appliquerPreferences(){localStorage.setItem("langue",this.selectedLangue),localStorage.setItem("devise",this.selectedDevise),this.modalInstance&&this.modalInstance.hide()}}},MF={class:"footer-links"},$F={class:"modal fade",id:"preferencesModal",ref:"preferencesModal",tabindex:"-1","aria-labelledby":"preferencesModalLabel","aria-hidden":"true"},FF={class:"modal-dialog modal-dialog-centered"},UF={class:"modal-content"},jF={class:"modal-body"},BF={class:"mb-3"},HF=["value"],qF={class:"mb-3"},WF=["value"],zF={class:"modal-footer"};function KF(t,e,n,s,i,r){const o=Vt("router-link");return U(),q("footer",null,[e[14]||(e[14]=m("p",{class:"footer-text"},"© 2025 Instant Geek",-1)),m("div",MF,[ne(o,{class:"footer-link",to:"/a_propos"},{default:Oe(()=>e[4]||(e[4]=[xe("À propos")])),_:1}),e[8]||(e[8]=xe(" | ")),ne(o,{class:"footer-link",to:"/politique"},{default:Oe(()=>e[5]||(e[5]=[xe("Politique de confidentialité")])),_:1}),e[9]||(e[9]=xe(" | ")),ne(o,{class:"footer-link",to:"/conditions"},{default:Oe(()=>e[6]||(e[6]=[xe("Conditions de ventes")])),_:1}),ne(o,{class:"footer-link",to:"/contact"},{default:Oe(()=>e[7]||(e[7]=[xe("Nous Contacter")])),_:1})]),m("div",null,[m("button",{class:"footer-button btn btn-primary",onClick:e[0]||(e[0]=(...a)=>r.openModal&&r.openModal(...a))},ae(r.getLangueText(i.selectedLangue))+" | "+ae(r.getDeviseText(i.selectedDevise)),1)]),m("div",$F,[m("div",FF,[m("div",UF,[e[13]||(e[13]=m("div",{class:"modal-header"},[m("h5",{class:"modal-title",id:"preferencesModalLabel"},"Préférences"),m("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),m("div",jF,[m("form",null,[m("div",BF,[e[10]||(e[10]=m("label",{for:"langueSelect",class:"form-label"},"Langue :",-1)),ut(m("select",{class:"form-select",id:"langueSelect","onUpdate:modelValue":e[1]||(e[1]=a=>i.selectedLangue=a)},[(U(!0),q(Ae,null,vt(i.langues,a=>(U(),q("option",{key:a.value,value:a.value},ae(a.text),9,HF))),128))],512),[[Ur,i.selectedLangue]])]),m("div",qF,[e[11]||(e[11]=m("label",{for:"deviseSelect",class:"form-label"},"Devise :",-1)),ut(m("select",{class:"form-select",id:"deviseSelect","onUpdate:modelValue":e[2]||(e[2]=a=>i.selectedDevise=a)},[(U(!0),q(Ae,null,vt(i.devises,a=>(U(),q("option",{key:a.value,value:a.value},ae(a.text),9,WF))),128))],512),[[Ur,i.selectedDevise]])])])]),m("div",zF,[e[12]||(e[12]=m("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Annuler",-1)),m("button",{type:"button",class:"btn btn-primary",onClick:e[3]||(e[3]=(...a)=>r.appliquerPreferences&&r.appliquerPreferences(...a))},"Appliquer")])])])],512)])}const zs=Ut(VF,[["render",KF],["__scopeId","data-v-5da98c2d"]]),GF="/assets/img/Logo.png";async function QF(t,e,n){const i=(await h2(ea,t,e)).user,r=`${n.firstname} ${n.username}`;return await p2(i,{displayName:r}),await ru(Jn(Mt,"users",i.uid),{uid:i.uid,email:i.email,displayName:r,firstname:n.firstname,username:n.username,birthdate:n.birthdate,country:n.country,createdAt:new Date,billingAddress:{street:"",city:"",postalCode:"",country:n.country}}),i}async function YF(t,e){return(await d2(ea,t,e)).user}async function M0(t){const n=(await F2(ea,t)).user,s=Jn(Mt,"users",n.uid),i=await Ho(s),r={uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL};return i.exists()||(r.createdAt=new Date,r.billingAddress={street:"",city:"",postalCode:"",country:""}),await ru(s,r,{merge:!0}),n}async function XF(){const t=new ai;return M0(t)}async function JF(){const t=new oi;return M0(t)}async function ZF(t){var i;const e=ea.currentUser;if(!e)throw new Error("Aucun utilisateur n'est actuellement connecté.");const n=(i=e.providerData[0])==null?void 0:i.providerId;if(n==="password"){if(!t)throw new Error("Le mot de passe est requis pour supprimer le compte.");const r=Zo.credential(e.email,t);await c2(e,r)}else if(n==="google.com"||n==="facebook.com"){let r;n==="google.com"&&(r=new ai),n==="facebook.com"&&(r=new oi),await U2(e,r)}else throw new Error("Type de compte non pris en charge pour la suppression.");const s=Jn(Mt,"users",e.uid);await sL(s),await y2(e)}async function eU(){await v2(ea)}async function tU(t){await u2(ea,t)}function gb(t,e,n){const s=new Date;s.setTime(s.getTime()+n*24*60*60*1e3),document.cookie=`${t}=${e};expires=${s.toUTCString()};path=/`}function nU(t){const e=document.cookie.split(";");for(let n=0;n<e.length;n++){const s=e[n].trim();if(s.startsWith(`${t}=`))return s.substring(t.length+1)}return null}const Kc=we(nU("dark-mode")==="active");function $0(){Kc.value?(document.body.classList.add("dark-mode"),gb("dark-mode","active",365)):(document.body.classList.remove("dark-mode"),gb("dark-mode","inactive",365))}$0();const _b=()=>{Kc.value=!Kc.value,$0()},fn=we(""),sU={class:"navbar navbar-expand-lg shadow-sm"},iU={class:"container-fluid"},rU={class:"navbar-center-content flex-grow-1 d-flex justify-content-center align-items-center"},oU={class:"ig-stepper"},aU={class:"navbar-nav d-none d-lg-flex position-absolute top-50 start-50 translate-middle"},lU={class:"nav-item"},cU={class:"nav-item"},uU={class:"nav-item"},hU={class:"d-flex align-items-center ms-auto"},dU={class:"nav-item dropdown"},fU={key:0,class:"bi bi-person-fill connected-profile-icon navbar-icon"},pU={key:1,class:"bi bi-person-circle navbar-icon"},mU={key:0},gU={class:"dropdown-header"},_U={class:"d-lg-none"},vU={class:"d-lg-none"},yU={class:"d-lg-none"},EU={key:1,class:"d-lg-none"},bU={key:2},wU={key:3},TU={class:"badge bg-danger rounded-pill"},AU={key:4},IU={key:5},CU={key:6},SU={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger cart-badge"},RU={__name:"Navbar",setup(t){const e=fl(),n=Bm(),s=di(),i=uu(),r=Tl(),o=we(!1);let a=null;const c=we(!1),d=we(!1),h=we(null),f=we(null),_=we(!1),E=we(null),S=()=>{e.push({path:"/recherche"})},D=()=>{fn.value.trim()!==""&&n.query.q!==fn.value.trim()&&(c.value=!0,e.push({path:"/recherche",query:{q:fn.value}}))},N=()=>{D()},B=()=>{D()},$=()=>{d.value=!d.value,d.value?Dr(()=>{var O;return(O=h.value)==null?void 0:O.focus()}):fn.value=""},j=()=>{d.value=!1,fn.value=""},H=()=>{setTimeout(()=>{f.value&&!f.value.contains(document.activeElement)&&j()},150)},ie=()=>{_.value=!_.value,_.value?(o.value&&(a==null||a.hide()),Dr(()=>{var O;return(O=E.value)==null?void 0:O.focus()})):fn.value=""},oe=()=>{_.value=!1,fn.value=""},x=async()=>{try{await eU()}catch(O){console.error("Erreur lors de la déconnexion :",O)}},I=()=>{a&&(o.value?a.hide():a.show()),_.value&&oe()};Bn(()=>{n.path==="/recherche"&&n.query.q&&(fn.value=n.query.q);const O=document.getElementById("navbarDropdownProfile");O&&(a=new Us(O),O.addEventListener("show.bs.dropdown",()=>o.value=!0),O.addEventListener("hide.bs.dropdown",()=>o.value=!1))}),us(fn,O=>{O.trim()!==""?D():n.path==="/recherche"&&e.push("/")}),us(()=>n.fullPath,(O,A)=>{O!==A&&(c.value?(Dr(()=>{d.value&&h.value?h.value.focus():_.value&&E.value&&E.value.focus()}),c.value=!1):(o.value&&(a==null||a.hide()),d.value&&j(),_.value&&oe()))},{flush:"post"});const T=St(()=>["/panier","/paiement","/validation"].includes(n.path)),R=St(()=>{switch(n.path){case"/panier":return 1;case"/paiement":return 2;case"/validation":return 3;default:return 0}});return(O,A)=>{const C=Vt("router-link");return U(),q("nav",sU,[m("div",iU,[ne(C,{class:"navbar-brand fw-bold me-auto",to:"/"},{default:Oe(()=>A[3]||(A[3]=[m("img",{src:GF,alt:"Logo",width:"150",height:"50",class:"d-inline-block align-text-top"},null,-1)])),_:1}),T.value?(U(),q(Ae,{key:0},[m("div",rU,[m("div",oU,[m("div",{class:Dt(["step",{completed:R.value>1,active:R.value===1}])},A[4]||(A[4]=[m("div",{class:"step-circle"},"1",-1),m("div",{class:"step-label d-none d-sm-block"},"Panier",-1)]),2),m("div",{class:Dt(["step-line",{completed:R.value>=2}])},null,2),m("div",{class:Dt(["step",{completed:R.value>2,active:R.value===2}])},A[5]||(A[5]=[m("div",{class:"step-circle"},"2",-1),m("div",{class:"step-label d-none d-sm-block"},"Paiement",-1)]),2),m("div",{class:Dt(["step-line",{completed:R.value>=3}])},null,2),m("div",{class:Dt(["step",{completed:R.value>3,active:R.value===3}])},A[6]||(A[6]=[m("div",{class:"step-circle"},"3",-1),m("div",{class:"step-label d-none d-sm-block"},"Validation",-1)]),2)])]),A[7]||(A[7]=za('<div class="secure-payment-cart d-none d-md-flex align-items-center ms-auto" data-v-e80957bf><i class="bi bi-check-circle-fill secure-icon-cart me-2" data-v-e80957bf></i><div class="text-end" data-v-e80957bf><span class="secure-text-cart d-block" data-v-e80957bf>Paiement sécurisé</span><span class="ssl-text-cart d-block" data-v-e80957bf>SSL Secured</span></div></div>',1))],64)):(U(),q(Ae,{key:1},[m("form",{class:Dt(["search-form-mobile d-lg-none",{active:_.value}]),onSubmit:Vs(B,["prevent"])},[ut(m("input",{class:"form-control me-2 search-input-mobile",type:"button",placeholder:"Rechercher...","aria-label":"Search","onUpdate:modelValue":A[0]||(A[0]=Me=>Lt(fn)?fn.value=Me:null),ref_key:"searchInputMobileRef",ref:E},null,512),[[Nt,Ne(fn)]]),m("button",{class:"btn search-filter-btn-mobile",type:"button",onClick:S},A[8]||(A[8]=[m("i",{class:"bi bi-filter"},null,-1)])),m("button",{class:"btn search-close-btn-mobile",type:"button",onClick:oe},A[9]||(A[9]=[m("i",{class:"bi bi-x-lg"},null,-1)]))],34),m("ul",aU,[m("li",lU,[ne(C,{class:"nav-link",to:"/nouveautes"},{default:Oe(()=>A[10]||(A[10]=[xe("Nouveautés")])),_:1})]),m("li",cU,[ne(C,{class:"nav-link",to:"/precommandes"},{default:Oe(()=>A[11]||(A[11]=[xe("Précommandes")])),_:1})]),m("li",uU,[ne(C,{class:"nav-link",to:"/prochaines-sorties"},{default:Oe(()=>A[12]||(A[12]=[xe("Prochaines sorties")])),_:1})])]),m("div",hU,[ne(_v,{name:"fade"},{default:Oe(()=>[_.value?Xt("",!0):(U(),q("button",{key:0,class:"btn btn-outline-secondary d-lg-none search-icon-mobile",type:"button",onClick:ie},A[13]||(A[13]=[m("i",{class:"bi bi-search navbar-icon"},null,-1)])))]),_:1}),ne(_v,{name:"fade"},{default:Oe(()=>[d.value?Xt("",!0):(U(),q("button",{key:0,class:"btn btn-outline-secondary d-none d-lg-block search-icon-desktop",type:"button",onClick:$},A[14]||(A[14]=[m("i",{class:"bi bi-search navbar-icon"},null,-1)])))]),_:1}),m("form",{class:Dt(["search-form d-none d-lg-flex",{active:d.value}]),onSubmit:Vs(N,["prevent"]),ref_key:"searchFormRef",ref:f},[ut(m("input",{class:"form-control me-2 search-input",type:"search",placeholder:"Rechercher...","aria-label":"Search","onUpdate:modelValue":A[1]||(A[1]=Me=>Lt(fn)?fn.value=Me:null),ref_key:"searchInputRef",ref:h,onBlur:H},null,544),[[Nt,Ne(fn)]]),d.value?(U(),q("button",{key:0,class:"btn search-filter-btn",type:"button",onClick:S},A[15]||(A[15]=[m("i",{class:"bi bi-filter"},null,-1)]))):Xt("",!0),d.value?(U(),q("button",{key:1,class:"btn search-close-btn",type:"button",onClick:j},A[16]||(A[16]=[m("i",{class:"bi bi-x-lg"},null,-1)]))):Xt("",!0)],34),m("div",dU,[m("a",{class:"nav-link text ms-2 dropdown-toggle-no-caret",href:"#",id:"navbarDropdownProfile",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:I},[Ne(s).isLoggedIn?(U(),q("i",fU)):(U(),q("i",pU))]),m("ul",{class:Dt(["dropdown-menu dropdown-menu-end profile-dropdown-menu",{show:o.value}]),"aria-labelledby":"navbarDropdownProfile"},[Ne(s).isLoggedIn?(U(),q("li",mU,[m("span",gU,"Bienvenue, "+ae(Ne(s).currentUsername)+"!",1),A[17]||(A[17]=m("hr",{class:"dropdown-divider"},null,-1))])):Xt("",!0),m("li",_U,[ne(C,{class:"dropdown-item",to:"/nouveautes"},{default:Oe(()=>A[18]||(A[18]=[xe("Nouveautés")])),_:1})]),m("li",vU,[ne(C,{class:"dropdown-item",to:"/precommandes"},{default:Oe(()=>A[19]||(A[19]=[xe("Précommandes")])),_:1})]),m("li",yU,[ne(C,{class:"dropdown-item",to:"/prochaines-sorties"},{default:Oe(()=>A[20]||(A[20]=[xe("Prochaines sorties")])),_:1})]),Ne(s).isLoggedIn?Xt("",!0):(U(),q("li",EU,A[21]||(A[21]=[m("hr",{class:"dropdown-divider"},null,-1)]))),Ne(s).isLoggedIn?(U(),q("li",bU,[ne(C,{class:"dropdown-item",to:"/mes-achats"},{default:Oe(()=>A[22]||(A[22]=[xe("Mes achats")])),_:1})])):Xt("",!0),Ne(s).isLoggedIn?(U(),q("li",wU,[ne(C,{class:"dropdown-item d-flex justify-content-between align-items-center",to:"/wishlist"},{default:Oe(()=>[A[23]||(A[23]=xe("Wishlist ")),m("span",TU,ae(Ne(i).wishlistCount),1)]),_:1})])):Xt("",!0),Ne(s).isLoggedIn?(U(),q("li",AU,[ne(C,{class:"dropdown-item",to:"/parametres"},{default:Oe(()=>A[24]||(A[24]=[xe("Paramètres")])),_:1})])):Xt("",!0),Ne(s).isLoggedIn?(U(),q("li",IU,A[25]||(A[25]=[m("hr",{class:"dropdown-divider"},null,-1)]))):Xt("",!0),m("li",null,[m("button",{type:"button",class:"dropdown-item d-flex justify-content-between align-items-center",onClick:A[2]||(A[2]=Vs((...Me)=>Ne(_b)&&Ne(_b)(...Me),["stop"]))},[m("span",null,ae(Ne(Kc)?"Mode clair":"Mode sombre"),1),m("i",{class:Dt(Ne(Kc)?"bi bi-sun-fill":"bi bi-moon-stars-fill")},null,2)])]),Ne(s).isLoggedIn?(U(),q("li",CU,A[26]||(A[26]=[m("hr",{class:"dropdown-divider"},null,-1)]))):Xt("",!0),m("li",null,[Ne(s).isLoggedIn?(U(),q("a",{key:1,class:"dropdown-item custom-auth-link",href:"#",onClick:Vs(x,["prevent"])},"Déconnexion")):(U(),as(C,{key:0,class:"dropdown-item custom-auth-link",to:"/connexion"},{default:Oe(()=>A[27]||(A[27]=[xe("Se connecter")])),_:1}))])],2)]),ne(C,{class:"nav-link text ms-2 position-relative",to:"/panier"},{default:Oe(()=>[A[29]||(A[29]=m("i",{class:"bi bi-cart3 navbar-icon"},null,-1)),Ne(r).totalItems>0?(U(),q("span",SU,[xe(ae(Ne(r).totalItems)+" ",1),A[28]||(A[28]=m("span",{class:"visually-hidden"},"articles dans le panier",-1))])):Xt("",!0)]),_:1})])],64))])])}}},Hn=Ut(RU,[["__scopeId","data-v-e80957bf"]]),PU={__name:"Accueil",setup(t){return(e,n)=>(U(),q(Ae,null,[ne(Hn),ne(KV),ne(nM),ne(_M),ne(CM),ne(LM),ne(zs)],64))}},OU={class:"container-fluid py-2 preco",id:"main-content"},kU={id:"precoIn"},xU={class:"game-card"},DU=["src","alt"],NU={class:"game-text"},LU={class:"titre"},VU={class:"prix"},MU={class:"dateSortie"},$U={__name:"NewGames",setup(t){const e=we([]),n=async()=>{const s=_i(Mt,"games"),i=new Date;i.setHours(0,0,0,0);const r=new Date(i);r.setDate(i.getDate()-180);const o=eo(s,Ki("dateSortie",">=",r),Ki("dateSortie","<=",i),wl("dateSortie"));try{const a=await er(o);e.value=[],a.forEach(c=>{const d=c.data();e.value.push({id:c.id,titre:d.name,link:d.link,image:d.image,price:`${d.price}€`,date:d.dateSortie.toDate().toLocaleDateString("fr-FR")})})}catch(a){console.error("Erreur lors de la récupération des jeux :",a)}};return Bn(()=>{n()}),(s,i)=>{const r=Vt("router-link");return U(),q("div",OU,[m("div",null,[i[0]||(i[0]=m("h1",{class:"mt-3 mb-5"},"Nouveautés",-1)),m("ul",kU,[(U(!0),q(Ae,null,vt(e.value,o=>(U(),q("li",{key:o.id},[m("div",xU,[ne(r,{class:"nav-link",to:`/game/${o.id}`},{default:Oe(()=>[m("img",{src:`/assets/img/preview/${o.image}`,alt:o.titre},null,8,DU)]),_:2},1032,["to"]),m("div",NU,[m("h3",LU,ae(o.titre),1),m("h3",VU,ae(o.price),1)]),m("p",MU,ae(o.date),1)])]))),128))])])])}}},FU=Ut($U,[["__scopeId","data-v-1f773c91"]]),UU={__name:"Nouveautes",setup(t){return(e,n)=>(U(),q(Ae,null,[ne(Hn),m("div",null,[ne(FU)]),ne(zs)],64))}},jU={class:"container-fluid py-2 preco",id:"main-content"},BU={id:"precoIn"},HU={class:"game-card"},qU=["src","alt"],WU={class:"game-text"},zU={class:"titre"},KU={class:"prix"},GU={class:"dateSortie"},QU={__name:"PrecoPage",setup(t){const e=we([]),n=async()=>{const s=_i(Mt,"games"),i=new Date;i.setHours(0,0,0,0);const r=eo(s,Ki("dateSortie",">=",i),wl("dateSortie"));try{const o=await er(r);e.value=[],o.forEach(a=>{const c=a.data();e.value.push({id:a.id,titre:c.name,link:c.link,image:c.image,price:`${c.price}€`,date:c.dateSortie.toDate().toLocaleDateString("fr-FR")})})}catch(o){console.error("Erreur lors de la récupération des jeux :",o)}};return Bn(()=>{n()}),(s,i)=>{const r=Vt("router-link");return U(),q("div",jU,[m("div",null,[i[0]||(i[0]=m("h1",{class:"mt-3"},"Précommandes",-1)),i[1]||(i[1]=m("p",{class:"mb-5"},"Réservez dès maintenant les articles à venir.",-1)),m("ul",BU,[(U(!0),q(Ae,null,vt(e.value,o=>(U(),q("li",{key:o.id},[m("div",HU,[ne(r,{class:"nav-link",to:`/game/${o.id}`},{default:Oe(()=>[m("img",{src:`/assets/img/preview/${o.image}`,alt:o.titre},null,8,qU)]),_:2},1032,["to"]),m("div",WU,[m("h3",zU,ae(o.titre),1),m("h3",KU,ae(o.price),1)]),m("p",GU,ae(o.date),1)])]))),128))])])])}}},YU=Ut(QU,[["__scopeId","data-v-18b1776a"]]),XU={__name:"Precommandes",setup(t){return(e,n)=>(U(),q(Ae,null,[ne(Hn),m("div",null,[ne(YU)]),ne(zs)],64))}},JU={class:"container-fluid py-2 preco",id:"main-content"},ZU={id:"precoIn"},e5={class:"game-card GameJuill"},t5=["src","alt"],n5={class:"game-text"},s5={class:"titre"},i5={class:"prix"},r5={class:"dateSortie"},o5={id:"precoIn"},a5={class:"game-card GameAout"},l5=["src","alt"],c5={class:"game-text"},u5={class:"titre"},h5={class:"prix"},d5={class:"dateSortie"},f5={id:"precoIn"},p5={class:"game-card GameAout"},m5=["src","alt"],g5={class:"game-text"},_5={class:"titre"},v5={class:"prix"},y5={class:"dateSortie"},E5={id:"precoIn"},b5={class:"game-card GameAout"},w5=["src","alt"],T5={class:"game-text"},A5={class:"titre"},I5={class:"prix"},C5={class:"dateSortie"},S5={id:"precoIn"},R5={class:"game-card GameAout"},P5=["src","alt"],O5={class:"game-text"},k5={class:"titre"},x5={class:"prix"},D5={class:"dateSortie"},N5={id:"precoIn"},L5={class:"game-card GameAout"},V5=["src","alt"],M5={class:"game-text"},$5={class:"titre"},F5={class:"prix"},U5={class:"dateSortie"},j5={__name:"PlanningSortie",setup(t){const e=we([]),n=we([]),s=we([]),i=we([]),r=we([]),o=we([]),a=async()=>{const c=_i(Mt,"games"),d=new Date("2025-07-01T00:00:00"),h=new Date("2025-12-31T23:59:59"),f=eo(c,Ki("dateSortie",">=",d),Ki("dateSortie","<=",h),wl("dateSortie"));try{const _=await er(f);e.value=[],n.value=[],s.value=[],i.value=[],r.value=[],o.value=[],_.forEach(E=>{const S=E.data(),D=S.dateSortie.toDate(),N={id:E.id,titre:S.name,link:S.link,image:S.image,price:`${S.price}€`,date:D.toLocaleDateString("fr-FR")};switch(D.getMonth()){case 6:e.value.push(N);break;case 7:n.value.push(N);break;case 8:s.value.push(N);break;case 9:i.value.push(N);break;case 10:r.value.push(N);break;case 11:o.value.push(N);break}})}catch(_){console.error("Erreur lors de la récupération des jeux :",_)}};return Bn(()=>{a()}),(c,d)=>{const h=Vt("router-link");return U(),q("div",JU,[m("div",null,[d[0]||(d[0]=m("h1",{class:"mt-3 mb-5"},"Prochaines sorties",-1)),d[1]||(d[1]=m("h2",{class:"text-center"},[m("u",null,"Juillet")],-1)),d[2]||(d[2]=m("br",null,null,-1)),m("ul",ZU,[(U(!0),q(Ae,null,vt(e.value,f=>(U(),q("li",{key:f.id},[m("div",e5,[ne(h,{class:"nav-link",to:`/game/${f.id}`},{default:Oe(()=>[m("img",{src:`/assets/img/preview/${f.image}`,alt:f.titre},null,8,t5)]),_:2},1032,["to"]),m("div",n5,[m("h3",s5,ae(f.titre),1),m("h3",i5,ae(f.price),1)]),m("p",r5,ae(f.date),1)])]))),128))]),d[3]||(d[3]=m("h2",{class:"text-center mt-4 mb-5"},[m("u",null,"Août")],-1)),m("ul",o5,[(U(!0),q(Ae,null,vt(n.value,f=>(U(),q("li",{key:f.id},[m("div",a5,[ne(h,{class:"nav-link",to:`/game/${f.id}`},{default:Oe(()=>[m("img",{src:`/assets/img/preview/${f.image}`,alt:f.titre},null,8,l5)]),_:2},1032,["to"]),m("div",c5,[m("h3",u5,ae(f.titre),1),m("h3",h5,ae(f.price),1)]),m("p",d5,ae(f.date),1)])]))),128))]),d[4]||(d[4]=m("h2",{class:"text-center mt-4 mb-5"},[m("u",null,"Septembre")],-1)),m("ul",f5,[(U(!0),q(Ae,null,vt(s.value,f=>(U(),q("li",{key:f.id},[m("div",p5,[ne(h,{class:"nav-link",to:`/game/${f.id}`},{default:Oe(()=>[m("img",{src:`/assets/img/preview/${f.image}`,alt:f.titre},null,8,m5)]),_:2},1032,["to"]),m("div",g5,[m("h3",_5,ae(f.titre),1),m("h3",v5,ae(f.price),1)]),m("p",y5,ae(f.date),1)])]))),128))]),d[5]||(d[5]=m("h2",{class:"text-center mt-4 mb-5"},[m("u",null,"Octobre")],-1)),m("ul",E5,[(U(!0),q(Ae,null,vt(i.value,f=>(U(),q("li",{key:f.id},[m("div",b5,[ne(h,{class:"nav-link",to:`/game/${f.id}`},{default:Oe(()=>[m("img",{src:`/assets/img/preview/${f.image}`,alt:f.titre},null,8,w5)]),_:2},1032,["to"]),m("div",T5,[m("h3",A5,ae(f.titre),1),m("h3",I5,ae(f.price),1)]),m("p",C5,ae(f.date),1)])]))),128))]),d[6]||(d[6]=m("h2",{class:"text-center mt-4 mb-5"},[m("u",null,"Novembre")],-1)),m("ul",S5,[(U(!0),q(Ae,null,vt(r.value,f=>(U(),q("li",{key:f.id},[m("div",R5,[ne(h,{class:"nav-link",to:`/game/${f.id}`},{default:Oe(()=>[m("img",{src:`/assets/img/preview/${f.image}`,alt:f.titre},null,8,P5)]),_:2},1032,["to"]),m("div",O5,[m("h3",k5,ae(f.titre),1),m("h3",x5,ae(f.price),1)]),m("p",D5,ae(f.date),1)])]))),128))]),d[7]||(d[7]=m("h2",{class:"text-center mt-4 mb-5"},[m("u",null,"Décembre")],-1)),m("ul",N5,[(U(!0),q(Ae,null,vt(o.value,f=>(U(),q("li",{key:f.id},[m("div",L5,[ne(h,{class:"nav-link",to:`/game/${f.id}`},{default:Oe(()=>[m("img",{src:`/assets/img/preview/${f.image}`,alt:f.titre},null,8,V5)]),_:2},1032,["to"]),m("div",M5,[m("h3",$5,ae(f.titre),1),m("h3",F5,ae(f.price),1)]),m("p",U5,ae(f.date),1)])]))),128))])])])}}},B5=Ut(j5,[["__scopeId","data-v-6b74c152"]]),H5={__name:"ProchainesSorties",setup(t){return(e,n)=>(U(),q(Ae,null,[ne(Hn),m("div",null,[ne(B5)]),ne(zs)],64))}},q5="/assets/img/inscription.jpg",W5={class:"login-page-wrapper vh-100 d-flex align-items-center justify-content-center"},z5={class:"login-card-container d-flex shadow-lg"},K5={class:"login-form-section p-4 d-flex flex-column justify-content-center align-items-center text-center"},G5={class:"form-group mb-3 text-start"},Q5={class:"form-group mb-3 text-start"},Y5={class:"form-group mb-3 text-start"},X5={class:"form-group mb-3 text-start"},J5={class:"form-group mb-3 text-start"},Z5={class:"form-group mb-4 text-start"},e9=["value"],t9={class:"d-flex justify-content-center w-100 mt-4 small-links"},n9={class:"login-image-section d-none d-md-flex align-items-center justify-content-center p-0"},s9={__name:"Inscription",setup(t){const e=we(""),n=we(""),s=we(""),i=we(""),r=we(""),o=we(""),a=we([]),c=fl();async function d(){try{const f=await fetch("https://restcountries.com/v3.1/all?fields=name,cca3");if(!f.ok)throw new Error("Failed to fetch countries");const _=await f.json();a.value=_.sort((E,S)=>E.name.common.localeCompare(S.name.common))}catch(f){console.error(f.message)}}Bn(()=>{d()});async function h(){const f=new Date,_=new Date(r.value),E=new Date(f.getFullYear()-18,f.getMonth(),f.getDate());if(_>E){alert("Vous devez avoir au moins 18 ans pour vous inscrire.");return}try{const S=await QF(e.value,n.value);if(S&&S.uid)await ru(Jn(Mt,"users",S.uid),{email:e.value,username:s.value,firstname:i.value,birthdate:r.value,country:o.value,createdAt:new Date},{merge:!0}),alert("Compte créé avec succès !"),c.push("/");else throw new Error("L'utilisateur n'a pas été créé correctement par Firebase.")}catch(S){alert("Erreur lors de l'inscription : "+S.message)}}return(f,_)=>{const E=Vt("router-link");return U(),q("div",W5,[m("div",z5,[m("div",K5,[_[15]||(_[15]=m("h2",{class:"login-title mb-4 text-white"},"inscription",-1)),m("form",{onSubmit:Vs(h,["prevent"]),class:"w-100"},[m("div",G5,[_[6]||(_[6]=m("label",{for:"email",class:"form-label text-uppercase text-white-50"},"Email",-1)),ut(m("input",{id:"email","onUpdate:modelValue":_[0]||(_[0]=S=>e.value=S),type:"email",class:"form-control login-input",required:"","aria-label":"Email"},null,512),[[Nt,e.value]])]),m("div",Q5,[_[7]||(_[7]=m("label",{for:"password",class:"form-label text-uppercase text-white-50"},"Mot de passe",-1)),ut(m("input",{id:"password","onUpdate:modelValue":_[1]||(_[1]=S=>n.value=S),type:"password",class:"form-control login-input",required:"","aria-label":"Mot de passe"},null,512),[[Nt,n.value]])]),m("div",Y5,[_[8]||(_[8]=m("label",{for:"username",class:"form-label text-uppercase text-white-50"},"Nom",-1)),ut(m("input",{id:"username","onUpdate:modelValue":_[2]||(_[2]=S=>s.value=S),type:"text",class:"form-control login-input",required:"","aria-label":"Nom d'utilisateur"},null,512),[[Nt,s.value]])]),m("div",X5,[_[9]||(_[9]=m("label",{for:"firstname",class:"form-label text-uppercase text-white-50"},"Prénom",-1)),ut(m("input",{id:"firstname","onUpdate:modelValue":_[3]||(_[3]=S=>i.value=S),type:"text",class:"form-control login-input",required:"","aria-label":"Prénom"},null,512),[[Nt,i.value]])]),m("div",J5,[_[10]||(_[10]=m("label",{for:"birthdate",class:"form-label text-uppercase text-white-50"},"Date de naissance",-1)),ut(m("input",{id:"birthdate","onUpdate:modelValue":_[4]||(_[4]=S=>r.value=S),type:"date",class:"form-control login-input",required:"","aria-label":"Date de naissance"},null,512),[[Nt,r.value]])]),m("div",Z5,[_[12]||(_[12]=m("label",{for:"country",class:"form-label text-uppercase text-white-50"},"Pays",-1)),ut(m("select",{id:"country","onUpdate:modelValue":_[5]||(_[5]=S=>o.value=S),class:"form-control login-input",required:"","aria-label":"Pays"},[_[11]||(_[11]=m("option",{disabled:"",value:""},"Veuillez sélectionner un pays",-1)),(U(!0),q(Ae,null,vt(a.value,S=>(U(),q("option",{key:S.cca3,value:S.name.common},ae(S.name.common),9,e9))),128))],512),[[Ur,o.value]])]),_[13]||(_[13]=m("button",{type:"submit",class:"btn login-btn w-100"},"valider",-1))],32),m("div",t9,[ne(E,{to:"/connexion",class:"text-decoration-none text-white-50"},{default:Oe(()=>_[14]||(_[14]=[m("i",{class:"bi bi-arrow-left me-2"},null,-1),xe(" RETOUR ")])),_:1})])]),m("div",n9,[ne(E,{to:"/",class:"close-button","aria-label":"Retour à l'accueil"},{default:Oe(()=>_[16]||(_[16]=[m("i",{class:"bi bi-x-lg"},null,-1)])),_:1}),_[17]||(_[17]=m("img",{src:q5,alt:"Illustration de jeux vidéo pour l'inscription",class:"img-fluid login-background-image"},null,-1))])])])}}},i9=Ut(s9,[["__scopeId","data-v-8a284661"]]),r9="/assets/img/connexion.jpg",o9={class:"login-page-wrapper vh-100 d-flex align-items-center justify-content-center"},a9={class:"login-card-container d-flex shadow-lg"},l9={class:"login-form-section p-4 d-flex flex-column justify-content-center align-items-center text-center"},c9={key:0,class:"alert alert-danger w-100 mb-3"},u9={class:"form-group mb-3 text-start"},h9={class:"form-group mb-4 text-start"},d9={class:"d-flex justify-content-between w-100 mt-3 small-links"},f9={class:"login-image-section d-none d-md-flex align-items-center justify-content-center p-0"},p9={__name:"Connexion",setup(t){const e=we(""),n=we(""),s=fl(),i=we("");async function r(){i.value="";try{await YF(e.value,n.value),s.push("/")}catch(h){console.error("Erreur de connexion:",h.code),i.value="Email ou mot de passe incorrect."}}async function o(){i.value="";try{await XF(),s.push("/")}catch(h){console.error("Erreur avec Google:",h),i.value="Impossible de se connecter avec Google pour le moment."}}async function a(){i.value="";try{await JF(),s.push("/")}catch(h){console.error("Erreur avec Facebook:",h),i.value="Impossible de se connecter avec Facebook. Veuillez vérifier la configuration."}}function c(){const h="VOTRE_CLIENT_ID_DISCORD",f=encodeURIComponent(window.location.origin+"/callback/discord"),_=encodeURIComponent("identify email"),E=`https://discord.com/api/oauth2/authorize?client_id=${h}&redirect_uri=${f}&response_type=code&scope=${_}`;window.location.href=E}async function d(){if(!e.value){alert('Veuillez entrer votre adresse email dans le champ "Email" pour réinitialiser votre mot de passe.');return}try{await tU(e.value),alert("Un e-mail de réinitialisation de mot de passe a été envoyé à "+e.value+". Veuillez vérifier votre boîte de réception.")}catch(h){alert("Erreur lors de l'envoi de l'e-mail de réinitialisation : "+h.message)}}return(h,f)=>{const _=Vt("router-link");return U(),q("div",o9,[m("div",a9,[m("div",l9,[f[9]||(f[9]=m("h2",{class:"login-title mb-4"},"Se connecter",-1)),i.value?(U(),q("div",c9,ae(i.value),1)):Xt("",!0),m("div",{class:"social-icons d-flex justify-content-center w-100 mb-4"},[m("button",{onClick:o,class:"btn social-icon-btn google-btn me-3","aria-label":"Se connecter avec Google"},f[2]||(f[2]=[m("i",{class:"bi bi-google"},null,-1)])),m("button",{onClick:c,class:"btn social-icon-btn discord-btn me-3","aria-label":"Se connecter avec Discord"},f[3]||(f[3]=[m("i",{class:"bi bi-discord"},null,-1)])),m("button",{onClick:a,class:"btn social-icon-btn facebook-btn","aria-label":"Se connecter avec Facebook"},f[4]||(f[4]=[m("i",{class:"bi bi-facebook"},null,-1)]))]),f[10]||(f[10]=m("div",{class:"social-login-separator my-3"},"— ou —",-1)),m("form",{onSubmit:Vs(r,["prevent"]),class:"w-100"},[m("div",u9,[f[5]||(f[5]=m("label",{for:"email",class:"form-label text-uppercase"},"Email",-1)),ut(m("input",{id:"email","onUpdate:modelValue":f[0]||(f[0]=E=>e.value=E),type:"email",class:"form-control login-input",required:"","aria-label":"Email"},null,512),[[Nt,e.value]])]),m("div",h9,[f[6]||(f[6]=m("label",{for:"password",class:"form-label text-uppercase"},"Mot de passe",-1)),ut(m("input",{id:"password","onUpdate:modelValue":f[1]||(f[1]=E=>n.value=E),type:"password",class:"form-control login-input",required:"","aria-label":"Mot de passe"},null,512),[[Nt,n.value]])]),f[7]||(f[7]=m("button",{type:"submit",class:"btn login-btn w-100"},"Se connecter",-1))],32),m("div",d9,[ne(_,{to:"/inscription",class:"text-decoration-none"},{default:Oe(()=>f[8]||(f[8]=[xe(" J'ai besoin de compte ? ")])),_:1}),m("a",{href:"#",onClick:Vs(d,["prevent"]),class:"text-decoration-none"}," Mot de passe oublié ? ")])]),m("div",f9,[ne(_,{to:"/",class:"close-button","aria-label":"Retour à l'accueil"},{default:Oe(()=>f[11]||(f[11]=[m("i",{class:"bi bi-x-lg"},null,-1)])),_:1}),f[12]||(f[12]=m("img",{src:r9,alt:"Illustration de jeux vidéo",class:"img-fluid login-background-image"},null,-1))])])])}}},m9=Ut(p9,[["__scopeId","data-v-2a763fc7"]]),g9={class:"panier-container container py-5",id:"main-content"},_9={class:"row g-4 mt-4"},v9={class:"col-lg-8"},y9={class:"cart-items-list"},E9={key:0,class:"empty-cart-message"},b9=["src","alt"],w9={class:"item-details"},T9={class:"item-name"},A9={class:"item-price-unit"},I9={class:"item-quantity-controls"},C9=["onClick"],S9={class:"quantity-display"},R9=["onClick"],P9={class:"item-subtotal"},O9={class:"mb-0"},k9=["onClick"],x9={class:"col-lg-4"},D9={class:"order-summary"},N9={class:"summary-details mt-4"},L9={class:"d-flex justify-content-between fw-bold summary-total-final"},V9={class:"display-6"},M9={class:"address-section"},$9={key:0,class:"address-box-action"},F9={key:1,class:"address-box-action"},U9={key:2,class:"address-box-saved"},j9={class:"address-details"},B9={class:"payment-section"},H9={class:"credit-card-form"},q9={class:"mb-3"},W9={class:"mb-3"},z9={class:"row"},K9={class:"col-7"},G9={class:"d-flex"},Q9=["value"],Y9=["value"],X9={class:"col-5"},J9=["disabled"],Z9={__name:"Panier",setup(t){const e=Tl(),n=di(),s=fl(),i=St(()=>e.items.length>0&&n.isLoggedIn&&n.hasCompleteBillingAddress&&a.value),r=new Date().getFullYear(),o=we({name:"",number:"",expiryMonth:"",expiryYear:"",cvc:""}),a=St(()=>o.value.name.trim()!==""&&o.value.number.length>=16&&o.value.expiryMonth!==""&&o.value.expiryYear!==""&&o.value.cvc.length>=3);async function c(){if(!i.value){alert("Veuillez vous connecter et renseigner une adresse de facturation complète pour continuer.");return}try{const d={userId:n.user.uid,createdAt:oL(),items:JSON.parse(JSON.stringify(e.items)),totalPrice:e.totalPrice,billingAddress:JSON.parse(JSON.stringify(n.billingAddress)),status:"validée"};console.log("Objet orderData envoyé à Firestore :",d),console.log("État de authStore.user au moment du clic :",n.user),console.log("État de authStore.billingAddress :",n.billingAddress);const h=_i(Mt,"orders"),f=await iL(h,d);e.clearCart(),s.push({name:"validation",params:{orderId:f.id}})}catch(d){console.error("Erreur lors de la création de la commande : ",d),alert("Une erreur est survenue lors du paiement. Veuillez réessayer.")}}return(d,h)=>{const f=Vt("router-link");return U(),q(Ae,null,[ne(Hn),m("div",g9,[m("div",_9,[m("div",v9,[m("div",y9,[Ne(e).items.length===0?(U(),q("div",E9,[h[6]||(h[6]=m("i",{class:"bi bi-bag-fill empty-cart-icon"},null,-1)),h[7]||(h[7]=m("h3",null,"Votre panier est vide.",-1)),h[8]||(h[8]=m("p",null,"Découvrez notre catalogue de jeux et remplissez votre collection !",-1)),ne(f,{to:"/",class:"btn btn-primary mt-3"},{default:Oe(()=>h[5]||(h[5]=[xe("Explorer le catalogue")])),_:1})])):(U(!0),q(Ae,{key:1},vt(Ne(e).items,_=>(U(),q("div",{key:_.id,class:"cart-item"},[m("img",{src:_.image,alt:_.name,class:"item-image"},null,8,b9),m("div",w9,[m("h5",T9,ae(_.name),1),m("p",A9,ae(_.price)+" €",1)]),m("div",I9,[m("button",{class:"btn-quantity",onClick:E=>Ne(e).decreaseQuantity(_.id)},h[9]||(h[9]=[m("i",{class:"bi bi-dash"},null,-1)]),8,C9),m("span",S9,ae(_.quantity),1),m("button",{class:"btn-quantity",onClick:E=>Ne(e).increaseQuantity(_.id)},h[10]||(h[10]=[m("i",{class:"bi bi-plus"},null,-1)]),8,R9)]),m("div",P9,[m("p",O9,ae((_.price*_.quantity).toFixed(2))+" €",1)]),m("button",{class:"btn-delete",onClick:E=>Ne(e).removeItem(_.id)},h[11]||(h[11]=[m("i",{class:"bi bi-trash-fill"},null,-1)]),8,k9)]))),128))])]),m("div",x9,[m("div",D9,[h[32]||(h[32]=m("h3",{class:"summary-title"},"RÉSUMÉ DE LA COMMANDE",-1)),m("div",N9,[m("div",L9,[h[12]||(h[12]=m("span",null,"TOTAL :",-1)),m("span",V9,ae(Ne(e).totalPrice)+" €",1)]),h[13]||(h[13]=m("p",{class:"mt-3 text-muted small"},"*Livraison instantanée par clé numérique.",-1))]),h[33]||(h[33]=m("hr",{class:"my-4"},null,-1)),m("div",M9,[h[23]||(h[23]=m("h4",{class:"address-title"},"Adresse de facturation",-1)),Ne(n).isLoggedIn?Ne(n).hasCompleteBillingAddress?(U(),q("div",U9,[m("div",j9,[m("strong",null,ae(Ne(n).userData.firstname)+" "+ae(Ne(n).userData.username),1),h[19]||(h[19]=m("br",null,null,-1)),xe(" "+ae(Ne(n).billingAddress.street),1),h[20]||(h[20]=m("br",null,null,-1)),xe(" "+ae(Ne(n).billingAddress.postalCode)+" "+ae(Ne(n).billingAddress.city),1),h[21]||(h[21]=m("br",null,null,-1)),xe(" "+ae(Ne(n).billingAddress.country),1)]),ne(f,{to:"/parametres",class:"edit-address-btn","aria-label":"Modifier l'adresse"},{default:Oe(()=>h[22]||(h[22]=[m("i",{class:"bi bi-pencil-square"},null,-1)])),_:1})])):(U(),q("div",F9,[h[18]||(h[18]=m("p",null,"Aucune adresse de facturation trouvée.",-1)),ne(f,{to:"/parametres",class:"btn btn-sm btn-outline-primary"},{default:Oe(()=>h[17]||(h[17]=[xe(" Ajouter une adresse ")])),_:1})])):(U(),q("div",$9,[m("p",null,[h[15]||(h[15]=xe("Veuillez vous ")),ne(f,{to:"/connexion"},{default:Oe(()=>h[14]||(h[14]=[xe("connecter")])),_:1}),h[16]||(h[16]=xe(" pour utiliser une adresse enregistrée."))])]))]),h[34]||(h[34]=m("hr",{class:"my-4"},null,-1)),m("div",B9,[h[30]||(h[30]=m("h4",{class:"payment-title"},"Informations de paiement",-1)),m("form",H9,[m("div",q9,[h[24]||(h[24]=m("label",{for:"card-name",class:"form-label"},"Nom sur la carte",-1)),ut(m("input",{type:"text",id:"card-name",class:"form-control","onUpdate:modelValue":h[0]||(h[0]=_=>o.value.name=_),required:""},null,512),[[Nt,o.value.name]])]),m("div",W9,[h[25]||(h[25]=m("label",{for:"card-number",class:"form-label"},"Numéro de carte",-1)),ut(m("input",{type:"text",id:"card-number",class:"form-control",placeholder:"0000 0000 0000 0000","onUpdate:modelValue":h[1]||(h[1]=_=>o.value.number=_),maxlength:"19",required:""},null,512),[[Nt,o.value.number]])]),m("div",z9,[m("div",K9,[h[28]||(h[28]=m("label",{for:"card-expiry",class:"form-label"},"Expiration",-1)),m("div",G9,[ut(m("select",{id:"card-expiry-month",class:"form-select me-2","onUpdate:modelValue":h[2]||(h[2]=_=>o.value.expiryMonth=_),required:""},[h[26]||(h[26]=m("option",{disabled:"",value:""},"Mois",-1)),(U(),q(Ae,null,vt(12,_=>m("option",{key:_,value:_},ae(_.toString().padStart(2,"0")),9,Q9)),64))],512),[[Ur,o.value.expiryMonth]]),ut(m("select",{id:"card-expiry-year",class:"form-select","onUpdate:modelValue":h[3]||(h[3]=_=>o.value.expiryYear=_),required:""},[h[27]||(h[27]=m("option",{disabled:"",value:""},"Année",-1)),(U(),q(Ae,null,vt(10,_=>m("option",{key:_,value:Ne(r)+_-1},ae(Ne(r)+_-1),9,Y9)),64))],512),[[Ur,o.value.expiryYear]])])]),m("div",X9,[h[29]||(h[29]=m("label",{for:"card-cvc",class:"form-label"},"CVC",-1)),ut(m("input",{type:"text",id:"card-cvc",class:"form-control",placeholder:"123","onUpdate:modelValue":h[4]||(h[4]=_=>o.value.cvc=_),maxlength:"4",required:""},null,512),[[Nt,o.value.cvc]])])])])]),m("button",{onClick:c,class:"btn-validate mt-4",disabled:!i.value}," PAYER "+ae(Ne(e).totalPrice)+" € ",9,J9),ne(f,{to:"/",class:"btn btn-continue-shopping mt-3"},{default:Oe(()=>h[31]||(h[31]=[xe(" Continuer mes achats ")])),_:1})])])])])],64)}}},ej=Ut(Z9,[["__scopeId","data-v-552c2cad"]]),tj={key:0,class:"similar"},nj={class:"row"},sj={class:"media-scroller snaps-inline",id:"similarIn"},ij={class:"game-card mt-4 mb-5"},rj=["src","alt"],oj={class:"game-text"},aj={class:"titre"},lj={class:"prix"},cj={__name:"SimilarGames",props:{tags:{type:Array,required:!0},currentGameId:{type:String,required:!0}},setup(t){const e=t,n=we([]);return us(()=>e.tags,async()=>{const i=_i(Mt,"games"),r=[];(await er(i)).forEach(a=>{const c=a.data(),d=c.tag||[];if(a.id!==e.currentGameId){const h=d.filter(f=>e.tags.includes(f));h.length>=2&&r.push({id:a.id,titre:c.name,image:c.image,price:`${c.price}€`,commonTagCount:h.length})}}),r.sort((a,c)=>c.commonTagCount-a.commonTagCount),n.value=r.slice(0,8)},{immediate:!0}),(i,r)=>{const o=Vt("router-link");return n.value.length?(U(),q("div",tj,[r[1]||(r[1]=m("h2",null,"Jeux similaires",-1)),m("div",nj,[m("ul",sj,[(U(!0),q(Ae,null,vt(n.value,a=>(U(),q("div",{key:a.id,class:"col-6 col-md-3 mb-4"},[ne(o,{to:`/game/${a.id}`,class:"text-decoration-none"},{default:Oe(()=>[m("div",ij,[ne(o,{class:"nav-link",to:`/game/${a.id}`},{default:Oe(()=>[m("img",{src:`/assets/img/preview/${a.image}`,alt:a.titre},null,8,rj)]),_:2},1032,["to"]),m("div",oj,[m("h3",aj,ae(a.titre)+" :",1),m("h3",lj,ae(a.price),1)]),r[0]||(r[0]=m("h2",null,null,-1))])]),_:2},1032,["to"])]))),128))])])])):Xt("",!0)}}},uj=Ut(cj,[["__scopeId","data-v-1458b84d"]]);var hj=Object.defineProperty,vb=Object.getOwnPropertySymbols,dj=Object.prototype.hasOwnProperty,fj=Object.prototype.propertyIsEnumerable,yb=(t,e,n)=>e in t?hj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F0=(t,e)=>{for(var n in e||(e={}))dj.call(e,n)&&yb(t,n,e[n]);if(vb)for(var n of vb(e))fj.call(e,n)&&yb(t,n,e[n]);return t},pf=t=>typeof t=="function",mf=t=>typeof t=="string",U0=t=>mf(t)&&t.trim().length>0,pj=t=>typeof t=="number",No=t=>typeof t>"u",Gc=t=>typeof t=="object"&&t!==null,mj=t=>pi(t,"tag")&&U0(t.tag),j0=t=>window.TouchEvent&&t instanceof TouchEvent,B0=t=>pi(t,"component")&&H0(t.component),gj=t=>pf(t)||Gc(t),H0=t=>!No(t)&&(mf(t)||gj(t)||B0(t)),Eb=t=>Gc(t)&&["height","width","right","left","top","bottom"].every(e=>pj(t[e])),pi=(t,e)=>(Gc(t)||pf(t))&&e in t,_j=(t=>()=>t++)(0);function bp(t){return j0(t)?t.targetTouches[0].clientX:t.clientX}function bb(t){return j0(t)?t.targetTouches[0].clientY:t.clientY}var vj=t=>{No(t.remove)?t.parentNode&&t.parentNode.removeChild(t):t.remove()},gu=t=>B0(t)?gu(t.component):mj(t)?Yi({render(){return t}}):typeof t=="string"?t:nt(Ne(t)),yj=t=>{if(typeof t=="string")return t;const e=pi(t,"props")&&Gc(t.props)?t.props:{},n=pi(t,"listeners")&&Gc(t.listeners)?t.listeners:{};return{component:gu(t),props:e,listeners:n}},Ej=()=>typeof window<"u",c_=class{constructor(){this.allHandlers={}}getHandlers(t){return this.allHandlers[t]||[]}on(t,e){const n=this.getHandlers(t);n.push(e),this.allHandlers[t]=n}off(t,e){const n=this.getHandlers(t);n.splice(n.indexOf(e)>>>0,1)}emit(t,e){this.getHandlers(t).forEach(s=>s(e))}},bj=t=>["on","off","emit"].every(e=>pi(t,e)&&pf(t[e])),is;(function(t){t.SUCCESS="success",t.ERROR="error",t.WARNING="warning",t.INFO="info",t.DEFAULT="default"})(is||(is={}));var fd;(function(t){t.TOP_LEFT="top-left",t.TOP_CENTER="top-center",t.TOP_RIGHT="top-right",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_CENTER="bottom-center",t.BOTTOM_RIGHT="bottom-right"})(fd||(fd={}));var rs;(function(t){t.ADD="add",t.DISMISS="dismiss",t.UPDATE="update",t.CLEAR="clear",t.UPDATE_DEFAULTS="update_defaults"})(rs||(rs={}));var $s="Vue-Toastification",Ls={type:{type:String,default:is.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},q0={type:Ls.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Oh={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:Ls.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},vm={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},W0={transition:{type:[Object,String],default:`${$s}__bounce`}},wj={position:{type:String,default:fd.TOP_RIGHT},draggable:Ls.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:Ls.trueBoolean,pauseOnHover:Ls.trueBoolean,closeOnClick:Ls.trueBoolean,timeout:vm.timeout,hideProgressBar:vm.hideProgressBar,toastClassName:Ls.classNames,bodyClassName:Ls.classNames,icon:q0.customIcon,closeButton:Oh.component,closeButtonClassName:Oh.classNames,showCloseButtonOnHover:Oh.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new c_}},Tj={id:{type:[String,Number],required:!0,default:0},type:Ls.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},Aj={container:{type:[Object,Function],default:()=>document.body},newestOnTop:Ls.trueBoolean,maxToasts:{type:Number,default:20},transition:W0.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:t=>t},filterToasts:{type:Function,default:t=>t},containerClassName:Ls.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},Ui={CORE_TOAST:wj,TOAST:Tj,CONTAINER:Aj,PROGRESS_BAR:vm,ICON:q0,TRANSITION:W0,CLOSE_BUTTON:Oh},z0=Yi({name:"VtProgressBar",props:Ui.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${$s}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function Ij(t,e){return U(),q("div",{style:ji(t.style),class:Dt(t.cpClass)},null,6)}z0.render=Ij;var Cj=z0,K0=Yi({name:"VtCloseButton",props:Ui.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?gu(this.component):"button"},classes(){const t=[`${$s}__close-button`];return this.showOnHover&&t.push("show-on-hover"),t.concat(this.classNames)}}}),Sj=xe(" × ");function Rj(t,e){return U(),as(Dm(t.buttonComponent),Sd({"aria-label":t.ariaLabel,class:t.classes},t.$attrs),{default:Oe(()=>[Sj]),_:1},16,["aria-label","class"])}K0.render=Rj;var Pj=K0,G0={},Oj={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},kj=m("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),xj=[kj];function Dj(t,e){return U(),q("svg",Oj,xj)}G0.render=Dj;var Nj=G0,Q0={},Lj={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Vj=m("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Mj=[Vj];function $j(t,e){return U(),q("svg",Lj,Mj)}Q0.render=$j;var wb=Q0,Y0={},Fj={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Uj=m("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),jj=[Uj];function Bj(t,e){return U(),q("svg",Fj,jj)}Y0.render=Bj;var Hj=Y0,X0={},qj={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},Wj=m("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),zj=[Wj];function Kj(t,e){return U(),q("svg",qj,zj)}X0.render=Kj;var Gj=X0,J0=Yi({name:"VtIcon",props:Ui.ICON,computed:{customIconChildren(){return pi(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return mf(this.customIcon)?this.trimValue(this.customIcon):pi(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return pi(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:H0(this.customIcon)?gu(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[is.DEFAULT]:wb,[is.INFO]:wb,[is.SUCCESS]:Nj,[is.ERROR]:Gj,[is.WARNING]:Hj}[this.type]},iconClasses(){const t=[`${$s}__icon`];return this.hasCustomIcon?t.concat(this.customIconClass):t}},methods:{trimValue(t,e=""){return U0(t)?t.trim():e}}});function Qj(t,e){return U(),as(Dm(t.component),{class:Dt(t.iconClasses)},{default:Oe(()=>[xe(ae(t.customIconChildren),1)]),_:1},8,["class"])}J0.render=Qj;var Yj=J0,Z0=Yi({name:"VtToast",components:{ProgressBar:Cj,CloseButton:Pj,Icon:Yj},inheritAttrs:!1,props:Object.assign({},Ui.CORE_TOAST,Ui.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const t=[`${$s}__toast`,`${$s}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&t.push("disable-transition"),this.rtl&&t.push(`${$s}__toast--rtl`),t},bodyClasses(){return[`${$s}__toast-${mf(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return Eb(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:pi,getVueComponentFromObj:gu,closeToast(){this.eventBus.emit(rs.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const t=this.$el;t.addEventListener("touchstart",this.onDragStart,{passive:!0}),t.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const t=this.$el;t.removeEventListener("touchstart",this.onDragStart),t.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(t){this.beingDragged=!0,this.dragPos={x:bp(t),y:bb(t)},this.dragStart=bp(t),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(t){this.beingDragged&&(t.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:bp(t),y:bb(t)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,Eb(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),Xj=["role"];function Jj(t,e){const n=Vt("Icon"),s=Vt("CloseButton"),i=Vt("ProgressBar");return U(),q("div",{class:Dt(t.classes),style:ji(t.draggableStyle),onClick:e[0]||(e[0]=(...r)=>t.clickHandler&&t.clickHandler(...r)),onMouseenter:e[1]||(e[1]=(...r)=>t.hoverPause&&t.hoverPause(...r)),onMouseleave:e[2]||(e[2]=(...r)=>t.hoverPlay&&t.hoverPlay(...r))},[t.icon?(U(),as(n,{key:0,"custom-icon":t.icon,type:t.type},null,8,["custom-icon","type"])):Xt("v-if",!0),m("div",{role:t.accessibility.toastRole||"alert",class:Dt(t.bodyClasses)},[typeof t.content=="string"?(U(),q(Ae,{key:0},[xe(ae(t.content),1)],2112)):(U(),as(Dm(t.getVueComponentFromObj(t.content)),Sd({key:1,"toast-id":t.id},t.hasProp(t.content,"props")?t.content.props:{},k1(t.hasProp(t.content,"listeners")?t.content.listeners:{}),{onCloseToast:t.closeToast}),null,16,["toast-id","onCloseToast"]))],10,Xj),t.closeButton?(U(),as(s,{key:1,component:t.closeButton,"class-names":t.closeButtonClassName,"show-on-hover":t.showCloseButtonOnHover,"aria-label":t.accessibility.closeButtonLabel,onClick:Vs(t.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):Xt("v-if",!0),t.timeout?(U(),as(i,{key:2,"is-running":t.isRunning,"hide-progress-bar":t.hideProgressBar,timeout:t.timeout,onCloseToast:t.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):Xt("v-if",!0)],38)}Z0.render=Jj;var Zj=Z0,eC=Yi({name:"VtTransition",props:Ui.TRANSITION,emits:["leave"],methods:{hasProp:pi,leave(t){t instanceof HTMLElement&&(t.style.left=t.offsetLeft+"px",t.style.top=t.offsetTop+"px",t.style.width=getComputedStyle(t).width,t.style.position="absolute")}}});function eB(t,e){return U(),as(qR,{tag:"div","enter-active-class":t.transition.enter?t.transition.enter:`${t.transition}-enter-active`,"move-class":t.transition.move?t.transition.move:`${t.transition}-move`,"leave-active-class":t.transition.leave?t.transition.leave:`${t.transition}-leave-active`,onLeave:t.leave},{default:Oe(()=>[O1(t.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}eC.render=eB;var tB=eC,tC=Yi({name:"VueToastification",devtools:{hide:!0},components:{Toast:Zj,VtTransition:tB},props:Object.assign({},Ui.CORE_TOAST,Ui.CONTAINER,Ui.TRANSITION),data(){return{count:0,positions:Object.values(fd),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const t=this.eventBus;t.on(rs.ADD,this.addToast),t.on(rs.CLEAR,this.clearToasts),t.on(rs.DISMISS,this.dismissToast),t.on(rs.UPDATE,this.updateToast),t.on(rs.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(t){pf(t)&&(t=await t()),vj(this.$el),t.appendChild(this.$el)},setToast(t){No(t.id)||(this.toasts[t.id]=t)},addToast(t){t.content=yj(t.content);const e=Object.assign({},this.defaults,t.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[t.type],t),n=this.defaults.filterBeforeCreate(e,this.toastArray);n&&this.setToast(n)},dismissToast(t){const e=this.toasts[t];!No(e)&&!No(e.onClose)&&e.onClose(),delete this.toasts[t]},clearToasts(){Object.keys(this.toasts).forEach(t=>{this.dismissToast(t)})},getPositionToasts(t){const e=this.filteredToasts.filter(n=>n.position===t).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?e.reverse():e},updateDefaults(t){No(t.container)||this.setup(t.container),this.defaults=Object.assign({},this.defaults,t)},updateToast({id:t,options:e,create:n}){this.toasts[t]?(e.timeout&&e.timeout===this.toasts[t].timeout&&e.timeout++,this.setToast(Object.assign({},this.toasts[t],e))):n&&this.addToast(Object.assign({},{id:t},e))},getClasses(t){return[`${$s}__container`,t].concat(this.defaults.containerClassName)}}});function nB(t,e){const n=Vt("Toast"),s=Vt("VtTransition");return U(),q("div",null,[(U(!0),q(Ae,null,vt(t.positions,i=>(U(),q("div",{key:i},[ne(s,{transition:t.defaults.transition,class:Dt(t.getClasses(i))},{default:Oe(()=>[(U(!0),q(Ae,null,vt(t.getPositionToasts(i),r=>(U(),as(n,Sd({key:r.id},r),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}tC.render=nB;var sB=tC,Tb=(t={},e=!0)=>{const n=t.eventBus=t.eventBus||new c_;e&&Dr(()=>{const r=Ww(sB,F0({},t)),o=r.mount(document.createElement("div")),a=t.onMounted;if(No(a)||a(o,r),t.shareAppContext){const c=t.shareAppContext;c===!0?console.warn(`[${$s}] App to share context with was not provided.`):(r._context.components=c._context.components,r._context.directives=c._context.directives,r._context.mixins=c._context.mixins,r._context.provides=c._context.provides,r.config.globalProperties=c.config.globalProperties)}});const s=(r,o)=>{const a=Object.assign({},{id:_j(),type:is.DEFAULT},o,{content:r});return n.emit(rs.ADD,a),a.id};s.clear=()=>n.emit(rs.CLEAR,void 0),s.updateDefaults=r=>{n.emit(rs.UPDATE_DEFAULTS,r)},s.dismiss=r=>{n.emit(rs.DISMISS,r)};function i(r,{content:o,options:a},c=!1){const d=Object.assign({},a,{content:o});n.emit(rs.UPDATE,{id:r,options:d,create:c})}return s.update=i,s.success=(r,o)=>s(r,Object.assign({},o,{type:is.SUCCESS})),s.info=(r,o)=>s(r,Object.assign({},o,{type:is.INFO})),s.error=(r,o)=>s(r,Object.assign({},o,{type:is.ERROR})),s.warning=(r,o)=>s(r,Object.assign({},o,{type:is.WARNING})),s},iB=()=>{const t=()=>console.warn(`[${$s}] This plugin does not support SSR!`);return new Proxy(t,{get(){return t}})};function nC(t){return Ej()?bj(t)?Tb({eventBus:t},!1):Tb(t,!0):iB()}var sC=Symbol("VueToastification"),iC=new c_,rB=(t,e)=>{(e==null?void 0:e.shareAppContext)===!0&&(e.shareAppContext=t);const n=nC(F0({eventBus:iC},e));t.provide(sC,n)},oB=t=>{const e=Mm()?cs(sC,void 0):void 0;return e||nC(iC)},aB=rB;const lB={key:0,class:"container-fluid py-2 gameDetail",id:"main-content"},cB={key:0},uB={class:"title"},hB={class:"game-info"},dB={class:"tags"},fB={class:"tag-list"},pB={class:"synopsis"},mB={class:"game-details"},gB={class:"infos"},_B={class:"infos1"},vB={class:"paltform"},yB={class:"price"},EB={class:"buttons"},bB={class:"description"},wB={key:1},TB=["src","alt"],AB={class:"desktop"},IB={class:"title"},CB={class:"game-info"},SB={class:"tags"},RB={class:"tag-list"},PB={class:"synopsis"},OB={class:"game-details"},kB={class:"infos"},xB={class:"infos1"},DB={class:"paltform"},NB={class:"price"},LB={class:"buttons"},VB={key:1},MB={__name:"GameDetail",setup(t){const e=oB(),n=Tl(),s=uu(),i=Bm(),r=we(i.params.id),o=we(null),a=async E=>{try{const S=Jn(Mt,"games",E),D=await Ho(S);if(D.exists()){const N=D.data();o.value={id:D.id,titre:N.name,link:N.link,image:N.image,price:`${Number(N.price).toFixed(2)}€`,date:N.dateSortie.toDate().toLocaleDateString("fr-FR"),description:N.description,tags:N.tag,platform:N.plateforme,hero:N.hero}}else router.replace({name:"NotFound"})}catch(S){console.error("Erreur lors de la récupération du jeu :",S)}},c=St(()=>{var E;return(E=o.value)!=null&&E.id?s.isInWishlist(o.value.id):!1}),d=()=>{var E;(E=o.value)!=null&&E.id&&(c.value?s.removeFromWishlist(o.value.id):s.addToWishlist(o.value.id))};function h(){n.addItem({id:o.value.id,name:o.value.titre,image:o.value.hero,price:parseFloat(o.value.price)}),e.success("Jeu ajouté au panier !",{timeout:3e3,position:"bottom-right"})}us(()=>i.params.id,E=>{r.value=E,a(E)});const f=we(window.innerWidth<768),_=()=>{f.value=window.innerWidth<768};return Bn(()=>{r.value&&a(r.value),window.addEventListener("resize",_)}),Ad(()=>{window.removeEventListener("resize",_)}),us(()=>i.params.id,E=>{E&&(r.value=E,a(E))}),(E,S)=>o.value?(U(),q("div",lB,[f.value?(U(),q("div",cB,[m("div",{class:"background",style:ji({backgroundImage:`url(/assets/img/preview/${o.value.image})`})},[m("h1",uB,ae(o.value.titre),1),m("div",hB,[m("h3",dB,[m("ul",fB,[(U(!0),q(Ae,null,vt(o.value.tags,(D,N)=>(U(),q("li",{key:N,class:"tag"},ae(D),1))),128))])]),m("p",pB,[ne(um,{text:o.value.description,maxLength:200},null,8,["text"])])])],4),m("div",mB,[m("div",gB,[m("div",_B,[m("div",vB,[m("h3",null,ae(o.value.platform),1)]),S[0]||(S[0]=m("p",null,"|",-1)),S[1]||(S[1]=m("div",{class:"stock"},[m("h3",null,"En stock")],-1))]),m("h3",yB,ae(o.value.price),1)]),m("div",EB,[m("button",{class:Dt(["favorite",{"in-wishlist":c.value}]),onClick:d},[m("i",{class:Dt(["bi",c.value?"bi-heart-fill":"bi-heart"])},null,2)],2),m("button",{class:"cart",onClick:h},S[2]||(S[2]=[m("h3",null,"Ajouter au panier",-1),xe(),m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[xe("!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--> "),m("path",{d:"M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"})],-1)]))]),m("div",bB,[S[3]||(S[3]=m("h3",null,"Description",-1)),xe(" "+ae(o.value.description),1)])])])):(U(),q("div",wB,[m("div",{class:"background",style:ji({backgroundImage:`url(${o.value.hero})`})},[m("div",null,[m("img",{src:`/assets/img/preview/${o.value.image}`,alt:o.value.titre},null,8,TB)]),m("div",AB,[m("h1",IB,ae(o.value.titre),1),m("div",CB,[m("h3",SB,[m("ul",RB,[(U(!0),q(Ae,null,vt(o.value.tags,(D,N)=>(U(),q("li",{key:N,class:"tag"},ae(D),1))),128))])]),m("p",PB,[ne(um,{text:o.value.description,maxLength:450},null,8,["text"])])]),m("div",OB,[m("div",kB,[m("div",xB,[m("div",DB,[m("h3",null,ae(o.value.platform),1)]),S[4]||(S[4]=m("p",null,"|",-1)),S[5]||(S[5]=m("div",{class:"stock"},[m("h3",null,"En stock")],-1))]),m("h3",NB,ae(o.value.price),1)]),m("div",LB,[m("button",{class:Dt(["favorite",{"in-wishlist":c.value}]),onClick:d},[m("i",{class:Dt(["bi",c.value?"bi-heart-fill":"bi-heart"])},null,2),m("span",null,ae(c.value?"Dans la wishlist":"Ajouter aux favoris"),1)],2),m("button",{class:"cart",onClick:h},S[6]||(S[6]=[m("h3",null,"Ajouter au panier",-1),xe(),m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[xe("!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--> "),m("path",{d:"M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"})],-1)]))])])])],4)])),ne(uj,{tags:o.value.tags,currentGameId:o.value.id},null,8,["tags","currentGameId"])])):(U(),q("div",VB,S[7]||(S[7]=[m("p",null,"Chargement du jeu...",-1)])))}},$B=Ut(MB,[["__scopeId","data-v-b9e0905d"]]),FB={__name:"GameDetailPage",setup(t){return(e,n)=>(U(),q(Ae,null,[ne(Hn),m("div",null,[ne($B)]),ne(zs)],64))}},UB={};function jB(t,e){const n=Vt("router-link");return U(),q("div",null,[e[1]||(e[1]=m("h1",null,"404 - Page introuvable",-1)),e[2]||(e[2]=m("p",null,"Cette page n'existe pas.",-1)),ne(n,{to:"/"},{default:Oe(()=>e[0]||(e[0]=[xe("Retour à l'accueil")])),_:1})])}const BB=Ut(UB,[["render",jB]]),HB={class:"container-fluid py-2 preco",id:"main-content"},qB={id:"filter"},WB={class:"price"},zB={id:"precoIn"},KB={class:"game-card"},GB=["href"],QB=["src","alt"],YB={class:"game-text"},XB={class:"titre"},JB={class:"prix"},ZB={class:"dateSortie"},e8={key:0,class:"text-center mt-2"},t8={__name:"Search",setup(t){const e=we([]),n=we([]),s=we(""),i=we(""),r=we(null),o=we(null),a=async()=>{const d=_i(Mt,"games"),h=eo(d,wl("name"));try{const f=await er(h);e.value=[],f.forEach(_=>{const E=_.data();e.value.push({id:_.id,titre:E.name,link:E.link,image:E.image,plateforme:E.plateforme,price:`${E.price}€`,date:E.dateSortie.toDate().toLocaleDateString("fr-FR"),tag:E.tag||[]})}),c()}catch(f){console.error("Erreur lors de la récupération des jeux :",f)}};function c(){let d=e.value;fn.value&&(d=d.filter(h=>h.titre.toLowerCase().includes(fn.value.toLowerCase()))),s.value&&(d=d.filter(h=>h.plateforme.includes(s.value))),i.value&&(d=d.filter(h=>h.tag.includes(i.value))),r.value!==null&&r.value!==""&&(d=d.filter(h=>parseFloat(h.price.replace("€",""))>=r.value)),o.value!==null&&o.value!==""&&(d=d.filter(h=>parseFloat(h.price.replace("€",""))<=o.value)),n.value=d}return us([fn,s,i],c),Bn(()=>{const h=new URLSearchParams(window.location.search).get("platform");h&&(s.value=h),a()}),(d,h)=>(U(),q("div",HB,[m("div",null,[h[10]||(h[10]=m("h1",{class:"mt-3 mb-5"},"Recherche",-1)),m("form",qB,[ut(m("select",{"onUpdate:modelValue":h[0]||(h[0]=f=>s.value=f),onChange:c,class:"form-select","aria-label":"Filtre plateforme"},h[4]||(h[4]=[za('<option value="" data-v-67eecf6d>Systèmes</option><option value="Steam" data-v-67eecf6d>Steam</option><option value="Epic Games" data-v-67eecf6d>Epic games</option><option value="Switch" data-v-67eecf6d>Nintendo Switch</option><option value="Playstation" data-v-67eecf6d>PlayStation</option><option value="Xbox" data-v-67eecf6d>Xbox Series</option>',6)]),544),[[Ur,s.value]]),ut(m("select",{"onUpdate:modelValue":h[1]||(h[1]=f=>i.value=f),onChange:c,class:"form-select","aria-label":"Filtre genres"},h[5]||(h[5]=[za('<option value="" data-v-67eecf6d>Genres</option><option value="Action" data-v-67eecf6d>Action</option><option value="Aventure" data-v-67eecf6d>Aventure</option><option value="Histoire" data-v-67eecf6d>Histoire</option><option value="Horreur" data-v-67eecf6d>Horreur</option><option value="Indies" data-v-67eecf6d>Indies</option><option value="Infiltration" data-v-67eecf6d>Infiltration</option><option value="Multijoueur" data-v-67eecf6d>Multijoueur</option><option value="RPG" data-v-67eecf6d>RPG</option><option value="Difficulté" data-v-67eecf6d>Difficulté</option><option value="FPS" data-v-67eecf6d>FPS</option><option value="Roguelite" data-v-67eecf6d>Roguelite</option><option value="Sport" data-v-67eecf6d>Sport</option><option value="Anime" data-v-67eecf6d>Anime</option><option value="Gestion" data-v-67eecf6d>Gestion</option><option value="Stratégie" data-v-67eecf6d>Stratégie</option><option value="Course" data-v-67eecf6d>Course</option><option value="Simulation" data-v-67eecf6d>Simulation</option>',18)]),544),[[Ur,i.value]]),m("div",WB,[h[6]||(h[6]=m("span",null,"Entre",-1)),ut(m("input",{type:"number","onUpdate:modelValue":h[2]||(h[2]=f=>r.value=f),placeholder:"Prix min",onInput:c,class:"form-control","aria-label":"prix minimum"},null,544),[[Nt,r.value]]),h[7]||(h[7]=m("span",null,"à",-1)),ut(m("input",{type:"number","onUpdate:modelValue":h[3]||(h[3]=f=>o.value=f),placeholder:"Prix max",onInput:c,class:"form-control","aria-label":"prix maximum"},null,544),[[Nt,o.value]]),h[8]||(h[8]=m("span",null,"€",-1))])]),m("ul",zB,[(U(!0),q(Ae,null,vt(n.value,f=>(U(),q("li",{key:f.id},[m("div",KB,[m("a",{href:f.link},[m("img",{src:`/assets/img/preview/${f.image}`,alt:f.titre},null,8,QB)],8,GB),m("div",YB,[m("h3",XB,ae(f.titre),1),m("h3",JB,ae(f.price),1)]),m("p",ZB,ae(f.date),1)])]))),128))]),n.value.length===0?(U(),q("div",e8,h[9]||(h[9]=[m("h4",null,"Aucun jeu trouvé pour cette recherche.",-1)]))):Xt("",!0)])]))}},n8=Ut(t8,[["__scopeId","data-v-67eecf6d"]]),s8={__name:"Recherche",setup(t){return(e,n)=>(U(),q(Ae,null,[ne(Hn),m("div",null,[ne(n8)]),ne(zs)],64))}},i8={class:"settings-page-wrapper"},r8={class:"container py-5"},o8={class:"row justify-content-center"},a8={class:"col-lg-8 col-md-10"},l8={key:0,class:"text-center py-5"},c8={key:1,class:"card"},u8={key:0,class:"card-body"},h8={key:0,class:"alert alert-success"},d8={key:1,class:"alert alert-warning"},f8={class:"mb-3 text-start"},p8=["value"],m8={class:"row"},g8={class:"col-md-6 mb-3 text-start"},_8={class:"col-md-6 mb-3 text-start"},v8={class:"mb-3 text-start"},y8={class:"mb-3 text-start"},E8={class:"row"},b8={class:"col-md-7 mb-3 text-start"},w8={class:"col-md-5 mb-3 text-start"},T8={key:1,class:"card-body text-center"},A8={__name:"Parametres",setup(t){const e=fl(),n=di(),s=we({firstname:"",username:"",billingAddress:{street:"",city:"",postalCode:"",country:""}}),i=we(""),r=we("");Z1(()=>{var d,h,f,_;n.userData&&(s.value.firstname=n.userData.firstname||"",s.value.username=n.userData.username||"",s.value.billingAddress={street:((d=n.userData.billingAddress)==null?void 0:d.street)||"",city:((h=n.userData.billingAddress)==null?void 0:h.city)||"",postalCode:((f=n.userData.billingAddress)==null?void 0:f.postalCode)||"",country:((_=n.userData.billingAddress)==null?void 0:_.country)||""})});async function o(){i.value="",r.value="";try{const d={firstname:s.value.firstname,username:s.value.username,billingAddress:s.value.billingAddress,displayName:`${s.value.firstname} ${s.value.username}`};await n.updateUserProfile(d),i.value="Vos informations ont été mises à jour avec succès !"}catch(d){r.value="Une erreur est survenue lors de la mise à jour.",console.error("Erreur de mise à jour du profil:",d)}}async function a(){var f,_;if(r.value="",!confirm("Êtes-vous absolument certain de vouloir supprimer votre compte ? Cette action est irréversible."))return;const d=(_=(f=n.user)==null?void 0:f.providerData[0])==null?void 0:_.providerId;let h=null;if(d==="password"&&(h=prompt("Pour confirmer la suppression, veuillez entrer votre mot de passe :"),!h)){r.value="La suppression a été annulée. Mot de passe non fourni.";return}try{await ZF(h),alert("Votre compte a été supprimé avec succès."),e.push("/")}catch(E){console.error("Erreur lors de la suppression du compte:",E),E.code==="auth/wrong-password"?r.value="Mot de passe incorrect. La suppression a été annulée.":E.code==="auth/popup-closed-by-user"?r.value="La fenêtre de confirmation a été fermée. Suppression annulée.":r.value=E.message||"Une erreur est survenue lors de la suppression."}}function c(){e.back()}return(d,h)=>{const f=Vt("router-link");return U(),q("div",i8,[m("div",r8,[m("div",o8,[m("div",a8,[Ne(n).isLoading?(U(),q("div",l8,h[6]||(h[6]=[m("div",{class:"spinner-border",style:{width:"3rem",height:"3rem"},role:"status"},[m("span",{class:"visually-hidden"},"Chargement...")],-1)]))):(U(),q("div",c8,[h[24]||(h[24]=m("div",{class:"card-header"},[m("h1",null,"Paramètres du compte")],-1)),Ne(n).isLoggedIn?(U(),q("div",u8,[i.value?(U(),q("div",h8,ae(i.value),1)):Xt("",!0),r.value?(U(),q("div",d8,ae(r.value),1)):Xt("",!0),m("form",{onSubmit:Vs(o,["prevent"])},[h[15]||(h[15]=m("h3",{class:"mb-3 mt-2 text-start"},"Informations Personnelles",-1)),m("div",f8,[h[7]||(h[7]=m("label",{for:"email",class:"form-label"},"Adresse e-mail",-1)),m("input",{type:"email",id:"email",class:"form-control",value:Ne(n).user.email,disabled:""},null,8,p8),h[8]||(h[8]=m("div",{class:"form-text"},"L'adresse e-mail ne peut pas être modifiée.",-1))]),m("div",m8,[m("div",g8,[h[9]||(h[9]=m("label",{for:"firstname",class:"form-label"},"Prénom",-1)),ut(m("input",{type:"text",id:"firstname",class:"form-control","onUpdate:modelValue":h[0]||(h[0]=_=>s.value.firstname=_)},null,512),[[Nt,s.value.firstname]])]),m("div",_8,[h[10]||(h[10]=m("label",{for:"username",class:"form-label"},"Nom",-1)),ut(m("input",{type:"text",id:"username",class:"form-control","onUpdate:modelValue":h[1]||(h[1]=_=>s.value.username=_)},null,512),[[Nt,s.value.username]])])]),h[16]||(h[16]=m("hr",{class:"my-4"},null,-1)),h[17]||(h[17]=m("h3",{class:"mb-3 text-start"},"Adresse de Facturation",-1)),m("div",v8,[h[11]||(h[11]=m("label",{for:"country",class:"form-label"},"Pays",-1)),ut(m("input",{type:"text",id:"country",class:"form-control","onUpdate:modelValue":h[2]||(h[2]=_=>s.value.billingAddress.country=_)},null,512),[[Nt,s.value.billingAddress.country]])]),m("div",y8,[h[12]||(h[12]=m("label",{for:"street",class:"form-label"},"Adresse (rue, etc.)",-1)),ut(m("input",{type:"text",id:"street",class:"form-control",placeholder:"123 rue de la République","onUpdate:modelValue":h[3]||(h[3]=_=>s.value.billingAddress.street=_)},null,512),[[Nt,s.value.billingAddress.street]])]),m("div",E8,[m("div",b8,[h[13]||(h[13]=m("label",{for:"city",class:"form-label"},"Ville",-1)),ut(m("input",{type:"text",id:"city",class:"form-control","onUpdate:modelValue":h[4]||(h[4]=_=>s.value.billingAddress.city=_)},null,512),[[Nt,s.value.billingAddress.city]])]),m("div",w8,[h[14]||(h[14]=m("label",{for:"postalCode",class:"form-label"},"Code Postal",-1)),ut(m("input",{type:"text",id:"postalCode",class:"form-control","onUpdate:modelValue":h[5]||(h[5]=_=>s.value.billingAddress.postalCode=_)},null,512),[[Nt,s.value.billingAddress.postalCode]])])]),h[18]||(h[18]=m("button",{type:"submit",class:"btn btn-primary w-100 mt-3"},"Sauvegarder les modifications",-1))],32),h[21]||(h[21]=m("hr",{class:"my-4"},null,-1)),m("div",{class:"alert alert-danger"},[h[19]||(h[19]=m("h4",{class:"alert-heading"},"Zone de Danger",-1)),h[20]||(h[20]=m("p",null,"La suppression de votre compte est une action permanente et irréversible.",-1)),m("button",{onClick:a,class:"btn btn-danger"},"Supprimer mon compte")]),m("div",{class:"mt-4 text-center"},[m("button",{onClick:c,class:"btn btn-secondary"},"Retour")])])):(U(),q("div",T8,[h[23]||(h[23]=m("p",null,"Vous devez être connecté pour accéder à vos paramètres.",-1)),ne(f,{to:"/connexion",class:"btn btn-primary"},{default:Oe(()=>h[22]||(h[22]=[xe("Se connecter")])),_:1})]))]))])])])])}}},I8=Ut(A8,[["__scopeId","data-v-7203dd3c"]]),C8={class:"container py-5"},S8={class:"mb-4"},R8={class:"d-flex justify-content-end mb-4"},P8={key:0,class:"text-center"},O8={key:1,class:"text-center p-5 empty-wishlist-card"},k8={key:2,class:"row g-4"},x8={class:"card h-100 game-card"},D8=["src","alt"],N8={class:"card-body d-flex flex-column"},L8={class:"card-title"},V8={class:"card-text mt-auto mb-2 price"},M8=["onClick"],$8={__name:"Wishlist",setup(t){const e=uu(),n=we([]),s=we(!1),i=we("default"),r=c=>{const d=c.data(),h=d.dateSortie.toDate();return{id:c.id,titre:d.name,link:d.link,image:d.image,hero:d.hero,price:`${d.price.toFixed(2)}`,numericPrice:d.price,date:h.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),dateObject:h,description:d.description,tags:d.tag,platform:d.plateforme}},o=St(()=>{const c=[...n.value];switch(i.value){case"price-asc":return c.sort((d,h)=>d.numericPrice-h.numericPrice);case"price-desc":return c.sort((d,h)=>h.numericPrice-d.numericPrice);case"date-desc":return c.sort((d,h)=>h.dateObject-d.dateObject);default:return c}}),a=async c=>{if(c.length===0){n.value=[];return}s.value=!0;const d=_i(Mt,"games"),h=eo(d,Ki("__name__","in",c)),f=await er(h);n.value=f.docs.map(_=>r(_)),s.value=!1};return Bn(async()=>{await e.fetchWishlist(),a(e.gameIds)}),us(()=>e.gameIds,c=>{a(c)}),(c,d)=>{const h=Vt("router-link");return U(),q(Ae,null,[ne(Hn),m("main",null,[m("div",C8,[m("h1",S8,"Ma Wishlist ("+ae(o.value.length)+" jeux)",1),m("div",R8,[ut(m("select",{class:"form-select",style:{"max-width":"200px"},"onUpdate:modelValue":d[0]||(d[0]=f=>i.value=f)},d[1]||(d[1]=[m("option",{value:"default"},"Trier par...",-1),m("option",{value:"price-asc"},"Prix : le moins cher",-1),m("option",{value:"price-desc"},"Prix : le plus cher",-1),m("option",{value:"date-desc"},"Nouveautés",-1)]),512),[[Ur,i.value]])]),s.value?(U(),q("div",P8,d[2]||(d[2]=[m("div",{class:"spinner-border",role:"status"},[m("span",{class:"visually-hidden"},"Loading...")],-1)]))):n.value.length?(U(),q("div",k8,[(U(!0),q(Ae,null,vt(o.value,f=>(U(),q("div",{key:f.id,class:"col-6 col-md-4 col-lg-3"},[ne(h,{class:"nav-link",to:`/game/${f.id}`},{default:Oe(()=>[m("div",x8,[m("img",{src:f.hero,class:"card-img-top",alt:f.titre},null,8,D8),m("div",N8,[m("h5",L8,ae(f.titre),1),m("p",V8,ae(f.price)+" €",1),m("button",{onClick:_=>Ne(e).removeFromWishlist(f.id),class:"btn btn-danger btn-sm"},d[6]||(d[6]=[m("i",{class:"bi bi-trash-fill"},null,-1),xe(" Retirer ")]),8,M8)])])]),_:2},1032,["to"])]))),128))])):(U(),q("div",O8,[d[4]||(d[4]=m("h3",null,"Votre wishlist est vide",-1)),d[5]||(d[5]=m("p",null,"Parcourez nos jeux et cliquez sur le cœur pour les ajouter !",-1)),ne(h,{to:"/",class:"btn btn-primary"},{default:Oe(()=>d[3]||(d[3]=[xe("Explorer les jeux")])),_:1})]))])])],64)}}},F8=Ut($8,[["__scopeId","data-v-055ae2c2"]]),U8={class:"validation-page-wrapper"},j8={class:"container py-5"},B8={class:"row justify-content-center"},H8={class:"col-md-8 col-lg-6"},q8={key:0,class:"text-center"},W8={key:1,class:"card validation-card text-center shadow-lg"},z8={class:"card-body p-4 p-md-5"},K8={class:"card-title mt-3"},G8={class:"order-recap my-4"},Q8={class:"order-number"},Y8={class:"items-summary mt-4 text-start"},X8={class:"list-group list-group-flush"},J8=["src","alt"],Z8={class:"fw-bold"},eH={class:"list-group-item d-flex justify-content-between align-items-center fw-bold total-price mt-2"},tH={class:"mt-5 d-grid gap-2 d-sm-flex justify-content-sm-center"},nH={key:2,class:"alert alert-danger"},sH={__name:"Validation",setup(t){const e=Bm(),n=di(),s=we(null),i=we(!0),r=e.params.orderId;return Bn(async()=>{if(r)try{const o=Jn(Mt,"orders",r),a=await Ho(o);a.exists()?s.value=a.data():console.error("Aucune commande trouvée avec l'ID:",r)}catch(o){console.error("Erreur lors de la récupération de la commande:",o)}finally{i.value=!1}else i.value=!1}),(o,a)=>{const c=Vt("router-link");return U(),q(Ae,null,[ne(Hn),m("div",U8,[m("div",j8,[m("div",B8,[m("div",H8,[i.value?(U(),q("div",q8,a[0]||(a[0]=[m("div",{class:"spinner-border",role:"status"},[m("span",{class:"visually-hidden"},"Chargement...")],-1)]))):s.value?(U(),q("div",W8,[m("div",z8,[a[7]||(a[7]=m("i",{class:"bi bi-check-circle-fill success-icon"},null,-1)),m("h1",K8,"Merci, "+ae(Ne(n).currentUsername)+" !",1),a[8]||(a[8]=m("p",{class:"lead text-muted"},"Votre commande a été validée avec succès.",-1)),m("div",G8,[a[2]||(a[2]=m("p",null,"Un e-mail de confirmation vous a été envoyé.",-1)),m("p",Q8,[a[1]||(a[1]=xe(" Commande n° ")),m("strong",null,ae(Ne(r)),1)])]),a[9]||(a[9]=m("hr",null,null,-1)),m("div",Y8,[a[4]||(a[4]=m("h5",{class:"mb-3"},"Vos articles :",-1)),m("ul",X8,[(U(!0),q(Ae,null,vt(s.value.items,d=>(U(),q("li",{key:d.id,class:"list-group-item d-flex justify-content-between align-items-center"},[m("span",null,[m("img",{src:d.image,alt:d.name,class:"item-image me-2"},null,8,J8),xe(" "+ae(d.name)+" (x"+ae(d.quantity)+") ",1)]),m("span",Z8,ae((d.price*d.quantity).toFixed(2))+" €",1)]))),128))]),m("div",eH,[a[3]||(a[3]=m("span",null,"Total payé",-1)),m("span",null,ae(s.value.totalPrice)+" €",1)])]),m("div",tH,[ne(c,{to:"/mes-achats",class:"btn btn-primary btn-lg px-4 gap-3"},{default:Oe(()=>a[5]||(a[5]=[xe("Voir mes achats")])),_:1}),ne(c,{to:"/",class:"btn btn-outline-secondary btn-lg px-4"},{default:Oe(()=>a[6]||(a[6]=[xe("Retour à l'accueil")])),_:1})])])])):(U(),q("div",nH," Désolé, cette commande n'a pas pu être trouvée. "))])])])])],64)}}},iH=Ut(sH,[["__scopeId","data-v-e004e359"]]),rH={class:"purchases-wrapper"},oH={class:"container py-5"},aH={key:0,class:"text-center mt-5"},lH={key:1,class:"text-center empty-purchases-message"},cH={key:2,class:"orders-list"},uH={class:"card-header d-flex justify-content-between align-items-center"},hH={class:"order-id"},dH={class:"order-date"},fH={class:"card-body"},pH={class:"list-group list-group-flush"},mH=["src","alt"],gH={class:"flex-grow-1"},_H={class:"item-name"},vH={class:"item-quantity mb-0"},yH={class:"item-price text-end"},EH={class:"card-footer text-end"},bH={__name:"MesAchats",setup(t){const e=di(),n=we([]),s=we(!0);Bn(async()=>{if(!e.isLoggedIn){s.value=!1;return}try{const r=_i(Mt,"orders"),o=eo(r,Ki("userId","==",e.user.uid),wl("createdAt","desc"));(await er(o)).forEach(c=>{n.value.push({id:c.id,...c.data()})})}catch(r){console.error("Erreur lors de la récupération des commandes:",r)}finally{s.value=!1}});function i(r){return!r||!r.toDate?"Date inconnue":r.toDate().toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric"})}return(r,o)=>{const a=Vt("router-link");return U(),q(Ae,null,[ne(Hn),m("div",rH,[m("div",oH,[o[6]||(o[6]=m("h1",{class:"mb-4"},"Mes Achats",-1)),s.value?(U(),q("div",aH,o[0]||(o[0]=[m("div",{class:"spinner-border",role:"status"},[m("span",{class:"visually-hidden"},"Chargement...")],-1)]))):n.value.length===0?(U(),q("div",lH,[o[2]||(o[2]=m("i",{class:"bi bi-cart-x-fill empty-icon"},null,-1)),o[3]||(o[3]=m("h3",{class:"mt-3"},"Aucun achat pour le moment",-1)),o[4]||(o[4]=m("p",null,"Il est temps de commencer votre collection !",-1)),ne(a,{to:"/",class:"btn btn-primary mt-3"},{default:Oe(()=>o[1]||(o[1]=[xe("Explorer le catalogue")])),_:1})])):(U(),q("div",cH,[(U(!0),q(Ae,null,vt(n.value,c=>(U(),q("div",{key:c.id,class:"card order-card mb-4 shadow-sm"},[m("div",uH,[m("div",null,[o[5]||(o[5]=m("span",{class:"order-id-label"},"Commande",-1)),m("strong",hH,ae(c.id),1)]),m("span",dH,ae(i(c.createdAt)),1)]),m("div",fH,[m("ul",pH,[(U(!0),q(Ae,null,vt(c.items,d=>(U(),q("li",{key:d.id,class:"list-group-item item-row d-flex align-items-center"},[m("img",{src:d.image,alt:d.name,class:"item-image me-3"},null,8,mH),m("div",gH,[m("h5",_H,ae(d.name),1),m("p",vH,"Quantité : "+ae(d.quantity),1)]),m("div",yH,[m("strong",null,ae((d.price*d.quantity).toFixed(2))+" €",1)])]))),128))])]),m("div",EH,[m("strong",null,"Total : "+ae(c.totalPrice)+" €",1)])]))),128))]))])])],64)}}},wH=Ut(bH,[["__scopeId","data-v-32f20c87"]]),TH={class:"paiement-container container py-5",id:"main-content"},AH={class:"d-flex justify-content-between align-items-center"},IH={class:"fs-4 text-success"},CH={class:"mb-3"},SH={class:"mb-3"},RH={class:"row"},PH={class:"col-6 mb-3"},OH={class:"col-6 mb-3"},kH={__name:"Paiement",setup(t){const e=Tl(),n=St(()=>e.totalPrice),s=we(""),i=we(""),r=we(""),o=we(""),a=fl();function c(){e.items.length>0&&a.push("/ValidationPaiement")}return(d,h)=>(U(),q(Ae,null,[ne(Hn),m("div",TH,[h[11]||(h[11]=m("h2",{class:"mb-4"},"Paiement par carte bancaire",-1)),m("form",{class:"payment-form",onSubmit:h[0]||(h[0]=Vs((...f)=>d.submitPayment&&d.submitPayment(...f),["prevent"]))},[m("div",AH,[h[6]||(h[6]=m("span",{class:"fw-bold"},"Total à payer :",-1)),m("span",IH,ae(n.value)+" €",1)])],32),m("form",{class:"payment-form mt-4",onSubmit:h[5]||(h[5]=Vs((...f)=>d.submitPayment&&d.submitPayment(...f),["prevent"]))},[m("div",CH,[h[7]||(h[7]=m("label",{for:"cardName",class:"form-label"},"Nom sur la carte",-1)),ut(m("input",{type:"text",id:"cardName","onUpdate:modelValue":h[1]||(h[1]=f=>s.value=f),class:"form-control",required:"",autocomplete:"cc-name"},null,512),[[Nt,s.value]])]),m("div",SH,[h[8]||(h[8]=m("label",{for:"cardNumber",class:"form-label"},"Numéro de carte",-1)),ut(m("input",{type:"text",id:"cardNumber","onUpdate:modelValue":h[2]||(h[2]=f=>i.value=f),class:"form-control",required:"",maxlength:"19",placeholder:"1234 5678 9012 3456",autocomplete:"cc-number"},null,512),[[Nt,i.value]])]),m("div",RH,[m("div",PH,[h[9]||(h[9]=m("label",{for:"expiry",class:"form-label"},"Date d'expiration",-1)),ut(m("input",{type:"text",id:"expiry","onUpdate:modelValue":h[3]||(h[3]=f=>r.value=f),class:"form-control",required:"",maxlength:"5",placeholder:"MM/AA",autocomplete:"cc-exp"},null,512),[[Nt,r.value]])]),m("div",OH,[h[10]||(h[10]=m("label",{for:"cvc",class:"form-label"},"CVC",-1)),ut(m("input",{type:"text",id:"cvc","onUpdate:modelValue":h[4]||(h[4]=f=>o.value=f),class:"form-control",required:"",maxlength:"4",placeholder:"123",autocomplete:"cc-csc"},null,512),[[Nt,o.value]])])]),m("button",{type:"submit",class:"btn btn-primary w-100 mt-3",onClick:c},"Payer")],32)]),ne(zs)],64))}},xH=Ut(kH,[["__scopeId","data-v-11b07720"]]),DH={__name:"Conditions",setup(t){return(e,n)=>(U(),q(Ae,null,[ne(Hn),n[0]||(n[0]=za('<div class="m-2"><h1>Conditions Générales de Vente (CGV)</h1><p><strong>Date de mise à jour :</strong> 01/07/2025</p><h2>1. Objet</h2><p>Les présentes Conditions Générales de Vente (CGV) régissent les ventes de clés de jeux vidéo numériques sur le site Instant Geek (ci-après « le Site »), exploité par [Nom de l’entreprise] (ci-après « le Vendeur »). </p><h2>2. Produits</h2><p>Instant Geek propose la vente de clés d’activation pour jeux vidéo, toutes plateformes confondues. Les clés sont livrées uniquement en format numérique.</p><h2>3. Prix</h2><p>Les prix sont indiqués en euros TTC. Instant Geek peut modifier ses prix à tout moment. Les commandes sont facturées selon le tarif en vigueur au moment de la validation.</p><h2>4. Commande</h2><p>Pour commander, le Client doit créer un compte et accepter les présentes CGV. Toute commande vaut acceptation des prix et descriptions des produits.</p><h2>5. Paiement</h2><p>Le paiement est exigible immédiatement. Les modes de paiement acceptés sont [CB, PayPal, etc.].</p><h2>6. Livraison</h2><p>Les clés sont livrées instantanément par email ou dans l’espace client après confirmation du paiement. Le Vendeur n’est pas responsable en cas d’erreur d’adresse email.</p><h2>7. Droit de rétractation</h2><p>Conformément à la législation, les clés numériques livrées ne peuvent donner lieu à un droit de rétractation une fois activées ou téléchargées.</p><h2>8. Service client</h2><p>Pour toute question, veuillez nous contacter à [contact@instantgeek.fr].</p></div>',1)),ne(zs)],64))}},NH={__name:"Politique",setup(t){return(e,n)=>(U(),q(Ae,null,[ne(Hn),n[0]||(n[0]=za('<div class="m-2"><h1>Politique de Confidentialité</h1><p><strong>Date de mise à jour :</strong> 01/07/2025</p><h2>1. Collecte des données</h2><p>Instant Geek collecte des informations personnelles (nom, email, informations de paiement) pour traiter les commandes et améliorer l’expérience utilisateur.</p><h2>2. Utilisation des données</h2><p>Les données sont utilisées pour gérer les commandes, assurer le support client et, le cas échéant, envoyer des offres promotionnelles, sauf opposition de votre part.</p><h2>3. Protection des données</h2><p>Vos données sont traitées de manière confidentielle. Nous mettons en place des mesures de sécurité pour éviter tout accès non autorisé.</p><h2>4. Partage des données</h2><p>Instant Geek ne partage pas vos données avec des tiers sans votre consentement, sauf obligation légale ou prestataire technique nécessaire au bon fonctionnement du Site.</p><h2>5. Cookies</h2><p>Le Site utilise des cookies pour améliorer votre navigation et recueillir des statistiques. Vous pouvez configurer votre navigateur pour bloquer les cookies.</p><h2>6. Droits de l’utilisateur</h2><p>Vous disposez d’un droit d’accès, de rectification et de suppression de vos données. Pour toute demande, contactez [contact@instantgeek.fr].</p><h2>7. Modification de la politique</h2><p>Instant Geek se réserve le droit de modifier la présente Politique de Confidentialité. Toute modification sera indiquée sur cette page.</p><p>Pour toute question relative à vos données personnelles, veuillez nous écrire à [contact@instantgeek.fr].</p></div>',1)),ne(zs)],64))}},LH={__name:"A_Propos",setup(t){return(e,n)=>(U(),q(Ae,null,[ne(Hn),n[0]||(n[0]=m("div",{class:"m-2"},[m("h1",null,"À propos d’Instant Geek"),m("p",null,"Instant Geek est une plateforme dédiée aux passionnés de jeux vidéo qui souhaitent trouver leurs prochaines pépites à petit prix."),m("p",null,"Notre mission : rendre les jeux plus accessibles en proposant une large sélection de clés numériques à prix réduit, livrées instantanément."),m("p",null,"Nous travaillons directement avec des éditeurs et développeurs pour garantir des clés officielles, tout en offrant un service client réactif grâce à notre chat en ligne."),m("p",null,"Rejoignez la communauté Instant Geek et profitez de vos jeux préférés, au meilleur prix et sans attendre ! ")],-1)),ne(zs)],64))}},VH={__name:"Contact",setup(t){return(e,n)=>(U(),q(Ae,null,[ne(Hn),n[0]||(n[0]=m("div",{class:"m-2"},[m("h1",null,"Nous Contacter"),m("p",null,"Notre équipe est disponible pour répondre à vos questions :"),m("ul",null,[m("li",null,[xe("💬 "),m("strong",null,"Chat en ligne :"),xe(" accessible directement depuis notre site, en bas à droite de votre écran.")]),m("li",null,[xe("📧 "),m("strong",null,"Email :"),xe(" contact@instantgeek.fr")])]),m("p",null,"Nous ne disposons pas de support téléphonique afin de garantir une réponse plus rapide et plus efficace via notre chat ou par email.")],-1)),ne(zs)],64))}},MH=hO({history:Bv("/"),routes:[{path:"/",name:"accueil",component:PU},{path:"/nouveautes",name:"nouveautes",component:UU},{path:"/precommandes",name:"precommandes",component:XU},{path:"/prochaines-sorties",name:"prochaines-sorties",component:H5},{path:"/inscription",name:"inscription",component:i9},{path:"/connexion",name:"connexion",component:m9},{path:"/parametres",name:"Parametres",component:I8},{path:"/panier",name:"panier",component:ej},{path:"/validation/:orderId",name:"validation",component:iH},{path:"/mes-achats",name:"mesAchats",component:wH},{path:"/game/:id",name:"gameDetailPage",component:FB},{path:"/:pathMatch(.*)*",name:"not-found",component:BB},{path:"/recherche",name:"recherche",component:s8},{path:"/paiement",name:"paiement",component:xH},{path:"/wishlist",name:"wishlist",component:F8},{path:"/conditions",name:"conditions",component:DH},{path:"/politique",name:"politique",component:NH},{path:"/a_propos",name:"a_propos",component:LH},{path:"/contact",name:"contact",component:VH}],history:Bv("/"),linkActiveClass:"active",scrollBehavior(t,e,n){return{top:0}}}),gf=Ww(uP),$H=nP();gf.use($H);gf.use(MH);const FH=di();FH.initAuthListener();const UH=Tl();UH.init();gf.use(aB);gf.mount("#app");
