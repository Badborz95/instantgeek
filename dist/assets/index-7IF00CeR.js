(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Bp(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const vt={},ya=[],Qs=()=>{},dC=()=>!1,Kh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Hp=t=>t.startsWith("onUpdate:"),an=Object.assign,qp=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},fC=Object.prototype.hasOwnProperty,ut=(t,e)=>fC.call(t,e),Pe=Array.isArray,Ea=t=>Pc(t)==="[object Map]",Gh=t=>Pc(t)==="[object Set]",g_=t=>Pc(t)==="[object Date]",Fe=t=>typeof t=="function",Ut=t=>typeof t=="string",ei=t=>typeof t=="symbol",yt=t=>t!==null&&typeof t=="object",$E=t=>(yt(t)||Fe(t))&&Fe(t.then)&&Fe(t.catch),FE=Object.prototype.toString,Pc=t=>FE.call(t),pC=t=>Pc(t).slice(8,-1),UE=t=>Pc(t)==="[object Object]",Wp=t=>Ut(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zl=Bp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qh=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},mC=/-(\w)/g,_s=Qh(t=>t.replace(mC,(e,n)=>n?n.toUpperCase():"")),gC=/\B([A-Z])/g,ko=Qh(t=>t.replace(gC,"-$1").toLowerCase()),Yh=Qh(t=>t.charAt(0).toUpperCase()+t.slice(1)),af=Qh(t=>t?`on${Yh(t)}`:""),dr=(t,e)=>!Object.is(t,e),Wu=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},jE=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},uh=t=>{const e=parseFloat(t);return isNaN(e)?t:e},_C=t=>{const e=Ut(t)?Number(t):NaN;return isNaN(e)?t:e};let __;const Xh=()=>__||(__=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yo(t){if(Pe(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Ut(s)?bC(s):yo(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Ut(t)||yt(t))return t}const vC=/;(?![^(]*\))/g,yC=/:([^]+)/,EC=/\/\*[^]*?\*\//g;function bC(t){const e={};return t.replace(EC,"").split(vC).forEach(n=>{if(n){const s=n.split(yC);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Dn(t){let e="";if(Ut(t))e=t;else if(Pe(t))for(let n=0;n<t.length;n++){const s=Dn(t[n]);s&&(e+=s+" ")}else if(yt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const wC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",TC=Bp(wC);function BE(t){return!!t||t===""}function AC(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Jh(t[s],e[s]);return n}function Jh(t,e){if(t===e)return!0;let n=g_(t),s=g_(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=ei(t),s=ei(e),n||s)return t===e;if(n=Pe(t),s=Pe(e),n||s)return n&&s?AC(t,e):!1;if(n=yt(t),s=yt(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const l=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(l&&!c||!l&&c||!Jh(t[o],e[o]))return!1}}return String(t)===String(e)}function IC(t,e){return t.findIndex(n=>Jh(n,e))}const HE=t=>!!(t&&t.__v_isRef===!0),Ee=t=>Ut(t)?t:t==null?"":Pe(t)||yt(t)&&(t.toString===FE||!Fe(t.toString))?HE(t)?Ee(t.value):JSON.stringify(t,qE,2):String(t),qE=(t,e)=>HE(e)?qE(t,e.value):Ea(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[lf(s,r)+" =>"]=i,n),{})}:Gh(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>lf(n))}:ei(e)?lf(e):yt(e)&&!Pe(e)&&!UE(e)?String(e):e,lf=(t,e="")=>{var n;return ei(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Nn;class WE{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Nn,!e&&Nn&&(this.index=(Nn.scopes||(Nn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Nn;try{return Nn=this,e()}finally{Nn=n}}}on(){Nn=this}off(){Nn=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function zE(t){return new WE(t)}function KE(){return Nn}function CC(t,e=!1){Nn&&Nn.cleanups.push(t)}let wt;const cf=new WeakSet;class GE{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Nn&&Nn.active&&Nn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,cf.has(this)&&(cf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||YE(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,v_(this),XE(this);const e=wt,n=Rs;wt=this,Rs=!0;try{return this.fn()}finally{JE(this),wt=e,Rs=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Gp(e);this.deps=this.depsTail=void 0,v_(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?cf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Gf(this)&&this.run()}get dirty(){return Gf(this)}}let QE=0,Kl,Gl;function YE(t,e=!1){if(t.flags|=8,e){t.next=Gl,Gl=t;return}t.next=Kl,Kl=t}function zp(){QE++}function Kp(){if(--QE>0)return;if(Gl){let e=Gl;for(Gl=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Kl;){let e=Kl;for(Kl=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function XE(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function JE(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Gp(s),SC(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function Gf(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ZE(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ZE(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===cc))return;t.globalVersion=cc;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Gf(t)){t.flags&=-3;return}const n=wt,s=Rs;wt=t,Rs=!0;try{XE(t);const i=t.fn(t._value);(e.version===0||dr(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{wt=n,Rs=s,JE(t),t.flags&=-3}}function Gp(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Gp(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function SC(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Rs=!0;const eb=[];function Or(){eb.push(Rs),Rs=!1}function kr(){const t=eb.pop();Rs=t===void 0?!0:t}function v_(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=wt;wt=void 0;try{e()}finally{wt=n}}}let cc=0;class RC{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Qp{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!wt||!Rs||wt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==wt)n=this.activeLink=new RC(wt,this),wt.deps?(n.prevDep=wt.depsTail,wt.depsTail.nextDep=n,wt.depsTail=n):wt.deps=wt.depsTail=n,tb(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=wt.depsTail,n.nextDep=void 0,wt.depsTail.nextDep=n,wt.depsTail=n,wt.deps===n&&(wt.deps=s)}return n}trigger(e){this.version++,cc++,this.notify(e)}notify(e){zp();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Kp()}}}function tb(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)tb(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const hh=new WeakMap,mo=Symbol(""),Qf=Symbol(""),uc=Symbol("");function yn(t,e,n){if(Rs&&wt){let s=hh.get(t);s||hh.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new Qp),i.map=s,i.key=n),i.track()}}function vi(t,e,n,s,i,r){const o=hh.get(t);if(!o){cc++;return}const l=c=>{c&&c.trigger()};if(zp(),e==="clear")o.forEach(l);else{const c=Pe(t),d=c&&Wp(n);if(c&&n==="length"){const h=Number(s);o.forEach((m,_)=>{(_==="length"||_===uc||!ei(_)&&_>=h)&&l(m)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),d&&l(o.get(uc)),e){case"add":c?d&&l(o.get("length")):(l(o.get(mo)),Ea(t)&&l(o.get(Qf)));break;case"delete":c||(l(o.get(mo)),Ea(t)&&l(o.get(Qf)));break;case"set":Ea(t)&&l(o.get(mo));break}}Kp()}function PC(t,e){const n=hh.get(t);return n&&n.get(e)}function ra(t){const e=nt(t);return e===t?e:(yn(e,"iterate",uc),ps(t)?e:e.map(En))}function Zh(t){return yn(t=nt(t),"iterate",uc),t}const OC={__proto__:null,[Symbol.iterator](){return uf(this,Symbol.iterator,En)},concat(...t){return ra(this).concat(...t.map(e=>Pe(e)?ra(e):e))},entries(){return uf(this,"entries",t=>(t[1]=En(t[1]),t))},every(t,e){return pi(this,"every",t,e,void 0,arguments)},filter(t,e){return pi(this,"filter",t,e,n=>n.map(En),arguments)},find(t,e){return pi(this,"find",t,e,En,arguments)},findIndex(t,e){return pi(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return pi(this,"findLast",t,e,En,arguments)},findLastIndex(t,e){return pi(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return pi(this,"forEach",t,e,void 0,arguments)},includes(...t){return hf(this,"includes",t)},indexOf(...t){return hf(this,"indexOf",t)},join(t){return ra(this).join(t)},lastIndexOf(...t){return hf(this,"lastIndexOf",t)},map(t,e){return pi(this,"map",t,e,void 0,arguments)},pop(){return xl(this,"pop")},push(...t){return xl(this,"push",t)},reduce(t,...e){return y_(this,"reduce",t,e)},reduceRight(t,...e){return y_(this,"reduceRight",t,e)},shift(){return xl(this,"shift")},some(t,e){return pi(this,"some",t,e,void 0,arguments)},splice(...t){return xl(this,"splice",t)},toReversed(){return ra(this).toReversed()},toSorted(t){return ra(this).toSorted(t)},toSpliced(...t){return ra(this).toSpliced(...t)},unshift(...t){return xl(this,"unshift",t)},values(){return uf(this,"values",En)}};function uf(t,e,n){const s=Zh(t),i=s[e]();return s!==t&&!ps(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const kC=Array.prototype;function pi(t,e,n,s,i,r){const o=Zh(t),l=o!==t&&!ps(t),c=o[e];if(c!==kC[e]){const m=c.apply(t,r);return l?En(m):m}let d=n;o!==t&&(l?d=function(m,_){return n.call(this,En(m),_,t)}:n.length>2&&(d=function(m,_){return n.call(this,m,_,t)}));const h=c.call(o,d,s);return l&&i?i(h):h}function y_(t,e,n,s){const i=Zh(t);let r=n;return i!==t&&(ps(t)?n.length>3&&(r=function(o,l,c){return n.call(this,o,l,c,t)}):r=function(o,l,c){return n.call(this,o,En(l),c,t)}),i[e](r,...s)}function hf(t,e,n){const s=nt(t);yn(s,"iterate",uc);const i=s[e](...n);return(i===-1||i===!1)&&Jp(n[0])?(n[0]=nt(n[0]),s[e](...n)):i}function xl(t,e,n=[]){Or(),zp();const s=nt(t)[e].apply(t,n);return Kp(),kr(),s}const DC=Bp("__proto__,__v_isRef,__isVue"),nb=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ei));function NC(t){ei(t)||(t=String(t));const e=nt(this);return yn(e,"has",t),e.hasOwnProperty(t)}class sb{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?HC:ab:r?ob:rb).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=Pe(e);if(!i){let c;if(o&&(c=OC[n]))return c;if(n==="hasOwnProperty")return NC}const l=Reflect.get(e,n,Pt(e)?e:s);return(ei(n)?nb.has(n):DC(n))||(i||yn(e,"get",n),r)?l:Pt(l)?o&&Wp(n)?l:l.value:yt(l)?i?cb(l):Oc(l):l}}class ib extends sb{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const c=Eo(r);if(!ps(s)&&!Eo(s)&&(r=nt(r),s=nt(s)),!Pe(e)&&Pt(r)&&!Pt(s))return c?!1:(r.value=s,!0)}const o=Pe(e)&&Wp(n)?Number(n)<e.length:ut(e,n),l=Reflect.set(e,n,s,Pt(e)?e:i);return e===nt(i)&&(o?dr(s,r)&&vi(e,"set",n,s):vi(e,"add",n,s)),l}deleteProperty(e,n){const s=ut(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&vi(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!ei(n)||!nb.has(n))&&yn(e,"has",n),s}ownKeys(e){return yn(e,"iterate",Pe(e)?"length":mo),Reflect.ownKeys(e)}}class xC extends sb{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const LC=new ib,VC=new xC,MC=new ib(!0);const Yf=t=>t,Su=t=>Reflect.getPrototypeOf(t);function $C(t,e,n){return function(...s){const i=this.__v_raw,r=nt(i),o=Ea(r),l=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,d=i[t](...s),h=n?Yf:e?Xf:En;return!e&&yn(r,"iterate",c?Qf:mo),{next(){const{value:m,done:_}=d.next();return _?{value:m,done:_}:{value:l?[h(m[0]),h(m[1])]:h(m),done:_}},[Symbol.iterator](){return this}}}}function Ru(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function FC(t,e){const n={get(i){const r=this.__v_raw,o=nt(r),l=nt(i);t||(dr(i,l)&&yn(o,"get",i),yn(o,"get",l));const{has:c}=Su(o),d=e?Yf:t?Xf:En;if(c.call(o,i))return d(r.get(i));if(c.call(o,l))return d(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&yn(nt(i),"iterate",mo),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=nt(r),l=nt(i);return t||(dr(i,l)&&yn(o,"has",i),yn(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,c=nt(l),d=e?Yf:t?Xf:En;return!t&&yn(c,"iterate",mo),l.forEach((h,m)=>i.call(r,d(h),d(m),o))}};return an(n,t?{add:Ru("add"),set:Ru("set"),delete:Ru("delete"),clear:Ru("clear")}:{add(i){!e&&!ps(i)&&!Eo(i)&&(i=nt(i));const r=nt(this);return Su(r).has.call(r,i)||(r.add(i),vi(r,"add",i,i)),this},set(i,r){!e&&!ps(r)&&!Eo(r)&&(r=nt(r));const o=nt(this),{has:l,get:c}=Su(o);let d=l.call(o,i);d||(i=nt(i),d=l.call(o,i));const h=c.call(o,i);return o.set(i,r),d?dr(r,h)&&vi(o,"set",i,r):vi(o,"add",i,r),this},delete(i){const r=nt(this),{has:o,get:l}=Su(r);let c=o.call(r,i);c||(i=nt(i),c=o.call(r,i)),l&&l.call(r,i);const d=r.delete(i);return c&&vi(r,"delete",i,void 0),d},clear(){const i=nt(this),r=i.size!==0,o=i.clear();return r&&vi(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=$C(i,t,e)}),n}function Yp(t,e){const n=FC(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(ut(n,i)&&i in s?n:s,i,r)}const UC={get:Yp(!1,!1)},jC={get:Yp(!1,!0)},BC={get:Yp(!0,!1)};const rb=new WeakMap,ob=new WeakMap,ab=new WeakMap,HC=new WeakMap;function qC(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function WC(t){return t.__v_skip||!Object.isExtensible(t)?0:qC(pC(t))}function Oc(t){return Eo(t)?t:Xp(t,!1,LC,UC,rb)}function lb(t){return Xp(t,!1,MC,jC,ob)}function cb(t){return Xp(t,!0,VC,BC,ab)}function Xp(t,e,n,s,i){if(!yt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=WC(t);if(o===0)return t;const l=new Proxy(t,o===2?s:n);return i.set(t,l),l}function fr(t){return Eo(t)?fr(t.__v_raw):!!(t&&t.__v_isReactive)}function Eo(t){return!!(t&&t.__v_isReadonly)}function ps(t){return!!(t&&t.__v_isShallow)}function Jp(t){return t?!!t.__v_raw:!1}function nt(t){const e=t&&t.__v_raw;return e?nt(e):t}function Zp(t){return!ut(t,"__v_skip")&&Object.isExtensible(t)&&jE(t,"__v_skip",!0),t}const En=t=>yt(t)?Oc(t):t,Xf=t=>yt(t)?cb(t):t;function Pt(t){return t?t.__v_isRef===!0:!1}function Ce(t){return ub(t,!1)}function zC(t){return ub(t,!0)}function ub(t,e){return Pt(t)?t:new KC(t,e)}class KC{constructor(e,n){this.dep=new Qp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:nt(e),this._value=n?e:En(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||ps(e)||Eo(e);e=s?e:nt(e),dr(e,n)&&(this._rawValue=e,this._value=s?e:En(e),this.dep.trigger())}}function at(t){return Pt(t)?t.value:t}const GC={get:(t,e,n)=>e==="__v_raw"?t:at(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Pt(i)&&!Pt(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function hb(t){return fr(t)?t:new Proxy(t,GC)}function QC(t){const e=Pe(t)?new Array(t.length):{};for(const n in t)e[n]=XC(t,n);return e}class YC{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return PC(nt(this._object),this._key)}}function XC(t,e,n){const s=t[e];return Pt(s)?s:new YC(t,e,n)}class JC{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Qp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=cc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&wt!==this)return YE(this,!0),!0}get value(){const e=this.dep.track();return ZE(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ZC(t,e,n=!1){let s,i;return Fe(t)?s=t:(s=t.get,i=t.set),new JC(s,i,n)}const Pu={},dh=new WeakMap;let oo;function eS(t,e=!1,n=oo){if(n){let s=dh.get(n);s||dh.set(n,s=[]),s.push(t)}}function tS(t,e,n=vt){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:l,call:c}=n,d=j=>i?j:ps(j)||i===!1||i===0?yi(j,1):yi(j);let h,m,_,E,C=!1,N=!1;if(Pt(t)?(m=()=>t.value,C=ps(t)):fr(t)?(m=()=>d(t),C=!0):Pe(t)?(N=!0,C=t.some(j=>fr(j)||ps(j)),m=()=>t.map(j=>{if(Pt(j))return j.value;if(fr(j))return d(j);if(Fe(j))return c?c(j,2):j()})):Fe(t)?e?m=c?()=>c(t,2):t:m=()=>{if(_){Or();try{_()}finally{kr()}}const j=oo;oo=h;try{return c?c(t,3,[E]):t(E)}finally{oo=j}}:m=Qs,e&&i){const j=m,ne=i===!0?1/0:i;m=()=>yi(j(),ne)}const x=KE(),U=()=>{h.stop(),x&&x.active&&qp(x.effects,h)};if(r&&e){const j=e;e=(...ne)=>{j(...ne),U()}}let F=N?new Array(t.length).fill(Pu):Pu;const H=j=>{if(!(!(h.flags&1)||!h.dirty&&!j))if(e){const ne=h.run();if(i||C||(N?ne.some((oe,D)=>dr(oe,F[D])):dr(ne,F))){_&&_();const oe=oo;oo=h;try{const D=[ne,F===Pu?void 0:N&&F[0]===Pu?[]:F,E];c?c(e,3,D):e(...D),F=ne}finally{oo=oe}}}else h.run()};return l&&l(H),h=new GE(m),h.scheduler=o?()=>o(H,!1):H,E=j=>eS(j,!1,h),_=h.onStop=()=>{const j=dh.get(h);if(j){if(c)c(j,4);else for(const ne of j)ne();dh.delete(h)}},e?s?H(!0):F=h.run():o?o(H.bind(null,!0),!0):h.run(),U.pause=h.pause.bind(h),U.resume=h.resume.bind(h),U.stop=U,U}function yi(t,e=1/0,n){if(e<=0||!yt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Pt(t))yi(t.value,e,n);else if(Pe(t))for(let s=0;s<t.length;s++)yi(t[s],e,n);else if(Gh(t)||Ea(t))t.forEach(s=>{yi(s,e,n)});else if(UE(t)){for(const s in t)yi(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&yi(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function kc(t,e,n,s){try{return s?t(...s):t()}catch(i){ed(i,e,n)}}function Ns(t,e,n,s){if(Fe(t)){const i=kc(t,e,n,s);return i&&$E(i)&&i.catch(r=>{ed(r,e,n)}),i}if(Pe(t)){const i=[];for(let r=0;r<t.length;r++)i.push(Ns(t[r],e,n,s));return i}}function ed(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||vt;if(e){let l=e.parent;const c=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const h=l.ec;if(h){for(let m=0;m<h.length;m++)if(h[m](t,c,d)===!1)return}l=l.parent}if(r){Or(),kc(r,null,10,[t,c,d]),kr();return}}nS(t,n,i,s,o)}function nS(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const xn=[];let zs=-1;const ba=[];let sr=null,ca=0;const db=Promise.resolve();let fh=null;function go(t){const e=fh||db;return t?e.then(this?t.bind(this):t):e}function sS(t){let e=zs+1,n=xn.length;for(;e<n;){const s=e+n>>>1,i=xn[s],r=hc(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function em(t){if(!(t.flags&1)){const e=hc(t),n=xn[xn.length-1];!n||!(t.flags&2)&&e>=hc(n)?xn.push(t):xn.splice(sS(e),0,t),t.flags|=1,fb()}}function fb(){fh||(fh=db.then(mb))}function iS(t){Pe(t)?ba.push(...t):sr&&t.id===-1?sr.splice(ca+1,0,t):t.flags&1||(ba.push(t),t.flags|=1),fb()}function E_(t,e,n=zs+1){for(;n<xn.length;n++){const s=xn[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;xn.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function pb(t){if(ba.length){const e=[...new Set(ba)].sort((n,s)=>hc(n)-hc(s));if(ba.length=0,sr){sr.push(...e);return}for(sr=e,ca=0;ca<sr.length;ca++){const n=sr[ca];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}sr=null,ca=0}}const hc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function mb(t){try{for(zs=0;zs<xn.length;zs++){const e=xn[zs];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),kc(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;zs<xn.length;zs++){const e=xn[zs];e&&(e.flags&=-2)}zs=-1,xn.length=0,pb(),fh=null,(xn.length||ba.length)&&mb()}}let Ln=null,gb=null;function ph(t){const e=Ln;return Ln=t,gb=t&&t.type.__scopeId||null,e}function Rt(t,e=Ln,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&k_(-1);const r=ph(e);let o;try{o=t(...i)}finally{ph(r),s._d&&k_(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Qt(t,e){if(Ln===null)return t;const n=od(Ln),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,l,c=vt]=e[i];r&&(Fe(r)&&(r={mounted:r,updated:r}),r.deep&&yi(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return t}function no(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let c=l.dir[s];c&&(Or(),Ns(c,n,8,[t.el,l,t,e]),kr())}}const rS=Symbol("_vte"),_b=t=>t.__isTeleport,ir=Symbol("_leaveCb"),Ou=Symbol("_enterCb");function oS(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zn(()=>{t.isMounted=!0}),Cb(()=>{t.isUnmounting=!0}),t}const fs=[Function,Array],vb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:fs,onEnter:fs,onAfterEnter:fs,onEnterCancelled:fs,onBeforeLeave:fs,onLeave:fs,onAfterLeave:fs,onLeaveCancelled:fs,onBeforeAppear:fs,onAppear:fs,onAfterAppear:fs,onAppearCancelled:fs},yb=t=>{const e=t.subTree;return e.component?yb(e.component):e},aS={name:"BaseTransition",props:vb,setup(t,{slots:e}){const n=iR(),s=oS();return()=>{const i=e.default&&wb(e.default(),!0);if(!i||!i.length)return;const r=Eb(i),o=nt(t),{mode:l}=o;if(s.isLeaving)return df(r);const c=b_(r);if(!c)return df(r);let d=Jf(c,o,s,n,m=>d=m);c.type!==Hn&&dc(c,d);let h=n.subTree&&b_(n.subTree);if(h&&h.type!==Hn&&!lo(c,h)&&yb(n).type!==Hn){let m=Jf(h,o,s,n);if(dc(h,m),l==="out-in"&&c.type!==Hn)return s.isLeaving=!0,m.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave,h=void 0},df(r);l==="in-out"&&c.type!==Hn?m.delayLeave=(_,E,C)=>{const N=bb(s,h);N[String(h.key)]=h,_[ir]=()=>{E(),_[ir]=void 0,delete d.delayedLeave,h=void 0},d.delayedLeave=()=>{C(),delete d.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return r}}};function Eb(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Hn){e=n;break}}return e}const lS=aS;function bb(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Jf(t,e,n,s,i){const{appear:r,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:h,onEnterCancelled:m,onBeforeLeave:_,onLeave:E,onAfterLeave:C,onLeaveCancelled:N,onBeforeAppear:x,onAppear:U,onAfterAppear:F,onAppearCancelled:H}=e,j=String(t.key),ne=bb(n,t),oe=(b,A)=>{b&&Ns(b,s,9,A)},D=(b,A)=>{const O=A[1];oe(b,A),Pe(b)?b.every(R=>R.length<=1)&&O():b.length<=1&&O()},I={mode:o,persisted:l,beforeEnter(b){let A=c;if(!n.isMounted)if(r)A=x||c;else return;b[ir]&&b[ir](!0);const O=ne[j];O&&lo(t,O)&&O.el[ir]&&O.el[ir](),oe(A,[b])},enter(b){let A=d,O=h,R=m;if(!n.isMounted)if(r)A=U||d,O=F||h,R=H||m;else return;let S=!1;const Be=b[Ou]=st=>{S||(S=!0,st?oe(R,[b]):oe(O,[b]),I.delayedLeave&&I.delayedLeave(),b[Ou]=void 0)};A?D(A,[b,Be]):Be()},leave(b,A){const O=String(t.key);if(b[Ou]&&b[Ou](!0),n.isUnmounting)return A();oe(_,[b]);let R=!1;const S=b[ir]=Be=>{R||(R=!0,A(),Be?oe(N,[b]):oe(C,[b]),b[ir]=void 0,ne[O]===t&&delete ne[O])};ne[O]=t,E?D(E,[b,S]):S()},clone(b){const A=Jf(b,e,n,s,i);return i&&i(A),A}};return I}function df(t){if(td(t))return t=yr(t),t.children=null,t}function b_(t){if(!td(t))return _b(t.type)&&t.children?Eb(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Fe(n.default))return n.default()}}function dc(t,e){t.shapeFlag&6&&t.component?(t.transition=e,dc(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function wb(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===We?(o.patchFlag&128&&i++,s=s.concat(wb(o.children,e,l))):(e||o.type!==Hn)&&s.push(l!=null?yr(o,{key:l}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Tb(t,e){return Fe(t)?an({name:t.name},e,{setup:t}):t}function Ab(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function mh(t,e,n,s,i=!1){if(Pe(t)){t.forEach((C,N)=>mh(C,e&&(Pe(e)?e[N]:e),n,s,i));return}if(Ql(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&mh(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?od(s.component):s.el,o=i?null:r,{i:l,r:c}=t,d=e&&e.r,h=l.refs===vt?l.refs={}:l.refs,m=l.setupState,_=nt(m),E=m===vt?()=>!1:C=>ut(_,C);if(d!=null&&d!==c&&(Ut(d)?(h[d]=null,E(d)&&(m[d]=null)):Pt(d)&&(d.value=null)),Fe(c))kc(c,l,12,[o,h]);else{const C=Ut(c),N=Pt(c);if(C||N){const x=()=>{if(t.f){const U=C?E(c)?m[c]:h[c]:c.value;i?Pe(U)&&qp(U,r):Pe(U)?U.includes(r)||U.push(r):C?(h[c]=[r],E(c)&&(m[c]=h[c])):(c.value=[r],t.k&&(h[t.k]=c.value))}else C?(h[c]=o,E(c)&&(m[c]=o)):N&&(c.value=o,t.k&&(h[t.k]=o))};o?(x.id=-1,Xn(x,n)):x()}}}Xh().requestIdleCallback;Xh().cancelIdleCallback;const Ql=t=>!!t.type.__asyncLoader,td=t=>t.type.__isKeepAlive;function cS(t,e){Ib(t,"a",e)}function uS(t,e){Ib(t,"da",e)}function Ib(t,e,n=on){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(nd(e,s,n),n){let i=n.parent;for(;i&&i.parent;)td(i.parent.vnode)&&hS(s,e,n,i),i=i.parent}}function hS(t,e,n,s){const i=nd(e,t,s,!0);sd(()=>{qp(s[e],i)},n)}function nd(t,e,n=on,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Or();const l=Dc(n),c=Ns(e,n,t,o);return l(),kr(),c});return s?i.unshift(r):i.push(r),r}}const Di=t=>(e,n=on)=>{(!pc||t==="sp")&&nd(t,(...s)=>e(...s),n)},dS=Di("bm"),zn=Di("m"),fS=Di("bu"),pS=Di("u"),Cb=Di("bum"),sd=Di("um"),mS=Di("sp"),gS=Di("rtg"),_S=Di("rtc");function vS(t,e=on){nd("ec",t,e)}const yS="components";function Do(t,e){return bS(yS,t,!0,e)||t}const ES=Symbol.for("v-ndc");function bS(t,e,n=!0,s=!1){const i=Ln||on;if(i){const r=i.type;{const l=cR(r,!1);if(l&&(l===e||l===_s(e)||l===Yh(_s(e))))return r}const o=w_(i[t]||r[t],e)||w_(i.appContext[t],e);return!o&&s?r:o}}function w_(t,e){return t&&(t[e]||t[_s(e)]||t[Yh(_s(e))])}function Ft(t,e,n,s){let i;const r=n,o=Pe(t);if(o||Ut(t)){const l=o&&fr(t);let c=!1;l&&(c=!ps(t),t=Zh(t)),i=new Array(t.length);for(let d=0,h=t.length;d<h;d++)i[d]=e(c?En(t[d]):t[d],d,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,r)}else if(yt(t))if(t[Symbol.iterator])i=Array.from(t,(l,c)=>e(l,c,void 0,r));else{const l=Object.keys(t);i=new Array(l.length);for(let c=0,d=l.length;c<d;c++){const h=l[c];i[c]=e(t[h],h,c,r)}}else i=[];return i}const Zf=t=>t?Gb(t)?od(t):Zf(t.parent):null,Yl=an(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Zf(t.parent),$root:t=>Zf(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Rb(t),$forceUpdate:t=>t.f||(t.f=()=>{em(t.update)}),$nextTick:t=>t.n||(t.n=go.bind(t.proxy)),$watch:t=>HS.bind(t)}),ff=(t,e)=>t!==vt&&!t.__isScriptSetup&&ut(t,e),wS={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:c}=t;let d;if(e[0]!=="$"){const E=o[e];if(E!==void 0)switch(E){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(ff(s,e))return o[e]=1,s[e];if(i!==vt&&ut(i,e))return o[e]=2,i[e];if((d=t.propsOptions[0])&&ut(d,e))return o[e]=3,r[e];if(n!==vt&&ut(n,e))return o[e]=4,n[e];ep&&(o[e]=0)}}const h=Yl[e];let m,_;if(h)return e==="$attrs"&&yn(t.attrs,"get",""),h(t);if((m=l.__cssModules)&&(m=m[e]))return m;if(n!==vt&&ut(n,e))return o[e]=4,n[e];if(_=c.config.globalProperties,ut(_,e))return _[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return ff(i,e)?(i[e]=n,!0):s!==vt&&ut(s,e)?(s[e]=n,!0):ut(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let l;return!!n[o]||t!==vt&&ut(t,o)||ff(e,o)||(l=r[0])&&ut(l,o)||ut(s,o)||ut(Yl,o)||ut(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ut(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function T_(t){return Pe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ep=!0;function TS(t){const e=Rb(t),n=t.proxy,s=t.ctx;ep=!1,e.beforeCreate&&A_(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:l,provide:c,inject:d,created:h,beforeMount:m,mounted:_,beforeUpdate:E,updated:C,activated:N,deactivated:x,beforeDestroy:U,beforeUnmount:F,destroyed:H,unmounted:j,render:ne,renderTracked:oe,renderTriggered:D,errorCaptured:I,serverPrefetch:b,expose:A,inheritAttrs:O,components:R,directives:S,filters:Be}=e;if(d&&AS(d,s,null),o)for(const be in o){const je=o[be];Fe(je)&&(s[be]=je.bind(n))}if(i){const be=i.call(n,n);yt(be)&&(t.data=Oc(be))}if(ep=!0,r)for(const be in r){const je=r[be],Ct=Fe(je)?je.bind(n,n):Fe(je.get)?je.get.bind(n,n):Qs,Q=!Fe(je)&&Fe(je.set)?je.set.bind(n):Qs,jt=Ht({get:Ct,set:Q});Object.defineProperty(s,be,{enumerable:!0,configurable:!0,get:()=>jt.value,set:it=>jt.value=it})}if(l)for(const be in l)Sb(l[be],s,n,be);if(c){const be=Fe(c)?c.call(n):c;Reflect.ownKeys(be).forEach(je=>{zu(je,be[je])})}h&&A_(h,t,"c");function xe(be,je){Pe(je)?je.forEach(Ct=>be(Ct.bind(n))):je&&be(je.bind(n))}if(xe(dS,m),xe(zn,_),xe(fS,E),xe(pS,C),xe(cS,N),xe(uS,x),xe(vS,I),xe(_S,oe),xe(gS,D),xe(Cb,F),xe(sd,j),xe(mS,b),Pe(A))if(A.length){const be=t.exposed||(t.exposed={});A.forEach(je=>{Object.defineProperty(be,je,{get:()=>n[je],set:Ct=>n[je]=Ct})})}else t.exposed||(t.exposed={});ne&&t.render===Qs&&(t.render=ne),O!=null&&(t.inheritAttrs=O),R&&(t.components=R),S&&(t.directives=S),b&&Ab(t)}function AS(t,e,n=Qs){Pe(t)&&(t=tp(t));for(const s in t){const i=t[s];let r;yt(i)?"default"in i?r=ms(i.from||s,i.default,!0):r=ms(i.from||s):r=ms(i),Pt(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function A_(t,e,n){Ns(Pe(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Sb(t,e,n,s){let i=s.includes(".")?Bb(n,s):()=>n[s];if(Ut(t)){const r=e[t];Fe(r)&&Ps(i,r)}else if(Fe(t))Ps(i,t.bind(n));else if(yt(t))if(Pe(t))t.forEach(r=>Sb(r,e,n,s));else{const r=Fe(t.handler)?t.handler.bind(n):e[t.handler];Fe(r)&&Ps(i,r,t)}}function Rb(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(e);let c;return l?c=l:!i.length&&!n&&!s?c=e:(c={},i.length&&i.forEach(d=>gh(c,d,o,!0)),gh(c,e,o)),yt(e)&&r.set(e,c),c}function gh(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&gh(t,r,n,!0),i&&i.forEach(o=>gh(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=IS[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const IS={data:I_,props:C_,emits:C_,methods:Fl,computed:Fl,beforeCreate:kn,created:kn,beforeMount:kn,mounted:kn,beforeUpdate:kn,updated:kn,beforeDestroy:kn,beforeUnmount:kn,destroyed:kn,unmounted:kn,activated:kn,deactivated:kn,errorCaptured:kn,serverPrefetch:kn,components:Fl,directives:Fl,watch:SS,provide:I_,inject:CS};function I_(t,e){return e?t?function(){return an(Fe(t)?t.call(this,this):t,Fe(e)?e.call(this,this):e)}:e:t}function CS(t,e){return Fl(tp(t),tp(e))}function tp(t){if(Pe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function kn(t,e){return t?[...new Set([].concat(t,e))]:e}function Fl(t,e){return t?an(Object.create(null),t,e):e}function C_(t,e){return t?Pe(t)&&Pe(e)?[...new Set([...t,...e])]:an(Object.create(null),T_(t),T_(e??{})):e}function SS(t,e){if(!t)return e;if(!e)return t;const n=an(Object.create(null),t);for(const s in e)n[s]=kn(t[s],e[s]);return n}function Pb(){return{app:null,config:{isNativeTag:dC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let RS=0;function PS(t,e){return function(s,i=null){Fe(s)||(s=an({},s)),i!=null&&!yt(i)&&(i=null);const r=Pb(),o=new WeakSet,l=[];let c=!1;const d=r.app={_uid:RS++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:hR,get config(){return r.config},set config(h){},use(h,...m){return o.has(h)||(h&&Fe(h.install)?(o.add(h),h.install(d,...m)):Fe(h)&&(o.add(h),h(d,...m))),d},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),d},component(h,m){return m?(r.components[h]=m,d):r.components[h]},directive(h,m){return m?(r.directives[h]=m,d):r.directives[h]},mount(h,m,_){if(!c){const E=d._ceVNode||Te(s,i);return E.appContext=r,_===!0?_="svg":_===!1&&(_=void 0),t(E,h,_),c=!0,d._container=h,h.__vue_app__=d,od(E.component)}},onUnmount(h){l.push(h)},unmount(){c&&(Ns(l,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(h,m){return r.provides[h]=m,d},runWithContext(h){const m=_o;_o=d;try{return h()}finally{_o=m}}};return d}}let _o=null;function zu(t,e){if(on){let n=on.provides;const s=on.parent&&on.parent.provides;s===n&&(n=on.provides=Object.create(s)),n[t]=e}}function ms(t,e,n=!1){const s=on||Ln;if(s||_o){const i=_o?_o._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Fe(e)?e.call(s&&s.proxy):e}}function OS(){return!!(on||Ln||_o)}const Ob={},kb=()=>Object.create(Ob),Db=t=>Object.getPrototypeOf(t)===Ob;function kS(t,e,n,s=!1){const i={},r=kb();t.propsDefaults=Object.create(null),Nb(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:lb(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function DS(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,l=nt(i),[c]=t.propsOptions;let d=!1;if((s||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let m=0;m<h.length;m++){let _=h[m];if(id(t.emitsOptions,_))continue;const E=e[_];if(c)if(ut(r,_))E!==r[_]&&(r[_]=E,d=!0);else{const C=_s(_);i[C]=np(c,l,C,E,t,!1)}else E!==r[_]&&(r[_]=E,d=!0)}}}else{Nb(t,e,i,r)&&(d=!0);let h;for(const m in l)(!e||!ut(e,m)&&((h=ko(m))===m||!ut(e,h)))&&(c?n&&(n[m]!==void 0||n[h]!==void 0)&&(i[m]=np(c,l,m,void 0,t,!0)):delete i[m]);if(r!==l)for(const m in r)(!e||!ut(e,m))&&(delete r[m],d=!0)}d&&vi(t.attrs,"set","")}function Nb(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,l;if(e)for(let c in e){if(zl(c))continue;const d=e[c];let h;i&&ut(i,h=_s(c))?!r||!r.includes(h)?n[h]=d:(l||(l={}))[h]=d:id(t.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,o=!0)}if(r){const c=nt(n),d=l||vt;for(let h=0;h<r.length;h++){const m=r[h];n[m]=np(i,c,m,d[m],t,!ut(d,m))}}return o}function np(t,e,n,s,i,r){const o=t[n];if(o!=null){const l=ut(o,"default");if(l&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Fe(c)){const{propsDefaults:d}=i;if(n in d)s=d[n];else{const h=Dc(i);s=d[n]=c.call(null,e),h()}}else s=c;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===ko(n))&&(s=!0))}return s}const NS=new WeakMap;function xb(t,e,n=!1){const s=n?NS:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},l=[];let c=!1;if(!Fe(t)){const h=m=>{c=!0;const[_,E]=xb(m,e,!0);an(o,_),E&&l.push(...E)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!r&&!c)return yt(t)&&s.set(t,ya),ya;if(Pe(r))for(let h=0;h<r.length;h++){const m=_s(r[h]);S_(m)&&(o[m]=vt)}else if(r)for(const h in r){const m=_s(h);if(S_(m)){const _=r[h],E=o[m]=Pe(_)||Fe(_)?{type:_}:an({},_),C=E.type;let N=!1,x=!0;if(Pe(C))for(let U=0;U<C.length;++U){const F=C[U],H=Fe(F)&&F.name;if(H==="Boolean"){N=!0;break}else H==="String"&&(x=!1)}else N=Fe(C)&&C.name==="Boolean";E[0]=N,E[1]=x,(N||ut(E,"default"))&&l.push(m)}}const d=[o,l];return yt(t)&&s.set(t,d),d}function S_(t){return t[0]!=="$"&&!zl(t)}const Lb=t=>t[0]==="_"||t==="$stable",tm=t=>Pe(t)?t.map(Gs):[Gs(t)],xS=(t,e,n)=>{if(e._n)return e;const s=Rt((...i)=>tm(e(...i)),n);return s._c=!1,s},Vb=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Lb(i))continue;const r=t[i];if(Fe(r))e[i]=xS(i,r,s);else if(r!=null){const o=tm(r);e[i]=()=>o}}},Mb=(t,e)=>{const n=tm(e);t.slots.default=()=>n},$b=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},LS=(t,e,n)=>{const s=t.slots=kb();if(t.vnode.shapeFlag&32){const i=e._;i?($b(s,e,n),n&&jE(s,"_",i,!0)):Vb(e,s)}else e&&Mb(t,e)},VS=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=vt;if(s.shapeFlag&32){const l=e._;l?n&&l===1?r=!1:$b(i,e,n):(r=!e.$stable,Vb(e,i)),o=e}else e&&(Mb(t,e),o={default:1});if(r)for(const l in i)!Lb(l)&&o[l]==null&&delete i[l]},Xn=YS;function MS(t){return $S(t)}function $S(t,e){const n=Xh();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:c,setText:d,setElementText:h,parentNode:m,nextSibling:_,setScopeId:E=Qs,insertStaticContent:C}=t,N=(P,k,M,K=null,G=null,Y=null,he=void 0,ae=null,se=!!k.dynamicChildren)=>{if(P===k)return;P&&!lo(P,k)&&(K=z(P),it(P,G,Y,!0),P=null),k.patchFlag===-2&&(se=!1,k.dynamicChildren=null);const{type:ee,ref:Ie,shapeFlag:de}=k;switch(ee){case rd:x(P,k,M,K);break;case Hn:U(P,k,M,K);break;case Ku:P==null&&F(k,M,K,he);break;case We:R(P,k,M,K,G,Y,he,ae,se);break;default:de&1?ne(P,k,M,K,G,Y,he,ae,se):de&6?S(P,k,M,K,G,Y,he,ae,se):(de&64||de&128)&&ee.process(P,k,M,K,G,Y,he,ae,se,ge)}Ie!=null&&G&&mh(Ie,P&&P.ref,Y,k||P,!k)},x=(P,k,M,K)=>{if(P==null)s(k.el=l(k.children),M,K);else{const G=k.el=P.el;k.children!==P.children&&d(G,k.children)}},U=(P,k,M,K)=>{P==null?s(k.el=c(k.children||""),M,K):k.el=P.el},F=(P,k,M,K)=>{[P.el,P.anchor]=C(P.children,k,M,K,P.el,P.anchor)},H=({el:P,anchor:k},M,K)=>{let G;for(;P&&P!==k;)G=_(P),s(P,M,K),P=G;s(k,M,K)},j=({el:P,anchor:k})=>{let M;for(;P&&P!==k;)M=_(P),i(P),P=M;i(k)},ne=(P,k,M,K,G,Y,he,ae,se)=>{k.type==="svg"?he="svg":k.type==="math"&&(he="mathml"),P==null?oe(k,M,K,G,Y,he,ae,se):b(P,k,G,Y,he,ae,se)},oe=(P,k,M,K,G,Y,he,ae)=>{let se,ee;const{props:Ie,shapeFlag:de,transition:ve,dirs:we}=P;if(se=P.el=o(P.type,Y,Ie&&Ie.is,Ie),de&8?h(se,P.children):de&16&&I(P.children,se,null,K,G,pf(P,Y),he,ae),we&&no(P,null,K,"created"),D(se,P,P.scopeId,he,K),Ie){for(const Ne in Ie)Ne!=="value"&&!zl(Ne)&&r(se,Ne,null,Ie[Ne],Y,K);"value"in Ie&&r(se,"value",null,Ie.value,Y),(ee=Ie.onVnodeBeforeMount)&&Ws(ee,K,P)}we&&no(P,null,K,"beforeMount");const Ae=FS(G,ve);Ae&&ve.beforeEnter(se),s(se,k,M),((ee=Ie&&Ie.onVnodeMounted)||Ae||we)&&Xn(()=>{ee&&Ws(ee,K,P),Ae&&ve.enter(se),we&&no(P,null,K,"mounted")},G)},D=(P,k,M,K,G)=>{if(M&&E(P,M),K)for(let Y=0;Y<K.length;Y++)E(P,K[Y]);if(G){let Y=G.subTree;if(k===Y||qb(Y.type)&&(Y.ssContent===k||Y.ssFallback===k)){const he=G.vnode;D(P,he,he.scopeId,he.slotScopeIds,G.parent)}}},I=(P,k,M,K,G,Y,he,ae,se=0)=>{for(let ee=se;ee<P.length;ee++){const Ie=P[ee]=ae?rr(P[ee]):Gs(P[ee]);N(null,Ie,k,M,K,G,Y,he,ae)}},b=(P,k,M,K,G,Y,he)=>{const ae=k.el=P.el;let{patchFlag:se,dynamicChildren:ee,dirs:Ie}=k;se|=P.patchFlag&16;const de=P.props||vt,ve=k.props||vt;let we;if(M&&so(M,!1),(we=ve.onVnodeBeforeUpdate)&&Ws(we,M,k,P),Ie&&no(k,P,M,"beforeUpdate"),M&&so(M,!0),(de.innerHTML&&ve.innerHTML==null||de.textContent&&ve.textContent==null)&&h(ae,""),ee?A(P.dynamicChildren,ee,ae,M,K,pf(k,G),Y):he||je(P,k,ae,null,M,K,pf(k,G),Y,!1),se>0){if(se&16)O(ae,de,ve,M,G);else if(se&2&&de.class!==ve.class&&r(ae,"class",null,ve.class,G),se&4&&r(ae,"style",de.style,ve.style,G),se&8){const Ae=k.dynamicProps;for(let Ne=0;Ne<Ae.length;Ne++){const ze=Ae[Ne],kt=de[ze],St=ve[ze];(St!==kt||ze==="value")&&r(ae,ze,kt,St,G,M)}}se&1&&P.children!==k.children&&h(ae,k.children)}else!he&&ee==null&&O(ae,de,ve,M,G);((we=ve.onVnodeUpdated)||Ie)&&Xn(()=>{we&&Ws(we,M,k,P),Ie&&no(k,P,M,"updated")},K)},A=(P,k,M,K,G,Y,he)=>{for(let ae=0;ae<k.length;ae++){const se=P[ae],ee=k[ae],Ie=se.el&&(se.type===We||!lo(se,ee)||se.shapeFlag&70)?m(se.el):M;N(se,ee,Ie,null,K,G,Y,he,!0)}},O=(P,k,M,K,G)=>{if(k!==M){if(k!==vt)for(const Y in k)!zl(Y)&&!(Y in M)&&r(P,Y,k[Y],null,G,K);for(const Y in M){if(zl(Y))continue;const he=M[Y],ae=k[Y];he!==ae&&Y!=="value"&&r(P,Y,ae,he,G,K)}"value"in M&&r(P,"value",k.value,M.value,G)}},R=(P,k,M,K,G,Y,he,ae,se)=>{const ee=k.el=P?P.el:l(""),Ie=k.anchor=P?P.anchor:l("");let{patchFlag:de,dynamicChildren:ve,slotScopeIds:we}=k;we&&(ae=ae?ae.concat(we):we),P==null?(s(ee,M,K),s(Ie,M,K),I(k.children||[],M,Ie,G,Y,he,ae,se)):de>0&&de&64&&ve&&P.dynamicChildren?(A(P.dynamicChildren,ve,M,G,Y,he,ae),(k.key!=null||G&&k===G.subTree)&&Fb(P,k,!0)):je(P,k,M,Ie,G,Y,he,ae,se)},S=(P,k,M,K,G,Y,he,ae,se)=>{k.slotScopeIds=ae,P==null?k.shapeFlag&512?G.ctx.activate(k,M,K,he,se):Be(k,M,K,G,Y,he,se):st(P,k,se)},Be=(P,k,M,K,G,Y,he)=>{const ae=P.component=sR(P,K,G);if(td(P)&&(ae.ctx.renderer=ge),rR(ae,!1,he),ae.asyncDep){if(G&&G.registerDep(ae,xe,he),!P.el){const se=ae.subTree=Te(Hn);U(null,se,k,M)}}else xe(ae,P,k,M,G,Y,he)},st=(P,k,M)=>{const K=k.component=P.component;if(GS(P,k,M))if(K.asyncDep&&!K.asyncResolved){be(K,k,M);return}else K.next=k,K.update();else k.el=P.el,K.vnode=k},xe=(P,k,M,K,G,Y,he)=>{const ae=()=>{if(P.isMounted){let{next:de,bu:ve,u:we,parent:Ae,vnode:Ne}=P;{const Lt=Ub(P);if(Lt){de&&(de.el=Ne.el,be(P,de,he)),Lt.asyncDep.then(()=>{P.isUnmounted||ae()});return}}let ze=de,kt;so(P,!1),de?(de.el=Ne.el,be(P,de,he)):de=Ne,ve&&Wu(ve),(kt=de.props&&de.props.onVnodeBeforeUpdate)&&Ws(kt,Ae,de,Ne),so(P,!0);const St=P_(P),Wt=P.subTree;P.subTree=St,N(Wt,St,m(Wt.el),z(Wt),P,G,Y),de.el=St.el,ze===null&&QS(P,St.el),we&&Xn(we,G),(kt=de.props&&de.props.onVnodeUpdated)&&Xn(()=>Ws(kt,Ae,de,Ne),G)}else{let de;const{el:ve,props:we}=k,{bm:Ae,m:Ne,parent:ze,root:kt,type:St}=P,Wt=Ql(k);so(P,!1),Ae&&Wu(Ae),!Wt&&(de=we&&we.onVnodeBeforeMount)&&Ws(de,ze,k),so(P,!0);{kt.ce&&kt.ce._injectChildStyle(St);const Lt=P.subTree=P_(P);N(null,Lt,M,K,P,G,Y),k.el=Lt.el}if(Ne&&Xn(Ne,G),!Wt&&(de=we&&we.onVnodeMounted)){const Lt=k;Xn(()=>Ws(de,ze,Lt),G)}(k.shapeFlag&256||ze&&Ql(ze.vnode)&&ze.vnode.shapeFlag&256)&&P.a&&Xn(P.a,G),P.isMounted=!0,k=M=K=null}};P.scope.on();const se=P.effect=new GE(ae);P.scope.off();const ee=P.update=se.run.bind(se),Ie=P.job=se.runIfDirty.bind(se);Ie.i=P,Ie.id=P.uid,se.scheduler=()=>em(Ie),so(P,!0),ee()},be=(P,k,M)=>{k.component=P;const K=P.vnode.props;P.vnode=k,P.next=null,DS(P,k.props,K,M),VS(P,k.children,M),Or(),E_(P),kr()},je=(P,k,M,K,G,Y,he,ae,se=!1)=>{const ee=P&&P.children,Ie=P?P.shapeFlag:0,de=k.children,{patchFlag:ve,shapeFlag:we}=k;if(ve>0){if(ve&128){Q(ee,de,M,K,G,Y,he,ae,se);return}else if(ve&256){Ct(ee,de,M,K,G,Y,he,ae,se);return}}we&8?(Ie&16&&ot(ee,G,Y),de!==ee&&h(M,de)):Ie&16?we&16?Q(ee,de,M,K,G,Y,he,ae,se):ot(ee,G,Y,!0):(Ie&8&&h(M,""),we&16&&I(de,M,K,G,Y,he,ae,se))},Ct=(P,k,M,K,G,Y,he,ae,se)=>{P=P||ya,k=k||ya;const ee=P.length,Ie=k.length,de=Math.min(ee,Ie);let ve;for(ve=0;ve<de;ve++){const we=k[ve]=se?rr(k[ve]):Gs(k[ve]);N(P[ve],we,M,null,G,Y,he,ae,se)}ee>Ie?ot(P,G,Y,!0,!1,de):I(k,M,K,G,Y,he,ae,se,de)},Q=(P,k,M,K,G,Y,he,ae,se)=>{let ee=0;const Ie=k.length;let de=P.length-1,ve=Ie-1;for(;ee<=de&&ee<=ve;){const we=P[ee],Ae=k[ee]=se?rr(k[ee]):Gs(k[ee]);if(lo(we,Ae))N(we,Ae,M,null,G,Y,he,ae,se);else break;ee++}for(;ee<=de&&ee<=ve;){const we=P[de],Ae=k[ve]=se?rr(k[ve]):Gs(k[ve]);if(lo(we,Ae))N(we,Ae,M,null,G,Y,he,ae,se);else break;de--,ve--}if(ee>de){if(ee<=ve){const we=ve+1,Ae=we<Ie?k[we].el:K;for(;ee<=ve;)N(null,k[ee]=se?rr(k[ee]):Gs(k[ee]),M,Ae,G,Y,he,ae,se),ee++}}else if(ee>ve)for(;ee<=de;)it(P[ee],G,Y,!0),ee++;else{const we=ee,Ae=ee,Ne=new Map;for(ee=Ae;ee<=ve;ee++){const zt=k[ee]=se?rr(k[ee]):Gs(k[ee]);zt.key!=null&&Ne.set(zt.key,ee)}let ze,kt=0;const St=ve-Ae+1;let Wt=!1,Lt=0;const Ms=new Array(St);for(ee=0;ee<St;ee++)Ms[ee]=0;for(ee=we;ee<=de;ee++){const zt=P[ee];if(kt>=St){it(zt,G,Y,!0);continue}let $n;if(zt.key!=null)$n=Ne.get(zt.key);else for(ze=Ae;ze<=ve;ze++)if(Ms[ze-Ae]===0&&lo(zt,k[ze])){$n=ze;break}$n===void 0?it(zt,G,Y,!0):(Ms[$n-Ae]=ee+1,$n>=Lt?Lt=$n:Wt=!0,N(zt,k[$n],M,null,G,Y,he,ae,se),kt++)}const ii=Wt?US(Ms):ya;for(ze=ii.length-1,ee=St-1;ee>=0;ee--){const zt=Ae+ee,$n=k[zt],Fo=zt+1<Ie?k[zt+1].el:K;Ms[ee]===0?N(null,$n,M,Fo,G,Y,he,ae,se):Wt&&(ze<0||ee!==ii[ze]?jt($n,M,Fo,2):ze--)}}},jt=(P,k,M,K,G=null)=>{const{el:Y,type:he,transition:ae,children:se,shapeFlag:ee}=P;if(ee&6){jt(P.component.subTree,k,M,K);return}if(ee&128){P.suspense.move(k,M,K);return}if(ee&64){he.move(P,k,M,ge);return}if(he===We){s(Y,k,M);for(let de=0;de<se.length;de++)jt(se[de],k,M,K);s(P.anchor,k,M);return}if(he===Ku){H(P,k,M);return}if(K!==2&&ee&1&&ae)if(K===0)ae.beforeEnter(Y),s(Y,k,M),Xn(()=>ae.enter(Y),G);else{const{leave:de,delayLeave:ve,afterLeave:we}=ae,Ae=()=>s(Y,k,M),Ne=()=>{de(Y,()=>{Ae(),we&&we()})};ve?ve(Y,Ae,Ne):Ne()}else s(Y,k,M)},it=(P,k,M,K=!1,G=!1)=>{const{type:Y,props:he,ref:ae,children:se,dynamicChildren:ee,shapeFlag:Ie,patchFlag:de,dirs:ve,cacheIndex:we}=P;if(de===-2&&(G=!1),ae!=null&&mh(ae,null,M,P,!0),we!=null&&(k.renderCache[we]=void 0),Ie&256){k.ctx.deactivate(P);return}const Ae=Ie&1&&ve,Ne=!Ql(P);let ze;if(Ne&&(ze=he&&he.onVnodeBeforeUnmount)&&Ws(ze,k,P),Ie&6)At(P.component,M,K);else{if(Ie&128){P.suspense.unmount(M,K);return}Ae&&no(P,null,k,"beforeUnmount"),Ie&64?P.type.remove(P,k,M,ge,K):ee&&!ee.hasOnce&&(Y!==We||de>0&&de&64)?ot(ee,k,M,!1,!0):(Y===We&&de&384||!G&&Ie&16)&&ot(se,k,M),K&&rt(P)}(Ne&&(ze=he&&he.onVnodeUnmounted)||Ae)&&Xn(()=>{ze&&Ws(ze,k,P),Ae&&no(P,null,k,"unmounted")},M)},rt=P=>{const{type:k,el:M,anchor:K,transition:G}=P;if(k===We){Tt(M,K);return}if(k===Ku){j(P);return}const Y=()=>{i(M),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(P.shapeFlag&1&&G&&!G.persisted){const{leave:he,delayLeave:ae}=G,se=()=>he(M,Y);ae?ae(P.el,Y,se):se()}else Y()},Tt=(P,k)=>{let M;for(;P!==k;)M=_(P),i(P),P=M;i(k)},At=(P,k,M)=>{const{bum:K,scope:G,job:Y,subTree:he,um:ae,m:se,a:ee}=P;R_(se),R_(ee),K&&Wu(K),G.stop(),Y&&(Y.flags|=8,it(he,P,k,M)),ae&&Xn(ae,k),Xn(()=>{P.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},ot=(P,k,M,K=!1,G=!1,Y=0)=>{for(let he=Y;he<P.length;he++)it(P[he],k,M,K,G)},z=P=>{if(P.shapeFlag&6)return z(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const k=_(P.anchor||P.el),M=k&&k[rS];return M?_(M):k};let W=!1;const le=(P,k,M)=>{P==null?k._vnode&&it(k._vnode,null,null,!0):N(k._vnode||null,P,k,null,null,null,M),k._vnode=P,W||(W=!0,E_(),pb(),W=!1)},ge={p:N,um:it,m:jt,r:rt,mt:Be,mc:I,pc:je,pbc:A,n:z,o:t};return{render:le,hydrate:void 0,createApp:PS(le)}}function pf({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function so({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function FS(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Fb(t,e,n=!1){const s=t.children,i=e.children;if(Pe(s)&&Pe(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=rr(i[r]),l.el=o.el),!n&&l.patchFlag!==-2&&Fb(o,l)),l.type===rd&&(l.el=o.el)}}function US(t){const e=t.slice(),n=[0];let s,i,r,o,l;const c=t.length;for(s=0;s<c;s++){const d=t[s];if(d!==0){if(i=n[n.length-1],t[i]<d){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,t[n[l]]<d?r=l+1:o=l;d<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Ub(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ub(e)}function R_(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const jS=Symbol.for("v-scx"),BS=()=>ms(jS);function Ps(t,e,n){return jb(t,e,n)}function jb(t,e,n=vt){const{immediate:s,deep:i,flush:r,once:o}=n,l=an({},n),c=e&&s||!e&&r!=="post";let d;if(pc){if(r==="sync"){const E=BS();d=E.__watcherHandles||(E.__watcherHandles=[])}else if(!c){const E=()=>{};return E.stop=Qs,E.resume=Qs,E.pause=Qs,E}}const h=on;l.call=(E,C,N)=>Ns(E,h,C,N);let m=!1;r==="post"?l.scheduler=E=>{Xn(E,h&&h.suspense)}:r!=="sync"&&(m=!0,l.scheduler=(E,C)=>{C?E():em(E)}),l.augmentJob=E=>{e&&(E.flags|=4),m&&(E.flags|=2,h&&(E.id=h.uid,E.i=h))};const _=tS(t,e,l);return pc&&(d?d.push(_):c&&_()),_}function HS(t,e,n){const s=this.proxy,i=Ut(t)?t.includes(".")?Bb(s,t):()=>s[t]:t.bind(s,s);let r;Fe(e)?r=e:(r=e.handler,n=e);const o=Dc(this),l=jb(i,r.bind(s),n);return o(),l}function Bb(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const qS=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${_s(e)}Modifiers`]||t[`${ko(e)}Modifiers`];function WS(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||vt;let i=n;const r=e.startsWith("update:"),o=r&&qS(s,e.slice(7));o&&(o.trim&&(i=n.map(h=>Ut(h)?h.trim():h)),o.number&&(i=n.map(uh)));let l,c=s[l=af(e)]||s[l=af(_s(e))];!c&&r&&(c=s[l=af(ko(e))]),c&&Ns(c,t,6,i);const d=s[l+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Ns(d,t,6,i)}}function Hb(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},l=!1;if(!Fe(t)){const c=d=>{const h=Hb(d,e,!0);h&&(l=!0,an(o,h))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!r&&!l?(yt(t)&&s.set(t,null),null):(Pe(r)?r.forEach(c=>o[c]=null):an(o,r),yt(t)&&s.set(t,o),o)}function id(t,e){return!t||!Kh(e)?!1:(e=e.slice(2).replace(/Once$/,""),ut(t,e[0].toLowerCase()+e.slice(1))||ut(t,ko(e))||ut(t,e))}function P_(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:c,render:d,renderCache:h,props:m,data:_,setupState:E,ctx:C,inheritAttrs:N}=t,x=ph(t);let U,F;try{if(n.shapeFlag&4){const j=i||s,ne=j;U=Gs(d.call(ne,j,h,m,E,_,C)),F=l}else{const j=e;U=Gs(j.length>1?j(m,{attrs:l,slots:o,emit:c}):j(m,null)),F=e.props?l:zS(l)}}catch(j){Xl.length=0,ed(j,t,1),U=Te(Hn)}let H=U;if(F&&N!==!1){const j=Object.keys(F),{shapeFlag:ne}=H;j.length&&ne&7&&(r&&j.some(Hp)&&(F=KS(F,r)),H=yr(H,F,!1,!0))}return n.dirs&&(H=yr(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(n.dirs):n.dirs),n.transition&&dc(H,n.transition),U=H,ph(x),U}const zS=t=>{let e;for(const n in t)(n==="class"||n==="style"||Kh(n))&&((e||(e={}))[n]=t[n]);return e},KS=(t,e)=>{const n={};for(const s in t)(!Hp(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function GS(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:l,patchFlag:c}=e,d=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?O_(s,o,d):!!o;if(c&8){const h=e.dynamicProps;for(let m=0;m<h.length;m++){const _=h[m];if(o[_]!==s[_]&&!id(d,_))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?O_(s,o,d):!0:!!o;return!1}function O_(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!id(n,r))return!0}return!1}function QS({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const qb=t=>t.__isSuspense;function YS(t,e){e&&e.pendingBranch?Pe(t)?e.effects.push(...t):e.effects.push(t):iS(t)}const We=Symbol.for("v-fgt"),rd=Symbol.for("v-txt"),Hn=Symbol.for("v-cmt"),Ku=Symbol.for("v-stc"),Xl=[];let es=null;function ie(t=!1){Xl.push(es=t?null:[])}function XS(){Xl.pop(),es=Xl[Xl.length-1]||null}let fc=1;function k_(t,e=!1){fc+=t,t<0&&es&&e&&(es.hasOnce=!0)}function Wb(t){return t.dynamicChildren=fc>0?es||ya:null,XS(),fc>0&&es&&es.push(t),t}function re(t,e,n,s,i,r){return Wb(y(t,e,n,s,i,r,!0))}function zb(t,e,n,s,i){return Wb(Te(t,e,n,s,i,!0))}function _h(t){return t?t.__v_isVNode===!0:!1}function lo(t,e){return t.type===e.type&&t.key===e.key}const Kb=({key:t})=>t??null,Gu=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ut(t)||Pt(t)||Fe(t)?{i:Ln,r:t,k:e,f:!!n}:t:null);function y(t,e=null,n=null,s=0,i=null,r=t===We?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Kb(e),ref:e&&Gu(e),scopeId:gb,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ln};return l?(nm(c,n),r&128&&t.normalize(c)):n&&(c.shapeFlag|=Ut(n)?8:16),fc>0&&!o&&es&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&es.push(c),c}const Te=JS;function JS(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===ES)&&(t=Hn),_h(t)){const l=yr(t,e,!0);return n&&nm(l,n),fc>0&&!r&&es&&(l.shapeFlag&6?es[es.indexOf(t)]=l:es.push(l)),l.patchFlag=-2,l}if(uR(t)&&(t=t.__vccOpts),e){e=ZS(e);let{class:l,style:c}=e;l&&!Ut(l)&&(e.class=Dn(l)),yt(c)&&(Jp(c)&&!Pe(c)&&(c=an({},c)),e.style=yo(c))}const o=Ut(t)?1:qb(t)?128:_b(t)?64:yt(t)?4:Fe(t)?2:0;return y(t,e,n,s,i,o,r,!0)}function ZS(t){return t?Jp(t)||Db(t)?an({},t):t:null}function yr(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:c}=t,d=e?eR(i||{},e):i,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&Kb(d),ref:e&&e.ref?n&&r?Pe(r)?r.concat(Gu(e)):[r,Gu(e)]:Gu(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==We?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&yr(t.ssContent),ssFallback:t.ssFallback&&yr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&dc(h,c.clone(h)),h}function _n(t=" ",e=0){return Te(rd,null,t,e)}function Sa(t,e){const n=Te(Ku,null,t);return n.staticCount=e,n}function jn(t="",e=!1){return e?(ie(),zb(Hn,null,t)):Te(Hn,null,t)}function Gs(t){return t==null||typeof t=="boolean"?Te(Hn):Pe(t)?Te(We,null,t.slice()):_h(t)?rr(t):Te(rd,null,String(t))}function rr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:yr(t)}function nm(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Pe(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),nm(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Db(e)?e._ctx=Ln:i===3&&Ln&&(Ln.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Fe(e)?(e={default:e,_ctx:Ln},n=32):(e=String(e),s&64?(n=16,e=[_n(e)]):n=8);t.children=e,t.shapeFlag|=n}function eR(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Dn([e.class,s.class]));else if(i==="style")e.style=yo([e.style,s.style]);else if(Kh(i)){const r=e[i],o=s[i];o&&r!==o&&!(Pe(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function Ws(t,e,n,s=null){Ns(t,e,7,[n,s])}const tR=Pb();let nR=0;function sR(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||tR,r={uid:nR++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new WE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xb(s,i),emitsOptions:Hb(s,i),emit:null,emitted:null,propsDefaults:vt,inheritAttrs:s.inheritAttrs,ctx:vt,data:vt,props:vt,attrs:vt,slots:vt,refs:vt,setupState:vt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=WS.bind(null,r),t.ce&&t.ce(r),r}let on=null;const iR=()=>on||Ln;let vh,sp;{const t=Xh(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};vh=e("__VUE_INSTANCE_SETTERS__",n=>on=n),sp=e("__VUE_SSR_SETTERS__",n=>pc=n)}const Dc=t=>{const e=on;return vh(t),t.scope.on(),()=>{t.scope.off(),vh(e)}},D_=()=>{on&&on.scope.off(),vh(null)};function Gb(t){return t.vnode.shapeFlag&4}let pc=!1;function rR(t,e=!1,n=!1){e&&sp(e);const{props:s,children:i}=t.vnode,r=Gb(t);kS(t,s,r,e),LS(t,i,n);const o=r?oR(t,e):void 0;return e&&sp(!1),o}function oR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,wS);const{setup:s}=n;if(s){Or();const i=t.setupContext=s.length>1?lR(t):null,r=Dc(t),o=kc(s,t,0,[t.props,i]),l=$E(o);if(kr(),r(),(l||t.sp)&&!Ql(t)&&Ab(t),l){if(o.then(D_,D_),e)return o.then(c=>{N_(t,c)}).catch(c=>{ed(c,t,0)});t.asyncDep=o}else N_(t,o)}else Qb(t)}function N_(t,e,n){Fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:yt(e)&&(t.setupState=hb(e)),Qb(t)}function Qb(t,e,n){const s=t.type;t.render||(t.render=s.render||Qs);{const i=Dc(t);Or();try{TS(t)}finally{kr(),i()}}}const aR={get(t,e){return yn(t,"get",""),t[e]}};function lR(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,aR),slots:t.slots,emit:t.emit,expose:e}}function od(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(hb(Zp(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Yl)return Yl[n](t)},has(e,n){return n in e||n in Yl}})):t.proxy}function cR(t,e=!0){return Fe(t)?t.displayName||t.name:t.name||e&&t.__name}function uR(t){return Fe(t)&&"__vccOpts"in t}const Ht=(t,e)=>ZC(t,e,pc);function sm(t,e,n){const s=arguments.length;return s===2?yt(e)&&!Pe(e)?_h(e)?Te(t,null,[e]):Te(t,e):Te(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&_h(n)&&(n=[n]),Te(t,e,n))}const hR="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ip;const x_=typeof window<"u"&&window.trustedTypes;if(x_)try{ip=x_.createPolicy("vue",{createHTML:t=>t})}catch{}const Yb=ip?t=>ip.createHTML(t):t=>t,dR="http://www.w3.org/2000/svg",fR="http://www.w3.org/1998/Math/MathML",_i=typeof document<"u"?document:null,L_=_i&&_i.createElement("template"),pR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?_i.createElementNS(dR,t):e==="mathml"?_i.createElementNS(fR,t):n?_i.createElement(t,{is:n}):_i.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>_i.createTextNode(t),createComment:t=>_i.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>_i.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{L_.innerHTML=Yb(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=L_.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ji="transition",Ll="animation",mc=Symbol("_vtc"),Xb={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},mR=an({},vb,Xb),gR=t=>(t.displayName="Transition",t.props=mR,t),V_=gR((t,{slots:e})=>sm(lS,_R(t),e)),io=(t,e=[])=>{Pe(t)?t.forEach(n=>n(...e)):t&&t(...e)},M_=t=>t?Pe(t)?t.some(e=>e.length>1):t.length>1:!1;function _R(t){const e={};for(const R in t)R in Xb||(e[R]=t[R]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=r,appearActiveClass:d=o,appearToClass:h=l,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:E=`${n}-leave-to`}=t,C=vR(i),N=C&&C[0],x=C&&C[1],{onBeforeEnter:U,onEnter:F,onEnterCancelled:H,onLeave:j,onLeaveCancelled:ne,onBeforeAppear:oe=U,onAppear:D=F,onAppearCancelled:I=H}=e,b=(R,S,Be,st)=>{R._enterCancelled=st,ro(R,S?h:l),ro(R,S?d:o),Be&&Be()},A=(R,S)=>{R._isLeaving=!1,ro(R,m),ro(R,E),ro(R,_),S&&S()},O=R=>(S,Be)=>{const st=R?D:F,xe=()=>b(S,R,Be);io(st,[S,xe]),$_(()=>{ro(S,R?c:r),mi(S,R?h:l),M_(st)||F_(S,s,N,xe)})};return an(e,{onBeforeEnter(R){io(U,[R]),mi(R,r),mi(R,o)},onBeforeAppear(R){io(oe,[R]),mi(R,c),mi(R,d)},onEnter:O(!1),onAppear:O(!0),onLeave(R,S){R._isLeaving=!0;const Be=()=>A(R,S);mi(R,m),R._enterCancelled?(mi(R,_),B_()):(B_(),mi(R,_)),$_(()=>{R._isLeaving&&(ro(R,m),mi(R,E),M_(j)||F_(R,s,x,Be))}),io(j,[R,Be])},onEnterCancelled(R){b(R,!1,void 0,!0),io(H,[R])},onAppearCancelled(R){b(R,!0,void 0,!0),io(I,[R])},onLeaveCancelled(R){A(R),io(ne,[R])}})}function vR(t){if(t==null)return null;if(yt(t))return[mf(t.enter),mf(t.leave)];{const e=mf(t);return[e,e]}}function mf(t){return _C(t)}function mi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[mc]||(t[mc]=new Set)).add(e)}function ro(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[mc];n&&(n.delete(e),n.size||(t[mc]=void 0))}function $_(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let yR=0;function F_(t,e,n,s){const i=t._endId=++yR,r=()=>{i===t._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:l,propCount:c}=ER(t,e);if(!o)return s();const d=o+"end";let h=0;const m=()=>{t.removeEventListener(d,_),r()},_=E=>{E.target===t&&++h>=c&&m()};setTimeout(()=>{h<c&&m()},l+1),t.addEventListener(d,_)}function ER(t,e){const n=window.getComputedStyle(t),s=C=>(n[C]||"").split(", "),i=s(`${Ji}Delay`),r=s(`${Ji}Duration`),o=U_(i,r),l=s(`${Ll}Delay`),c=s(`${Ll}Duration`),d=U_(l,c);let h=null,m=0,_=0;e===Ji?o>0&&(h=Ji,m=o,_=r.length):e===Ll?d>0&&(h=Ll,m=d,_=c.length):(m=Math.max(o,d),h=m>0?o>d?Ji:Ll:null,_=h?h===Ji?r.length:c.length:0);const E=h===Ji&&/\b(transform|all)(,|$)/.test(s(`${Ji}Property`).toString());return{type:h,timeout:m,propCount:_,hasTransform:E}}function U_(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>j_(n)+j_(t[s])))}function j_(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function B_(){return document.body.offsetHeight}function bR(t,e,n){const s=t[mc];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const H_=Symbol("_vod"),wR=Symbol("_vsh"),TR=Symbol(""),AR=/(^|;)\s*display\s*:/;function IR(t,e,n){const s=t.style,i=Ut(n);let r=!1;if(n&&!i){if(e)if(Ut(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&Qu(s,l,"")}else for(const o in e)n[o]==null&&Qu(s,o,"");for(const o in n)o==="display"&&(r=!0),Qu(s,o,n[o])}else if(i){if(e!==n){const o=s[TR];o&&(n+=";"+o),s.cssText=n,r=AR.test(n)}}else e&&t.removeAttribute("style");H_ in t&&(t[H_]=r?s.display:"",t[wR]&&(s.display="none"))}const q_=/\s*!important$/;function Qu(t,e,n){if(Pe(n))n.forEach(s=>Qu(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=CR(t,e);q_.test(n)?t.setProperty(ko(s),n.replace(q_,""),"important"):t[s]=n}}const W_=["Webkit","Moz","ms"],gf={};function CR(t,e){const n=gf[e];if(n)return n;let s=_s(e);if(s!=="filter"&&s in t)return gf[e]=s;s=Yh(s);for(let i=0;i<W_.length;i++){const r=W_[i]+s;if(r in t)return gf[e]=r}return e}const z_="http://www.w3.org/1999/xlink";function K_(t,e,n,s,i,r=TC(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(z_,e.slice(6,e.length)):t.setAttributeNS(z_,e,n):n==null||r&&!BE(n)?t.removeAttribute(e):t.setAttribute(e,r?"":ei(n)?String(n):n)}function G_(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Yb(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=BE(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function co(t,e,n,s){t.addEventListener(e,n,s)}function SR(t,e,n,s){t.removeEventListener(e,n,s)}const Q_=Symbol("_vei");function RR(t,e,n,s,i=null){const r=t[Q_]||(t[Q_]={}),o=r[e];if(s&&o)o.value=s;else{const[l,c]=PR(e);if(s){const d=r[e]=DR(s,i);co(t,l,d,c)}else o&&(SR(t,l,o,c),r[e]=void 0)}}const Y_=/(?:Once|Passive|Capture)$/;function PR(t){let e;if(Y_.test(t)){e={};let s;for(;s=t.match(Y_);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ko(t.slice(2)),e]}let _f=0;const OR=Promise.resolve(),kR=()=>_f||(OR.then(()=>_f=0),_f=Date.now());function DR(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ns(NR(s,n.value),e,5,[s])};return n.value=t,n.attached=kR(),n}function NR(t,e){if(Pe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const X_=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,xR=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?bR(t,s,o):e==="style"?IR(t,n,s):Kh(e)?Hp(e)||RR(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):LR(t,e,s,o))?(G_(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&K_(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ut(s))?G_(t,_s(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),K_(t,e,s,o))};function LR(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&X_(e)&&Fe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return X_(e)&&Ut(n)?!1:e in t}const yh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Pe(e)?n=>Wu(e,n):e};function VR(t){t.target.composing=!0}function J_(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const wa=Symbol("_assign"),Jn={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[wa]=yh(i);const r=s||i.props&&i.props.type==="number";co(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),r&&(l=uh(l)),t[wa](l)}),n&&co(t,"change",()=>{t.value=t.value.trim()}),e||(co(t,"compositionstart",VR),co(t,"compositionend",J_),co(t,"change",J_))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[wa]=yh(o),t.composing)return;const l=(r||t.type==="number")&&!/^0\d/.test(t.value)?uh(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===c)||(t.value=c))}},Ra={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=Gh(e);co(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?uh(Eh(o)):Eh(o));t[wa](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,go(()=>{t._assigning=!1})}),t[wa]=yh(s)},mounted(t,{value:e}){Z_(t,e)},beforeUpdate(t,e,n){t[wa]=yh(n)},updated(t,{value:e}){t._assigning||Z_(t,e)}};function Z_(t,e){const n=t.multiple,s=Pe(e);if(!(n&&!s&&!Gh(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],l=Eh(o);if(n)if(s){const c=typeof l;c==="string"||c==="number"?o.selected=e.some(d=>String(d)===String(l)):o.selected=IC(e,l)>-1}else o.selected=e.has(l);else if(Jh(Eh(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Eh(t){return"_value"in t?t._value:t.value}const MR=["ctrl","shift","alt","meta"],$R={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>MR.some(n=>t[`${n}Key`]&&!e.includes(n))},ur=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const l=$R[e[o]];if(l&&l(i,e))return}return t(i,...r)})},FR=an({patchProp:xR},pR);let ev;function UR(){return ev||(ev=MS(FR))}const jR=(...t)=>{const e=UR().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=HR(s);if(!i)return;const r=e._component;!Fe(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,BR(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function BR(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function HR(t){return Ut(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Jb;const ad=t=>Jb=t,Zb=Symbol();function rp(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Jl;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Jl||(Jl={}));function qR(){const t=zE(!0),e=t.run(()=>Ce({}));let n=[],s=[];const i=Zp({install(r){ad(i),i._a=r,r.provide(Zb,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const ew=()=>{};function tv(t,e,n,s=ew){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&KE()&&CC(i),i}function oa(t,...e){t.slice().forEach(n=>{n(...e)})}const WR=t=>t(),nv=Symbol(),vf=Symbol();function op(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];rp(i)&&rp(s)&&t.hasOwnProperty(n)&&!Pt(s)&&!fr(s)?t[n]=op(i,s):t[n]=s}return t}const zR=Symbol();function KR(t){return!rp(t)||!Object.prototype.hasOwnProperty.call(t,zR)}const{assign:nr}=Object;function GR(t){return!!(Pt(t)&&t.effect)}function QR(t,e,n,s){const{state:i,actions:r,getters:o}=e,l=n.state.value[t];let c;function d(){l||(n.state.value[t]=i?i():{});const h=QC(n.state.value[t]);return nr(h,r,Object.keys(o||{}).reduce((m,_)=>(m[_]=Zp(Ht(()=>{ad(n);const E=n._s.get(t);return o[_].call(E,E)})),m),{}))}return c=tw(t,d,e,n,s,!0),c}function tw(t,e,n={},s,i,r){let o;const l=nr({actions:{}},n),c={deep:!0};let d,h,m=[],_=[],E;const C=s.state.value[t];!r&&!C&&(s.state.value[t]={}),Ce({});let N;function x(I){let b;d=h=!1,typeof I=="function"?(I(s.state.value[t]),b={type:Jl.patchFunction,storeId:t,events:E}):(op(s.state.value[t],I),b={type:Jl.patchObject,payload:I,storeId:t,events:E});const A=N=Symbol();go().then(()=>{N===A&&(d=!0)}),h=!0,oa(m,b,s.state.value[t])}const U=r?function(){const{state:b}=n,A=b?b():{};this.$patch(O=>{nr(O,A)})}:ew;function F(){o.stop(),m=[],_=[],s._s.delete(t)}const H=(I,b="")=>{if(nv in I)return I[vf]=b,I;const A=function(){ad(s);const O=Array.from(arguments),R=[],S=[];function Be(be){R.push(be)}function st(be){S.push(be)}oa(_,{args:O,name:A[vf],store:ne,after:Be,onError:st});let xe;try{xe=I.apply(this&&this.$id===t?this:ne,O)}catch(be){throw oa(S,be),be}return xe instanceof Promise?xe.then(be=>(oa(R,be),be)).catch(be=>(oa(S,be),Promise.reject(be))):(oa(R,xe),xe)};return A[nv]=!0,A[vf]=b,A},j={_p:s,$id:t,$onAction:tv.bind(null,_),$patch:x,$reset:U,$subscribe(I,b={}){const A=tv(m,I,b.detached,()=>O()),O=o.run(()=>Ps(()=>s.state.value[t],R=>{(b.flush==="sync"?h:d)&&I({storeId:t,type:Jl.direct,events:E},R)},nr({},c,b)));return A},$dispose:F},ne=Oc(j);s._s.set(t,ne);const D=(s._a&&s._a.runWithContext||WR)(()=>s._e.run(()=>(o=zE()).run(()=>e({action:H}))));for(const I in D){const b=D[I];if(Pt(b)&&!GR(b)||fr(b))r||(C&&KR(b)&&(Pt(b)?b.value=C[I]:op(b,C[I])),s.state.value[t][I]=b);else if(typeof b=="function"){const A=H(b,I);D[I]=A,l.actions[I]=b}}return nr(ne,D),nr(nt(ne),D),Object.defineProperty(ne,"$state",{get:()=>s.state.value[t],set:I=>{x(b=>{nr(b,I)})}}),s._p.forEach(I=>{nr(ne,o.run(()=>I({store:ne,app:s._a,pinia:s,options:l})))}),C&&r&&n.hydrate&&n.hydrate(ne.$state,C),d=!0,h=!0,ne}/*! #__NO_SIDE_EFFECTS__ */function nw(t,e,n){let s;const i=typeof e=="function";s=i?n:e;function r(o,l){const c=OS();return o=o||(c?ms(Zb,null):null),o&&ad(o),o=Jb,o._s.has(t)||(i?tw(t,e,s,o):QR(t,s,o)),o._s.get(t)}return r.$id=t,r}const YR={id:"app-wrapper"},XR={class:"container-fluid p-0 flex-fill"},JR={__name:"App",setup(t){return(e,n)=>{const s=Do("router-view");return ie(),re("div",YR,[y("main",XR,[Te(s)])])}}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ua=typeof document<"u";function sw(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ZR(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&sw(t.default)}const ct=Object.assign;function yf(t,e){const n={};for(const s in e){const i=e[s];n[s]=xs(i)?i.map(t):t(i)}return n}const Zl=()=>{},xs=Array.isArray,iw=/#/g,e1=/&/g,t1=/\//g,n1=/=/g,s1=/\?/g,rw=/\+/g,i1=/%5B/g,r1=/%5D/g,ow=/%5E/g,o1=/%60/g,aw=/%7B/g,a1=/%7C/g,lw=/%7D/g,l1=/%20/g;function im(t){return encodeURI(""+t).replace(a1,"|").replace(i1,"[").replace(r1,"]")}function c1(t){return im(t).replace(aw,"{").replace(lw,"}").replace(ow,"^")}function ap(t){return im(t).replace(rw,"%2B").replace(l1,"+").replace(iw,"%23").replace(e1,"%26").replace(o1,"`").replace(aw,"{").replace(lw,"}").replace(ow,"^")}function u1(t){return ap(t).replace(n1,"%3D")}function h1(t){return im(t).replace(iw,"%23").replace(s1,"%3F")}function d1(t){return t==null?"":h1(t).replace(t1,"%2F")}function gc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const f1=/\/$/,p1=t=>t.replace(f1,"");function Ef(t,e,n="/"){let s,i={},r="",o="";const l=e.indexOf("#");let c=e.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=e.slice(0,c),r=e.slice(c+1,l>-1?l:e.length),i=t(r)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=v1(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:gc(o)}}function m1(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function sv(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function g1(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Pa(e.matched[s],n.matched[i])&&cw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Pa(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function cw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!_1(t[n],e[n]))return!1;return!0}function _1(t,e){return xs(t)?iv(t,e):xs(e)?iv(e,t):t===e}function iv(t,e){return xs(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function v1(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Zi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var _c;(function(t){t.pop="pop",t.push="push"})(_c||(_c={}));var ec;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ec||(ec={}));function y1(t){if(!t)if(ua){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),p1(t)}const E1=/^[^#]+#/;function b1(t,e){return t.replace(E1,"#")+e}function w1(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const ld=()=>({left:window.scrollX,top:window.scrollY});function T1(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=w1(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function rv(t,e){return(history.state?history.state.position-e:-1)+t}const lp=new Map;function A1(t,e){lp.set(t,e)}function I1(t){const e=lp.get(t);return lp.delete(t),e}let C1=()=>location.protocol+"//"+location.host;function uw(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let l=i.includes(t.slice(r))?t.slice(r).length:1,c=i.slice(l);return c[0]!=="/"&&(c="/"+c),sv(c,"")}return sv(n,t)+s+i}function S1(t,e,n,s){let i=[],r=[],o=null;const l=({state:_})=>{const E=uw(t,location),C=n.value,N=e.value;let x=0;if(_){if(n.value=E,e.value=_,o&&o===C){o=null;return}x=N?_.position-N.position:0}else s(E);i.forEach(U=>{U(n.value,C,{delta:x,type:_c.pop,direction:x?x>0?ec.forward:ec.back:ec.unknown})})};function c(){o=n.value}function d(_){i.push(_);const E=()=>{const C=i.indexOf(_);C>-1&&i.splice(C,1)};return r.push(E),E}function h(){const{history:_}=window;_.state&&_.replaceState(ct({},_.state,{scroll:ld()}),"")}function m(){for(const _ of r)_();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:d,destroy:m}}function ov(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?ld():null}}function R1(t){const{history:e,location:n}=window,s={value:uw(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(c,d,h){const m=t.indexOf("#"),_=m>-1?(n.host&&document.querySelector("base")?t:t.slice(m))+c:C1()+t+c;try{e[h?"replaceState":"pushState"](d,"",_),i.value=d}catch(E){console.error(E),n[h?"replace":"assign"](_)}}function o(c,d){const h=ct({},e.state,ov(i.value.back,c,i.value.forward,!0),d,{position:i.value.position});r(c,h,!0),s.value=c}function l(c,d){const h=ct({},i.value,e.state,{forward:c,scroll:ld()});r(h.current,h,!0);const m=ct({},ov(s.value,c,null),{position:h.position+1},d);r(c,m,!1),s.value=c}return{location:s,state:i,push:l,replace:o}}function P1(t){t=y1(t);const e=R1(t),n=S1(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=ct({location:"",base:t,go:s,createHref:b1.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function O1(t){return typeof t=="string"||t&&typeof t=="object"}function hw(t){return typeof t=="string"||typeof t=="symbol"}const dw=Symbol("");var av;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(av||(av={}));function Oa(t,e){return ct(new Error,{type:t,[dw]:!0},e)}function gi(t,e){return t instanceof Error&&dw in t&&(e==null||!!(t.type&e))}const lv="[^/]+?",k1={sensitive:!1,strict:!1,start:!0,end:!0},D1=/[.+*?^${}()[\]/\\]/g;function N1(t,e){const n=ct({},k1,e),s=[];let i=n.start?"^":"";const r=[];for(const d of t){const h=d.length?[]:[90];n.strict&&!d.length&&(i+="/");for(let m=0;m<d.length;m++){const _=d[m];let E=40+(n.sensitive?.25:0);if(_.type===0)m||(i+="/"),i+=_.value.replace(D1,"\\$&"),E+=40;else if(_.type===1){const{value:C,repeatable:N,optional:x,regexp:U}=_;r.push({name:C,repeatable:N,optional:x});const F=U||lv;if(F!==lv){E+=10;try{new RegExp(`(${F})`)}catch(j){throw new Error(`Invalid custom RegExp for param "${C}" (${F}): `+j.message)}}let H=N?`((?:${F})(?:/(?:${F}))*)`:`(${F})`;m||(H=x&&d.length<2?`(?:/${H})`:"/"+H),x&&(H+="?"),i+=H,E+=20,x&&(E+=-8),N&&(E+=-20),F===".*"&&(E+=-50)}h.push(E)}s.push(h)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function l(d){const h=d.match(o),m={};if(!h)return null;for(let _=1;_<h.length;_++){const E=h[_]||"",C=r[_-1];m[C.name]=E&&C.repeatable?E.split("/"):E}return m}function c(d){let h="",m=!1;for(const _ of t){(!m||!h.endsWith("/"))&&(h+="/"),m=!1;for(const E of _)if(E.type===0)h+=E.value;else if(E.type===1){const{value:C,repeatable:N,optional:x}=E,U=C in d?d[C]:"";if(xs(U)&&!N)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const F=xs(U)?U.join("/"):U;if(!F)if(x)_.length<2&&(h.endsWith("/")?h=h.slice(0,-1):m=!0);else throw new Error(`Missing required param "${C}"`);h+=F}}return h||"/"}return{re:o,score:s,keys:r,parse:l,stringify:c}}function x1(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function fw(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=x1(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(cv(s))return 1;if(cv(i))return-1}return i.length-s.length}function cv(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const L1={type:0,value:""},V1=/[a-zA-Z0-9_]/;function M1(t){if(!t)return[[]];if(t==="/")return[[L1]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(E){throw new Error(`ERR (${n})/"${d}": ${E}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let l=0,c,d="",h="";function m(){d&&(n===0?r.push({type:0,value:d}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:d,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),d="")}function _(){d+=c}for(;l<t.length;){if(c=t[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(d&&m(),o()):c===":"?(m(),n=1):_();break;case 4:_(),n=s;break;case 1:c==="("?n=2:V1.test(c)?_():(m(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:m(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),m(),o(),i}function $1(t,e,n){const s=N1(M1(t.path),n),i=ct(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function F1(t,e){const n=[],s=new Map;e=fv({strict:!1,end:!0,sensitive:!1},e);function i(m){return s.get(m)}function r(m,_,E){const C=!E,N=hv(m);N.aliasOf=E&&E.record;const x=fv(e,m),U=[N];if("alias"in m){const j=typeof m.alias=="string"?[m.alias]:m.alias;for(const ne of j)U.push(hv(ct({},N,{components:E?E.record.components:N.components,path:ne,aliasOf:E?E.record:N})))}let F,H;for(const j of U){const{path:ne}=j;if(_&&ne[0]!=="/"){const oe=_.record.path,D=oe[oe.length-1]==="/"?"":"/";j.path=_.record.path+(ne&&D+ne)}if(F=$1(j,_,x),E?E.alias.push(F):(H=H||F,H!==F&&H.alias.push(F),C&&m.name&&!dv(F)&&o(m.name)),pw(F)&&c(F),N.children){const oe=N.children;for(let D=0;D<oe.length;D++)r(oe[D],F,E&&E.children[D])}E=E||F}return H?()=>{o(H)}:Zl}function o(m){if(hw(m)){const _=s.get(m);_&&(s.delete(m),n.splice(n.indexOf(_),1),_.children.forEach(o),_.alias.forEach(o))}else{const _=n.indexOf(m);_>-1&&(n.splice(_,1),m.record.name&&s.delete(m.record.name),m.children.forEach(o),m.alias.forEach(o))}}function l(){return n}function c(m){const _=B1(m,n);n.splice(_,0,m),m.record.name&&!dv(m)&&s.set(m.record.name,m)}function d(m,_){let E,C={},N,x;if("name"in m&&m.name){if(E=s.get(m.name),!E)throw Oa(1,{location:m});x=E.record.name,C=ct(uv(_.params,E.keys.filter(H=>!H.optional).concat(E.parent?E.parent.keys.filter(H=>H.optional):[]).map(H=>H.name)),m.params&&uv(m.params,E.keys.map(H=>H.name))),N=E.stringify(C)}else if(m.path!=null)N=m.path,E=n.find(H=>H.re.test(N)),E&&(C=E.parse(N),x=E.record.name);else{if(E=_.name?s.get(_.name):n.find(H=>H.re.test(_.path)),!E)throw Oa(1,{location:m,currentLocation:_});x=E.record.name,C=ct({},_.params,m.params),N=E.stringify(C)}const U=[];let F=E;for(;F;)U.unshift(F.record),F=F.parent;return{name:x,path:N,params:C,matched:U,meta:j1(U)}}t.forEach(m=>r(m));function h(){n.length=0,s.clear()}return{addRoute:r,resolve:d,removeRoute:o,clearRoutes:h,getRoutes:l,getRecordMatcher:i}}function uv(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function hv(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:U1(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function U1(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function dv(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function j1(t){return t.reduce((e,n)=>ct(e,n.meta),{})}function fv(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function B1(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;fw(t,e[r])<0?s=r:n=r+1}const i=H1(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function H1(t){let e=t;for(;e=e.parent;)if(pw(e)&&fw(t,e)===0)return e}function pw({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function q1(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(rw," "),o=r.indexOf("="),l=gc(o<0?r:r.slice(0,o)),c=o<0?null:gc(r.slice(o+1));if(l in e){let d=e[l];xs(d)||(d=e[l]=[d]),d.push(c)}else e[l]=c}return e}function pv(t){let e="";for(let n in t){const s=t[n];if(n=u1(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(xs(s)?s.map(r=>r&&ap(r)):[s&&ap(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function W1(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=xs(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const z1=Symbol(""),mv=Symbol(""),cd=Symbol(""),rm=Symbol(""),cp=Symbol("");function Vl(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function or(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((l,c)=>{const d=_=>{_===!1?c(Oa(4,{from:n,to:e})):_ instanceof Error?c(_):O1(_)?c(Oa(2,{from:e,to:_})):(o&&s.enterCallbacks[i]===o&&typeof _=="function"&&o.push(_),l())},h=r(()=>t.call(s&&s.instances[i],e,n,d));let m=Promise.resolve(h);t.length<3&&(m=m.then(d)),m.catch(_=>c(_))})}function bf(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(sw(c)){const h=(c.__vccOpts||c)[e];h&&r.push(or(h,n,s,o,l,i))}else{let d=c();r.push(()=>d.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const m=ZR(h)?h.default:h;o.mods[l]=h,o.components[l]=m;const E=(m.__vccOpts||m)[e];return E&&or(E,n,s,o,l,i)()}))}}return r}function gv(t){const e=ms(cd),n=ms(rm),s=Ht(()=>{const c=at(t.to);return e.resolve(c)}),i=Ht(()=>{const{matched:c}=s.value,{length:d}=c,h=c[d-1],m=n.matched;if(!h||!m.length)return-1;const _=m.findIndex(Pa.bind(null,h));if(_>-1)return _;const E=_v(c[d-2]);return d>1&&_v(h)===E&&m[m.length-1].path!==E?m.findIndex(Pa.bind(null,c[d-2])):_}),r=Ht(()=>i.value>-1&&X1(n.params,s.value.params)),o=Ht(()=>i.value>-1&&i.value===n.matched.length-1&&cw(n.params,s.value.params));function l(c={}){if(Y1(c)){const d=e[at(t.replace)?"replace":"push"](at(t.to)).catch(Zl);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:s,href:Ht(()=>s.value.href),isActive:r,isExactActive:o,navigate:l}}function K1(t){return t.length===1?t[0]:t}const G1=Tb({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:gv,setup(t,{slots:e}){const n=Oc(gv(t)),{options:s}=ms(cd),i=Ht(()=>({[vv(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[vv(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&K1(e.default(n));return t.custom?r:sm("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),Q1=G1;function Y1(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function X1(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!xs(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function _v(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const vv=(t,e,n)=>t??e??n,J1=Tb({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=ms(cp),i=Ht(()=>t.route||s.value),r=ms(mv,0),o=Ht(()=>{let d=at(r);const{matched:h}=i.value;let m;for(;(m=h[d])&&!m.components;)d++;return d}),l=Ht(()=>i.value.matched[o.value]);zu(mv,Ht(()=>o.value+1)),zu(z1,l),zu(cp,i);const c=Ce();return Ps(()=>[c.value,l.value,t.name],([d,h,m],[_,E,C])=>{h&&(h.instances[m]=d,E&&E!==h&&d&&d===_&&(h.leaveGuards.size||(h.leaveGuards=E.leaveGuards),h.updateGuards.size||(h.updateGuards=E.updateGuards))),d&&h&&(!E||!Pa(h,E)||!_)&&(h.enterCallbacks[m]||[]).forEach(N=>N(d))},{flush:"post"}),()=>{const d=i.value,h=t.name,m=l.value,_=m&&m.components[h];if(!_)return yv(n.default,{Component:_,route:d});const E=m.props[h],C=E?E===!0?d.params:typeof E=="function"?E(d):E:null,x=sm(_,ct({},C,e,{onVnodeUnmounted:U=>{U.component.isUnmounted&&(m.instances[h]=null)},ref:c}));return yv(n.default,{Component:x,route:d})||x}}});function yv(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Z1=J1;function eP(t){const e=F1(t.routes,t),n=t.parseQuery||q1,s=t.stringifyQuery||pv,i=t.history,r=Vl(),o=Vl(),l=Vl(),c=zC(Zi);let d=Zi;ua&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=yf.bind(null,z=>""+z),m=yf.bind(null,d1),_=yf.bind(null,gc);function E(z,W){let le,ge;return hw(z)?(le=e.getRecordMatcher(z),ge=W):ge=z,e.addRoute(ge,le)}function C(z){const W=e.getRecordMatcher(z);W&&e.removeRoute(W)}function N(){return e.getRoutes().map(z=>z.record)}function x(z){return!!e.getRecordMatcher(z)}function U(z,W){if(W=ct({},W||c.value),typeof z=="string"){const M=Ef(n,z,W.path),K=e.resolve({path:M.path},W),G=i.createHref(M.fullPath);return ct(M,K,{params:_(K.params),hash:gc(M.hash),redirectedFrom:void 0,href:G})}let le;if(z.path!=null)le=ct({},z,{path:Ef(n,z.path,W.path).path});else{const M=ct({},z.params);for(const K in M)M[K]==null&&delete M[K];le=ct({},z,{params:m(M)}),W.params=m(W.params)}const ge=e.resolve(le,W),Ge=z.hash||"";ge.params=h(_(ge.params));const P=m1(s,ct({},z,{hash:c1(Ge),path:ge.path})),k=i.createHref(P);return ct({fullPath:P,hash:Ge,query:s===pv?W1(z.query):z.query||{}},ge,{redirectedFrom:void 0,href:k})}function F(z){return typeof z=="string"?Ef(n,z,c.value.path):ct({},z)}function H(z,W){if(d!==z)return Oa(8,{from:W,to:z})}function j(z){return D(z)}function ne(z){return j(ct(F(z),{replace:!0}))}function oe(z){const W=z.matched[z.matched.length-1];if(W&&W.redirect){const{redirect:le}=W;let ge=typeof le=="function"?le(z):le;return typeof ge=="string"&&(ge=ge.includes("?")||ge.includes("#")?ge=F(ge):{path:ge},ge.params={}),ct({query:z.query,hash:z.hash,params:ge.path!=null?{}:z.params},ge)}}function D(z,W){const le=d=U(z),ge=c.value,Ge=z.state,P=z.force,k=z.replace===!0,M=oe(le);if(M)return D(ct(F(M),{state:typeof M=="object"?ct({},Ge,M.state):Ge,force:P,replace:k}),W||le);const K=le;K.redirectedFrom=W;let G;return!P&&g1(s,ge,le)&&(G=Oa(16,{to:K,from:ge}),jt(ge,ge,!0,!1)),(G?Promise.resolve(G):A(K,ge)).catch(Y=>gi(Y)?gi(Y,2)?Y:Q(Y):je(Y,K,ge)).then(Y=>{if(Y){if(gi(Y,2))return D(ct({replace:k},F(Y.to),{state:typeof Y.to=="object"?ct({},Ge,Y.to.state):Ge,force:P}),W||K)}else Y=R(K,ge,!0,k,Ge);return O(K,ge,Y),Y})}function I(z,W){const le=H(z,W);return le?Promise.reject(le):Promise.resolve()}function b(z){const W=Tt.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(z):z()}function A(z,W){let le;const[ge,Ge,P]=tP(z,W);le=bf(ge.reverse(),"beforeRouteLeave",z,W);for(const M of ge)M.leaveGuards.forEach(K=>{le.push(or(K,z,W))});const k=I.bind(null,z,W);return le.push(k),ot(le).then(()=>{le=[];for(const M of r.list())le.push(or(M,z,W));return le.push(k),ot(le)}).then(()=>{le=bf(Ge,"beforeRouteUpdate",z,W);for(const M of Ge)M.updateGuards.forEach(K=>{le.push(or(K,z,W))});return le.push(k),ot(le)}).then(()=>{le=[];for(const M of P)if(M.beforeEnter)if(xs(M.beforeEnter))for(const K of M.beforeEnter)le.push(or(K,z,W));else le.push(or(M.beforeEnter,z,W));return le.push(k),ot(le)}).then(()=>(z.matched.forEach(M=>M.enterCallbacks={}),le=bf(P,"beforeRouteEnter",z,W,b),le.push(k),ot(le))).then(()=>{le=[];for(const M of o.list())le.push(or(M,z,W));return le.push(k),ot(le)}).catch(M=>gi(M,8)?M:Promise.reject(M))}function O(z,W,le){l.list().forEach(ge=>b(()=>ge(z,W,le)))}function R(z,W,le,ge,Ge){const P=H(z,W);if(P)return P;const k=W===Zi,M=ua?history.state:{};le&&(ge||k?i.replace(z.fullPath,ct({scroll:k&&M&&M.scroll},Ge)):i.push(z.fullPath,Ge)),c.value=z,jt(z,W,le,k),Q()}let S;function Be(){S||(S=i.listen((z,W,le)=>{if(!At.listening)return;const ge=U(z),Ge=oe(ge);if(Ge){D(ct(Ge,{replace:!0,force:!0}),ge).catch(Zl);return}d=ge;const P=c.value;ua&&A1(rv(P.fullPath,le.delta),ld()),A(ge,P).catch(k=>gi(k,12)?k:gi(k,2)?(D(ct(F(k.to),{force:!0}),ge).then(M=>{gi(M,20)&&!le.delta&&le.type===_c.pop&&i.go(-1,!1)}).catch(Zl),Promise.reject()):(le.delta&&i.go(-le.delta,!1),je(k,ge,P))).then(k=>{k=k||R(ge,P,!1),k&&(le.delta&&!gi(k,8)?i.go(-le.delta,!1):le.type===_c.pop&&gi(k,20)&&i.go(-1,!1)),O(ge,P,k)}).catch(Zl)}))}let st=Vl(),xe=Vl(),be;function je(z,W,le){Q(z);const ge=xe.list();return ge.length?ge.forEach(Ge=>Ge(z,W,le)):console.error(z),Promise.reject(z)}function Ct(){return be&&c.value!==Zi?Promise.resolve():new Promise((z,W)=>{st.add([z,W])})}function Q(z){return be||(be=!z,Be(),st.list().forEach(([W,le])=>z?le(z):W()),st.reset()),z}function jt(z,W,le,ge){const{scrollBehavior:Ge}=t;if(!ua||!Ge)return Promise.resolve();const P=!le&&I1(rv(z.fullPath,0))||(ge||!le)&&history.state&&history.state.scroll||null;return go().then(()=>Ge(z,W,P)).then(k=>k&&T1(k)).catch(k=>je(k,z,W))}const it=z=>i.go(z);let rt;const Tt=new Set,At={currentRoute:c,listening:!0,addRoute:E,removeRoute:C,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:N,resolve:U,options:t,push:j,replace:ne,go:it,back:()=>it(-1),forward:()=>it(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:xe.add,isReady:Ct,install(z){const W=this;z.component("RouterLink",Q1),z.component("RouterView",Z1),z.config.globalProperties.$router=W,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>at(c)}),ua&&!rt&&c.value===Zi&&(rt=!0,j(i.location).catch(Ge=>{}));const le={};for(const Ge in Zi)Object.defineProperty(le,Ge,{get:()=>c.value[Ge],enumerable:!0});z.provide(cd,W),z.provide(rm,lb(le)),z.provide(cp,c);const ge=z.unmount;Tt.add(z),z.unmount=function(){Tt.delete(z),Tt.size<1&&(d=Zi,S&&S(),S=null,c.value=Zi,rt=!1,be=!1),ge()}}};function ot(z){return z.reduce((W,le)=>W.then(()=>b(le)),Promise.resolve())}return At}function tP(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(t.matched.find(d=>Pa(d,l))?s.push(l):n.push(l));const c=t.matched[o];c&&(e.matched.find(d=>Pa(d,c))||i.push(c))}return[n,s,i]}function Nc(){return ms(cd)}function mw(t){return ms(rm)}const fn=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},nP={class:"container-fluid"},sP={class:"row justify-content-center"},iP={class:"col-12 col-md-10 col-lg-8 p-0 w-100"},rP={class:"slider-wrapper"},oP=["src","alt"],aP=["onClick"],lP=["href"],cP=["src","alt"],uP=["src","alt"],hP=["src","alt"],dP={class:"game-info mt-3"},fP=["href"],pP=["src"],mP={__name:"slider",setup(t){const e=Ce([{src:"/assets/img/icon/gtavi.png",alt:"Image 1"},{src:"/assets/img/icon/metaphor.png",alt:"Image 2"},{src:"/assets/img/icon/nightrein.png",alt:"Image 3"},{src:"/assets/img/icon/TLOU2.jpg",alt:"Image 4"},{src:"/assets/img/icon/Clair_Obscur.jpg",alt:"Image 5"}]),n=Ce([{src:"https://www.instant-gaming.com/fr/2462-acheter-grand-theft-auto-vi-pc-jeu-rockstar/",alt:"Page GTA VI"},{src:"https://www.instant-gaming.com/fr/14352-acheter-metaphor-refantazio-pc-jeu-steam-europe/",alt:"Page Metaphor"},{src:"https://www.instant-gaming.com/fr/18294-acheter-elden-ring-nightreign-pc-jeu-steam-europe/",alt:"Page Elden Ring Nightrein"},{src:"https://www.instant-gaming.com/fr/6215-acheter-the-last-of-us-part-ii-remastered-pc-jeu-steam-europe/",alt:"Page The Last of Us 2"},{src:"https://www.instant-gaming.com/fr/17015-acheter-clair-obscur-expedition-33-pc-jeu-steam-europe-us-canada/",alt:"Page Clair Obscur"}]),s=[{src:"https://cdn2.steamgriddb.com/hero_thumb/b80be7960918982fceea91afaf4d5e27.jpg",alt:"Image Hero GTA VI"},{src:"https://cdn2.steamgriddb.com/hero_thumb/aaecbb83e18bf24199bc5b2d3a280054.jpg",alt:"Image Hero Metaphor"},{src:"https://cdn2.steamgriddb.com/hero_thumb/8ec28b09ec95f08279e82459f1289c34.jpg",alt:"Image Hero Nightrein"},{src:"https://cdn2.steamgriddb.com/hero_thumb/5b465c13fd8cac3b9baf4af74bc0069a.png",alt:"Image Hero TLOU2"},{src:"https://cdn2.steamgriddb.com/hero_thumb/d2d195657240f493374e95e2b75cc8cf.jpg",alt:"Image Hero Clair Obscur"}],i=Ce([{name:"Grand Thief Auto VI",description:"lorem ipsum",price:"99.99€"},{name:"Metaphor: ReFantazio",description:"lorem ipsum",price:"39.99€"},{name:"Elden Ring Nightrein",description:"lorem ipsum",price:"31.52€"},{name:"The Last of Us Part II REMASTERED",description:"lorem ipsum",price:"35.43€"},{name:"Clair Obscur : Expédition 33",description:"lorem ipsum",price:"29.99€"}]),r=Ce(0),o=Ce(!1),l=Ce([!1,!1,!1,!1,!1]);Ht(()=>(r.value-1+e.value.length)%e.value.length),Ht(()=>(r.value+1)%e.value.length);const c=Ht(()=>{const U=e.value.length;return[e.value[(r.value-1+U)%U],e.value[r.value],e.value[(r.value+1)%U]]}),d=Ht(()=>{const U=e.value.length;return[e.value[(r.value-2+U)%U],e.value[(r.value+2)%U]]}),h=U=>U===1?{width:"50%"}:{width:"25%"};let m=null;function _(){m&&clearInterval(m),m=setInterval(()=>{E()},6e3)}zn(()=>{_()}),sd(()=>{clearInterval(m)});const E=()=>{o.value=!0,setTimeout(()=>{r.value=(r.value+1)%e.value.length,o.value=!1,_()},500)},C=()=>{o.value=!0,setTimeout(()=>{r.value=(r.value-1+e.value.length)%e.value.length,o.value=!1,_()},500)},N=U=>{U===0&&C(),U===2&&E()},x=U=>{l.value[U]=!l.value[U]};return(U,F)=>(ie(),re("div",nP,[y("div",sP,[y("div",iP,[y("div",{class:"carousel-container mx-auto",style:yo({"--carousel-bg":`url('${s[r.value].src}')`})},[y("div",rP,[y("div",{class:Dn(["slide","prev"]),onClick:F[0]||(F[0]=H=>N(0))},[y("img",{src:d.value[0].src,alt:d.value[0].alt,class:"img-fluid rounded-4 w-50"},null,8,oP)]),(ie(!0),re(We,null,Ft(c.value,(H,j)=>(ie(),re("div",{key:j,class:Dn(["slide",j===0?"prev":j===1?"active":"next",j===1&&o.value?"fading":""]),style:yo(h(j)),onClick:ne=>N(j)},[j===1?(ie(),re("a",{key:0,href:n.value[r.value].src,target:"_blank"},[y("img",{src:H.src,alt:H.alt,class:"img-fluid rounded-4",style:{cursor:"pointer"}},null,8,cP)],8,lP)):(ie(),re("img",{key:1,src:H.src,alt:H.alt,class:"img-fluid rounded-4"},null,8,uP))],14,aP))),128)),y("div",{class:Dn(["slide","next"]),onClick:F[1]||(F[1]=H=>N(2))},[y("img",{src:d.value[1].src,alt:d.value[1].alt,class:"img-fluid rounded-4 w-50"},null,8,hP)])]),y("div",{class:"controls d-flex justify-content-between mt-3"},[y("button",{class:"btn",onClick:C},F[3]||(F[3]=[y("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1)])),y("button",{class:"btn",onClick:E},F[4]||(F[4]=[y("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1)]))]),y("div",dP,[y("h2",null,Ee(i.value[r.value].name),1),y("p",null,Ee(i.value[r.value].description),1),y("p",null,Ee(i.value[r.value].price),1),F[5]||(F[5]=y("a",{class:"btn btn-page me-2"},"Acheter",-1)),y("a",{href:n.value[r.value].src,target:"_blank",class:"btn btn-page me-2"},"Page du jeu",8,fP),y("a",{class:"btn btn-danger",onClick:F[2]||(F[2]=H=>x(r.value))},[y("img",{src:l.value[r.value]?"/assets/img/favorite_black.png":"/assets/img/favorite_empty.png",alt:"Icône",style:{width:"24px",height:"24px"}},null,8,pP)])])],4)])])]))}},gP=fn(mP,[["__scopeId","data-v-1767f94d"]]),_P=()=>{};var Ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vP=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},_w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=r>>2,m=(r&3)<<4|l>>4;let _=(l&15)<<2|d>>6,E=d&63;c||(E=64,o||(_=64)),s.push(n[h],n[m],n[_],n[E])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||l==null||d==null||m==null)throw new yP;const _=r<<2|l>>4;if(s.push(_),d!==64){const E=l<<4&240|d>>2;if(s.push(E),m!==64){const C=d<<6&192|m;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EP=function(t){const e=gw(t);return _w.encodeByteArray(e,!0)},bh=function(t){return EP(t).replace(/\./g,"")},vw=function(t){try{return _w.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=()=>bP().__FIREBASE_DEFAULTS__,TP=()=>{if(typeof process>"u"||typeof Ev>"u")return;const t=Ev.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vw(t[1]);return e&&JSON.parse(e)},ud=()=>{try{return _P()||wP()||TP()||AP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yw=t=>{var e,n;return(n=(e=ud())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IP=t=>{const e=yw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Ew=()=>{var t;return(t=ud())===null||t===void 0?void 0:t.config},bw=t=>{var e;return(e=ud())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t){return t.endsWith(".cloudworkstations.dev")}async function ww(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bh(JSON.stringify(n)),bh(JSON.stringify(o)),""].join(".")}const tc={};function RP(){const t={prod:[],emulator:[]};for(const e of Object.keys(tc))tc[e]?t.emulator.push(e):t.prod.push(e);return t}function PP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let bv=!1;function Tw(t,e){if(typeof window>"u"||typeof document>"u"||!za(window.location.host)||tc[t]===e||tc[t]||bv)return;tc[t]=e;function n(_){return`__firebase__banner__${_}`}const s="__firebase__banner",r=RP().prod.length>0;function o(){const _=document.getElementById(s);_&&_.remove()}function l(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function c(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{bv=!0,o()},_}function h(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function m(){const _=PP(s),E=n("text"),C=document.getElementById(E)||document.createElement("span"),N=n("learnmore"),x=document.getElementById(N)||document.createElement("a"),U=n("preprendIcon"),F=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const H=_.element;l(H),h(x,N);const j=d();c(F,U),H.append(F,C,x,j),document.body.appendChild(H)}r?(C.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function kP(){var t;const e=(t=ud())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LP(){const t=Tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VP(){return!kP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MP(){try{return typeof indexedDB=="object"}catch{return!1}}function $P(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="FirebaseError";class Ni extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=FP,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?UP(r,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ni(i,l,s)}}function UP(t,e){return t.replace(jP,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const jP=/\{\$([^}]+)}/g;function BP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(wv(r)&&wv(o)){if(!bo(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function wv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ul(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function jl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function HP(t,e){const n=new qP(t,e);return n.subscribe.bind(n)}class qP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");WP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=wf),i.error===void 0&&(i.error=wf),i.complete===void 0&&(i.complete=wf);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){return t&&t._delegate?t._delegate:t}class wo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new CP;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GP(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KP(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KP(t){return t===ao?void 0:t}function GP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const YP={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},XP=Ye.INFO,JP={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},ZP=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=JP[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class om{constructor(e){this.name=e,this._logLevel=XP,this._logHandler=ZP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const eO=(t,e)=>e.some(n=>t instanceof n);let Tv,Av;function tO(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nO(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Aw=new WeakMap,up=new WeakMap,Iw=new WeakMap,Tf=new WeakMap,am=new WeakMap;function sO(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(pr(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Aw.set(n,t)}).catch(()=>{}),am.set(e,t),e}function iO(t){if(up.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});up.set(t,e)}let hp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return up.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Iw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rO(t){hp=t(hp)}function oO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Af(this),e,...n);return Iw.set(s,e.sort?e.sort():[e]),pr(s)}:nO().includes(t)?function(...e){return t.apply(Af(this),e),pr(Aw.get(this))}:function(...e){return pr(t.apply(Af(this),e))}}function aO(t){return typeof t=="function"?oO(t):(t instanceof IDBTransaction&&iO(t),eO(t,tO())?new Proxy(t,hp):t)}function pr(t){if(t instanceof IDBRequest)return sO(t);if(Tf.has(t))return Tf.get(t);const e=aO(t);return e!==t&&(Tf.set(t,e),am.set(e,t)),e}const Af=t=>am.get(t);function lO(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),l=pr(o);return s&&o.addEventListener("upgradeneeded",c=>{s(pr(o.result),c.oldVersion,c.newVersion,pr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{r&&c.addEventListener("close",()=>r()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const cO=["get","getKey","getAll","getAllKeys","count"],uO=["put","add","delete","clear"],If=new Map;function Iv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(If.get(e))return If.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=uO.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||cO.includes(n)))return;const r=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return If.set(e,r),r}rO(t=>({...t,get:(e,n,s)=>Iv(e,n)||t.get(e,n,s),has:(e,n)=>!!Iv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dO(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function dO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dp="@firebase/app",Cv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new om("@firebase/app"),fO="@firebase/app-compat",pO="@firebase/analytics-compat",mO="@firebase/analytics",gO="@firebase/app-check-compat",_O="@firebase/app-check",vO="@firebase/auth",yO="@firebase/auth-compat",EO="@firebase/database",bO="@firebase/data-connect",wO="@firebase/database-compat",TO="@firebase/functions",AO="@firebase/functions-compat",IO="@firebase/installations",CO="@firebase/installations-compat",SO="@firebase/messaging",RO="@firebase/messaging-compat",PO="@firebase/performance",OO="@firebase/performance-compat",kO="@firebase/remote-config",DO="@firebase/remote-config-compat",NO="@firebase/storage",xO="@firebase/storage-compat",LO="@firebase/firestore",VO="@firebase/ai",MO="@firebase/firestore-compat",$O="firebase",FO="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="[DEFAULT]",UO={[dp]:"fire-core",[fO]:"fire-core-compat",[mO]:"fire-analytics",[pO]:"fire-analytics-compat",[_O]:"fire-app-check",[gO]:"fire-app-check-compat",[vO]:"fire-auth",[yO]:"fire-auth-compat",[EO]:"fire-rtdb",[bO]:"fire-data-connect",[wO]:"fire-rtdb-compat",[TO]:"fire-fn",[AO]:"fire-fn-compat",[IO]:"fire-iid",[CO]:"fire-iid-compat",[SO]:"fire-fcm",[RO]:"fire-fcm-compat",[PO]:"fire-perf",[OO]:"fire-perf-compat",[kO]:"fire-rc",[DO]:"fire-rc-compat",[NO]:"fire-gcs",[xO]:"fire-gcs-compat",[LO]:"fire-fst",[MO]:"fire-fst-compat",[VO]:"fire-vertex","fire-js":"fire-js",[$O]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,jO=new Map,pp=new Map;function Sv(t,e){try{t.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ka(t){const e=t.name;if(pp.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;pp.set(e,t);for(const n of wh.values())Sv(n,t);for(const n of jO.values())Sv(n,t);return!0}function lm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new xc("app","Firebase",BO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=FO;function Cw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:fp,automaticDataCollectionEnabled:!0},e),i=s.name;if(typeof i!="string"||!i)throw mr.create("bad-app-name",{appName:String(i)});if(n||(n=Ew()),!n)throw mr.create("no-options");const r=wh.get(i);if(r){if(bo(n,r.options)&&bo(s,r.config))return r;throw mr.create("duplicate-app",{appName:i})}const o=new QP(i);for(const c of pp.values())o.addComponent(c);const l=new HO(n,s,o);return wh.set(i,l),l}function Sw(t=fp){const e=wh.get(t);if(!e&&t===fp&&Ew())return Cw();if(!e)throw mr.create("no-app",{appName:t});return e}function gr(t,e,n){var s;let i=(s=UO[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(l.join(" "));return}ka(new wo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="firebase-heartbeat-database",WO=1,vc="firebase-heartbeat-store";let Cf=null;function Rw(){return Cf||(Cf=lO(qO,WO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw mr.create("idb-open",{originalErrorMessage:t.message})})),Cf}async function zO(t){try{const n=(await Rw()).transaction(vc),s=await n.objectStore(vc).get(Pw(t));return await n.done,s}catch(e){if(e instanceof Ni)Si.warn(e.message);else{const n=mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(n.message)}}}async function Rv(t,e){try{const s=(await Rw()).transaction(vc,"readwrite");await s.objectStore(vc).put(e,Pw(t)),await s.done}catch(n){if(n instanceof Ni)Si.warn(n.message);else{const s=mr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Si.warn(s.message)}}}function Pw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=1024,GO=30;class QO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XO(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Pv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>GO){const o=JO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Si.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pv(),{heartbeatsToSend:s,unsentEntries:i}=YO(this._heartbeatsCache.heartbeats),r=bh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Si.warn(n),""}}}function Pv(){return new Date().toISOString().substring(0,10)}function YO(t,e=KO){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Ov(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ov(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class XO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MP()?$P().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ov(t){return bh(JSON.stringify({version:2,heartbeats:t})).length}function JO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t){ka(new wo("platform-logger",e=>new hO(e),"PRIVATE")),ka(new wo("heartbeat",e=>new QO(e),"PRIVATE")),gr(dp,Cv,t),gr(dp,Cv,"esm2017"),gr("fire-js","")}ZO("");var kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _r,Ow;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function b(){}b.prototype=I.prototype,D.D=I.prototype,D.prototype=new b,D.prototype.constructor=D,D.C=function(A,O,R){for(var S=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)S[Be-2]=arguments[Be];return I.prototype[O].apply(A,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,I,b){b||(b=0);var A=Array(16);if(typeof I=="string")for(var O=0;16>O;++O)A[O]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(O=0;16>O;++O)A[O]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=D.g[0],b=D.g[1],O=D.g[2];var R=D.g[3],S=I+(R^b&(O^R))+A[0]+3614090360&4294967295;I=b+(S<<7&4294967295|S>>>25),S=R+(O^I&(b^O))+A[1]+3905402710&4294967295,R=I+(S<<12&4294967295|S>>>20),S=O+(b^R&(I^b))+A[2]+606105819&4294967295,O=R+(S<<17&4294967295|S>>>15),S=b+(I^O&(R^I))+A[3]+3250441966&4294967295,b=O+(S<<22&4294967295|S>>>10),S=I+(R^b&(O^R))+A[4]+4118548399&4294967295,I=b+(S<<7&4294967295|S>>>25),S=R+(O^I&(b^O))+A[5]+1200080426&4294967295,R=I+(S<<12&4294967295|S>>>20),S=O+(b^R&(I^b))+A[6]+2821735955&4294967295,O=R+(S<<17&4294967295|S>>>15),S=b+(I^O&(R^I))+A[7]+4249261313&4294967295,b=O+(S<<22&4294967295|S>>>10),S=I+(R^b&(O^R))+A[8]+1770035416&4294967295,I=b+(S<<7&4294967295|S>>>25),S=R+(O^I&(b^O))+A[9]+2336552879&4294967295,R=I+(S<<12&4294967295|S>>>20),S=O+(b^R&(I^b))+A[10]+4294925233&4294967295,O=R+(S<<17&4294967295|S>>>15),S=b+(I^O&(R^I))+A[11]+2304563134&4294967295,b=O+(S<<22&4294967295|S>>>10),S=I+(R^b&(O^R))+A[12]+1804603682&4294967295,I=b+(S<<7&4294967295|S>>>25),S=R+(O^I&(b^O))+A[13]+4254626195&4294967295,R=I+(S<<12&4294967295|S>>>20),S=O+(b^R&(I^b))+A[14]+2792965006&4294967295,O=R+(S<<17&4294967295|S>>>15),S=b+(I^O&(R^I))+A[15]+1236535329&4294967295,b=O+(S<<22&4294967295|S>>>10),S=I+(O^R&(b^O))+A[1]+4129170786&4294967295,I=b+(S<<5&4294967295|S>>>27),S=R+(b^O&(I^b))+A[6]+3225465664&4294967295,R=I+(S<<9&4294967295|S>>>23),S=O+(I^b&(R^I))+A[11]+643717713&4294967295,O=R+(S<<14&4294967295|S>>>18),S=b+(R^I&(O^R))+A[0]+3921069994&4294967295,b=O+(S<<20&4294967295|S>>>12),S=I+(O^R&(b^O))+A[5]+3593408605&4294967295,I=b+(S<<5&4294967295|S>>>27),S=R+(b^O&(I^b))+A[10]+38016083&4294967295,R=I+(S<<9&4294967295|S>>>23),S=O+(I^b&(R^I))+A[15]+3634488961&4294967295,O=R+(S<<14&4294967295|S>>>18),S=b+(R^I&(O^R))+A[4]+3889429448&4294967295,b=O+(S<<20&4294967295|S>>>12),S=I+(O^R&(b^O))+A[9]+568446438&4294967295,I=b+(S<<5&4294967295|S>>>27),S=R+(b^O&(I^b))+A[14]+3275163606&4294967295,R=I+(S<<9&4294967295|S>>>23),S=O+(I^b&(R^I))+A[3]+4107603335&4294967295,O=R+(S<<14&4294967295|S>>>18),S=b+(R^I&(O^R))+A[8]+1163531501&4294967295,b=O+(S<<20&4294967295|S>>>12),S=I+(O^R&(b^O))+A[13]+2850285829&4294967295,I=b+(S<<5&4294967295|S>>>27),S=R+(b^O&(I^b))+A[2]+4243563512&4294967295,R=I+(S<<9&4294967295|S>>>23),S=O+(I^b&(R^I))+A[7]+1735328473&4294967295,O=R+(S<<14&4294967295|S>>>18),S=b+(R^I&(O^R))+A[12]+2368359562&4294967295,b=O+(S<<20&4294967295|S>>>12),S=I+(b^O^R)+A[5]+4294588738&4294967295,I=b+(S<<4&4294967295|S>>>28),S=R+(I^b^O)+A[8]+2272392833&4294967295,R=I+(S<<11&4294967295|S>>>21),S=O+(R^I^b)+A[11]+1839030562&4294967295,O=R+(S<<16&4294967295|S>>>16),S=b+(O^R^I)+A[14]+4259657740&4294967295,b=O+(S<<23&4294967295|S>>>9),S=I+(b^O^R)+A[1]+2763975236&4294967295,I=b+(S<<4&4294967295|S>>>28),S=R+(I^b^O)+A[4]+1272893353&4294967295,R=I+(S<<11&4294967295|S>>>21),S=O+(R^I^b)+A[7]+4139469664&4294967295,O=R+(S<<16&4294967295|S>>>16),S=b+(O^R^I)+A[10]+3200236656&4294967295,b=O+(S<<23&4294967295|S>>>9),S=I+(b^O^R)+A[13]+681279174&4294967295,I=b+(S<<4&4294967295|S>>>28),S=R+(I^b^O)+A[0]+3936430074&4294967295,R=I+(S<<11&4294967295|S>>>21),S=O+(R^I^b)+A[3]+3572445317&4294967295,O=R+(S<<16&4294967295|S>>>16),S=b+(O^R^I)+A[6]+76029189&4294967295,b=O+(S<<23&4294967295|S>>>9),S=I+(b^O^R)+A[9]+3654602809&4294967295,I=b+(S<<4&4294967295|S>>>28),S=R+(I^b^O)+A[12]+3873151461&4294967295,R=I+(S<<11&4294967295|S>>>21),S=O+(R^I^b)+A[15]+530742520&4294967295,O=R+(S<<16&4294967295|S>>>16),S=b+(O^R^I)+A[2]+3299628645&4294967295,b=O+(S<<23&4294967295|S>>>9),S=I+(O^(b|~R))+A[0]+4096336452&4294967295,I=b+(S<<6&4294967295|S>>>26),S=R+(b^(I|~O))+A[7]+1126891415&4294967295,R=I+(S<<10&4294967295|S>>>22),S=O+(I^(R|~b))+A[14]+2878612391&4294967295,O=R+(S<<15&4294967295|S>>>17),S=b+(R^(O|~I))+A[5]+4237533241&4294967295,b=O+(S<<21&4294967295|S>>>11),S=I+(O^(b|~R))+A[12]+1700485571&4294967295,I=b+(S<<6&4294967295|S>>>26),S=R+(b^(I|~O))+A[3]+2399980690&4294967295,R=I+(S<<10&4294967295|S>>>22),S=O+(I^(R|~b))+A[10]+4293915773&4294967295,O=R+(S<<15&4294967295|S>>>17),S=b+(R^(O|~I))+A[1]+2240044497&4294967295,b=O+(S<<21&4294967295|S>>>11),S=I+(O^(b|~R))+A[8]+1873313359&4294967295,I=b+(S<<6&4294967295|S>>>26),S=R+(b^(I|~O))+A[15]+4264355552&4294967295,R=I+(S<<10&4294967295|S>>>22),S=O+(I^(R|~b))+A[6]+2734768916&4294967295,O=R+(S<<15&4294967295|S>>>17),S=b+(R^(O|~I))+A[13]+1309151649&4294967295,b=O+(S<<21&4294967295|S>>>11),S=I+(O^(b|~R))+A[4]+4149444226&4294967295,I=b+(S<<6&4294967295|S>>>26),S=R+(b^(I|~O))+A[11]+3174756917&4294967295,R=I+(S<<10&4294967295|S>>>22),S=O+(I^(R|~b))+A[2]+718787259&4294967295,O=R+(S<<15&4294967295|S>>>17),S=b+(R^(O|~I))+A[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(O+(S<<21&4294967295|S>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+R&4294967295}s.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var b=I-this.blockSize,A=this.B,O=this.h,R=0;R<I;){if(O==0)for(;R<=b;)i(this,D,R),R+=this.blockSize;if(typeof D=="string"){for(;R<I;)if(A[O++]=D.charCodeAt(R++),O==this.blockSize){i(this,A),O=0;break}}else for(;R<I;)if(A[O++]=D[R++],O==this.blockSize){i(this,A),O=0;break}}this.h=O,this.o+=I},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var b=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=b&255,b/=256;for(this.u(D),D=Array(16),I=b=0;4>I;++I)for(var A=0;32>A;A+=8)D[b++]=this.g[I]>>>A&255;return D};function r(D,I){var b=l;return Object.prototype.hasOwnProperty.call(b,D)?b[D]:b[D]=I(D)}function o(D,I){this.h=I;for(var b=[],A=!0,O=D.length-1;0<=O;O--){var R=D[O]|0;A&&R==I||(b[O]=R,A=!1)}this.g=b}var l={};function c(D){return-128<=D&&128>D?r(D,function(I){return new o([I|0],0>I?-1:0)}):new o([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return m;if(0>D)return x(d(-D));for(var I=[],b=1,A=0;D>=b;A++)I[A]=D/b|0,b*=4294967296;return new o(I,0)}function h(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return x(h(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=d(Math.pow(I,8)),A=m,O=0;O<D.length;O+=8){var R=Math.min(8,D.length-O),S=parseInt(D.substring(O,O+R),I);8>R?(R=d(Math.pow(I,R)),A=A.j(R).add(d(S))):(A=A.j(b),A=A.add(d(S)))}return A}var m=c(0),_=c(1),E=c(16777216);t=o.prototype,t.m=function(){if(N(this))return-x(this).m();for(var D=0,I=1,b=0;b<this.g.length;b++){var A=this.i(b);D+=(0<=A?A:4294967296+A)*I,I*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(N(this))return"-"+x(this).toString(D);for(var I=d(Math.pow(D,6)),b=this,A="";;){var O=j(b,I).g;b=U(b,O.j(I));var R=((0<b.g.length?b.g[0]:b.h)>>>0).toString(D);if(b=O,C(b))return R+A;for(;6>R.length;)R="0"+R;A=R+A}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=U(this,D),N(D)?-1:C(D)?0:1};function x(D){for(var I=D.g.length,b=[],A=0;A<I;A++)b[A]=~D.g[A];return new o(b,~D.h).add(_)}t.abs=function(){return N(this)?x(this):this},t.add=function(D){for(var I=Math.max(this.g.length,D.g.length),b=[],A=0,O=0;O<=I;O++){var R=A+(this.i(O)&65535)+(D.i(O)&65535),S=(R>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);A=S>>>16,R&=65535,S&=65535,b[O]=S<<16|R}return new o(b,b[b.length-1]&-2147483648?-1:0)};function U(D,I){return D.add(x(I))}t.j=function(D){if(C(this)||C(D))return m;if(N(this))return N(D)?x(this).j(x(D)):x(x(this).j(D));if(N(D))return x(this.j(x(D)));if(0>this.l(E)&&0>D.l(E))return d(this.m()*D.m());for(var I=this.g.length+D.g.length,b=[],A=0;A<2*I;A++)b[A]=0;for(A=0;A<this.g.length;A++)for(var O=0;O<D.g.length;O++){var R=this.i(A)>>>16,S=this.i(A)&65535,Be=D.i(O)>>>16,st=D.i(O)&65535;b[2*A+2*O]+=S*st,F(b,2*A+2*O),b[2*A+2*O+1]+=R*st,F(b,2*A+2*O+1),b[2*A+2*O+1]+=S*Be,F(b,2*A+2*O+1),b[2*A+2*O+2]+=R*Be,F(b,2*A+2*O+2)}for(A=0;A<I;A++)b[A]=b[2*A+1]<<16|b[2*A];for(A=I;A<2*I;A++)b[A]=0;return new o(b,0)};function F(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function H(D,I){this.g=D,this.h=I}function j(D,I){if(C(I))throw Error("division by zero");if(C(D))return new H(m,m);if(N(D))return I=j(x(D),I),new H(x(I.g),x(I.h));if(N(I))return I=j(D,x(I)),new H(x(I.g),I.h);if(30<D.g.length){if(N(D)||N(I))throw Error("slowDivide_ only works with positive integers.");for(var b=_,A=I;0>=A.l(D);)b=ne(b),A=ne(A);var O=oe(b,1),R=oe(A,1);for(A=oe(A,2),b=oe(b,2);!C(A);){var S=R.add(A);0>=S.l(D)&&(O=O.add(b),R=S),A=oe(A,1),b=oe(b,1)}return I=U(D,O.j(I)),new H(O,I)}for(O=m;0<=D.l(I);){for(b=Math.max(1,Math.floor(D.m()/I.m())),A=Math.ceil(Math.log(b)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),R=d(b),S=R.j(I);N(S)||0<S.l(D);)b-=A,R=d(b),S=R.j(I);C(R)&&(R=_),O=O.add(R),D=U(D,S)}return new H(O,D)}t.A=function(D){return j(this,D).h},t.and=function(D){for(var I=Math.max(this.g.length,D.g.length),b=[],A=0;A<I;A++)b[A]=this.i(A)&D.i(A);return new o(b,this.h&D.h)},t.or=function(D){for(var I=Math.max(this.g.length,D.g.length),b=[],A=0;A<I;A++)b[A]=this.i(A)|D.i(A);return new o(b,this.h|D.h)},t.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),b=[],A=0;A<I;A++)b[A]=this.i(A)^D.i(A);return new o(b,this.h^D.h)};function ne(D){for(var I=D.g.length+1,b=[],A=0;A<I;A++)b[A]=D.i(A)<<1|D.i(A-1)>>>31;return new o(b,D.h)}function oe(D,I){var b=I>>5;I%=32;for(var A=D.g.length-b,O=[],R=0;R<A;R++)O[R]=0<I?D.i(R+b)>>>I|D.i(R+b+1)<<32-I:D.i(R+b);return new o(O,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ow=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,_r=o}).apply(typeof kv<"u"?kv:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kw,Bl,Dw,Yu,mp,Nw,xw,Lw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,g){return a==Array.prototype||a==Object.prototype||(a[f]=g.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var f=0;f<a.length;++f){var g=a[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function i(a,f){if(f)e:{var g=s;a=a.split(".");for(var T=0;T<a.length-1;T++){var $=a[T];if(!($ in g))break e;g=g[$]}a=a[a.length-1],T=g[a],f=f(T),f!=T&&f!=null&&e(g,a,{configurable:!0,writable:!0,value:f})}}function r(a,f){a instanceof String&&(a+="");var g=0,T=!1,$={next:function(){if(!T&&g<a.length){var B=g++;return{value:f(B,a[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(a){return a||function(){return r(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function d(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function h(a,f,g){return a.call.apply(a.bind,arguments)}function m(a,f,g){if(!a)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,T),a.apply(f,$)}}return function(){return a.apply(f,arguments)}}function _(a,f,g){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,_.apply(null,arguments)}function E(a,f){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),a.apply(this,T)}}function C(a,f){function g(){}g.prototype=f.prototype,a.aa=f.prototype,a.prototype=new g,a.prototype.constructor=a,a.Qb=function(T,$,B){for(var ce=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ce[dt-2]=arguments[dt];return f.prototype[$].apply(T,ce)}}function N(a){const f=a.length;if(0<f){const g=Array(f);for(let T=0;T<f;T++)g[T]=a[T];return g}return[]}function x(a,f){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(c(T)){const $=a.length||0,B=T.length||0;a.length=$+B;for(let ce=0;ce<B;ce++)a[$+ce]=T[ce]}else a.push(T)}}class U{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function F(a){return/^[\s\xa0]*$/.test(a)}function H(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function j(a){return j[" "](a),a}j[" "]=function(){};var ne=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function oe(a,f,g){for(const T in a)f.call(g,a[T],T,a)}function D(a,f){for(const g in a)f.call(void 0,a[g],g,a)}function I(a){const f={};for(const g in a)f[g]=a[g];return f}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(a,f){let g,T;for(let $=1;$<arguments.length;$++){T=arguments[$];for(g in T)a[g]=T[g];for(let B=0;B<b.length;B++)g=b[B],Object.prototype.hasOwnProperty.call(T,g)&&(a[g]=T[g])}}function O(a){var f=1;a=a.split(":");const g=[];for(;0<f&&a.length;)g.push(a.shift()),f--;return a.length&&g.push(a.join(":")),g}function R(a){l.setTimeout(()=>{throw a},0)}function S(){var a=Ct;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class Be{constructor(){this.h=this.g=null}add(f,g){const T=st.get();T.set(f,g),this.h?this.h.next=T:this.g=T,this.h=T}}var st=new U(()=>new xe,a=>a.reset());class xe{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let be,je=!1,Ct=new Be,Q=()=>{const a=l.Promise.resolve(void 0);be=()=>{a.then(jt)}};var jt=()=>{for(var a;a=S();){try{a.h.call(a.g)}catch(g){R(g)}var f=st;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}je=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var Tt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};l.addEventListener("test",g,f),l.removeEventListener("test",g,f)}catch{}return a}();function At(a,f){if(rt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var g=this.type=a.type,T=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(ne){e:{try{j(f.nodeName);var $=!0;break e}catch{}$=!1}$||(f=null)}}else g=="mouseover"?f=a.fromElement:g=="mouseout"&&(f=a.toElement);this.relatedTarget=f,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ot[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&At.aa.h.call(this)}}C(At,rt);var ot={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),W=0;function le(a,f,g,T,$){this.listener=a,this.proxy=null,this.src=f,this.type=g,this.capture=!!T,this.ha=$,this.key=++W,this.da=this.fa=!1}function ge(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ge(a){this.src=a,this.g={},this.h=0}Ge.prototype.add=function(a,f,g,T,$){var B=a.toString();a=this.g[B],a||(a=this.g[B]=[],this.h++);var ce=k(a,f,T,$);return-1<ce?(f=a[ce],g||(f.fa=!1)):(f=new le(f,this.src,B,!!T,$),f.fa=g,a.push(f)),f};function P(a,f){var g=f.type;if(g in a.g){var T=a.g[g],$=Array.prototype.indexOf.call(T,f,void 0),B;(B=0<=$)&&Array.prototype.splice.call(T,$,1),B&&(ge(f),a.g[g].length==0&&(delete a.g[g],a.h--))}}function k(a,f,g,T){for(var $=0;$<a.length;++$){var B=a[$];if(!B.da&&B.listener==f&&B.capture==!!g&&B.ha==T)return $}return-1}var M="closure_lm_"+(1e6*Math.random()|0),K={};function G(a,f,g,T,$){if(Array.isArray(f)){for(var B=0;B<f.length;B++)G(a,f[B],g,T,$);return null}return g=we(g),a&&a[z]?a.K(f,g,d(T)?!!T.capture:!1,$):Y(a,f,g,!1,T,$)}function Y(a,f,g,T,$,B){if(!f)throw Error("Invalid event type");var ce=d($)?!!$.capture:!!$,dt=de(a);if(dt||(a[M]=dt=new Ge(a)),g=dt.add(f,g,T,ce,B),g.proxy)return g;if(T=he(),g.proxy=T,T.src=a,T.listener=g,a.addEventListener)Tt||($=ce),$===void 0&&($=!1),a.addEventListener(f.toString(),T,$);else if(a.attachEvent)a.attachEvent(ee(f.toString()),T);else if(a.addListener&&a.removeListener)a.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function he(){function a(g){return f.call(a.src,a.listener,g)}const f=Ie;return a}function ae(a,f,g,T,$){if(Array.isArray(f))for(var B=0;B<f.length;B++)ae(a,f[B],g,T,$);else T=d(T)?!!T.capture:!!T,g=we(g),a&&a[z]?(a=a.i,f=String(f).toString(),f in a.g&&(B=a.g[f],g=k(B,g,T,$),-1<g&&(ge(B[g]),Array.prototype.splice.call(B,g,1),B.length==0&&(delete a.g[f],a.h--)))):a&&(a=de(a))&&(f=a.g[f.toString()],a=-1,f&&(a=k(f,g,T,$)),(g=-1<a?f[a]:null)&&se(g))}function se(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[z])P(f.i,a);else{var g=a.type,T=a.proxy;f.removeEventListener?f.removeEventListener(g,T,a.capture):f.detachEvent?f.detachEvent(ee(g),T):f.addListener&&f.removeListener&&f.removeListener(T),(g=de(f))?(P(g,a),g.h==0&&(g.src=null,f[M]=null)):ge(a)}}}function ee(a){return a in K?K[a]:K[a]="on"+a}function Ie(a,f){if(a.da)a=!0;else{f=new At(f,this);var g=a.listener,T=a.ha||a.src;a.fa&&se(a),a=g.call(T,f)}return a}function de(a){return a=a[M],a instanceof Ge?a:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(a){return typeof a=="function"?a:(a[ve]||(a[ve]=function(f){return a.handleEvent(f)}),a[ve])}function Ae(){it.call(this),this.i=new Ge(this),this.M=this,this.F=null}C(Ae,it),Ae.prototype[z]=!0,Ae.prototype.removeEventListener=function(a,f,g,T){ae(this,a,f,g,T)};function Ne(a,f){var g,T=a.F;if(T)for(g=[];T;T=T.F)g.push(T);if(a=a.M,T=f.type||f,typeof f=="string")f=new rt(f,a);else if(f instanceof rt)f.target=f.target||a;else{var $=f;f=new rt(T,a),A(f,$)}if($=!0,g)for(var B=g.length-1;0<=B;B--){var ce=f.g=g[B];$=ze(ce,T,!0,f)&&$}if(ce=f.g=a,$=ze(ce,T,!0,f)&&$,$=ze(ce,T,!1,f)&&$,g)for(B=0;B<g.length;B++)ce=f.g=g[B],$=ze(ce,T,!1,f)&&$}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var g=a.g[f],T=0;T<g.length;T++)ge(g[T]);delete a.g[f],a.h--}}this.F=null},Ae.prototype.K=function(a,f,g,T){return this.i.add(String(a),f,!1,g,T)},Ae.prototype.L=function(a,f,g,T){return this.i.add(String(a),f,!0,g,T)};function ze(a,f,g,T){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var $=!0,B=0;B<f.length;++B){var ce=f[B];if(ce&&!ce.da&&ce.capture==g){var dt=ce.listener,Gt=ce.ha||ce.src;ce.fa&&P(a.i,ce),$=dt.call(Gt,T)!==!1&&$}}return $&&!T.defaultPrevented}function kt(a,f,g){if(typeof a=="function")g&&(a=_(a,g));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:l.setTimeout(a,f||0)}function St(a){a.g=kt(()=>{a.g=null,a.i&&(a.i=!1,St(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class Wt extends it{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lt(a){it.call(this),this.h=a,this.g={}}C(Lt,it);var Ms=[];function ii(a){oe(a.g,function(f,g){this.g.hasOwnProperty(g)&&se(f)},a),a.g={}}Lt.prototype.N=function(){Lt.aa.N.call(this),ii(this)},Lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zt=l.JSON.stringify,$n=l.JSON.parse,Fo=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function al(){}al.prototype.h=null;function Jc(a){return a.h||(a.h=a.i())}function Zc(){}var Fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ui(){rt.call(this,"d")}C(Ui,rt);function Uo(){rt.call(this,"c")}C(Uo,rt);var $s={},eu=null;function jo(){return eu=eu||new Ae}$s.La="serverreachability";function tu(a){rt.call(this,$s.La,a)}C(tu,rt);function Mr(a){const f=jo();Ne(f,new tu(f))}$s.STAT_EVENT="statevent";function ri(a,f){rt.call(this,$s.STAT_EVENT,a),this.stat=f}C(ri,rt);function Vt(a){const f=jo();Ne(f,new ri(f,a))}$s.Ma="timingevent";function nu(a,f){rt.call(this,$s.Ma,a),this.size=f}C(nu,rt);function $r(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},f)}function Fr(){this.g=!0}Fr.prototype.xa=function(){this.g=!1};function Bd(a,f,g,T,$,B){a.info(function(){if(a.g)if(B)for(var ce="",dt=B.split("&"),Gt=0;Gt<dt.length;Gt++){var Ze=dt[Gt].split("=");if(1<Ze.length){var Zt=Ze[0];Ze=Ze[1];var en=Zt.split("_");ce=2<=en.length&&en[1]=="type"?ce+(Zt+"="+Ze+"&"):ce+(Zt+"=redacted&")}}else ce=null;else ce=B;return"XMLHTTP REQ ("+T+") [attempt "+$+"]: "+f+`
`+g+`
`+ce})}function Hd(a,f,g,T,$,B,ce){a.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+$+"]: "+f+`
`+g+`
`+B+" "+ce})}function Fs(a,f,g,T){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+Bo(a,g)+(T?" "+T:"")})}function ji(a,f){a.info(function(){return"TIMEOUT: "+f})}Fr.prototype.info=function(){};function Bo(a,f){if(!a.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(a=0;a<g.length;a++)if(Array.isArray(g[a])){var T=g[a];if(!(2>T.length)){var $=T[1];if(Array.isArray($)&&!(1>$.length)){var B=$[0];if(B!="noop"&&B!="stop"&&B!="close")for(var ce=1;ce<$.length;ce++)$[ce]=""}}}}return zt(g)}catch{return f}}var Ho={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ll;function Wo(){}C(Wo,al),Wo.prototype.g=function(){return new XMLHttpRequest},Wo.prototype.i=function(){return{}},ll=new Wo;function An(a,f,g,T){this.j=a,this.i=f,this.l=g,this.R=T||1,this.U=new Lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jt}function Jt(){this.i=null,this.g="",this.h=!1}var pn={},cn={};function Kt(a,f,g){a.L=1,a.v=li(Dt(f)),a.m=g,a.P=!0,Ur(a,null)}function Ur(a,f){a.F=Date.now(),Ts(a),a.A=Dt(a.v);var g=a.A,T=a.R;Array.isArray(T)||(T=[String(T)]),Go(g.i,"t",T),a.C=0,g=a.j.J,a.h=new Jt,a.g=gu(a.j,g?f:null,!a.m),0<a.O&&(a.M=new Wt(_(a.Y,a,a.g),a.O)),f=a.U,g=a.g,T=a.ca;var $="readystatechange";Array.isArray($)||($&&(Ms[0]=$.toString()),$=Ms);for(var B=0;B<$.length;B++){var ce=G(g,$[B],T||f.handleEvent,!1,f.h||f);if(!ce)break;f.g[ce.key]=ce}f=a.H?I(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),Mr(),Bd(a.i,a.u,a.A,a.l,a.R,a.m)}An.prototype.ca=function(a){a=a.target;const f=this.M;f&&mn(a)==3?f.j():this.Y(a)},An.prototype.Y=function(a){try{if(a==this.g)e:{const en=mn(this.g);var f=this.g.Ba();const tn=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||du(this.g)))){this.J||en!=4||f==7||(f==8||0>=tn?Mr(3):Mr(2)),jr(this);var g=this.g.Z();this.X=g;t:if(oi(this)){var T=du(this.g);a="";var $=T.length,B=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Us(this),os(this);var ce="";break t}this.h.i=new l.TextDecoder}for(f=0;f<$;f++)this.h.h=!0,a+=this.h.i.decode(T[f],{stream:!(B&&f==$-1)});T.length=0,this.h.g+=a,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=g==200,Hd(this.i,this.u,this.A,this.l,this.R,en,g),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,Gt=this.g;if((dt=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(dt)){var Ze=dt;break t}}Ze=null}if(g=Ze)Fs(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Br(this,g);else{this.o=!1,this.s=3,Vt(12),Us(this),os(this);break e}}if(this.P){g=!0;let Un;for(;!this.J&&this.C<ce.length;)if(Un=ai(this,ce),Un==cn){en==4&&(this.s=4,Vt(14),g=!1),Fs(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==pn){this.s=4,Vt(15),Fs(this.i,this.l,ce,"[Invalid Chunk]"),g=!1;break}else Fs(this.i,this.l,Un,null),Br(this,Un);if(oi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||ce.length!=0||this.h.h||(this.s=1,Vt(16),g=!1),this.o=this.o&&g,!g)Fs(this.i,this.l,ce,"[Invalid Chunked Response]"),Us(this),os(this);else if(0<ce.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Cl(Zt),Zt.M=!0,Vt(11))}}else Fs(this.i,this.l,ce,null),Br(this,ce);en==4&&Us(this),this.o&&!this.J&&(en==4?Sl(this.j,this):(this.o=!1,Ts(this)))}else fu(this.g),g==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Us(this),os(this)}}}catch{}finally{}};function oi(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function ai(a,f){var g=a.C,T=f.indexOf(`
`,g);return T==-1?cn:(g=Number(f.substring(g,T)),isNaN(g)?pn:(T+=1,T+g>f.length?cn:(f=f.slice(T,T+g),a.C=T+g,f)))}An.prototype.cancel=function(){this.J=!0,Us(this)};function Ts(a){a.S=Date.now()+a.I,cl(a,a.I)}function cl(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=$r(_(a.ba,a),f)}function jr(a){a.B&&(l.clearTimeout(a.B),a.B=null)}An.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(ji(this.i,this.A),this.L!=2&&(Mr(),Vt(17)),Us(this),this.s=2,os(this)):cl(this,this.S-a)};function os(a){a.j.G==0||a.J||Sl(a.j,a)}function Us(a){jr(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,ii(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function Br(a,f){try{var g=a.j;if(g.G!=0&&(g.g==a||zo(g.h,a))){if(!a.K&&zo(g.h,a)&&g.G==3){try{var T=g.Da.g.parse(f)}catch{T=null}if(Array.isArray(T)&&T.length==3){var $=T;if($[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<a.F)Gr(g),Wr(g);else break e;Il(g),Vt(18)}}else g.za=$[1],0<g.za-g.T&&37500>$[2]&&g.F&&g.v==0&&!g.C&&(g.C=$r(_(g.Za,g),6e3));if(1>=fl(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Is(g,11)}else if((a.K||g.g==a)&&Gr(g),!F(f))for($=g.Da.g.parse(f),f=0;f<$.length;f++){let Ze=$[f];if(g.T=Ze[0],Ze=Ze[1],g.G==2)if(Ze[0]=="c"){g.K=Ze[1],g.ia=Ze[2];const Zt=Ze[3];Zt!=null&&(g.la=Zt,g.j.info("VER="+g.la));const en=Ze[4];en!=null&&(g.Aa=en,g.j.info("SVER="+g.Aa));const tn=Ze[5];tn!=null&&typeof tn=="number"&&0<tn&&(T=1.5*tn,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Un=a.g;if(Un){const Qr=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var B=T.h;B.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ko(B,B.h),B.h=null))}if(T.D){const na=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;na&&(T.ya=na,tt(T.I,T.D,na))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-a.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var ce=a;if(T.qa=Rl(T,T.J?T.ia:null,T.W),ce.K){pl(T.h,ce);var dt=ce,Gt=T.L;Gt&&(dt.I=Gt),dt.B&&(jr(dt),Ts(dt)),T.g=ce}else Kr(T);0<g.i.length&&zr(g)}else Ze[0]!="stop"&&Ze[0]!="close"||Is(g,7);else g.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Is(g,7):Jo(g):Ze[0]!="noop"&&g.l&&g.l.ta(Ze),g.v=0)}}Mr(4)}catch{}}var ul=class{constructor(a,f){this.g=a,this.map=f}};function hl(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dl(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function fl(a){return a.h?1:a.g?a.g.size:0}function zo(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function Ko(a,f){a.g?a.g.add(f):a.h=f}function pl(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}hl.prototype.cancel=function(){if(this.i=ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ml(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const g of a.g.values())f=f.concat(g.D);return f}return N(a.i)}function su(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var f=[],g=a.length,T=0;T<g;T++)f.push(a[T]);return f}f=[],g=0;for(T in a)f[g++]=a[T];return f}function iu(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var f=[];a=a.length;for(var g=0;g<a;g++)f.push(g);return f}f=[],g=0;for(const T in a)f[g++]=T;return f}}}function gl(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var g=iu(a),T=su(a),$=T.length,B=0;B<$;B++)f.call(void 0,T[B],g&&g[B],a)}var Kn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function In(a,f){if(a){a=a.split("&");for(var g=0;g<a.length;g++){var T=a[g].indexOf("="),$=null;if(0<=T){var B=a[g].substring(0,T);$=a[g].substring(T+1)}else B=a[g];f(B,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Cn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Cn){this.h=a.h,Bi(this,a.j),this.o=a.o,this.g=a.g,Hi(this,a.s),this.l=a.l;var f=a.i,g=new Fn;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Gn(this,g),this.m=a.m}else a&&(f=String(a).match(Kn))?(this.h=!1,Bi(this,f[1]||"",!0),this.o=as(f[2]||""),this.g=as(f[3]||"",!0),Hi(this,f[4]),this.l=as(f[5]||"",!0),Gn(this,f[6]||"",!0),this.m=as(f[7]||"")):(this.h=!1,this.i=new Fn(null,this.h))}Cn.prototype.toString=function(){var a=[],f=this.j;f&&a.push(ci(f,ui,!0),":");var g=this.g;return(g||f=="file")&&(a.push("//"),(f=this.o)&&a.push(ci(f,ui,!0),"@"),a.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&a.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(ci(g,g.charAt(0)=="/"?ou:_l,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",ci(g,qd)),a.join("")};function Dt(a){return new Cn(a)}function Bi(a,f,g){a.j=g?as(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Hi(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function Gn(a,f,g){f instanceof Fn?(a.i=f,au(a.i,a.h)):(g||(f=ci(f,As)),a.i=new Fn(f,a.h))}function tt(a,f,g){a.i.set(f,g)}function li(a){return tt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function as(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ci(a,f,g){return typeof a=="string"?(a=encodeURI(a).replace(f,ru),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ru(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ui=/[#\/\?@]/g,_l=/[#\?:]/g,ou=/[#\?]/g,As=/[#\?@]/g,qd=/#/g;function Fn(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function Qn(a){a.g||(a.g=new Map,a.h=0,a.i&&In(a.i,function(f,g){a.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Fn.prototype,t.add=function(a,f){Qn(this),this.i=null,a=ls(this,a);var g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(f),this.h+=1,this};function vl(a,f){Qn(a),f=ls(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function qi(a,f){return Qn(a),f=ls(a,f),a.g.has(f)}t.forEach=function(a,f){Qn(this),this.g.forEach(function(g,T){g.forEach(function($){a.call(f,$,T,this)},this)},this)},t.na=function(){Qn(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let T=0;T<f.length;T++){const $=a[T];for(let B=0;B<$.length;B++)g.push(f[T])}return g},t.V=function(a){Qn(this);let f=[];if(typeof a=="string")qi(this,a)&&(f=f.concat(this.g.get(ls(this,a))));else{a=Array.from(this.g.values());for(let g=0;g<a.length;g++)f=f.concat(a[g])}return f},t.set=function(a,f){return Qn(this),this.i=null,a=ls(this,a),qi(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function Go(a,f,g){vl(a,f),0<g.length&&(a.i=null,a.g.set(ls(a,f),N(g)),a.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var T=f[g];const B=encodeURIComponent(String(T)),ce=this.V(T);for(T=0;T<ce.length;T++){var $=B;ce[T]!==""&&($+="="+encodeURIComponent(String(ce[T]))),a.push($)}}return this.i=a.join("&")};function ls(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function au(a,f){f&&!a.j&&(Qn(a),a.i=null,a.g.forEach(function(g,T){var $=T.toLowerCase();T!=$&&(vl(this,T),Go(this,$,g))},a)),a.j=f}function lu(a,f){const g=new Fr;if(l.Image){const T=new Image;T.onload=E(Sn,g,"TestLoadImage: loaded",!0,f,T),T.onerror=E(Sn,g,"TestLoadImage: error",!1,f,T),T.onabort=E(Sn,g,"TestLoadImage: abort",!1,f,T),T.ontimeout=E(Sn,g,"TestLoadImage: timeout",!1,f,T),l.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=a}else f(!1)}function cu(a,f){const g=new Fr,T=new AbortController,$=setTimeout(()=>{T.abort(),Sn(g,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:T.signal}).then(B=>{clearTimeout($),B.ok?Sn(g,"TestPingServer: ok",!0,f):Sn(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout($),Sn(g,"TestPingServer: error",!1,f)})}function Sn(a,f,g,T,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),T(g)}catch{}}function Wd(){this.g=new Fo}function uu(a,f,g){const T=g||"";try{gl(a,function($,B){let ce=$;d($)&&(ce=zt($)),f.push(T+B+"="+encodeURIComponent(ce))})}catch($){throw f.push(T+"type="+encodeURIComponent("_badmap")),$}}function Wi(a){this.l=a.Ub||null,this.j=a.eb||!1}C(Wi,al),Wi.prototype.g=function(){return new hi(this.l,this.j)},Wi.prototype.i=function(a){return function(){return a}}({});function hi(a,f){Ae.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(hi,Ae),t=hi.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,js(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||l).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,js(this)),this.g&&(this.readyState=3,js(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?Hr(this):js(this),this.readyState==3&&Qo(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Hr(this))},t.Qa=function(a){this.g&&(this.response=a,Hr(this))},t.ga=function(){this.g&&Hr(this)};function Hr(a){a.readyState=4,a.l=null,a.j=null,a.v=null,js(a)}t.setRequestHeader=function(a,f){this.u.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=f.next();return a.join(`\r
`)};function js(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function hu(a){let f="";return oe(a,function(g,T){f+=T,f+=":",f+=g,f+=`\r
`}),f}function Yo(a,f,g){e:{for(T in g){var T=!1;break e}T=!0}T||(g=hu(g),typeof a=="string"?g!=null&&encodeURIComponent(String(g)):tt(a,f,g))}function Et(a){Ae.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Et,Ae);var yl=/^https?$/i,El=["POST","PUT"];t=Et.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,f,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ll.g(),this.v=this.o?Jc(this.o):Jc(ll),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(B){bl(this,B);return}if(a=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var $ in T)g.set($,T[$]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())g.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(B=>B.toLowerCase()=="content-type"),$=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(El,f,void 0))||T||$||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ce]of g)this.g.setRequestHeader(B,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wl(this),this.u=!0,this.g.send(a),this.u=!1}catch(B){bl(this,B)}};function bl(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,zi(a),qr(a)}function zi(a){a.A||(a.A=!0,Ne(a,"complete"),Ne(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ne(this,"complete"),Ne(this,"abort"),qr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qr(this,!0)),Et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xo(this):this.bb())},t.bb=function(){Xo(this)};function Xo(a){if(a.h&&typeof o<"u"&&(!a.v[1]||mn(a)!=4||a.Z()!=2)){if(a.u&&mn(a)==4)kt(a.Ea,0,a);else if(Ne(a,"readystatechange"),mn(a)==4){a.h=!1;try{const ce=a.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var T;if(T=ce===0){var $=String(a.D).match(Kn)[1]||null;!$&&l.self&&l.self.location&&($=l.self.location.protocol.slice(0,-1)),T=!yl.test($?$.toLowerCase():"")}g=T}if(g)Ne(a,"complete"),Ne(a,"success");else{a.m=6;try{var B=2<mn(a)?a.g.statusText:""}catch{B=""}a.l=B+" ["+a.Z()+"]",zi(a)}}finally{qr(a)}}}}function qr(a,f){if(a.g){wl(a);const g=a.g,T=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||Ne(a,"ready");try{g.onreadystatechange=T}catch{}}}function wl(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function mn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),$n(f)}};function du(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function fu(a){const f={};a=(a.g&&2<=mn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<a.length;T++){if(F(a[T]))continue;var g=O(a[T]);const $=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const B=f[$]||[];f[$]=B,B.push(g)}D(f,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ki(a,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||f}function Tl(a){this.Aa=0,this.i=[],this.j=new Fr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ki("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ki("baseRetryDelayMs",5e3,a),this.cb=Ki("retryDelaySeedMs",1e4,a),this.Wa=Ki("forwardChannelMaxRetries",2,a),this.wa=Ki("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new hl(a&&a.concurrentRequestLimit),this.Da=new Wd,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Tl.prototype,t.la=8,t.G=1,t.connect=function(a,f,g,T){Vt(0),this.W=a,this.H=f||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Rl(this,null,this.W),zr(this)};function Jo(a){if(Zo(a),a.G==3){var f=a.U++,g=Dt(a.I);if(tt(g,"SID",a.K),tt(g,"RID",f),tt(g,"TYPE","terminate"),Gi(a,g),f=new An(a,a.j,f),f.L=2,f.v=li(Dt(g)),g=!1,l.navigator&&l.navigator.sendBeacon)try{g=l.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&l.Image&&(new Image().src=f.v,g=!0),g||(f.g=gu(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Ts(f)}mu(a)}function Wr(a){a.g&&(Cl(a),a.g.cancel(),a.g=null)}function Zo(a){Wr(a),a.u&&(l.clearTimeout(a.u),a.u=null),Gr(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function zr(a){if(!dl(a.h)&&!a.s){a.s=!0;var f=a.Ga;be||Q(),je||(be(),je=!0),Ct.add(f,a),a.B=0}}function zd(a,f){return fl(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=$r(_(a.Ga,a,f),Bs(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const $=new An(this,this.j,a);let B=this.o;if(this.S&&(B?(B=I(B),A(B,this.S)):B=this.S),this.m!==null||this.O||($.H=B,B=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(f+=T,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Al(this,$,f),g=Dt(this.I),tt(g,"RID",a),tt(g,"CVER",22),this.D&&tt(g,"X-HTTP-Session-Id",this.D),Gi(this,g),B&&(this.O?f="headers="+encodeURIComponent(String(hu(B)))+"&"+f:this.m&&Yo(g,this.m,B)),Ko(this.h,$),this.Ua&&tt(g,"TYPE","init"),this.P?(tt(g,"$req",f),tt(g,"SID","null"),$.T=!0,Kt($,g,null)):Kt($,g,f),this.G=2}}else this.G==3&&(a?pu(this,a):this.i.length==0||dl(this.h)||pu(this))};function pu(a,f){var g;f?g=f.l:g=a.U++;const T=Dt(a.I);tt(T,"SID",a.K),tt(T,"RID",g),tt(T,"AID",a.T),Gi(a,T),a.m&&a.o&&Yo(T,a.m,a.o),g=new An(a,a.j,g,a.B+1),a.m===null&&(g.H=a.o),f&&(a.i=f.D.concat(a.i)),f=Al(a,g,1e3),g.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ko(a.h,g),Kt(g,T,f)}function Gi(a,f){a.H&&oe(a.H,function(g,T){tt(f,T,g)}),a.l&&gl({},function(g,T){tt(f,T,g)})}function Al(a,f,g){g=Math.min(a.i.length,g);var T=a.l?_(a.l.Na,a.l,a):null;e:{var $=a.i;let B=-1;for(;;){const ce=["count="+g];B==-1?0<g?(B=$[0].g,ce.push("ofs="+B)):B=0:ce.push("ofs="+B);let dt=!0;for(let Gt=0;Gt<g;Gt++){let Ze=$[Gt].g;const Zt=$[Gt].map;if(Ze-=B,0>Ze)B=Math.max(0,$[Gt].g-100),dt=!1;else try{uu(Zt,ce,"req"+Ze+"_")}catch{T&&T(Zt)}}if(dt){T=ce.join("&");break e}}}return a=a.i.splice(0,g),f.D=a,T}function Kr(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;be||Q(),je||(be(),je=!0),Ct.add(f,a),a.v=0}}function Il(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=$r(_(a.Fa,a),Bs(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,ea(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=$r(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Wr(this),ea(this))};function Cl(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function ea(a){a.g=new An(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=Dt(a.qa);tt(f,"RID","rpc"),tt(f,"SID",a.K),tt(f,"AID",a.T),tt(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&tt(f,"TO",a.ja),tt(f,"TYPE","xmlhttp"),Gi(a,f),a.m&&a.o&&Yo(f,a.m,a.o),a.L&&(a.g.I=a.L);var g=a.g;a=a.ia,g.L=1,g.v=li(Dt(f)),g.m=null,g.P=!0,Ur(g,a)}t.Za=function(){this.C!=null&&(this.C=null,Wr(this),Il(this),Vt(19))};function Gr(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Sl(a,f){var g=null;if(a.g==f){Gr(a),Cl(a),a.g=null;var T=2}else if(zo(a.h,f))g=f.D,pl(a.h,f),T=1;else return;if(a.G!=0){if(f.o)if(T==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var $=a.B;T=jo(),Ne(T,new nu(T,g)),zr(a)}else Kr(a);else if($=f.s,$==3||$==0&&0<f.X||!(T==1&&zd(a,f)||T==2&&Il(a)))switch(g&&0<g.length&&(f=a.h,f.i=f.i.concat(g)),$){case 1:Is(a,5);break;case 4:Is(a,10);break;case 3:Is(a,6);break;default:Is(a,2)}}}function Bs(a,f){let g=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(g*=2),g*f}function Is(a,f){if(a.j.info("Error code "+f),f==2){var g=_(a.fb,a),T=a.Xa;const $=!T;T=new Cn(T||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Bi(T,"https"),li(T),$?lu(T.toString(),g):cu(T.toString(),g)}else Vt(2);a.G=0,a.l&&a.l.sa(f),mu(a),Zo(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function mu(a){if(a.G=0,a.ka=[],a.l){const f=ml(a.h);(f.length!=0||a.i.length!=0)&&(x(a.ka,f),x(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function Rl(a,f,g){var T=g instanceof Cn?Dt(g):new Cn(g);if(T.g!="")f&&(T.g=f+"."+T.g),Hi(T,T.s);else{var $=l.location;T=$.protocol,f=f?f+"."+$.hostname:$.hostname,$=+$.port;var B=new Cn(null);T&&Bi(B,T),f&&(B.g=f),$&&Hi(B,$),g&&(B.l=g),T=B}return g=a.D,f=a.ya,g&&f&&tt(T,g,f),tt(T,"VER",a.la),Gi(a,T),T}function gu(a,f,g){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new Et(new Wi({eb:g})):new Et(a.pa),f.Ha(a.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}t=_u.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ta(){}ta.prototype.g=function(a,f){return new Rn(a,f)};function Rn(a,f){Ae.call(this),this.g=new Tl(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!F(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!F(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Qi(this)}C(Rn,Ae),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Jo(this.g)},Rn.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.u&&(g={},g.__data__=zt(a),a=g);f.i.push(new ul(f.Ya++,a)),f.G==3&&zr(f)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,Rn.aa.N.call(this)};function Pl(a){Ui.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const g in f){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}C(Pl,Ui);function Ol(){Uo.call(this),this.status=1}C(Ol,Uo);function Qi(a){this.g=a}C(Qi,_u),Qi.prototype.ua=function(){Ne(this.g,"a")},Qi.prototype.ta=function(a){Ne(this.g,new Pl(a))},Qi.prototype.sa=function(a){Ne(this.g,new Ol)},Qi.prototype.ra=function(){Ne(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,Lw=function(){return new ta},xw=function(){return jo()},Nw=$s,mp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ho.NO_ERROR=0,Ho.TIMEOUT=8,Ho.HTTP_ERROR=6,Yu=Ho,qo.COMPLETE="complete",Dw=qo,Zc.EventType=Fi,Fi.OPEN="a",Fi.CLOSE="b",Fi.ERROR="c",Fi.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,Bl=Zc,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,kw=Et}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});const Dv="@firebase/firestore",Nv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new om("@firebase/firestore");function ha(){return To.logLevel}function me(t,...e){if(To.logLevel<=Ye.DEBUG){const n=e.map(cm);To.debug(`Firestore (${Ga}): ${t}`,...n)}}function Ri(t,...e){if(To.logLevel<=Ye.ERROR){const n=e.map(cm);To.error(`Firestore (${Ga}): ${t}`,...n)}}function Da(t,...e){if(To.logLevel<=Ye.WARN){const n=e.map(cm);To.warn(`Firestore (${Ga}): ${t}`,...n)}}function cm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Vw(t,s,n)}function Vw(t,e,n){let s=`FIRESTORE (${Ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ri(s),new Error(s)}function ht(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||Vw(e,i,s)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ek{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vn.UNAUTHENTICATED))}shutdown(){}}class tk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nk{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let s=this.i;const i=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let r=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Ti,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=r;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Ti)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ht(typeof s.accessToken=="string",31837,{l:s}),new Mw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class sk{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ik{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new sk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const s=r=>{r.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=ok(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%62))}return s}}function Ke(t,e){return t<e?-1:t>e?1:0}function gp(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),i=e.codePointAt(n);if(s!==i){if(s<128&&i<128)return Ke(s,i);{const r=$w(),o=ak(r.encode(Lv(t,n)),r.encode(Lv(e,n)));return o!==0?o:Ke(s,i)}}n+=s>65535?2:1}return Ke(t.length,e.length)}function Lv(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function ak(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ke(t[n],e[n]);return Ke(t.length,e.length)}function Na(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=-62135596800,Mv=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Mv);return new Yt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Vv)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mv}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Vv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Yt(0,0))}static max(){return new Ve(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="__name__";class Ks{constructor(e,n,s){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&De(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ks.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ks?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=Ks.compareSegments(e.get(i),n.get(i));if(r!==0)return r}return Ke(e.length,n.length)}static compareSegments(e,n){const s=Ks.isNumericId(e),i=Ks.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?Ks.extractNumericId(e).compare(Ks.extractNumericId(n)):gp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _r.fromString(e.substring(4,e.length-2))}}class It extends Ks{construct(e,n,s){return new It(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new It(n)}static emptyPath(){return new It([])}}const lk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Ks{construct(e,n,s){return new hn(e,n,s)}static isValidIdentifier(e){return lk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$v}static keyField(){return new hn([$v])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new pe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new pe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new pe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(s+=l,i++):(r(),i++)}if(r(),o)throw new pe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(It.fromString(e))}static fromName(e){return new Se(It.fromString(e).popFirst(5))}static empty(){return new Se(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new It(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=-1;function ck(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(s===1e9?new Yt(n+1,0):new Yt(n,s));return new Er(i,Se.empty(),e)}function uk(t){return new Er(t.readTime,t.key,yc)}class Er{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Er(Ve.min(),Se.empty(),yc)}static max(){return new Er(Ve.max(),Se.empty(),yc)}}function hk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==dk)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let i=0,r=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++r,o&&r===i&&n()},c=>s(c))}),o=!0,r===i&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(i=>i?J.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new J((s,i)=>{const r=e.length,o=new Array(r);let l=0;for(let c=0;c<r;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++l,l===r&&s(o)},h=>i(h))}})}static doWhile(e,n){return new J((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function pk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ya(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}hd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=-1;function dd(t){return t==null}function Th(t){return t===0&&1/t==-1/0}function mk(t){return typeof t=="number"&&Number.isInteger(t)&&!Th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="";function gk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Fv(e)),e=_k(t.get(n),e);return Fv(e)}function _k(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const r=t.charAt(i);switch(r){case"\0":n+="";break;case Uw:n+="";break;default:n+=r}}return n}function Fv(t){return t+Uw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Dr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Du(this.root,e,this.comparator,!1)}getReverseIterator(){return new Du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Du(this.root,e,this.comparator,!0)}}class Du{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??un.RED,this.left=i??un.EMPTY,this.right=r??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new un(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return un.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,s,i,r){return this}insert(e,n,s){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(e){return new jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new ts([])}unionWith(e){let n=new Xt(hn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ts(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Na(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Bw("Invalid base64 string: "+r):r}}(e);return new dn(n)}static fromUint8Array(e){const n=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const vk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=vk.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wr(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="server_timestamp",qw="__type__",Ww="__previous_value__",zw="__local_write_time__";function hm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[qw])===null||n===void 0?void 0:n.stringValue)===Hw}function fd(t){const e=t.mapValue.fields[Ww];return hm(e)?fd(e):e}function Ec(t){const e=br(t.mapValue.fields[zw].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n,s,i,r,o,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Ah="(default)";class bc{constructor(e,n){this.projectId=e,this.database=n||Ah}static empty(){return new bc("","")}get isDefaultDatabase(){return this.database===Ah}isEqual(e){return e instanceof bc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="__type__",Ek="__max__",Nu={mapValue:{}},Gw="__vector__",Ih="value";function Tr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hm(t)?4:wk(t)?9007199254740991:bk(t)?10:11:De(28295,{value:t})}function ti(t,e){if(t===e)return!0;const n=Tr(t);if(n!==Tr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ec(t).isEqual(Ec(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=br(i.timestampValue),l=br(r.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return wr(i.bytesValue).isEqual(wr(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return $t(i.geoPointValue.latitude)===$t(r.geoPointValue.latitude)&&$t(i.geoPointValue.longitude)===$t(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return $t(i.integerValue)===$t(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=$t(i.doubleValue),l=$t(r.doubleValue);return o===l?Th(o)===Th(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Na(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(i,r){const o=i.mapValue.fields||{},l=r.mapValue.fields||{};if(Uv(o)!==Uv(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ti(o[c],l[c])))return!1;return!0}(t,e);default:return De(52216,{left:t})}}function wc(t,e){return(t.values||[]).find(n=>ti(n,e))!==void 0}function xa(t,e){if(t===e)return 0;const n=Tr(t),s=Tr(e);if(n!==s)return Ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(r,o){const l=$t(r.integerValue||r.doubleValue),c=$t(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Bv(t.timestampValue,e.timestampValue);case 4:return Bv(Ec(t),Ec(e));case 5:return gp(t.stringValue,e.stringValue);case 6:return function(r,o){const l=wr(r),c=wr(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const l=r.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=Ke(l[d],c[d]);if(h!==0)return h}return Ke(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const l=Ke($t(r.latitude),$t(o.latitude));return l!==0?l:Ke($t(r.longitude),$t(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Hv(t.arrayValue,e.arrayValue);case 10:return function(r,o){var l,c,d,h;const m=r.fields||{},_=o.fields||{},E=(l=m[Ih])===null||l===void 0?void 0:l.arrayValue,C=(c=_[Ih])===null||c===void 0?void 0:c.arrayValue,N=Ke(((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0,((h=C==null?void 0:C.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:Hv(E,C)}(t.mapValue,e.mapValue);case 11:return function(r,o){if(r===Nu.mapValue&&o===Nu.mapValue)return 0;if(r===Nu.mapValue)return 1;if(o===Nu.mapValue)return-1;const l=r.fields||{},c=Object.keys(l),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const _=gp(c[m],h[m]);if(_!==0)return _;const E=xa(l[c[m]],d[h[m]]);if(E!==0)return E}return Ke(c.length,h.length)}(t.mapValue,e.mapValue);default:throw De(23264,{Pe:n})}}function Bv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=br(t),s=br(e),i=Ke(n.seconds,s.seconds);return i!==0?i:Ke(n.nanos,s.nanos)}function Hv(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const r=xa(n[i],s[i]);if(r)return r}return Ke(n.length,s.length)}function La(t){return _p(t)}function _p(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=br(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=_p(r);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const o of s)r?r=!1:i+=",",i+=`${o}:${_p(n.fields[o])}`;return i+"}"}(t.mapValue):De(61005,{value:t})}function Xu(t){switch(Tr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fd(t);return e?16+Xu(e):16;case 5:return 2*t.stringValue.length;case 6:return wr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+Xu(r),0)}(t.arrayValue);case 10:case 11:return function(s){let i=0;return Dr(s.fields,(r,o)=>{i+=r.length+Xu(o)}),i}(t.mapValue);default:throw De(13486,{value:t})}}function qv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vp(t){return!!t&&"integerValue"in t}function dm(t){return!!t&&"arrayValue"in t}function Wv(t){return!!t&&"nullValue"in t}function zv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ju(t){return!!t&&"mapValue"in t}function bk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Kw])===null||n===void 0?void 0:n.stringValue)===Gw}function nc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Dr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=nc(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function wk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Ek}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ju(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(n)}setAll(e){let n=hn.emptyPath(),s={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,i),s={},i=[],n=l.popLast()}o?s[l.lastSegment()]=nc(o):i.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());Ju(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];Ju(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Dr(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new qn(nc(this.value))}}function Qw(t){const e=[];return Dr(t.fields,(n,s)=>{const i=new hn([n]);if(Ju(s)){const r=Qw(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)}),new ts(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,s,i,r,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new bn(e,0,Ve.min(),Ve.min(),Ve.min(),qn.empty(),0)}static newFoundDocument(e,n,s,i){return new bn(e,1,n,Ve.min(),s,i,0)}static newNoDocument(e,n){return new bn(e,2,n,Ve.min(),Ve.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,Ve.min(),Ve.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function Kv(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],o=t.position[i];if(r.field.isKeyField()?s=Se.comparator(Se.fromName(o.referenceValue),n.key):s=xa(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function Gv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ti(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Tk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{}class qt extends Yw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Ik(e,n,s):n==="array-contains"?new Rk(e,s):n==="in"?new Pk(e,s):n==="not-in"?new Ok(e,s):n==="array-contains-any"?new kk(e,s):new qt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Ck(e,s):new Sk(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xa(n,this.value)):n!==null&&Tr(this.value)===Tr(n)&&this.matchesComparison(xa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ls extends Yw{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ls(e,n)}matches(e){return Xw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Xw(t){return t.op==="and"}function Jw(t){return Ak(t)&&Xw(t)}function Ak(t){for(const e of t.filters)if(e instanceof Ls)return!1;return!0}function yp(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+La(t.value);if(Jw(t))return t.filters.map(e=>yp(e)).join(",");{const e=t.filters.map(n=>yp(n)).join(",");return`${t.op}(${e})`}}function Zw(t,e){return t instanceof qt?function(s,i){return i instanceof qt&&s.op===i.op&&s.field.isEqual(i.field)&&ti(s.value,i.value)}(t,e):t instanceof Ls?function(s,i){return i instanceof Ls&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,o,l)=>r&&Zw(o,i.filters[l]),!0):!1}(t,e):void De(19439)}function eT(t){return t instanceof qt?function(n){return`${n.field.canonicalString()} ${n.op} ${La(n.value)}`}(t):t instanceof Ls?function(n){return n.op.toString()+" {"+n.getFilters().map(eT).join(" ,")+"}"}(t):"Filter"}class Ik extends qt{constructor(e,n,s){super(e,n,s),this.key=Se.fromName(s.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ck extends qt{constructor(e,n){super(e,"in",n),this.keys=tT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Sk extends qt{constructor(e,n){super(e,"not-in",n),this.keys=tT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Se.fromName(s.referenceValue))}class Rk extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dm(n)&&wc(n.arrayValue,this.value)}}class Pk extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wc(this.value.arrayValue,n)}}class Ok extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wc(this.value.arrayValue,n)}}class kk extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>wc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n=null,s=[],i=[],r=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=l,this.Ie=null}}function Qv(t,e=null,n=[],s=[],i=null,r=null,o=null){return new Dk(t,e,n,s,i,r,o)}function fm(t){const e=Ue(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>yp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>La(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>La(s)).join(",")),e.Ie=n}return e.Ie}function pm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Tk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Zw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gv(t.startAt,e.startAt)&&Gv(t.endAt,e.endAt)}function Ep(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n=null,s=[],i=[],r=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Nk(t,e,n,s,i,r,o,l){return new Xa(t,e,n,s,i,r,o,l)}function pd(t){return new Xa(t)}function Yv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nT(t){return t.collectionGroup!==null}function sc(t){const e=Ue(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ee.push(r),n.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Xt(hn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ee.push(new Tc(r,s))}),n.has(hn.keyField().canonicalString())||e.Ee.push(new Tc(hn.keyField(),s))}return e.Ee}function Ys(t){const e=Ue(t);return e.de||(e.de=xk(e,sc(t))),e.de}function xk(t,e){if(t.limitType==="F")return Qv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new Tc(i.field,r)});const n=t.endAt?new Ch(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Ch(t.startAt.position,t.startAt.inclusive):null;return Qv(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function bp(t,e){const n=t.filters.concat([e]);return new Xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sh(t,e,n){return new Xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function md(t,e){return pm(Ys(t),Ys(e))&&t.limitType===e.limitType}function sT(t){return`${fm(Ys(t))}|lt:${t.limitType}`}function da(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>eT(i)).join(", ")}]`),dd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>La(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>La(i)).join(",")),`Target(${s})`}(Ys(t))}; limitType=${t.limitType})`}function gd(t,e){return e.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):Se.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(t,e)&&function(s,i){for(const r of sc(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(o,l,c){const d=Kv(o,l,c);return o.inclusive?d<=0:d<0}(s.startAt,sc(s),i)||s.endAt&&!function(o,l,c){const d=Kv(o,l,c);return o.inclusive?d>=0:d>0}(s.endAt,sc(s),i))}(t,e)}function Lk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iT(t){return(e,n)=>{let s=!1;for(const i of sc(t)){const r=Vk(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function Vk(t,e,n){const s=t.field.isKeyField()?Se.comparator(e.key,n.key):function(r,o,l){const c=o.data.field(r),d=l.data.field(r);return c!==null&&d!==null?xa(c,d):De(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return De(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Dr(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return jw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=new Ot(Se.comparator);function Pi(){return Mk}const rT=new Ot(Se.comparator);function Hl(...t){let e=rT;for(const n of t)e=e.insert(n.key,n);return e}function oT(t){let e=rT;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function uo(){return ic()}function aT(){return ic()}function ic(){return new No(t=>t.toString(),(t,e)=>t.isEqual(e))}const $k=new Ot(Se.comparator),Fk=new Xt(Se.comparator);function Xe(...t){let e=Fk;for(const n of t)e=e.add(n);return e}const Uk=new Xt(Ke);function jk(){return Uk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function lT(t){return{integerValue:""+t}}function Bk(t,e){return mk(e)?lT(e):mm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this._=void 0}}function Hk(t,e,n){return t instanceof Rh?function(i,r){const o={fields:{[qw]:{stringValue:Hw},[zw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&hm(r)&&(r=fd(r)),r&&(o.fields[Ww]=r),{mapValue:o}}(n,e):t instanceof Ac?uT(t,e):t instanceof Ic?hT(t,e):function(i,r){const o=cT(i,r),l=Xv(o)+Xv(i.Re);return vp(o)&&vp(i.Re)?lT(l):mm(i.serializer,l)}(t,e)}function qk(t,e,n){return t instanceof Ac?uT(t,e):t instanceof Ic?hT(t,e):n}function cT(t,e){return t instanceof Ph?function(s){return vp(s)||function(r){return!!r&&"doubleValue"in r}(s)}(e)?e:{integerValue:0}:null}class Rh extends _d{}class Ac extends _d{constructor(e){super(),this.elements=e}}function uT(t,e){const n=dT(e);for(const s of t.elements)n.some(i=>ti(i,s))||n.push(s);return{arrayValue:{values:n}}}class Ic extends _d{constructor(e){super(),this.elements=e}}function hT(t,e){let n=dT(e);for(const s of t.elements)n=n.filter(i=>!ti(i,s));return{arrayValue:{values:n}}}class Ph extends _d{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Xv(t){return $t(t.integerValue||t.doubleValue)}function dT(t){return dm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Wk(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof Ac&&i instanceof Ac||s instanceof Ic&&i instanceof Ic?Na(s.elements,i.elements,ti):s instanceof Ph&&i instanceof Ph?ti(s.Re,i.Re):s instanceof Rh&&i instanceof Rh}(t.transform,e.transform)}class zk{constructor(e,n){this.version=e,this.transformResults=n}}class Os{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Os}static exists(e){return new Os(void 0,e)}static updateTime(e){return new Os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vd{}function fT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gm(t.key,Os.none()):new Vc(t.key,t.data,Os.none());{const n=t.data,s=qn.empty();let i=new Xt(hn.comparator);for(let r of e.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new Nr(t.key,s,new ts(i.toArray()),Os.none())}}function Kk(t,e,n){t instanceof Vc?function(i,r,o){const l=i.value.clone(),c=Zv(i.fieldTransforms,r,o.transformResults);l.setAll(c),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Nr?function(i,r,o){if(!Zu(i.precondition,r))return void r.convertToUnknownDocument(o.version);const l=Zv(i.fieldTransforms,r,o.transformResults),c=r.data;c.setAll(pT(i)),c.setAll(l),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function rc(t,e,n,s){return t instanceof Vc?function(r,o,l,c){if(!Zu(r.precondition,o))return l;const d=r.value.clone(),h=ey(r.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,s):t instanceof Nr?function(r,o,l,c){if(!Zu(r.precondition,o))return l;const d=ey(r.fieldTransforms,c,o),h=o.data;return h.setAll(pT(r)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(m=>m.field))}(t,e,n,s):function(r,o,l){return Zu(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Gk(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=cT(s.transform,i||null);r!=null&&(n===null&&(n=qn.empty()),n.set(s.field,r))}return n||null}function Jv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Na(s,i,(r,o)=>Wk(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vc extends vd{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Nr extends vd{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function pT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Zv(t,e,n){const s=new Map;ht(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const r=t[i],o=r.transform,l=e.data.field(r.field);s.set(r.field,qk(o,l,n[i]))}return s}function ey(t,e,n){const s=new Map;for(const i of t){const r=i.transform,o=n.data.field(i.field);s.set(i.field,Hk(r,o,e))}return s}class gm extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qk extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&Kk(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=rc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=rc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=aT();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let l=this.applyToLocalView(o,r.mutatedFields);l=n.has(i.key)?null:l;const c=fT(o,l);c!==null&&s.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ve.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&Na(this.mutations,e.mutations,(n,s)=>Jv(n,s))&&Na(this.baseMutations,e.baseMutations,(n,s)=>Jv(n,s))}}class _m{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){ht(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let i=function(){return $k}();const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new _m(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,et;function Zk(t){switch(t){case X.OK:return De(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return De(15467,{code:t})}}function mT(t){if(t===void 0)return Ri("GRPC error has no .code"),X.UNKNOWN;switch(t){case Bt.OK:return X.OK;case Bt.CANCELLED:return X.CANCELLED;case Bt.UNKNOWN:return X.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return X.INTERNAL;case Bt.UNAVAILABLE:return X.UNAVAILABLE;case Bt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Bt.NOT_FOUND:return X.NOT_FOUND;case Bt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Bt.ABORTED:return X.ABORTED;case Bt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Bt.DATA_LOSS:return X.DATA_LOSS;default:return De(39323,{code:t})}}(et=Bt||(Bt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new _r([4294967295,4294967295],0);function ty(t){const e=$w().encode(t),n=new Ow;return n.update(e),new Uint8Array(n.digest())}function ny(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new _r([n,s],0),new _r([i,r],0)]}class vm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=_r.fromNumber(this.pe)}we(e,n,s){let i=e.add(n.multiply(_r.fromNumber(s)));return i.compare(eD)===1&&(i=new _r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=ty(e),[s,i]=ny(n);for(let r=0;r<this.hashCount;r++){const o=this.we(s,i,r);if(!this.be(o))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new vm(r,i,n);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const n=ty(e),[s,i]=ny(n);for(let r=0;r<this.hashCount;r++){const o=this.we(s,i,r);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,Mc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new yd(Ve.min(),i,new Ot(Ke),Pi(),Xe())}}class Mc{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Mc(s,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,s,i){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=i}}class gT{constructor(e,n){this.targetId=e,this.Ce=n}}class _T{constructor(e,n,s=dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class sy{constructor(){this.Fe=0,this.Me=iy(),this.xe=dn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Xe(),n=Xe(),s=Xe();return this.Me.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:De(38017,{changeType:r})}}),new Mc(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=iy()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class tD{constructor(e){this.ze=e,this.je=new Map,this.He=Pi(),this.Je=xu(),this.Ye=xu(),this.Ze=new Ot(Ke)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:De(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,s=e.Ce.count,i=this._t(n);if(i){const r=i.target;if(Ep(r))if(s===0){const o=new Se(r.path);this.tt(n,o,bn.newNoDocument(o,Ve.min()))}else ht(s===1,20013,{expectedCount:s});else{const o=this.ut(n);if(o!==s){const l=this.ct(e),c=l?this.lt(l,e,o):1;if(c!==0){this.st(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let o,l;try{o=wr(s).toUint8Array()}catch(c){if(c instanceof Bw)return Da("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new vm(o,i,r)}catch(c){return Da(c instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let i=0;return s.forEach(r=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,r,null),i++)}),i}It(e){const n=new Map;this.je.forEach((r,o)=>{const l=this._t(o);if(l){if(r.current&&Ep(l.target)){const c=new Se(l.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,bn.newNoDocument(c,e))}r.Le&&(n.set(o,r.qe()),r.Qe())}});let s=Xe();this.Ye.forEach((r,o)=>{let l=!0;o.forEachWhile(c=>{const d=this._t(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(r))}),this.He.forEach((r,o)=>o.setReadTime(e));const i=new yd(e,n,this.Ze,this.He,s);return this.He=Pi(),this.Je=xu(),this.Ye=xu(),this.Ze=new Ot(Ke),i}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new sy,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Xt(Ke),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Xt(Ke),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new sy),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function xu(){return new Ot(Se.comparator)}function iy(){return new Ot(Se.comparator)}const nD={asc:"ASCENDING",desc:"DESCENDING"},sD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iD={and:"AND",or:"OR"};class rD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wp(t,e){return t.useProto3Json||dd(e)?e:{value:e}}function Oh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oD(t,e){return Oh(t,e.toTimestamp())}function Xs(t){return ht(!!t,49232),Ve.fromTimestamp(function(n){const s=br(n);return new Yt(s.seconds,s.nanos)}(t))}function ym(t,e){return Tp(t,e).canonicalString()}function Tp(t,e){const n=function(i){return new It(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yT(t){const e=It.fromString(t);return ht(AT(e),10190,{key:e.toString()}),e}function Ap(t,e){return ym(t.databaseId,e.path)}function Sf(t,e){const n=yT(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(bT(n))}function ET(t,e){return ym(t.databaseId,e)}function aD(t){const e=yT(t);return e.length===4?It.emptyPath():bT(e)}function Ip(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bT(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ry(t,e,n){return{name:Ap(t,e),fields:n.value.mapValue.fields}}function lD(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:De(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(d,h){return d.useProto3Json?(ht(h===void 0||typeof h=="string",58123),dn.fromBase64String(h||"")):(ht(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),dn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?X.UNKNOWN:mT(d.code);return new pe(h,d.message||"")}(o);n=new _T(s,i,r,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=Sf(t,s.document.name),r=Xs(s.document.updateTime),o=s.document.createTime?Xs(s.document.createTime):Ve.min(),l=new qn({mapValue:{fields:s.document.fields}}),c=bn.newFoundDocument(i,r,o,l),d=s.targetIds||[],h=s.removedTargetIds||[];n=new eh(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=Sf(t,s.document),r=s.readTime?Xs(s.readTime):Ve.min(),o=bn.newNoDocument(i,r),l=s.removedTargetIds||[];n=new eh([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=Sf(t,s.document),r=s.removedTargetIds||[];n=new eh([],r,i,null)}else{if(!("filter"in e))return De(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new Jk(i,r),l=s.targetId;n=new gT(l,o)}}return n}function cD(t,e){let n;if(e instanceof Vc)n={update:ry(t,e.key,e.value)};else if(e instanceof gm)n={delete:Ap(t,e.key)};else if(e instanceof Nr)n={update:ry(t,e.key,e.data),updateMask:vD(e.fieldMask)};else{if(!(e instanceof Qk))return De(16599,{ft:e.type});n={verify:Ap(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,o){const l=o.transform;if(l instanceof Rh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ac)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ic)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ph)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw De(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:oD(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:De(27497)}(t,e.precondition)),n}function uD(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map(n=>function(i,r){let o=i.updateTime?Xs(i.updateTime):Xs(r);return o.isEqual(Ve.min())&&(o=Xs(r)),new zk(o,i.transformResults||[])}(n,e))):[]}function hD(t,e){return{documents:[ET(t,e.path)]}}function dD(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ET(t,i);const r=function(d){if(d.length!==0)return TT(Ls.create(d,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(d){if(d.length!==0)return d.map(h=>function(_){return{field:fa(_.field),direction:mD(_.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=wp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:i}}function fD(t){let e=aD(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){ht(s===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let r=[];n.where&&(r=function(m){const _=wT(m);return _ instanceof Ls&&Jw(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(_=>function(C){return new Tc(pa(C.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(_))}(n.orderBy));let l=null;n.limit&&(l=function(m){let _;return _=typeof m=="object"?m.value:m,dd(_)?null:_}(n.limit));let c=null;n.startAt&&(c=function(m){const _=!!m.before,E=m.values||[];return new Ch(E,_)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const _=!m.before,E=m.values||[];return new Ch(E,_)}(n.endAt)),Nk(e,i,o,r,l,"F",c,d)}function pD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=pa(n.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=pa(n.unaryFilter.field);return qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=pa(n.unaryFilter.field);return qt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=pa(n.unaryFilter.field);return qt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}}(t):t.fieldFilter!==void 0?function(n){return qt.create(pa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ls.create(n.compositeFilter.filters.map(s=>wT(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De(1026)}}(n.compositeFilter.op))}(t):De(30097,{filter:t})}function mD(t){return nD[t]}function gD(t){return sD[t]}function _D(t){return iD[t]}function fa(t){return{fieldPath:t.canonicalString()}}function pa(t){return hn.fromServerFormat(t.fieldPath)}function TT(t){return t instanceof qt?function(n){if(n.op==="=="){if(zv(n.value))return{unaryFilter:{field:fa(n.field),op:"IS_NAN"}};if(Wv(n.value))return{unaryFilter:{field:fa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zv(n.value))return{unaryFilter:{field:fa(n.field),op:"IS_NOT_NAN"}};if(Wv(n.value))return{unaryFilter:{field:fa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fa(n.field),op:gD(n.op),value:n.value}}}(t):t instanceof Ls?function(n){const s=n.getFilters().map(i=>TT(i));return s.length===1?s[0]:{compositeFilter:{op:_D(n.op),filters:s}}}(t):De(54877,{filter:t})}function vD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n,s,i,r=Ve.min(),o=Ve.min(),l=dn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.wt=e}}function ED(t){const e=fD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.Cn=new wD}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Er.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class wD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new Xt(It.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Xt(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IT=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(IT,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Va(0)}static lr(){return new Va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="LruGarbageCollector",TD=1048576;function ly([t,e],[n,s]){const i=Ke(t,n);return i===0?Ke(e,s):i}class AD{constructor(e){this.Er=e,this.buffer=new Xt(ly),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ly(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ID{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){me(ay,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ya(n)?me(ay,"Ignoring IndexedDB error during garbage collection: ",n):await Qa(n)}await this.mr(3e5)})}}class CD{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(hd.le);const s=new AD(n);return this.gr.forEachTarget(e,i=>s.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>s.Rr(i))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(oy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oy):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,i,r,o,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(s=m,l=Date.now(),this.removeTargets(e,s,n))).next(m=>(r=m,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(m=>(d=Date.now(),ha()<=Ye.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${r} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:m})))}}function SD(t,e){return new CD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.changes=new No(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&rc(s.mutation,i,ts.empty(),Yt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Xe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Xe()){const i=uo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let o=Hl();return r.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=uo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Xe()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,s,i){let r=Pi();const o=ic(),l=function(){return ic()}();return n.forEach((c,d)=>{const h=s.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof Nr)?r=r.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),rc(h.mutation,d,h.mutation.getFieldMask(),Yt.now())):o.set(d.key,ts.empty())}),this.recalculateAndSaveOverlays(e,r).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var m;return l.set(d,new PD(h,(m=o.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const s=ic();let i=new Ot((o,l)=>o-l),r=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=s.get(c)||ts.empty();h=l.applyToLocalView(d,h),s.set(c,h);const m=(i.get(l.batchId)||Xe()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,m=aT();h.forEach(_=>{if(!r.has(_)){const E=fT(n.get(_),s.get(_));E!==null&&m.set(_,E),r=r.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return J.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,i){return function(o){return Se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):J.resolve(uo());let l=yc,c=r;return o.next(d=>J.forEach(d,(h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),r.get(h)?J.resolve():this.remoteDocumentCache.getEntry(e,h).next(_=>{c=c.insert(h,_)}))).next(()=>this.populateOverlays(e,d,r)).next(()=>this.computeViews(e,c,d,Xe())).next(h=>({batchId:l,changes:oT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(s=>{let i=Hl();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const r=n.collectionGroup;let o=Hl();return this.indexManager.getCollectionParents(e,r).next(l=>J.forEach(l,c=>{const d=function(m,_){return new Xa(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(r));return this.getDocumentsMatchingCollectionQuery(e,d,s,i).next(h=>{h.forEach((m,_)=>{o=o.insert(m,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r,i))).next(o=>{r.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,bn.newInvalidDocument(h)))});let l=Hl();return o.forEach((c,d)=>{const h=r.get(c);h!==void 0&&rc(h.mutation,d,ts.empty(),Yt.now()),gd(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return J.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xs(i.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:ED(i.bundledQuery),readTime:Xs(i.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.overlays=new Ot(Se.comparator),this.Qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=uo();return J.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.St(e,n,r)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.Qr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const i=uo(),r=n.length+1,o=new Se(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===r&&c.largestBatchId>s&&i.set(c.getKey(),c)}return J.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new Ot((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let h=r.get(d.largestBatchId);h===null&&(h=uo(),r=r.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=uo(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=i)););return J.resolve(l)}St(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(s.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new Xk(n,s));let r=this.Qr.get(n);r===void 0&&(r=Xe(),this.Qr.set(n,r)),this.Qr.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.$r=new Xt(rn.Ur),this.Kr=new Xt(rn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new rn(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new rn(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Se(new It([])),s=new rn(n,e),i=new rn(n,e+1),r=[];return this.Kr.forEachInRange([s,i],o=>{this.zr(o),r.push(o.key)}),r}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Se(new It([])),s=new rn(n,e),i=new rn(n,e+1);let r=Xe();return this.Kr.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new rn(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class rn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Se.comparator(e.key,n.key)||Ke(e.Zr,n.Zr)}static Wr(e,n){return Ke(e.Zr,n.Zr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Xt(rn.Ur)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Yk(r,n,s,i);this.mutationQueue.push(o);for(const l of i)this.Xr=this.Xr.add(new rn(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,n){return J.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.ti(s),r=i<0?0:i;return J.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?um:this.nr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new rn(n,0),i=new rn(n,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([s,i],o=>{const l=this.ei(o.Zr);r.push(l)}),J.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Xt(Ke);return n.forEach(i=>{const r=new rn(i,0),o=new rn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,o],l=>{s=s.add(l.Zr)})}),J.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;Se.isDocumentKey(r)||(r=r.child(""));const o=new rn(new Se(r),0);let l=new Xt(Ke);return this.Xr.forEachWhile(c=>{const d=c.key.path;return!!s.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Zr)),!0)},o),J.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(s=>{const i=this.ei(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ht(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return J.forEach(n.mutations,i=>{const r=new rn(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new rn(n,0),i=this.Xr.firstAfterOrEqual(s);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.ii=e,this.docs=function(){return new Ot(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let s=Pi();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():bn.newInvalidDocument(i))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=Pi();const o=n.path,l=new Se(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||hk(uk(h),s)<=0||(i.has(h.key)||gd(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return J.resolve(r)}getAllFromCollectionGroup(e,n,s,i){De(9500)}si(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new VD(this)}getSize(e){return J.resolve(this.size)}}class VD extends RD{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.persistence=e,this.oi=new No(n=>fm(n),pm),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this._i=0,this.ai=new Em,this.targetCount=0,this.ui=Va.cr()}forEachTarget(e,n){return this.oi.forEach((s,i)=>n(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),J.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Va(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Tr(n),J.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.oi.delete(o),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),J.waitFor(r).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(e,o))}),J.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.ci={},this.overlays={},this.li=new hd(0),this.hi=!1,this.hi=!0,this.Pi=new ND,this.referenceDelegate=e(this),this.Ti=new MD(this),this.indexManager=new bD,this.remoteDocumentCache=function(i){return new LD(i)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new yD(n),this.Ei=new kD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new xD(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const i=new $D(this.li.next());return this.referenceDelegate.di(),s(i).next(r=>this.referenceDelegate.Ai(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ri(e,n){return J.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class $D extends fk{constructor(e){super(),this.currentSequenceNumber=e}}class bm{constructor(e){this.persistence=e,this.Vi=new Em,this.mi=null}static fi(e){return new bm(e)}get gi(){if(this.mi)return this.mi;throw De(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.gi.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.gi,s=>{const i=Se.fromPath(s);return this.pi(e,i).next(r=>{r||n.removeEntry(i,Ve.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return J.or([()=>J.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class kh{constructor(e,n){this.persistence=e,this.yi=new No(s=>gk(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=SD(this,n)}static fi(e,n){return new kh(e,n)}di(){}Ai(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(i=>s+i))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return J.forEach(this.yi,(s,i)=>this.Dr(e,s,i).next(r=>r?J.resolve():n(i)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(l=>{l||(s++,r.removeEntry(o,Ve.min()))})).next(()=>r.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),J.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xu(e.data.value)),n}Dr(e,n,s){return J.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return J.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.ds=s,this.As=i}static Rs(e,n){let s=Xe(),i=Xe();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new wm(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return VP()?8:pk(Tn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,i){const r={result:null};return this.ws(e,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.bs(e,n,i,s).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new FD;return this.Ss(e,n,o).next(l=>{if(r.result=l,this.fs)return this.Ds(e,n,o,l.size)})}).next(()=>r.result)}Ds(e,n,s,i){return s.documentReadCount<this.gs?(ha()<=Ye.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",da(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),J.resolve()):(ha()<=Ye.DEBUG&&me("QueryEngine","Query:",da(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.ps*i?(ha()<=Ye.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",da(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ys(n))):J.resolve())}ws(e,n){if(Yv(n))return J.resolve(null);let s=Ys(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sh(n,null,"F"),s=Ys(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const o=Xe(...r);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const d=this.vs(n,l);return this.Cs(n,d,o,c.readTime)?this.ws(e,Sh(n,null,"F")):this.Fs(e,d,n,c)}))})))}bs(e,n,s,i){return Yv(n)||i.isEqual(Ve.min())?J.resolve(null):this.ys.getDocuments(e,s).next(r=>{const o=this.vs(n,r);return this.Cs(n,o,s,i)?J.resolve(null):(ha()<=Ye.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),da(n)),this.Fs(e,o,n,ck(i,yc)).next(l=>l))})}vs(e,n){let s=new Xt(iT(e));return n.forEach((i,r)=>{gd(e,r)&&(s=s.add(r))}),s}Cs(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(e,n,s){return ha()<=Ye.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",da(n)),this.ys.getDocumentsMatchingQuery(e,n,Er.min(),s)}Fs(e,n,s,i){return this.ys.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="LocalStore",jD=3e8;class BD{constructor(e,n,s,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Ot(Ke),this.Os=new No(r=>fm(r),pm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function HD(t,e,n,s){return new BD(t,e,n,s)}async function ST(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],l=[];let c=Xe();for(const d of i){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of r){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(s,c).next(d=>({ks:d,removedBatchIds:o,addedBatchIds:l}))})})}function qD(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const m=d.batch,_=m.keys();let E=J.resolve();return _.forEach(C=>{E=E.next(()=>h.getEntry(c,C)).next(N=>{const x=d.docVersions.get(C);ht(x!==null,48541),N.version.compareTo(x)<0&&(m.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),h.addEntry(N)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=Xe();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function RT(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function WD(t,e){const n=Ue(t),s=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const l=[];e.targetChanges.forEach((h,m)=>{const _=i.get(m);if(!_)return;l.push(n.Ti.removeMatchingKeys(r,h.removedDocuments,m).next(()=>n.Ti.addMatchingKeys(r,h.addedDocuments,m)));let E=_.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(dn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,s)),i=i.insert(m,E),function(N,x,U){return N.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=jD?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(_,E,h)&&l.push(n.Ti.updateTargetData(r,E))});let c=Pi(),d=Xe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))}),l.push(zD(r,o,e.documentUpdates).next(h=>{c=h.qs,d=h.Qs})),!s.isEqual(Ve.min())){const h=n.Ti.getLastRemoteSnapshotVersion(r).next(m=>n.Ti.setTargetsMetadata(r,r.currentSequenceNumber,s));l.push(h)}return J.waitFor(l).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,c,d)).next(()=>c)}).then(r=>(n.xs=i,r))}function zD(t,e,n){let s=Xe(),i=Xe();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let o=Pi();return n.forEach((l,c)=>{const d=r.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ve.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):me(Tm,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{qs:o,Qs:i}})}function KD(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=um),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function GD(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Ti.getTargetData(s,e).next(r=>r?(i=r,J.resolve(i)):n.Ti.allocateTargetId(s).next(o=>(i=new hr(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.xs.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function Cp(t,e,n){const s=Ue(t),i=s.xs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ya(o))throw o;me(Tm,`Failed to update sequence numbers for target ${e}: ${o}`)}s.xs=s.xs.remove(e),s.Os.delete(i.target)}function cy(t,e,n){const s=Ue(t);let i=Ve.min(),r=Xe();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const m=Ue(c),_=m.Os.get(h);return _!==void 0?J.resolve(m.xs.get(_)):m.Ti.getTargetData(d,h)}(s,o,Ys(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(o,l.targetId).next(c=>{r=c})}).next(()=>s.Ms.getDocumentsMatchingQuery(o,e,n?i:Ve.min(),n?r:Xe())).next(l=>(QD(s,Lk(e),l),{documents:l,$s:r})))}function QD(t,e,n){let s=t.Ns.get(e)||Ve.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.Ns.set(e,s)}class uy{constructor(){this.activeTargetIds=jk()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YD{constructor(){this.xo=new uy,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new uy,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="ConnectivityMonitor";class dy{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){me(hy,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){me(hy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu=null;function Sp(){return Lu===null?Lu=function(){return 268435456+Math.round(2147483648*Math.random())}():Lu++,"0x"+Lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="RestConnection",JD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${i}`,this.Go=this.databaseId.database===Ah?`project_id=${s}`:`project_id=${s}&database_id=${i}`}zo(e,n,s,i,r){const o=Sp(),l=this.jo(e,n.toUriEncodedString());me(Rf,`Sending RPC '${e}' ${o}:`,l,s);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,r);const{host:d}=new URL(l),h=za(d);return this.Jo(e,l,c,s,h).then(m=>(me(Rf,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Da(Rf,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",s),m})}Yo(e,n,s,i,r,o){return this.zo(e,n,s,i,r)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ga}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}jo(e,n){const s=JD[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class tN extends ZD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,i,r){const o=Sp();return new Promise((l,c)=>{const d=new kw;d.setWithCredentials(!0),d.listenOnce(Dw.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Yu.NO_ERROR:const m=d.getResponseJson();me(gn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Yu.TIMEOUT:me(gn,`RPC '${e}' ${o} timed out`),c(new pe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const _=d.getStatus();if(me(gn,`RPC '${e}' ${o} failed with status:`,_,"response text:",d.getResponseText()),_>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E==null?void 0:E.error;if(C&&C.status&&C.message){const N=function(U){const F=U.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(F)>=0?F:X.UNKNOWN}(C.status);c(new pe(N,C.message))}else c(new pe(X.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new pe(X.UNAVAILABLE,"Connection failed."));break;default:De(9055,{h_:e,streamId:o,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{me(gn,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);me(gn,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",h,s,15)})}I_(e,n,s){const i=Sp(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Lw(),l=xw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const h=r.join("");me(gn,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=o.createWebChannel(h,c);this.E_(m);let _=!1,E=!1;const C=new eN({Zo:x=>{E?me(gn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(_||(me(gn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),me(gn,`RPC '${e}' stream ${i} sending:`,x),m.send(x))},Xo:()=>m.close()}),N=(x,U,F)=>{x.listen(U,H=>{try{F(H)}catch(j){setTimeout(()=>{throw j},0)}})};return N(m,Bl.EventType.OPEN,()=>{E||(me(gn,`RPC '${e}' stream ${i} transport opened.`),C.__())}),N(m,Bl.EventType.CLOSE,()=>{E||(E=!0,me(gn,`RPC '${e}' stream ${i} transport closed`),C.u_(),this.d_(m))}),N(m,Bl.EventType.ERROR,x=>{E||(E=!0,Da(gn,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),C.u_(new pe(X.UNAVAILABLE,"The operation could not be completed")))}),N(m,Bl.EventType.MESSAGE,x=>{var U;if(!E){const F=x.data[0];ht(!!F,16349);const H=F,j=(H==null?void 0:H.error)||((U=H[0])===null||U===void 0?void 0:U.error);if(j){me(gn,`RPC '${e}' stream ${i} received error:`,j);const ne=j.status;let oe=function(b){const A=Bt[b];if(A!==void 0)return mT(A)}(ne),D=j.message;oe===void 0&&(oe=X.INTERNAL,D="Unknown error status: "+ne+" with message "+j.message),E=!0,C.u_(new pe(oe,D)),m.close()}else me(gn,`RPC '${e}' stream ${i} received:`,F),C.c_(F)}}),N(l,Nw.STAT_EVENT,x=>{x.stat===mp.PROXY?me(gn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===mp.NOPROXY&&me(gn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){return new rD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n,s=1e3,i=1.5,r=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=i,this.V_=r,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-s);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="PersistentStream";class OT{constructor(e,n,s,i,r,o,l,c){this.xi=e,this.S_=s,this.D_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new PT(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Ri(n.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.v_===n&&this.z_(s,i)},s=>{e(()=>{const i=new pe(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(i)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{s(()=>this.j_(i))}),this.stream.onMessage(i=>{s(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return me(fy,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(me(fy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nN extends OT{constructor(e,n,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=lD(this.serializer,e),s=function(r){if(!("targetChange"in r))return Ve.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Ve.min():o.readTime?Xs(o.readTime):Ve.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=Ip(this.serializer),n.addTarget=function(r,o){let l;const c=o.target;if(l=Ep(c)?{documents:hD(r,c)}:{query:dD(r,c).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=vT(r,o.resumeToken);const d=wp(r,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ve.min())>0){l.readTime=Oh(r,o.snapshotVersion.toTimestamp());const d=wp(r,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const s=pD(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=Ip(this.serializer),n.removeTarget=e,this.Q_(n)}}class sN extends OT{constructor(e,n,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=uD(e.writeResults,e.commitTime),s=Xs(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=Ip(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>cD(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{}class rN extends iN{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.zo(e,Tp(n,s),i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new pe(X.UNKNOWN,r.toString())})}Yo(e,n,s,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,Tp(n,s),i,o,l,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(X.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class oN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ri(n),this.ua=!1):me("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="RemoteStore";class aN{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=r,this.Ra.No(o=>{s.enqueueAndForget(async()=>{xo(this)&&(me(Ao,"Restarting streams for network reachability change."),await async function(c){const d=Ue(c);d.da.add(4),await $c(d),d.Va.set("Unknown"),d.da.delete(4),await bd(d)}(this))})}),this.Va=new oN(s,i)}}async function bd(t){if(xo(t))for(const e of t.Aa)await e(!0)}async function $c(t){for(const e of t.Aa)await e(!1)}function kT(t,e){const n=Ue(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Sm(n)?Cm(n):Ja(n).N_()&&Im(n,e))}function Am(t,e){const n=Ue(t),s=Ja(n);n.Ea.delete(e),s.N_()&&DT(n,e),n.Ea.size===0&&(s.N_()?s.k_():xo(n)&&n.Va.set("Unknown"))}function Im(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ja(t).Z_(e)}function DT(t,e){t.ma.Ke(e),Ja(t).X_(e)}function Cm(t){t.ma=new tD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ja(t).start(),t.Va.ca()}function Sm(t){return xo(t)&&!Ja(t).O_()&&t.Ea.size>0}function xo(t){return Ue(t).da.size===0}function NT(t){t.ma=void 0}async function lN(t){t.Va.set("Online")}async function cN(t){t.Ea.forEach((e,n)=>{Im(t,e)})}async function uN(t,e){NT(t),Sm(t)?(t.Va.Pa(e),Cm(t)):t.Va.set("Unknown")}async function hN(t,e,n){if(t.Va.set("Online"),e instanceof _T&&e.state===2&&e.cause)try{await async function(i,r){const o=r.cause;for(const l of r.targetIds)i.Ea.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ea.delete(l),i.ma.removeTarget(l))}(t,e)}catch(s){me(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Dh(t,s)}else if(e instanceof eh?t.ma.Xe(e):e instanceof gT?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Ve.min()))try{const s=await RT(t.localStore);n.compareTo(s)>=0&&await function(r,o){const l=r.ma.It(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=r.Ea.get(d);h&&r.Ea.set(d,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const h=r.Ea.get(c);if(!h)return;r.Ea.set(c,h.withResumeToken(dn.EMPTY_BYTE_STRING,h.snapshotVersion)),DT(r,c);const m=new hr(h.target,c,d,h.sequenceNumber);Im(r,m)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){me(Ao,"Failed to raise snapshot:",s),await Dh(t,s)}}async function Dh(t,e,n){if(!Ya(e))throw e;t.da.add(1),await $c(t),t.Va.set("Offline"),n||(n=()=>RT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(Ao,"Retrying IndexedDB access"),await n(),t.da.delete(1),await bd(t)})}function xT(t,e){return e().catch(n=>Dh(t,n,e))}async function wd(t){const e=Ue(t),n=Ar(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:um;for(;dN(e);)try{const i=await KD(e.localStore,s);if(i===null){e.Ia.length===0&&n.k_();break}s=i.batchId,fN(e,i)}catch(i){await Dh(e,i)}LT(e)&&VT(e)}function dN(t){return xo(t)&&t.Ia.length<10}function fN(t,e){t.Ia.push(e);const n=Ar(t);n.N_()&&n.ea&&n.ta(e.mutations)}function LT(t){return xo(t)&&!Ar(t).O_()&&t.Ia.length>0}function VT(t){Ar(t).start()}async function pN(t){Ar(t).ia()}async function mN(t){const e=Ar(t);for(const n of t.Ia)e.ta(n.mutations)}async function gN(t,e,n){const s=t.Ia.shift(),i=_m.from(s,e,n);await xT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await wd(t)}async function _N(t,e){e&&Ar(t).ea&&await async function(s,i){if(function(o){return Zk(o)&&o!==X.ABORTED}(i.code)){const r=s.Ia.shift();Ar(s).L_(),await xT(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await wd(s)}}(t,e),LT(t)&&VT(t)}async function py(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),me(Ao,"RemoteStore received new credentials");const s=xo(n);n.da.add(3),await $c(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await bd(n)}async function vN(t,e){const n=Ue(t);e?(n.da.delete(2),await bd(n)):e||(n.da.add(2),await $c(n),n.Va.set("Unknown"))}function Ja(t){return t.fa||(t.fa=function(n,s,i){const r=Ue(n);return r.oa(),new nN(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{e_:lN.bind(null,t),n_:cN.bind(null,t),i_:uN.bind(null,t),Y_:hN.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Sm(t)?Cm(t):t.Va.set("Unknown")):(await t.fa.stop(),NT(t))})),t.fa}function Ar(t){return t.ga||(t.ga=function(n,s,i){const r=Ue(n);return r.oa(),new sN(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:pN.bind(null,t),i_:_N.bind(null,t),na:mN.bind(null,t),ra:gN.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await wd(t)):(await t.ga.stop(),t.Ia.length>0&&(me(Ao,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,r){const o=Date.now()+s,l=new Rm(e,n,o,i,r);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pm(t,e){if(Ri("AsyncQueue",`${e}: ${t}`),Ya(t))return new pe(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{static emptySet(e){return new Ta(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Se.comparator(n.key,s.key):(n,s)=>Se.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ta;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this.pa=new Ot(Se.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):De(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ma{constructor(e,n,s,i,r,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,i,r){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ma(e,n,Ta.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class EN{constructor(){this.queries=gy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=Ue(n),r=i.queries;i.queries=gy(),r.forEach((o,l)=>{for(const c of l.Sa)c.onError(s)})})(this,new pe(X.ABORTED,"Firestore shutting down"))}}function gy(){return new No(t=>sT(t),md)}async function Om(t,e){const n=Ue(t);let s=3;const i=e.query;let r=n.queries.get(i);r?!r.Da()&&e.va()&&(s=2):(r=new yN,s=e.va()?0:1);try{switch(s){case 0:r.ba=await n.onListen(i,!0);break;case 1:r.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Pm(o,`Initialization of query '${da(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,r),r.Sa.push(e),e.Fa(n.onlineState),r.ba&&e.Ma(r.ba)&&Dm(n)}async function km(t,e){const n=Ue(t),s=e.query;let i=3;const r=n.queries.get(s);if(r){const o=r.Sa.indexOf(e);o>=0&&(r.Sa.splice(o,1),r.Sa.length===0?i=e.va()?0:1:!r.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function bN(t,e){const n=Ue(t);let s=!1;for(const i of e){const r=i.query,o=n.queries.get(r);if(o){for(const l of o.Sa)l.Ma(i)&&(s=!0);o.ba=i}}s&&Dm(n)}function wN(t,e,n){const s=Ue(t),i=s.queries.get(e);if(i)for(const r of i.Sa)r.onError(n);s.queries.delete(e)}function Dm(t){t.Ca.forEach(e=>{e.next()})}var Rp,_y;(_y=Rp||(Rp={})).xa="default",_y.Cache="cache";class Nm{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new Ma(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.key=e}}class $T{constructor(e){this.key=e}}class TN{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.Za=iT(e),this.Xa=new Ta(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new my,i=n?n.Xa:this.Xa;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const _=i.get(h),E=gd(this.query,m)?m:null,C=!!_&&this.mutatedKeys.has(_.key),N=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let x=!1;_&&E?_.data.isEqual(E.data)?C!==N&&(s.track({type:3,doc:E}),x=!0):this.ru(_,E)||(s.track({type:2,doc:E}),x=!0,(c&&this.Za(E,c)>0||d&&this.Za(E,d)<0)&&(l=!0)):!_&&E?(s.track({type:0,doc:E}),x=!0):_&&!E&&(s.track({type:1,doc:_}),x=!0,(c||d)&&(l=!0)),x&&(E?(o=o.add(E),r=N?r.add(h):r.delete(h)):(o=o.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),r=r.delete(h.key),s.track({type:1,doc:h})}return{Xa:o,nu:s,Cs:l,mutatedKeys:r}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const r=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((h,m)=>function(E,C){const N=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Vt:x})}};return N(E)-N(C)}(h.type,m.type)||this.Za(h.doc,m.doc)),this.iu(s),i=i!=null&&i;const l=n&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,d=c!==this.Ja;return this.Ja=c,o.length!==0||d?{snapshot:new Ma(this.query,e.Xa,r,o,e.mutatedKeys,c===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new my,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new $T(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new MT(s))}),n}au(e){this.Ha=e.$s,this.Ya=Xe();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Ma.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const xm="SyncEngine";class AN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class IN{constructor(e){this.key=e,this.cu=!1}}class CN{constructor(e,n,s,i,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new No(l=>sT(l),md),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ot(Se.comparator),this.Eu=new Map,this.du=new Em,this.Au={},this.Ru=new Map,this.Vu=Va.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function SN(t,e,n=!0){const s=qT(t);let i;const r=s.hu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.uu()):i=await FT(s,e,n,!0),i}async function RN(t,e){const n=qT(t);await FT(n,e,!0,!1)}async function FT(t,e,n,s){const i=await GD(t.localStore,Ys(e)),r=i.targetId,o=t.sharedClientState.addLocalQueryTarget(r,n);let l;return s&&(l=await PN(t,e,r,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&kT(t.remoteStore,i),l}async function PN(t,e,n,s,i){t.fu=(m,_,E)=>async function(N,x,U,F){let H=x.view.tu(U);H.Cs&&(H=await cy(N.localStore,x.query,!1).then(({documents:D})=>x.view.tu(D,H)));const j=F&&F.targetChanges.get(x.targetId),ne=F&&F.targetMismatches.get(x.targetId)!=null,oe=x.view.applyChanges(H,N.isPrimaryClient,j,ne);return yy(N,x.targetId,oe.ou),oe.snapshot}(t,m,_,E);const r=await cy(t.localStore,e,!0),o=new TN(e,r.$s),l=o.tu(r.documents),c=Mc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,c);yy(t,n,d.ou);const h=new AN(e,n,o);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function ON(t,e,n){const s=Ue(t),i=s.hu.get(e),r=s.Pu.get(i.targetId);if(r.length>1)return s.Pu.set(i.targetId,r.filter(o=>!md(o,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await Cp(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),n&&Am(s.remoteStore,i.targetId),Pp(s,i.targetId)}).catch(Qa)):(Pp(s,i.targetId),await Cp(s.localStore,i.targetId,!0))}async function kN(t,e){const n=Ue(t),s=n.hu.get(e),i=n.Pu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Am(n.remoteStore,s.targetId))}async function DN(t,e,n){const s=FN(t);try{const i=await function(o,l){const c=Ue(o),d=Yt.now(),h=l.reduce((E,C)=>E.add(C.key),Xe());let m,_;return c.persistence.runTransaction("Locally write mutations","readwrite",E=>{let C=Pi(),N=Xe();return c.Bs.getEntries(E,h).next(x=>{C=x,C.forEach((U,F)=>{F.isValidDocument()||(N=N.add(U))})}).next(()=>c.localDocuments.getOverlayedDocuments(E,C)).next(x=>{m=x;const U=[];for(const F of l){const H=Gk(F,m.get(F.key).overlayedDocument);H!=null&&U.push(new Nr(F.key,H,Qw(H.value.mapValue),Os.exists(!0)))}return c.mutationQueue.addMutationBatch(E,d,U,l)}).next(x=>{_=x;const U=x.applyToLocalDocumentSet(m,N);return c.documentOverlayCache.saveOverlays(E,x.batchId,U)})}).then(()=>({batchId:_.batchId,changes:oT(m)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let d=o.Au[o.currentUser.toKey()];d||(d=new Ot(Ke)),d=d.insert(l,c),o.Au[o.currentUser.toKey()]=d}(s,i.batchId,n),await Fc(s,i.changes),await wd(s.remoteStore)}catch(i){const r=Pm(i,"Failed to persist write");n.reject(r)}}async function UT(t,e){const n=Ue(t);try{const s=await WD(n.localStore,e);e.targetChanges.forEach((i,r)=>{const o=n.Eu.get(r);o&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?ht(o.cu,14607):i.removedDocuments.size>0&&(ht(o.cu,42227),o.cu=!1))}),await Fc(n,s,e)}catch(s){await Qa(s)}}function vy(t,e,n){const s=Ue(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.hu.forEach((r,o)=>{const l=o.view.Fa(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=Ue(o);c.onlineState=l;let d=!1;c.queries.forEach((h,m)=>{for(const _ of m.Sa)_.Fa(l)&&(d=!0)}),d&&Dm(c)}(s.eventManager,e),i.length&&s.lu.Y_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function NN(t,e,n){const s=Ue(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Eu.get(e),r=i&&i.key;if(r){let o=new Ot(Se.comparator);o=o.insert(r,bn.newNoDocument(r,Ve.min()));const l=Xe().add(r),c=new yd(Ve.min(),new Map,new Ot(Ke),o,l);await UT(s,c),s.Iu=s.Iu.remove(r),s.Eu.delete(e),Lm(s)}else await Cp(s.localStore,e,!1).then(()=>Pp(s,e,n)).catch(Qa)}async function xN(t,e){const n=Ue(t),s=e.batch.batchId;try{const i=await qD(n.localStore,e);BT(n,s,null),jT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Fc(n,i)}catch(i){await Qa(i)}}async function LN(t,e,n){const s=Ue(t);try{const i=await function(o,l){const c=Ue(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(m=>(ht(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(s.localStore,e);BT(s,e,n),jT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Fc(s,i)}catch(i){await Qa(i)}}function jT(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function BT(t,e,n){const s=Ue(t);let i=s.Au[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.Au[s.currentUser.toKey()]=i}}function Pp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Pu.get(e))t.hu.delete(s),n&&t.lu.gu(s,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(s=>{t.du.containsKey(s)||HT(t,s)})}function HT(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Am(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Lm(t))}function yy(t,e,n){for(const s of n)s instanceof MT?(t.du.addReference(s.key,e),VN(t,s)):s instanceof $T?(me(xm,"Document no longer in limbo: "+s.key),t.du.removeReference(s.key,e),t.du.containsKey(s.key)||HT(t,s.key)):De(19791,{pu:s})}function VN(t,e){const n=e.key,s=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(s)||(me(xm,"New document in limbo: "+n),t.Tu.add(s),Lm(t))}function Lm(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Se(It.fromString(e)),s=t.Vu.next();t.Eu.set(s,new IN(n)),t.Iu=t.Iu.insert(n,s),kT(t.remoteStore,new hr(Ys(pd(n.path)),s,"TargetPurposeLimboResolution",hd.le))}}async function Fc(t,e,n){const s=Ue(t),i=[],r=[],o=[];s.hu.isEmpty()||(s.hu.forEach((l,c)=>{o.push(s.fu(c,e,n).then(d=>{var h;if((d||n)&&s.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;s.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=wm.Rs(c.targetId,d);r.push(m)}}))}),await Promise.all(o),s.lu.Y_(i),await async function(c,d){const h=Ue(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>J.forEach(d,_=>J.forEach(_.ds,E=>h.persistence.referenceDelegate.addReference(m,_.targetId,E)).next(()=>J.forEach(_.As,E=>h.persistence.referenceDelegate.removeReference(m,_.targetId,E)))))}catch(m){if(!Ya(m))throw m;me(Tm,"Failed to update sequence numbers: "+m)}for(const m of d){const _=m.targetId;if(!m.fromCache){const E=h.xs.get(_),C=E.snapshotVersion,N=E.withLastLimboFreeSnapshotVersion(C);h.xs=h.xs.insert(_,N)}}}(s.localStore,r))}async function MN(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){me(xm,"User change. New user:",e.toKey());const s=await ST(n.localStore,e);n.currentUser=e,function(r,o){r.Ru.forEach(l=>{l.forEach(c=>{c.reject(new pe(X.CANCELLED,o))})}),r.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fc(n,s.ks)}}function $N(t,e){const n=Ue(t),s=n.Eu.get(e);if(s&&s.cu)return Xe().add(s.key);{let i=Xe();const r=n.Pu.get(e);if(!r)return i;for(const o of r){const l=n.hu.get(o);i=i.unionWith(l.view.eu)}return i}}function qT(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$N.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NN.bind(null,e),e.lu.Y_=bN.bind(null,e.eventManager),e.lu.gu=wN.bind(null,e.eventManager),e}function FN(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LN.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return HD(this.persistence,new UD,e.initialUser,this.serializer)}Su(e){return new CT(bm.fi,this.serializer)}bu(e){return new YD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class UN extends Nh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ht(this.persistence.referenceDelegate instanceof kh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ID(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new CT(s=>kh.fi(s,n),this.serializer)}}class Op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=MN.bind(null,this.syncEngine),await vN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EN}()}createDatastore(e){const n=Ed(e.databaseInfo.databaseId),s=function(r){return new tN(r)}(e.databaseInfo);return function(r,o,l,c){return new rN(r,o,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,i,r,o,l){return new aN(s,i,r,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>vy(this.syncEngine,n,0),function(){return dy.C()?new dy:new XD}())}createSyncEngine(e,n){return function(i,r,o,l,c,d,h){const m=new CN(i,r,o,l,c,d);return h&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const r=Ue(i);me(Ao,"RemoteStore shutting down."),r.da.add(5),await $c(r),r.Ra.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Op.provider={build:()=>new Op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="FirestoreClient";class jN{constructor(e,n,s,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=vn.UNAUTHENTICATED,this.clientId=Fw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async o=>{me(Ir,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(me(Ir,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Pm(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Of(t,e){t.asyncQueue.verifyOperationInProgress(),me(Ir,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await ST(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ey(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BN(t);me(Ir,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>py(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>py(e.remoteStore,i)),t._onlineComponents=e}async function BN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Ir,"Using user provided OfflineComponentProvider");try{await Of(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Da("Error using user provided cache. Falling back to memory cache: "+n),await Of(t,new Nh)}}else me(Ir,"Using default OfflineComponentProvider"),await Of(t,new UN(void 0));return t._offlineComponents}async function WT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Ir,"Using user provided OnlineComponentProvider"),await Ey(t,t._uninitializedComponentsProvider._online)):(me(Ir,"Using default OnlineComponentProvider"),await Ey(t,new Op))),t._onlineComponents}function HN(t){return WT(t).then(e=>e.syncEngine)}async function xh(t){const e=await WT(t),n=e.eventManager;return n.onListen=SN.bind(null,e.syncEngine),n.onUnlisten=ON.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kN.bind(null,e.syncEngine),n}function qN(t,e,n={}){const s=new Ti;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,l,c,d){const h=new Vm({next:_=>{h.xu(),o.enqueueAndForget(()=>km(r,m));const E=_.docs.has(l);!E&&_.fromCache?d.reject(new pe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&c&&c.source==="server"?d.reject(new pe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),m=new Nm(pd(l.path),h,{includeMetadataChanges:!0,Qa:!0});return Om(r,m)}(await xh(t),t.asyncQueue,e,n,s)),s.promise}function WN(t,e,n={}){const s=new Ti;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,l,c,d){const h=new Vm({next:_=>{h.xu(),o.enqueueAndForget(()=>km(r,m)),_.fromCache&&c.source==="server"?d.reject(new pe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),m=new Nm(l,h,{includeMetadataChanges:!0,Qa:!0});return Om(r,m)}(await xh(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t,e,n){if(!n)throw new pe(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zN(t,e,n,s){if(e===!0&&s===!0)throw new pe(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wy(t){if(!Se.isDocumentKey(t))throw new pe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ty(t){if(Se.isDocumentKey(t))throw new pe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Td(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De(12329,{type:typeof t})}function ns(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Td(t);throw new pe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function KN(t,e){if(e<=0)throw new pe(X.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firestore.googleapis.com",Ay=!0;class Iy{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GT,this.ssl=Ay}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Ay;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TD)throw new pe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ad{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Iy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Iy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ek;switch(s.type){case"firstParty":return new ik(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=by.get(n);s&&(me("ComponentProvider","Removing Datastore"),by.delete(n),s.terminate())}(this),Promise.resolve()}}function GN(t,e,n,s={}){var i;t=ns(t,Ad);const r=za(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;r&&(ww(`https://${c}`),Tw("Firestore",!0)),o.host!==GT&&o.host!==c&&Da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:r,emulatorOptions:s});if(!bo(d,l)&&(t._setSettings(d),s.mockUserToken)){let h,m;if(typeof s.mockUserToken=="string")h=s.mockUserToken,m=vn.MOCK_USER;else{h=SP(s.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new pe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new vn(_)}t._authCredentials=new tk(new Mw(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xi(this.firestore,e,this._query)}}class wn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class vr extends xi{constructor(e,n,s){super(e,n,pd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new Se(e))}withConverter(e){return new vr(this.firestore,e,this._path)}}function Za(t,e,...n){if(t=xt(t),KT("collection","path",e),t instanceof Ad){const s=It.fromString(e,...n);return Ty(s),new vr(t,null,s)}{if(!(t instanceof wn||t instanceof vr))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(It.fromString(e,...n));return Ty(s),new vr(t.firestore,null,s)}}function vs(t,e,...n){if(t=xt(t),arguments.length===1&&(e=Fw.newId()),KT("doc","path",e),t instanceof Ad){const s=It.fromString(e,...n);return wy(s),new wn(t,null,new Se(s))}{if(!(t instanceof wn||t instanceof vr))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(It.fromString(e,...n));return wy(s),new wn(t.firestore,t instanceof vr?t.converter:null,new Se(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="AsyncQueue";class Sy{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new PT(this,"async_queue_retry"),this.rc=()=>{const s=Pf();s&&me(Cy,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=Pf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Pf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ti;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ya(e))throw e;me(Cy,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,Ri("INTERNAL UNHANDLED ERROR: ",Ry(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=Rm.createAndSchedule(this,e,n,s,r=>this.uc(r));return this.Zu.push(i),i}oc(){this.Xu&&De(47125,{cc:Ry(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Ry(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const i=n;for(const r of s)if(r in i&&typeof i[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Cr extends Ad{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new Sy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sy(e),this._firestoreClient=void 0,await e}}}function QN(t,e){const n=typeof t=="object"?t:Sw(),s=typeof t=="string"?t:Ah,i=lm(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=IP("firestore");r&&GN(i,...r)}return i}function Id(t){if(t._terminated)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YN(t),t._firestoreClient}function YN(t){var e,n,s;const i=t._freezeSettings(),r=function(l,c,d,h){return new yk(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,zT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=i.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new jN(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $a(dn.fromBase64String(e))}catch(n){throw new pe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $a(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=/^__.*__$/;class JN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vc(e,this.data,n,this.fieldTransforms)}}class QT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Nr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ic:t})}}class Um{constructor(e,n,s,i,r,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Ec(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:s,Rc:!1});return i.Vc(e),i}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:s,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Lh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(YT(this.Ic)&&XN.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class ZN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ed(e)}bc(e,n,s,i=!1){return new Um({Ic:e,methodName:n,wc:s,path:hn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jm(t){const e=t._freezeSettings(),n=Ed(t._databaseId);return new ZN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ex(t,e,n,s,i,r={}){const o=t.bc(r.merge||r.mergeFields?2:0,e,n,i);Bm("Data must be an object, but it was:",o,s);const l=XT(s,o);let c,d;if(r.merge)c=new ts(o.fieldMask),d=o.fieldTransforms;else if(r.mergeFields){const h=[];for(const m of r.mergeFields){const _=kp(e,m,n);if(!o.contains(_))throw new pe(X.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);ZT(h,_)||h.push(_)}c=new ts(h),d=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=o.fieldTransforms;return new JN(new qn(l),c,d)}class Sd extends Mm{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sd}}function tx(t,e,n,s){const i=t.bc(1,e,n);Bm("Data must be an object, but it was:",i,s);const r=[],o=qn.empty();Dr(s,(c,d)=>{const h=Hm(e,c,n);d=xt(d);const m=i.mc(h);if(d instanceof Sd)r.push(h);else{const _=Uc(d,m);_!=null&&(r.push(h),o.set(h,_))}});const l=new ts(r);return new QT(o,l,i.fieldTransforms)}function nx(t,e,n,s,i,r){const o=t.bc(1,e,n),l=[kp(e,s,n)],c=[i];if(r.length%2!=0)throw new pe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<r.length;_+=2)l.push(kp(e,r[_])),c.push(r[_+1]);const d=[],h=qn.empty();for(let _=l.length-1;_>=0;--_)if(!ZT(d,l[_])){const E=l[_];let C=c[_];C=xt(C);const N=o.mc(E);if(C instanceof Sd)d.push(E);else{const x=Uc(C,N);x!=null&&(d.push(E),h.set(E,x))}}const m=new ts(d);return new QT(h,m,o.fieldTransforms)}function sx(t,e,n,s=!1){return Uc(n,t.bc(s?4:3,e))}function Uc(t,e){if(JT(t=xt(t)))return Bm("Unsupported field value:",e,t),XT(t,e);if(t instanceof Mm)return function(s,i){if(!YT(i.Ic))throw i.gc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,i){const r=[];let o=0;for(const l of s){let c=Uc(l,i.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),r.push(c),o++}return{arrayValue:{values:r}}}(t,e)}return function(s,i){if((s=xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Bk(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=Yt.fromDate(s);return{timestampValue:Oh(i.serializer,r)}}if(s instanceof Yt){const r=new Yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Oh(i.serializer,r)}}if(s instanceof $m)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $a)return{bytesValue:vT(i.serializer,s._byteString)};if(s instanceof wn){const r=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(r))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:ym(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof Fm)return function(o,l){return{mapValue:{fields:{[Kw]:{stringValue:Gw},[Ih]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.gc("VectorValues must only contain numeric values.");return mm(l.serializer,d)})}}}}}}(s,i);throw i.gc(`Unsupported field value: ${Td(s)}`)}(t,e)}function XT(t,e){const n={};return jw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dr(t,(s,i)=>{const r=Uc(i,e.Ac(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function JT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof $m||t instanceof $a||t instanceof wn||t instanceof Mm||t instanceof Fm)}function Bm(t,e,n){if(!JT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const s=Td(n);throw s==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+s)}}function kp(t,e,n){if((e=xt(e))instanceof Cd)return e._internalPath;if(typeof e=="string")return Hm(t,e);throw Lh("Field path arguments must be of type string or ",t,!1,void 0,n)}const ix=new RegExp("[~\\*/\\[\\]]");function Hm(t,e,n){if(e.search(ix)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cd(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lh(t,e,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(r||o)&&(c+=" (found",r&&(c+=` in field ${s}`),o&&(c+=` in document ${i}`),c+=")"),new pe(X.INVALID_ARGUMENT,l+t+c)}function ZT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rx extends eA{data(){return super.data()}}function Rd(t,e){return typeof e=="string"?Hm(t,e):e instanceof Cd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qm{}class Wm extends qm{}function el(t,e,...n){let s=[];e instanceof qm&&s.push(e),s=s.concat(n),function(r){const o=r.filter(c=>c instanceof zm).length,l=r.filter(c=>c instanceof Pd).length;if(o>1||o>0&&l>0)throw new pe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)t=i._apply(t);return t}class Pd extends Wm{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Pd(e,n,s)}_apply(e){const n=this._parse(e);return sA(e._query,n),new xi(e.firestore,e.converter,bp(e._query,n))}_parse(e){const n=jm(e.firestore);return function(r,o,l,c,d,h,m){let _;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new pe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ky(m,h);const C=[];for(const N of m)C.push(Oy(c,r,N));_={arrayValue:{values:C}}}else _=Oy(c,r,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ky(m,h),_=sx(l,o,m,h==="in"||h==="not-in");return qt.create(d,h,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Io(t,e,n){const s=e,i=Rd("where",t);return Pd._create(i,s,n)}class zm extends qm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zm(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Ls.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,r){let o=i;const l=r.getFlattenedFilters();for(const c of l)sA(o,c),o=bp(o,c)}(e._query,n),new xi(e.firestore,e.converter,bp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Km extends Wm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Km(e,n)}_apply(e){const n=function(i,r,o){if(i.startAt!==null)throw new pe(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new pe(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tc(r,o)}(e._query,this._field,this._direction);return new xi(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Xa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function jc(t,e="asc"){const n=e,s=Rd("orderBy",t);return Km._create(s,n)}class Gm extends Wm{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Gm(e,n,s)}_apply(e){return new xi(e.firestore,e.converter,Sh(e._query,this._limit,this._limitType))}}function nA(t){return KN("limit",t),Gm._create("limit",t,"F")}function Oy(t,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new pe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nT(e)&&n.indexOf("/")!==-1)throw new pe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(It.fromString(n));if(!Se.isDocumentKey(s))throw new pe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return qv(t,new Se(s))}if(n instanceof wn)return qv(t,n._key);throw new pe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Td(n)}.`)}function ky(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sA(t,e){const n=function(i,r){for(const o of i)for(const l of o.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ox{convertValue(e,n="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Dr(e,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertVectorValue(e){var n,s,i;const r=(i=(s=(n=e.fields)===null||n===void 0?void 0:n[Ih].arrayValue)===null||s===void 0?void 0:s.values)===null||i===void 0?void 0:i.map(o=>$t(o.doubleValue));return new Fm(r)}convertGeoPoint(e){return new $m($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=fd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const n=br(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=It.fromString(e);ht(AT(s),9688,{name:e});const i=new bc(s.get(1),s.get(3)),r=new Se(s.popFirst(5));return i.isEqual(n)||Ri(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iA extends eA{constructor(e,n,s,i,r,o){super(e,n,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Rd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class th extends iA{data(e={}){return super.data(e)}}class rA{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wl(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new th(this._firestore,this._userDataWriter,s.key,s,new Wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new th(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Wl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const c=new th(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Wl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:lx(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lx(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){t=ns(t,wn);const e=ns(t.firestore,Cr);return qN(Id(e),t._key).then(n=>oA(e,t,n))}class Qm extends ox{constructor(e){super(),this.firestore=e}convertBytes(e){return new $a(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function tl(t){t=ns(t,xi);const e=ns(t.firestore,Cr),n=Id(e),s=new Qm(e);return tA(t._query),WN(n,t._query).then(i=>new rA(e,s,t,i))}function Od(t,e,n){t=ns(t,wn);const s=ns(t.firestore,Cr),i=ax(t.converter,e,n);return Xm(s,[ex(jm(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Os.none())])}function cx(t,e,n,...s){t=ns(t,wn);const i=ns(t.firestore,Cr),r=jm(i);let o;return o=typeof(e=xt(e))=="string"||e instanceof Cd?nx(r,"updateDoc",t._key,e,n,s):tx(r,"updateDoc",t._key,e),Xm(i,[o.toMutation(t._key,Os.exists(!0))])}function ux(t){return Xm(ns(t.firestore,Cr),[new gm(t._key,Os.none())])}function Ym(t,...e){var n,s,i;t=xt(t);let r={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Py(e[o])||(r=e[o],o++);const l={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(Py(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(s=m.error)===null||s===void 0?void 0:s.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,d,h;if(t instanceof wn)d=ns(t.firestore,Cr),h=pd(t._key.path),c={next:m=>{e[o]&&e[o](oA(d,t,m))},error:e[o+1],complete:e[o+2]};else{const m=ns(t,xi);d=ns(m.firestore,Cr),h=m._query;const _=new Qm(d);c={next:E=>{e[o]&&e[o](new rA(d,_,m,E))},error:e[o+1],complete:e[o+2]},tA(t._query)}return function(_,E,C,N){const x=new Vm(N),U=new Nm(E,x,C);return _.asyncQueue.enqueueAndForget(async()=>Om(await xh(_),U)),()=>{x.xu(),_.asyncQueue.enqueueAndForget(async()=>km(await xh(_),U))}}(Id(d),h,l,c)}function Xm(t,e){return function(s,i){const r=new Ti;return s.asyncQueue.enqueueAndForget(async()=>DN(await HN(s),i,r)),r.promise}(Id(t),e)}function oA(t,e,n){const s=n.docs.get(e._key),i=new Qm(t);return new iA(t,i,e._key,s,new Wl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ga=i})(Ka),ka(new wo("firestore",(s,{instanceIdentifier:i,options:r})=>{const o=s.getProvider("app").getImmediate(),l=new Cr(new nk(s.getProvider("auth-internal")),new rk(o,s.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new pe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bc(d.options.projectId,h)}(o,i),o);return r=Object.assign({useFetchStreams:n},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),gr(Dv,Nv,e),gr(Dv,Nv,"esm2017")})();var hx="firebase",dx="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(hx,dx,"app");function Jm(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function aA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fx=aA,lA=new xc("auth","Firebase",aA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new om("@firebase/auth");function px(t,...e){Vh.logLevel<=Ye.WARN&&Vh.warn(`Auth (${Ka}): ${t}`,...e)}function nh(t,...e){Vh.logLevel<=Ye.ERROR&&Vh.error(`Auth (${Ka}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,...e){throw eg(t,...e)}function ks(t,...e){return eg(t,...e)}function Zm(t,e,n){const s=Object.assign(Object.assign({},fx()),{[e]:n});return new xc("auth","Firebase",s).create(e,{appName:t.name})}function Ai(t){return Zm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mx(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ys(t,"argument-error"),Zm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eg(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return lA.create(t,...e)}function ke(t,e,...n){if(!t)throw eg(e,...n)}function bi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nh(e),new Error(e)}function Oi(t,e){t||bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gx(){return Dy()==="http:"||Dy()==="https:"}function Dy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gx()||NP()||"connection"in navigator)?navigator.onLine:!0}function vx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oi(n>e,"Short delay should be less than long delay!"),this.isMobile=OP()||xP()}get(){return _x()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e){Oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bx=new Hc(3e4,6e4);function Li(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function si(t,e,n,s,i={}){return uA(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const l=Lc(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},r);return DP()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&za(t.emulatorConfig.host)&&(d.credentials="include"),cA.fetch()(await hA(t,t.config.apiHost,n,l),d)})}async function uA(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},yx),e);try{const i=new Tx(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Vu(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const l=r.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Vu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Vu(t,"user-disabled",o);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Zm(t,h,d);ys(t,h)}}catch(i){if(i instanceof Ni)throw i;ys(t,"network-request-failed",{message:String(i)})}}async function qc(t,e,n,s,i={}){const r=await si(t,e,n,s,i);return"mfaPendingCredential"in r&&ys(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function hA(t,e,n,s){const i=`${e}${n}?${s}`,r=t,o=r.config.emulator?tg(t.config,i):`${t.config.apiScheme}://${i}`;return Ex.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(o).toString():o}function wx(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Tx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ks(this.auth,"network-request-failed")),bx.get())})}}function Vu(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=ks(t,e,s);return i.customData._tokenResponse=n,i}function Ny(t){return t!==void 0&&t.enterprise!==void 0}class Ax{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ix(t,e){return si(t,"GET","/v2/recaptchaConfig",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx(t,e){return si(t,"POST","/v1/accounts:delete",e)}async function Mh(t,e){return si(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sx(t,e=!1){const n=xt(t),s=await n.getIdToken(e),i=ng(s);ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:oc(kf(i.auth_time)),issuedAtTime:oc(kf(i.iat)),expirationTime:oc(kf(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function kf(t){return Number(t)*1e3}function ng(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const i=vw(n);return i?JSON.parse(i):(nh("Failed to decode base64 JWT payload"),null)}catch(i){return nh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xy(t){const e=ng(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ni&&Rx(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Rx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oc(this.lastLoginAt),this.creationTime=oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(t){var e;const n=t.auth,s=await t.getIdToken(),i=await Fa(t,Mh(n,{idToken:s}));ke(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?dA(r.providerUserInfo):[],l=kx(t.providerData,o),c=t.isAnonymous,d=!(t.email&&r.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Np(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function Ox(t){const e=xt(t);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kx(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function dA(t){return t.map(e=>{var{providerId:n}=e,s=Jm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(t,e){const n=await uA(t,{},async()=>{const s=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=await hA(t,i,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&za(t.emulatorConfig.host)&&(c.credentials="include"),cA.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Nx(t,e){return si(t,"POST","/v2/accounts:revokeToken",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=xy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await Dx(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new Aa;return s&&(ke(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(ke(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(ke(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Aa,this.toJSON())}_performRefresh(){return bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ss{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=Jm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Px(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Np(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Fa(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Sx(this,e)}reload(){return Ox(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await $h(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await Fa(this,Cx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,l,c,d,h;const m=(s=n.displayName)!==null&&s!==void 0?s:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,E=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,U=(d=n.createdAt)!==null&&d!==void 0?d:void 0,F=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:H,emailVerified:j,isAnonymous:ne,providerData:oe,stsTokenManager:D}=n;ke(H&&D,e,"internal-error");const I=Aa.fromJSON(this.name,D);ke(typeof H=="string",e,"internal-error"),er(m,e.name),er(_,e.name),ke(typeof j=="boolean",e,"internal-error"),ke(typeof ne=="boolean",e,"internal-error"),er(E,e.name),er(C,e.name),er(N,e.name),er(x,e.name),er(U,e.name),er(F,e.name);const b=new Ss({uid:H,auth:e,email:_,emailVerified:j,displayName:m,isAnonymous:ne,photoURL:C,phoneNumber:E,tenantId:N,stsTokenManager:I,createdAt:U,lastLoginAt:F});return oe&&Array.isArray(oe)&&(b.providerData=oe.map(A=>Object.assign({},A))),x&&(b._redirectEventId=x),b}static async _fromIdTokenResponse(e,n,s=!1){const i=new Aa;i.updateFromServerResponse(n);const r=new Ss({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await $h(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];ke(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?dA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),l=new Aa;l.updateFromIdToken(s);const c=new Ss({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Np(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new Map;function wi(t){Oi(t instanceof Function,"Expected a class definition");let e=Ly.get(t);return e?(Oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ly.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fA.type="NONE";const Vy=fA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ia{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=sh(this.userKey,i.apiKey,r),this.fullPersistenceKey=sh("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?Ss._fromGetAccountInfoResponse(this.auth,n,e):null}return Ss._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ia(wi(Vy),e,s);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let r=i[0]||wi(Vy);const o=sh(s,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){let m;if(typeof h=="string"){const _=await Mh(e,{idToken:h}).catch(()=>{});if(!_)break;m=await Ss._fromGetAccountInfoResponse(e,_,h)}else m=Ss._fromJSON(e,h);d!==r&&(l=m),r=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new Ia(r,e,s):(r=c[0],l&&await r._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==r)try{await d._remove(o)}catch{}})),new Ia(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_A(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yA(e))return"Blackberry";if(EA(e))return"Webos";if(mA(e))return"Safari";if((e.includes("chrome/")||gA(e))&&!e.includes("edge/"))return"Chrome";if(vA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function pA(t=Tn()){return/firefox\//i.test(t)}function mA(t=Tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gA(t=Tn()){return/crios\//i.test(t)}function _A(t=Tn()){return/iemobile/i.test(t)}function vA(t=Tn()){return/android/i.test(t)}function yA(t=Tn()){return/blackberry/i.test(t)}function EA(t=Tn()){return/webos/i.test(t)}function sg(t=Tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xx(t=Tn()){var e;return sg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Lx(){return LP()&&document.documentMode===10}function bA(t=Tn()){return sg(t)||vA(t)||EA(t)||yA(t)||/windows phone/i.test(t)||_A(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t,e=[]){let n;switch(t){case"Browser":n=My(Tn());break;case"Worker":n=`${My(Tn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ka}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,l)=>{try{const c=e(r);o(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(t,e={}){return si(t,"GET","/v2/passwordPolicy",Li(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=6;class Fx{constructor(e){var n,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:$x,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,r,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsUppercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $y(this),this.idTokenSubscription=new $y(this),this.beforeStateQueue=new Vx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wi(n)),this._initializationPromise=this.queue(async()=>{var s,i,r;if(!this._deleted&&(this.persistenceManager=await Ia.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),s=await Ss._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Ai(this));const n=e?xt(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Mx(this),n=new Fx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Nx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wi(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await Ia.create(this,[wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(l,this,"internal-error"),l.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&px(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vi(t){return xt(t)}class $y{constructor(e){this.auth=e,this.observer=null,this.addObserver=HP(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jx(t){kd=t}function TA(t){return kd.loadJS(t)}function Bx(){return kd.recaptchaEnterpriseScript}function Hx(){return kd.gapiScript}function qx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Wx{constructor(){this.enterprise=new zx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Kx="recaptcha-enterprise",AA="NO_RECAPTCHA";class Gx{constructor(e){this.type=Kx,this.auth=Vi(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,l)=>{Ix(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Ax(c);return r.tenantId==null?r._agentRecaptchaConfig=d:r._tenantRecaptchaConfigs[r.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function i(r,o,l){const c=window.grecaptcha;Ny(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:e}).then(d=>{o(d)}).catch(()=>{o(AA)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Wx().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(l=>{if(!n&&Ny(window.grecaptcha))i(l,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Bx();c.length!==0&&(c+=l),TA(c).then(()=>{i(l,r,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function Fy(t,e,n,s=!1,i=!1){const r=new Gx(t);let o;if(i)o=AA;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Fh(t,e,n,s,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Fy(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Fy(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t,e){const n=lm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(bo(r,e??{}))return i;ys(i,"already-initialized")}return n.initialize({options:e})}function Yx(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Xx(t,e,n){const s=Vi(t);ke(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=IA(e),{host:o,port:l}=Jx(e),c=l===null?"":`:${l}`,d={url:`${r}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){ke(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ke(bo(d,s.config.emulator)&&bo(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,za(o)?(ww(`${r}//${o}${c}`),Tw("Auth",!0)):Zx()}function IA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Jx(t){const e=IA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Uy(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:Uy(o)}}}function Uy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Zx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bi("not implemented")}_getIdTokenResponse(e){return bi("not implemented")}_linkToIdToken(e,n){return bi("not implemented")}_getReauthenticationResolver(e){return bi("not implemented")}}async function eL(t,e){return si(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(t,e){return qc(t,"POST","/v1/accounts:signInWithPassword",Li(t,e))}async function nL(t,e){return si(t,"POST","/v1/accounts:sendOobCode",Li(t,e))}async function sL(t,e){return nL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e){return qc(t,"POST","/v1/accounts:signInWithEmailLink",Li(t,e))}async function rL(t,e){return qc(t,"POST","/v1/accounts:signInWithEmailLink",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends ig{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Cc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Cc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fh(e,n,"signInWithPassword",tL);case"emailLink":return iL(e,{email:this._email,oobCode:this._password});default:ys(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fh(e,s,"signUpPassword",eL);case"emailLink":return rL(e,{idToken:n,email:this._email,oobCode:this._password});default:ys(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(t,e){return qc(t,"POST","/v1/accounts:signInWithIdp",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="http://localhost";class Co extends ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=Jm(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new Co(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ca(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ca(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ca(e,n)}buildRequest(){const e={requestUri:oL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lL(t){const e=Ul(jl(t)).link,n=e?Ul(jl(e)).deep_link_id:null,s=Ul(jl(t)).deep_link_id;return(s?Ul(jl(s)).link:null)||s||n||e||t}class rg{constructor(e){var n,s,i,r,o,l;const c=Ul(jl(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(s=c.oobCode)!==null&&s!==void 0?s:null,m=aL((i=c.mode)!==null&&i!==void 0?i:null);ke(d&&h&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=h,this.continueUrl=(r=c.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=lL(e);try{return new rg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return Cc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=rg.parseLink(n);return ke(s,"argument-error"),Cc._fromEmailAndCode(e,s.code,s.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Wc{constructor(){super("facebook.com")}static credential(e){return Co._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Co._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ei.credential(n,s)}catch{return null}}}Ei.GOOGLE_SIGN_IN_METHOD="google.com";Ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Wc{constructor(){super("github.com")}static credential(e){return Co._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Wc{constructor(){super("twitter.com")}static credential(e,n){return Co._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return cr.credential(n,s)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e){return qc(t,"POST","/v1/accounts:signUp",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await Ss._fromIdTokenResponse(e,s,i),o=jy(s);return new So({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=jy(s);return new So({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function jy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends Ni{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new Uh(e,n,s,i)}}function CA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(t,r,e,s):r})}async function uL(t,e,n=!1){const s=await Fa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return So._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(t,e,n=!1){const{auth:s}=t;if(Zn(s.app))return Promise.reject(Ai(s));const i="reauthenticate";try{const r=await Fa(t,CA(s,i,e,t),n);ke(r.idToken,s,"internal-error");const o=ng(r.idToken);ke(o,s,"internal-error");const{sub:l}=o;return ke(t.uid===l,s,"user-mismatch"),So._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&ys(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(t,e,n=!1){if(Zn(t.app))return Promise.reject(Ai(t));const s="signIn",i=await CA(t,s,e),r=await So._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function hL(t,e){return RA(Vi(t),e)}async function dL(t,e){return SA(xt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(t){const e=Vi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fL(t,e,n){const s=Vi(t);await Fh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",sL)}async function pL(t,e,n){if(Zn(t.app))return Promise.reject(Ai(t));const s=Vi(t),o=await Fh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cL).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&PA(t),c}),l=await So._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function mL(t,e,n){return Zn(t.app)?Promise.reject(Ai(t)):hL(xt(t),Lo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&PA(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e){return si(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=xt(t),r={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Fa(s,gL(s.auth,r));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function _L(t,e,n,s){return xt(t).onIdTokenChanged(e,n,s)}function vL(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function yL(t,e,n,s){return xt(t).onAuthStateChanged(e,n,s)}function EL(t){return xt(t).signOut()}async function bL(t){return xt(t).delete()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=1e3,TL=10;class DA extends kA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);Lx()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,TL):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},wL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DA.type="LOCAL";const AL=DA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA extends kA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NA.type="SESSION";const xA=NA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Dd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,r)),c=await IL(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((l,c)=>{const d=ag("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(m){const _=m;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(_.data.response);break;default:clearTimeout(h),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(){return window}function SL(t){Js().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){return typeof Js().WorkerGlobalScope<"u"&&typeof Js().importScripts=="function"}async function RL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function OL(){return LA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="firebaseLocalStorageDb",kL=1,Bh="firebaseLocalStorage",MA="fbase_key";class zc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nd(t,e){return t.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function DL(){const t=indexedDB.deleteDatabase(VA);return new zc(t).toPromise()}function xp(){const t=indexedDB.open(VA,kL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Bh,{keyPath:MA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Bh)?e(s):(s.close(),await DL(),e(await xp()))})})}async function By(t,e,n){const s=Nd(t,!0).put({[MA]:e,value:n});return new zc(s).toPromise()}async function NL(t,e){const n=Nd(t,!1).get(e),s=await new zc(n).toPromise();return s===void 0?null:s.value}function Hy(t,e){const n=Nd(t,!0).delete(e);return new zc(n).toPromise()}const xL=800,LL=3;class $A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>LL)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dd._getInstance(OL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await RL(),!this.activeServiceWorker)return;this.sender=new CL(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xp();return await By(e,jh,"1"),await Hy(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>By(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>NL(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=Nd(i,!1).getAll();return new zc(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$A.type="LOCAL";const VL=$A;new Hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t,e){return e?wi(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg extends ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ML(t){return RA(t.auth,new lg(t),t.bypassAuthState)}function $L(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),SA(n,new lg(t),t.bypassAuthState)}async function FL(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),uL(n,new lg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ML;case"linkViaPopup":case"linkViaRedirect":return FL;case"reauthViaPopup":case"reauthViaRedirect":return $L;default:ys(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=new Hc(2e3,1e4);async function jL(t,e,n){if(Zn(t.app))return Promise.reject(ks(t,"operation-not-supported-in-this-environment"));const s=Vi(t);mx(t,e,og);const i=FA(s,n);return new ho(s,"signInViaPopup",e,i).executeNotNull()}class ho extends UA{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UL.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="pendingRedirect",ih=new Map;class HL extends UA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const s=await qL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qL(t,e){const n=KL(e),s=zL(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function WL(t,e){ih.set(t._key(),e)}function zL(t){return wi(t._redirectPersistence)}function KL(t){return sh(BL,t.config.apiKey,t.name)}async function GL(t,e,n=!1){if(Zn(t.app))return Promise.reject(Ai(t));const s=Vi(t),i=FA(s,e),o=await new HL(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=10*60*1e3;class YL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!jA(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ks(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QL&&this.cachedEventUids.clear(),this.cachedEventUids.has(qy(e))}saveEventToCache(e){this.cachedEventUids.add(qy(e)),this.lastProcessedEventTime=Date.now()}}function qy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e={}){return si(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eV=/^https?/;async function tV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JL(t);for(const n of e)try{if(nV(n))return}catch{}ys(t,"unauthorized-domain")}function nV(t){const e=Dp(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!eV.test(n))return!1;if(ZL.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new Hc(3e4,6e4);function Wy(){const t=Js().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iV(t){return new Promise((e,n)=>{var s,i,r;function o(){Wy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wy(),n(ks(t,"network-request-failed"))},timeout:sV.get()})}if(!((i=(s=Js().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=Js().gapi)===null||r===void 0)&&r.load)o();else{const l=qx("iframefcb");return Js()[l]=()=>{gapi.load?o():n(ks(t,"network-request-failed"))},TA(`${Hx()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw rh=null,e})}let rh=null;function rV(t){return rh=rh||iV(t),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=new Hc(5e3,15e3),aV="__/auth/iframe",lV="emulator/auth/iframe",cV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hV(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tg(e,lV):`https://${t.config.authDomain}/${aV}`,s={apiKey:e.apiKey,appName:t.name,v:Ka},i=uV.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Lc(s).slice(1)}`}async function dV(t){const e=await rV(t),n=Js().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:hV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cV,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=ks(t,"network-request-failed"),l=Js().setTimeout(()=>{r(o)},oV.get());function c(){Js().clearTimeout(l),i(s)}s.ping(c).then(c,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pV=500,mV=600,gV="_blank",_V="http://localhost";class zy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vV(t,e,n,s=pV,i=mV){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c=Object.assign(Object.assign({},fV),{width:s.toString(),height:i.toString(),top:r,left:o}),d=Tn().toLowerCase();n&&(l=gA(d)?gV:n),pA(d)&&(e=e||_V,c.scrollbars="yes");const h=Object.entries(c).reduce((_,[E,C])=>`${_}${E}=${C},`,"");if(xx(d)&&l!=="_self")return yV(e||"",l),new zy(null);const m=window.open(e||"",l,h);ke(m,t,"popup-blocked");try{m.focus()}catch{}return new zy(m)}function yV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="__/auth/handler",bV="emulator/auth/handler",wV=encodeURIComponent("fac");async function Ky(t,e,n,s,i,r){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ka,eventId:i};if(e instanceof og){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",BP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof Wc){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${wV}=${encodeURIComponent(c)}`:"";return`${TV(t)}?${Lc(l).slice(1)}${d}`}function TV({config:t}){return t.emulator?tg(t,bV):`https://${t.authDomain}/${EV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="webStorageSupport";class AV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xA,this._completeRedirectFn=GL,this._overrideRedirectResult=WL}async _openPopup(e,n,s,i){var r;Oi((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Ky(e,n,s,Dp(),i);return vV(e,o,ag())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await Ky(e,n,s,Dp(),i);return SL(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(Oi(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await dV(e),s=new YL(e);return n.register("authEvent",i=>(ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Df,{type:Df},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[Df];o!==void 0&&n(!!o),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bA()||mA()||sg()}}const IV=AV;var Gy="@firebase/auth",Qy="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RV(t){ka(new wo("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;ke(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wA(t)},d=new Ux(s,i,r,c);return Yx(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ka(new wo("auth-internal",e=>{const n=Vi(e.getProvider("auth").getImmediate());return(s=>new CV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(Gy,Qy,SV(t)),gr(Gy,Qy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=5*60,OV=bw("authIdTokenMaxAge")||PV;let Yy=null;const kV=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>OV)return;const i=n==null?void 0:n.token;Yy!==i&&(Yy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function DV(t=Sw()){const e=lm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Qx(t,{popupRedirectResolver:IV,persistence:[VL,AL,xA]}),s=bw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=kV(r.toString());vL(n,o,()=>o(n.currentUser)),_L(n,l=>o(l))}}const i=yw("auth");return i&&Xx(n,`http://${i}`),n}function NV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jx({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=ks("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",NV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RV("Browser");const xV={apiKey:"AIzaSyCwjBfaaOxu0q3af_aPIlvDnpvSE1z3ms0",authDomain:"instant-geek.firebaseapp.com",projectId:"instant-geek",storageBucket:"instant-geek.firebasestorage.app",messagingSenderId:"317020332794",appId:"1:317020332794:web:933ab287d47fafd86cdf43",measurementId:"G-5F717TETW2"},BA=Cw(xV),Mi=DV(BA),ln=QN(BA),LV={class:"container-fluid py-2 preco"},VV={class:"media-scroller snaps-inline",id:"precoIn"},MV={class:"game-card"},$V=["href"],FV=["src","alt"],UV={class:"game-text"},jV={class:"titre"},BV={class:"prix"},HV={__name:"Preco",setup(t){const e=Ce([]),n=async()=>{const s=Za(ln,"games"),i=new Date;i.setHours(0,0,0,0);const r=el(s,Io("dateSortie",">=",i),jc("dateSortie"),nA(8));try{const o=await tl(r);e.value=[],o.forEach(l=>{const c=l.data();e.value.push({id:l.id,titre:c.name,link:c.link,image:c.image,price:`${c.price}€`})})}catch(o){console.error("Erreur lors de la récupération des jeux :",o)}};return zn(()=>{n()}),(s,i)=>(ie(),re("div",LV,[i[1]||(i[1]=y("h2",{class:"font-weight-light"},"Précommandes",-1)),y("div",null,[y("ul",VV,[(ie(!0),re(We,null,Ft(e.value,r=>(ie(),re("li",{key:r.id},[y("div",MV,[y("a",{href:r.link},[y("img",{src:`/assets/img/preview/${r.image}`,alt:r.titre},null,8,FV)],8,$V),y("div",UV,[y("h3",jV,Ee(r.titre),1),y("h3",BV,Ee(r.price),1)]),i[0]||(i[0]=y("h2",null,null,-1))])]))),128))])])]))}},qV=fn(HV,[["__scopeId","data-v-8b8dcc39"]]);var oh={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var WV=oh.exports,Xy;function zV(){return Xy||(Xy=1,function(t,e){(function(n,s){t.exports=s()})(WV,function(){const n=new Map,s={set(v,u,p){n.has(v)||n.set(v,new Map);const w=n.get(v);w.has(u)||w.size===0?w.set(u,p):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(w.keys())[0]}.`)},get:(v,u)=>n.has(v)&&n.get(v).get(u)||null,remove(v,u){if(!n.has(v))return;const p=n.get(v);p.delete(u),p.size===0&&n.delete(v)}},i="transitionend",r=v=>(v&&window.CSS&&window.CSS.escape&&(v=v.replace(/#([^\s"#']+)/g,(u,p)=>`#${CSS.escape(p)}`)),v),o=v=>{v.dispatchEvent(new Event(i))},l=v=>!(!v||typeof v!="object")&&(v.jquery!==void 0&&(v=v[0]),v.nodeType!==void 0),c=v=>l(v)?v.jquery?v[0]:v:typeof v=="string"&&v.length>0?document.querySelector(r(v)):null,d=v=>{if(!l(v)||v.getClientRects().length===0)return!1;const u=getComputedStyle(v).getPropertyValue("visibility")==="visible",p=v.closest("details:not([open])");if(!p)return u;if(p!==v){const w=v.closest("summary");if(w&&w.parentNode!==p||w===null)return!1}return u},h=v=>!v||v.nodeType!==Node.ELEMENT_NODE||!!v.classList.contains("disabled")||(v.disabled!==void 0?v.disabled:v.hasAttribute("disabled")&&v.getAttribute("disabled")!=="false"),m=v=>{if(!document.documentElement.attachShadow)return null;if(typeof v.getRootNode=="function"){const u=v.getRootNode();return u instanceof ShadowRoot?u:null}return v instanceof ShadowRoot?v:v.parentNode?m(v.parentNode):null},_=()=>{},E=v=>{v.offsetHeight},C=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,N=[],x=()=>document.documentElement.dir==="rtl",U=v=>{var u;u=()=>{const p=C();if(p){const w=v.NAME,L=p.fn[w];p.fn[w]=v.jQueryInterface,p.fn[w].Constructor=v,p.fn[w].noConflict=()=>(p.fn[w]=L,v.jQueryInterface)}},document.readyState==="loading"?(N.length||document.addEventListener("DOMContentLoaded",()=>{for(const p of N)p()}),N.push(u)):u()},F=(v,u=[],p=v)=>typeof v=="function"?v.call(...u):p,H=(v,u,p=!0)=>{if(!p)return void F(v);const w=(q=>{if(!q)return 0;let{transitionDuration:Z,transitionDelay:ue}=window.getComputedStyle(q);const _e=Number.parseFloat(Z),ye=Number.parseFloat(ue);return _e||ye?(Z=Z.split(",")[0],ue=ue.split(",")[0],1e3*(Number.parseFloat(Z)+Number.parseFloat(ue))):0})(u)+5;let L=!1;const V=({target:q})=>{q===u&&(L=!0,u.removeEventListener(i,V),F(v))};u.addEventListener(i,V),setTimeout(()=>{L||o(u)},w)},j=(v,u,p,w)=>{const L=v.length;let V=v.indexOf(u);return V===-1?!p&&w?v[L-1]:v[0]:(V+=p?1:-1,w&&(V=(V+L)%L),v[Math.max(0,Math.min(V,L-1))])},ne=/[^.]*(?=\..*)\.|.*/,oe=/\..*/,D=/::\d+$/,I={};let b=1;const A={mouseenter:"mouseover",mouseleave:"mouseout"},O=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function R(v,u){return u&&`${u}::${b++}`||v.uidEvent||b++}function S(v){const u=R(v);return v.uidEvent=u,I[u]=I[u]||{},I[u]}function Be(v,u,p=null){return Object.values(v).find(w=>w.callable===u&&w.delegationSelector===p)}function st(v,u,p){const w=typeof u=="string",L=w?p:u||p;let V=Ct(v);return O.has(V)||(V=v),[w,L,V]}function xe(v,u,p,w,L){if(typeof u!="string"||!v)return;let[V,q,Z]=st(u,p,w);u in A&&(q=(Me=>function(Le){if(!Le.relatedTarget||Le.relatedTarget!==Le.delegateTarget&&!Le.delegateTarget.contains(Le.relatedTarget))return Me.call(this,Le)})(q));const ue=S(v),_e=ue[Z]||(ue[Z]={}),ye=Be(_e,q,V?p:null);if(ye)return void(ye.oneOff=ye.oneOff&&L);const fe=R(q,u.replace(ne,"")),He=V?function(Oe,Me,Le){return function $e(mt){const bt=Oe.querySelectorAll(Me);for(let{target:Qe}=mt;Qe&&Qe!==this;Qe=Qe.parentNode)for(const lt of bt)if(lt===Qe)return jt(mt,{delegateTarget:Qe}),$e.oneOff&&Q.off(Oe,mt.type,Me,Le),Le.apply(Qe,[mt])}}(v,p,q):function(Oe,Me){return function Le($e){return jt($e,{delegateTarget:Oe}),Le.oneOff&&Q.off(Oe,$e.type,Me),Me.apply(Oe,[$e])}}(v,q);He.delegationSelector=V?p:null,He.callable=q,He.oneOff=L,He.uidEvent=fe,_e[fe]=He,v.addEventListener(Z,He,V)}function be(v,u,p,w,L){const V=Be(u[p],w,L);V&&(v.removeEventListener(p,V,!!L),delete u[p][V.uidEvent])}function je(v,u,p,w){const L=u[p]||{};for(const[V,q]of Object.entries(L))V.includes(w)&&be(v,u,p,q.callable,q.delegationSelector)}function Ct(v){return v=v.replace(oe,""),A[v]||v}const Q={on(v,u,p,w){xe(v,u,p,w,!1)},one(v,u,p,w){xe(v,u,p,w,!0)},off(v,u,p,w){if(typeof u!="string"||!v)return;const[L,V,q]=st(u,p,w),Z=q!==u,ue=S(v),_e=ue[q]||{},ye=u.startsWith(".");if(V===void 0){if(ye)for(const fe of Object.keys(ue))je(v,ue,fe,u.slice(1));for(const[fe,He]of Object.entries(_e)){const Oe=fe.replace(D,"");Z&&!u.includes(Oe)||be(v,ue,q,He.callable,He.delegationSelector)}}else{if(!Object.keys(_e).length)return;be(v,ue,q,V,L?p:null)}},trigger(v,u,p){if(typeof u!="string"||!v)return null;const w=C();let L=null,V=!0,q=!0,Z=!1;u!==Ct(u)&&w&&(L=w.Event(u,p),w(v).trigger(L),V=!L.isPropagationStopped(),q=!L.isImmediatePropagationStopped(),Z=L.isDefaultPrevented());const ue=jt(new Event(u,{bubbles:V,cancelable:!0}),p);return Z&&ue.preventDefault(),q&&v.dispatchEvent(ue),ue.defaultPrevented&&L&&L.preventDefault(),ue}};function jt(v,u={}){for(const[p,w]of Object.entries(u))try{v[p]=w}catch{Object.defineProperty(v,p,{configurable:!0,get:()=>w})}return v}function it(v){if(v==="true")return!0;if(v==="false")return!1;if(v===Number(v).toString())return Number(v);if(v===""||v==="null")return null;if(typeof v!="string")return v;try{return JSON.parse(decodeURIComponent(v))}catch{return v}}function rt(v){return v.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const Tt={setDataAttribute(v,u,p){v.setAttribute(`data-bs-${rt(u)}`,p)},removeDataAttribute(v,u){v.removeAttribute(`data-bs-${rt(u)}`)},getDataAttributes(v){if(!v)return{};const u={},p=Object.keys(v.dataset).filter(w=>w.startsWith("bs")&&!w.startsWith("bsConfig"));for(const w of p){let L=w.replace(/^bs/,"");L=L.charAt(0).toLowerCase()+L.slice(1),u[L]=it(v.dataset[w])}return u},getDataAttribute:(v,u)=>it(v.getAttribute(`data-bs-${rt(u)}`))};class At{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,p){const w=l(p)?Tt.getDataAttribute(p,"config"):{};return{...this.constructor.Default,...typeof w=="object"?w:{},...l(p)?Tt.getDataAttributes(p):{},...typeof u=="object"?u:{}}}_typeCheckConfig(u,p=this.constructor.DefaultType){for(const[L,V]of Object.entries(p)){const q=u[L],Z=l(q)?"element":(w=q)==null?`${w}`:Object.prototype.toString.call(w).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(V).test(Z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${L}" provided type "${Z}" but expected type "${V}".`)}var w}}class ot extends At{constructor(u,p){super(),(u=c(u))&&(this._element=u,this._config=this._getConfig(p),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),Q.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,p,w=!0){H(u,p,w)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return s.get(c(u),this.DATA_KEY)}static getOrCreateInstance(u,p={}){return this.getInstance(u)||new this(u,typeof p=="object"?p:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const z=v=>{let u=v.getAttribute("data-bs-target");if(!u||u==="#"){let p=v.getAttribute("href");if(!p||!p.includes("#")&&!p.startsWith("."))return null;p.includes("#")&&!p.startsWith("#")&&(p=`#${p.split("#")[1]}`),u=p&&p!=="#"?p.trim():null}return u?u.split(",").map(p=>r(p)).join(","):null},W={find:(v,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,v)),findOne:(v,u=document.documentElement)=>Element.prototype.querySelector.call(u,v),children:(v,u)=>[].concat(...v.children).filter(p=>p.matches(u)),parents(v,u){const p=[];let w=v.parentNode.closest(u);for(;w;)p.push(w),w=w.parentNode.closest(u);return p},prev(v,u){let p=v.previousElementSibling;for(;p;){if(p.matches(u))return[p];p=p.previousElementSibling}return[]},next(v,u){let p=v.nextElementSibling;for(;p;){if(p.matches(u))return[p];p=p.nextElementSibling}return[]},focusableChildren(v){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(p=>`${p}:not([tabindex^="-"])`).join(",");return this.find(u,v).filter(p=>!h(p)&&d(p))},getSelectorFromElement(v){const u=z(v);return u&&W.findOne(u)?u:null},getElementFromSelector(v){const u=z(v);return u?W.findOne(u):null},getMultipleElementsFromSelector(v){const u=z(v);return u?W.find(u):[]}},le=(v,u="hide")=>{const p=`click.dismiss${v.EVENT_KEY}`,w=v.NAME;Q.on(document,p,`[data-bs-dismiss="${w}"]`,function(L){if(["A","AREA"].includes(this.tagName)&&L.preventDefault(),h(this))return;const V=W.getElementFromSelector(this)||this.closest(`.${w}`);v.getOrCreateInstance(V)[u]()})},ge=".bs.alert",Ge=`close${ge}`,P=`closed${ge}`;class k extends ot{static get NAME(){return"alert"}close(){if(Q.trigger(this._element,Ge).defaultPrevented)return;this._element.classList.remove("show");const u=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,u)}_destroyElement(){this._element.remove(),Q.trigger(this._element,P),this.dispose()}static jQueryInterface(u){return this.each(function(){const p=k.getOrCreateInstance(this);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u](this)}})}}le(k,"close"),U(k);const M='[data-bs-toggle="button"]';class K extends ot{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const p=K.getOrCreateInstance(this);u==="toggle"&&p[u]()})}}Q.on(document,"click.bs.button.data-api",M,v=>{v.preventDefault();const u=v.target.closest(M);K.getOrCreateInstance(u).toggle()}),U(K);const G=".bs.swipe",Y=`touchstart${G}`,he=`touchmove${G}`,ae=`touchend${G}`,se=`pointerdown${G}`,ee=`pointerup${G}`,Ie={endCallback:null,leftCallback:null,rightCallback:null},de={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ve extends At{constructor(u,p){super(),this._element=u,u&&ve.isSupported()&&(this._config=this._getConfig(p),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ie}static get DefaultType(){return de}static get NAME(){return"swipe"}dispose(){Q.off(this._element,G)}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),F(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const p=u/this._deltaX;this._deltaX=0,p&&F(p>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Q.on(this._element,se,u=>this._start(u)),Q.on(this._element,ee,u=>this._end(u)),this._element.classList.add("pointer-event")):(Q.on(this._element,Y,u=>this._start(u)),Q.on(this._element,he,u=>this._move(u)),Q.on(this._element,ae,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&(u.pointerType==="pen"||u.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const we=".bs.carousel",Ae=".data-api",Ne="ArrowLeft",ze="ArrowRight",kt="next",St="prev",Wt="left",Lt="right",Ms=`slide${we}`,ii=`slid${we}`,zt=`keydown${we}`,$n=`mouseenter${we}`,Fo=`mouseleave${we}`,al=`dragstart${we}`,Jc=`load${we}${Ae}`,Zc=`click${we}${Ae}`,Fi="carousel",Ui="active",Uo=".active",$s=".carousel-item",eu=Uo+$s,jo={[Ne]:Lt,[ze]:Wt},tu={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Mr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ri extends ot{constructor(u,p){super(u,p),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=W.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Fi&&this.cycle()}static get Default(){return tu}static get DefaultType(){return Mr}static get NAME(){return"carousel"}next(){this._slide(kt)}nextWhenVisible(){!document.hidden&&d(this._element)&&this.next()}prev(){this._slide(St)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Q.one(this._element,ii,()=>this.cycle()):this.cycle())}to(u){const p=this._getItems();if(u>p.length-1||u<0)return;if(this._isSliding)return void Q.one(this._element,ii,()=>this.to(u));const w=this._getItemIndex(this._getActive());if(w===u)return;const L=u>w?kt:St;this._slide(L,p[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&Q.on(this._element,zt,u=>this._keydown(u)),this._config.pause==="hover"&&(Q.on(this._element,$n,()=>this.pause()),Q.on(this._element,Fo,()=>this._maybeEnableCycle())),this._config.touch&&ve.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of W.find(".carousel-item img",this._element))Q.on(p,al,w=>w.preventDefault());const u={leftCallback:()=>this._slide(this._directionToOrder(Wt)),rightCallback:()=>this._slide(this._directionToOrder(Lt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ve(this._element,u)}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const p=jo[u.key];p&&(u.preventDefault(),this._slide(this._directionToOrder(p)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const p=W.findOne(Uo,this._indicatorsElement);p.classList.remove(Ui),p.removeAttribute("aria-current");const w=W.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);w&&(w.classList.add(Ui),w.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const p=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=p||this._config.defaultInterval}_slide(u,p=null){if(this._isSliding)return;const w=this._getActive(),L=u===kt,V=p||j(this._getItems(),w,L,this._config.wrap);if(V===w)return;const q=this._getItemIndex(V),Z=fe=>Q.trigger(this._element,fe,{relatedTarget:V,direction:this._orderToDirection(u),from:this._getItemIndex(w),to:q});if(Z(Ms).defaultPrevented||!w||!V)return;const ue=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(q),this._activeElement=V;const _e=L?"carousel-item-start":"carousel-item-end",ye=L?"carousel-item-next":"carousel-item-prev";V.classList.add(ye),E(V),w.classList.add(_e),V.classList.add(_e),this._queueCallback(()=>{V.classList.remove(_e,ye),V.classList.add(Ui),w.classList.remove(Ui,ye,_e),this._isSliding=!1,Z(ii)},w,this._isAnimated()),ue&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return W.findOne(eu,this._element)}_getItems(){return W.find($s,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return x()?u===Wt?St:kt:u===Wt?kt:St}_orderToDirection(u){return x()?u===St?Wt:Lt:u===St?Lt:Wt}static jQueryInterface(u){return this.each(function(){const p=ri.getOrCreateInstance(this,u);if(typeof u!="number"){if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u]()}}else p.to(u)})}}Q.on(document,Zc,"[data-bs-slide], [data-bs-slide-to]",function(v){const u=W.getElementFromSelector(this);if(!u||!u.classList.contains(Fi))return;v.preventDefault();const p=ri.getOrCreateInstance(u),w=this.getAttribute("data-bs-slide-to");return w?(p.to(w),void p._maybeEnableCycle()):Tt.getDataAttribute(this,"slide")==="next"?(p.next(),void p._maybeEnableCycle()):(p.prev(),void p._maybeEnableCycle())}),Q.on(window,Jc,()=>{const v=W.find('[data-bs-ride="carousel"]');for(const u of v)ri.getOrCreateInstance(u)}),U(ri);const Vt=".bs.collapse",nu=`show${Vt}`,$r=`shown${Vt}`,Fr=`hide${Vt}`,Bd=`hidden${Vt}`,Hd=`click${Vt}.data-api`,Fs="show",ji="collapse",Bo="collapsing",Ho=`:scope .${ji} .${ji}`,qo='[data-bs-toggle="collapse"]',ll={parent:null,toggle:!0},Wo={parent:"(null|element)",toggle:"boolean"};class An extends ot{constructor(u,p){super(u,p),this._isTransitioning=!1,this._triggerArray=[];const w=W.find(qo);for(const L of w){const V=W.getSelectorFromElement(L),q=W.find(V).filter(Z=>Z===this._element);V!==null&&q.length&&this._triggerArray.push(L)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ll}static get DefaultType(){return Wo}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(L=>L!==this._element).map(L=>An.getOrCreateInstance(L,{toggle:!1}))),u.length&&u[0]._isTransitioning||Q.trigger(this._element,nu).defaultPrevented)return;for(const L of u)L.hide();const p=this._getDimension();this._element.classList.remove(ji),this._element.classList.add(Bo),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const w=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Bo),this._element.classList.add(ji,Fs),this._element.style[p]="",Q.trigger(this._element,$r)},this._element,!0),this._element.style[p]=`${this._element[w]}px`}hide(){if(this._isTransitioning||!this._isShown()||Q.trigger(this._element,Fr).defaultPrevented)return;const u=this._getDimension();this._element.style[u]=`${this._element.getBoundingClientRect()[u]}px`,E(this._element),this._element.classList.add(Bo),this._element.classList.remove(ji,Fs);for(const p of this._triggerArray){const w=W.getElementFromSelector(p);w&&!this._isShown(w)&&this._addAriaAndCollapsedClass([p],!1)}this._isTransitioning=!0,this._element.style[u]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Bo),this._element.classList.add(ji),Q.trigger(this._element,Bd)},this._element,!0)}_isShown(u=this._element){return u.classList.contains(Fs)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=c(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(qo);for(const p of u){const w=W.getElementFromSelector(p);w&&this._addAriaAndCollapsedClass([p],this._isShown(w))}}_getFirstLevelChildren(u){const p=W.find(Ho,this._config.parent);return W.find(u,this._config.parent).filter(w=>!p.includes(w))}_addAriaAndCollapsedClass(u,p){if(u.length)for(const w of u)w.classList.toggle("collapsed",!p),w.setAttribute("aria-expanded",p)}static jQueryInterface(u){const p={};return typeof u=="string"&&/show|hide/.test(u)&&(p.toggle=!1),this.each(function(){const w=An.getOrCreateInstance(this,p);if(typeof u=="string"){if(w[u]===void 0)throw new TypeError(`No method named "${u}"`);w[u]()}})}}Q.on(document,Hd,qo,function(v){(v.target.tagName==="A"||v.delegateTarget&&v.delegateTarget.tagName==="A")&&v.preventDefault();for(const u of W.getMultipleElementsFromSelector(this))An.getOrCreateInstance(u,{toggle:!1}).toggle()}),U(An);var Jt="top",pn="bottom",cn="right",Kt="left",Ur="auto",oi=[Jt,pn,cn,Kt],ai="start",Ts="end",cl="clippingParents",jr="viewport",os="popper",Us="reference",Br=oi.reduce(function(v,u){return v.concat([u+"-"+ai,u+"-"+Ts])},[]),ul=[].concat(oi,[Ur]).reduce(function(v,u){return v.concat([u,u+"-"+ai,u+"-"+Ts])},[]),hl="beforeRead",dl="read",fl="afterRead",zo="beforeMain",Ko="main",pl="afterMain",ml="beforeWrite",su="write",iu="afterWrite",gl=[hl,dl,fl,zo,Ko,pl,ml,su,iu];function Kn(v){return v?(v.nodeName||"").toLowerCase():null}function In(v){if(v==null)return window;if(v.toString()!=="[object Window]"){var u=v.ownerDocument;return u&&u.defaultView||window}return v}function Cn(v){return v instanceof In(v).Element||v instanceof Element}function Dt(v){return v instanceof In(v).HTMLElement||v instanceof HTMLElement}function Bi(v){return typeof ShadowRoot<"u"&&(v instanceof In(v).ShadowRoot||v instanceof ShadowRoot)}const Hi={name:"applyStyles",enabled:!0,phase:"write",fn:function(v){var u=v.state;Object.keys(u.elements).forEach(function(p){var w=u.styles[p]||{},L=u.attributes[p]||{},V=u.elements[p];Dt(V)&&Kn(V)&&(Object.assign(V.style,w),Object.keys(L).forEach(function(q){var Z=L[q];Z===!1?V.removeAttribute(q):V.setAttribute(q,Z===!0?"":Z)}))})},effect:function(v){var u=v.state,p={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,p.popper),u.styles=p,u.elements.arrow&&Object.assign(u.elements.arrow.style,p.arrow),function(){Object.keys(u.elements).forEach(function(w){var L=u.elements[w],V=u.attributes[w]||{},q=Object.keys(u.styles.hasOwnProperty(w)?u.styles[w]:p[w]).reduce(function(Z,ue){return Z[ue]="",Z},{});Dt(L)&&Kn(L)&&(Object.assign(L.style,q),Object.keys(V).forEach(function(Z){L.removeAttribute(Z)}))})}},requires:["computeStyles"]};function Gn(v){return v.split("-")[0]}var tt=Math.max,li=Math.min,as=Math.round;function ci(){var v=navigator.userAgentData;return v!=null&&v.brands&&Array.isArray(v.brands)?v.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function ru(){return!/^((?!chrome|android).)*safari/i.test(ci())}function ui(v,u,p){u===void 0&&(u=!1),p===void 0&&(p=!1);var w=v.getBoundingClientRect(),L=1,V=1;u&&Dt(v)&&(L=v.offsetWidth>0&&as(w.width)/v.offsetWidth||1,V=v.offsetHeight>0&&as(w.height)/v.offsetHeight||1);var q=(Cn(v)?In(v):window).visualViewport,Z=!ru()&&p,ue=(w.left+(Z&&q?q.offsetLeft:0))/L,_e=(w.top+(Z&&q?q.offsetTop:0))/V,ye=w.width/L,fe=w.height/V;return{width:ye,height:fe,top:_e,right:ue+ye,bottom:_e+fe,left:ue,x:ue,y:_e}}function _l(v){var u=ui(v),p=v.offsetWidth,w=v.offsetHeight;return Math.abs(u.width-p)<=1&&(p=u.width),Math.abs(u.height-w)<=1&&(w=u.height),{x:v.offsetLeft,y:v.offsetTop,width:p,height:w}}function ou(v,u){var p=u.getRootNode&&u.getRootNode();if(v.contains(u))return!0;if(p&&Bi(p)){var w=u;do{if(w&&v.isSameNode(w))return!0;w=w.parentNode||w.host}while(w)}return!1}function As(v){return In(v).getComputedStyle(v)}function qd(v){return["table","td","th"].indexOf(Kn(v))>=0}function Fn(v){return((Cn(v)?v.ownerDocument:v.document)||window.document).documentElement}function Qn(v){return Kn(v)==="html"?v:v.assignedSlot||v.parentNode||(Bi(v)?v.host:null)||Fn(v)}function vl(v){return Dt(v)&&As(v).position!=="fixed"?v.offsetParent:null}function qi(v){for(var u=In(v),p=vl(v);p&&qd(p)&&As(p).position==="static";)p=vl(p);return p&&(Kn(p)==="html"||Kn(p)==="body"&&As(p).position==="static")?u:p||function(w){var L=/firefox/i.test(ci());if(/Trident/i.test(ci())&&Dt(w)&&As(w).position==="fixed")return null;var V=Qn(w);for(Bi(V)&&(V=V.host);Dt(V)&&["html","body"].indexOf(Kn(V))<0;){var q=As(V);if(q.transform!=="none"||q.perspective!=="none"||q.contain==="paint"||["transform","perspective"].indexOf(q.willChange)!==-1||L&&q.willChange==="filter"||L&&q.filter&&q.filter!=="none")return V;V=V.parentNode}return null}(v)||u}function Go(v){return["top","bottom"].indexOf(v)>=0?"x":"y"}function ls(v,u,p){return tt(v,li(u,p))}function au(v){return Object.assign({},{top:0,right:0,bottom:0,left:0},v)}function lu(v,u){return u.reduce(function(p,w){return p[w]=v,p},{})}const cu={name:"arrow",enabled:!0,phase:"main",fn:function(v){var u,p=v.state,w=v.name,L=v.options,V=p.elements.arrow,q=p.modifiersData.popperOffsets,Z=Gn(p.placement),ue=Go(Z),_e=[Kt,cn].indexOf(Z)>=0?"height":"width";if(V&&q){var ye=function(gt,pt){return au(typeof(gt=typeof gt=="function"?gt(Object.assign({},pt.rects,{placement:pt.placement})):gt)!="number"?gt:lu(gt,oi))}(L.padding,p),fe=_l(V),He=ue==="y"?Jt:Kt,Oe=ue==="y"?pn:cn,Me=p.rects.reference[_e]+p.rects.reference[ue]-q[ue]-p.rects.popper[_e],Le=q[ue]-p.rects.reference[ue],$e=qi(V),mt=$e?ue==="y"?$e.clientHeight||0:$e.clientWidth||0:0,bt=Me/2-Le/2,Qe=ye[He],lt=mt-fe[_e]-ye[Oe],qe=mt/2-fe[_e]/2+bt,Je=ls(Qe,qe,lt),ft=ue;p.modifiersData[w]=((u={})[ft]=Je,u.centerOffset=Je-qe,u)}},effect:function(v){var u=v.state,p=v.options.element,w=p===void 0?"[data-popper-arrow]":p;w!=null&&(typeof w!="string"||(w=u.elements.popper.querySelector(w)))&&ou(u.elements.popper,w)&&(u.elements.arrow=w)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Sn(v){return v.split("-")[1]}var Wd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uu(v){var u,p=v.popper,w=v.popperRect,L=v.placement,V=v.variation,q=v.offsets,Z=v.position,ue=v.gpuAcceleration,_e=v.adaptive,ye=v.roundOffsets,fe=v.isFixed,He=q.x,Oe=He===void 0?0:He,Me=q.y,Le=Me===void 0?0:Me,$e=typeof ye=="function"?ye({x:Oe,y:Le}):{x:Oe,y:Le};Oe=$e.x,Le=$e.y;var mt=q.hasOwnProperty("x"),bt=q.hasOwnProperty("y"),Qe=Kt,lt=Jt,qe=window;if(_e){var Je=qi(p),ft="clientHeight",gt="clientWidth";Je===In(p)&&As(Je=Fn(p)).position!=="static"&&Z==="absolute"&&(ft="scrollHeight",gt="scrollWidth"),(L===Jt||(L===Kt||L===cn)&&V===Ts)&&(lt=pn,Le-=(fe&&Je===qe&&qe.visualViewport?qe.visualViewport.height:Je[ft])-w.height,Le*=ue?1:-1),L!==Kt&&(L!==Jt&&L!==pn||V!==Ts)||(Qe=cn,Oe-=(fe&&Je===qe&&qe.visualViewport?qe.visualViewport.width:Je[gt])-w.width,Oe*=ue?1:-1)}var pt,Mt=Object.assign({position:Z},_e&&Wd),Yn=ye===!0?function(Cs,Pn){var us=Cs.x,hs=Cs.y,Nt=Pn.devicePixelRatio||1;return{x:as(us*Nt)/Nt||0,y:as(hs*Nt)/Nt||0}}({x:Oe,y:Le},In(p)):{x:Oe,y:Le};return Oe=Yn.x,Le=Yn.y,ue?Object.assign({},Mt,((pt={})[lt]=bt?"0":"",pt[Qe]=mt?"0":"",pt.transform=(qe.devicePixelRatio||1)<=1?"translate("+Oe+"px, "+Le+"px)":"translate3d("+Oe+"px, "+Le+"px, 0)",pt)):Object.assign({},Mt,((u={})[lt]=bt?Le+"px":"",u[Qe]=mt?Oe+"px":"",u.transform="",u))}const Wi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(v){var u=v.state,p=v.options,w=p.gpuAcceleration,L=w===void 0||w,V=p.adaptive,q=V===void 0||V,Z=p.roundOffsets,ue=Z===void 0||Z,_e={placement:Gn(u.placement),variation:Sn(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:L,isFixed:u.options.strategy==="fixed"};u.modifiersData.popperOffsets!=null&&(u.styles.popper=Object.assign({},u.styles.popper,uu(Object.assign({},_e,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:q,roundOffsets:ue})))),u.modifiersData.arrow!=null&&(u.styles.arrow=Object.assign({},u.styles.arrow,uu(Object.assign({},_e,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ue})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}};var hi={passive:!0};const Qo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(v){var u=v.state,p=v.instance,w=v.options,L=w.scroll,V=L===void 0||L,q=w.resize,Z=q===void 0||q,ue=In(u.elements.popper),_e=[].concat(u.scrollParents.reference,u.scrollParents.popper);return V&&_e.forEach(function(ye){ye.addEventListener("scroll",p.update,hi)}),Z&&ue.addEventListener("resize",p.update,hi),function(){V&&_e.forEach(function(ye){ye.removeEventListener("scroll",p.update,hi)}),Z&&ue.removeEventListener("resize",p.update,hi)}},data:{}};var Hr={left:"right",right:"left",bottom:"top",top:"bottom"};function js(v){return v.replace(/left|right|bottom|top/g,function(u){return Hr[u]})}var hu={start:"end",end:"start"};function Yo(v){return v.replace(/start|end/g,function(u){return hu[u]})}function Et(v){var u=In(v);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function yl(v){return ui(Fn(v)).left+Et(v).scrollLeft}function El(v){var u=As(v),p=u.overflow,w=u.overflowX,L=u.overflowY;return/auto|scroll|overlay|hidden/.test(p+L+w)}function bl(v){return["html","body","#document"].indexOf(Kn(v))>=0?v.ownerDocument.body:Dt(v)&&El(v)?v:bl(Qn(v))}function zi(v,u){var p;u===void 0&&(u=[]);var w=bl(v),L=w===((p=v.ownerDocument)==null?void 0:p.body),V=In(w),q=L?[V].concat(V.visualViewport||[],El(w)?w:[]):w,Z=u.concat(q);return L?Z:Z.concat(zi(Qn(q)))}function Xo(v){return Object.assign({},v,{left:v.x,top:v.y,right:v.x+v.width,bottom:v.y+v.height})}function qr(v,u,p){return u===jr?Xo(function(w,L){var V=In(w),q=Fn(w),Z=V.visualViewport,ue=q.clientWidth,_e=q.clientHeight,ye=0,fe=0;if(Z){ue=Z.width,_e=Z.height;var He=ru();(He||!He&&L==="fixed")&&(ye=Z.offsetLeft,fe=Z.offsetTop)}return{width:ue,height:_e,x:ye+yl(w),y:fe}}(v,p)):Cn(u)?function(w,L){var V=ui(w,!1,L==="fixed");return V.top=V.top+w.clientTop,V.left=V.left+w.clientLeft,V.bottom=V.top+w.clientHeight,V.right=V.left+w.clientWidth,V.width=w.clientWidth,V.height=w.clientHeight,V.x=V.left,V.y=V.top,V}(u,p):Xo(function(w){var L,V=Fn(w),q=Et(w),Z=(L=w.ownerDocument)==null?void 0:L.body,ue=tt(V.scrollWidth,V.clientWidth,Z?Z.scrollWidth:0,Z?Z.clientWidth:0),_e=tt(V.scrollHeight,V.clientHeight,Z?Z.scrollHeight:0,Z?Z.clientHeight:0),ye=-q.scrollLeft+yl(w),fe=-q.scrollTop;return As(Z||V).direction==="rtl"&&(ye+=tt(V.clientWidth,Z?Z.clientWidth:0)-ue),{width:ue,height:_e,x:ye,y:fe}}(Fn(v)))}function wl(v){var u,p=v.reference,w=v.element,L=v.placement,V=L?Gn(L):null,q=L?Sn(L):null,Z=p.x+p.width/2-w.width/2,ue=p.y+p.height/2-w.height/2;switch(V){case Jt:u={x:Z,y:p.y-w.height};break;case pn:u={x:Z,y:p.y+p.height};break;case cn:u={x:p.x+p.width,y:ue};break;case Kt:u={x:p.x-w.width,y:ue};break;default:u={x:p.x,y:p.y}}var _e=V?Go(V):null;if(_e!=null){var ye=_e==="y"?"height":"width";switch(q){case ai:u[_e]=u[_e]-(p[ye]/2-w[ye]/2);break;case Ts:u[_e]=u[_e]+(p[ye]/2-w[ye]/2)}}return u}function mn(v,u){u===void 0&&(u={});var p=u,w=p.placement,L=w===void 0?v.placement:w,V=p.strategy,q=V===void 0?v.strategy:V,Z=p.boundary,ue=Z===void 0?cl:Z,_e=p.rootBoundary,ye=_e===void 0?jr:_e,fe=p.elementContext,He=fe===void 0?os:fe,Oe=p.altBoundary,Me=Oe!==void 0&&Oe,Le=p.padding,$e=Le===void 0?0:Le,mt=au(typeof $e!="number"?$e:lu($e,oi)),bt=He===os?Us:os,Qe=v.rects.popper,lt=v.elements[Me?bt:He],qe=function(Pn,us,hs,Nt){var Hs=us==="clippingParents"?function(_t){var On=zi(Qn(_t)),ds=["absolute","fixed"].indexOf(As(_t).position)>=0&&Dt(_t)?qi(_t):_t;return Cn(ds)?On.filter(function(Xi){return Cn(Xi)&&ou(Xi,ds)&&Kn(Xi)!=="body"}):[]}(Pn):[].concat(us),qs=[].concat(Hs,[hs]),ia=qs[0],nn=qs.reduce(function(_t,On){var ds=qr(Pn,On,Nt);return _t.top=tt(ds.top,_t.top),_t.right=li(ds.right,_t.right),_t.bottom=li(ds.bottom,_t.bottom),_t.left=tt(ds.left,_t.left),_t},qr(Pn,ia,Nt));return nn.width=nn.right-nn.left,nn.height=nn.bottom-nn.top,nn.x=nn.left,nn.y=nn.top,nn}(Cn(lt)?lt:lt.contextElement||Fn(v.elements.popper),ue,ye,q),Je=ui(v.elements.reference),ft=wl({reference:Je,element:Qe,placement:L}),gt=Xo(Object.assign({},Qe,ft)),pt=He===os?gt:Je,Mt={top:qe.top-pt.top+mt.top,bottom:pt.bottom-qe.bottom+mt.bottom,left:qe.left-pt.left+mt.left,right:pt.right-qe.right+mt.right},Yn=v.modifiersData.offset;if(He===os&&Yn){var Cs=Yn[L];Object.keys(Mt).forEach(function(Pn){var us=[cn,pn].indexOf(Pn)>=0?1:-1,hs=[Jt,pn].indexOf(Pn)>=0?"y":"x";Mt[Pn]+=Cs[hs]*us})}return Mt}function du(v,u){u===void 0&&(u={});var p=u,w=p.placement,L=p.boundary,V=p.rootBoundary,q=p.padding,Z=p.flipVariations,ue=p.allowedAutoPlacements,_e=ue===void 0?ul:ue,ye=Sn(w),fe=ye?Z?Br:Br.filter(function(Me){return Sn(Me)===ye}):oi,He=fe.filter(function(Me){return _e.indexOf(Me)>=0});He.length===0&&(He=fe);var Oe=He.reduce(function(Me,Le){return Me[Le]=mn(v,{placement:Le,boundary:L,rootBoundary:V,padding:q})[Gn(Le)],Me},{});return Object.keys(Oe).sort(function(Me,Le){return Oe[Me]-Oe[Le]})}const fu={name:"flip",enabled:!0,phase:"main",fn:function(v){var u=v.state,p=v.options,w=v.name;if(!u.modifiersData[w]._skip){for(var L=p.mainAxis,V=L===void 0||L,q=p.altAxis,Z=q===void 0||q,ue=p.fallbackPlacements,_e=p.padding,ye=p.boundary,fe=p.rootBoundary,He=p.altBoundary,Oe=p.flipVariations,Me=Oe===void 0||Oe,Le=p.allowedAutoPlacements,$e=u.options.placement,mt=Gn($e),bt=ue||(mt!==$e&&Me?function(_t){if(Gn(_t)===Ur)return[];var On=js(_t);return[Yo(_t),On,Yo(On)]}($e):[js($e)]),Qe=[$e].concat(bt).reduce(function(_t,On){return _t.concat(Gn(On)===Ur?du(u,{placement:On,boundary:ye,rootBoundary:fe,padding:_e,flipVariations:Me,allowedAutoPlacements:Le}):On)},[]),lt=u.rects.reference,qe=u.rects.popper,Je=new Map,ft=!0,gt=Qe[0],pt=0;pt<Qe.length;pt++){var Mt=Qe[pt],Yn=Gn(Mt),Cs=Sn(Mt)===ai,Pn=[Jt,pn].indexOf(Yn)>=0,us=Pn?"width":"height",hs=mn(u,{placement:Mt,boundary:ye,rootBoundary:fe,altBoundary:He,padding:_e}),Nt=Pn?Cs?cn:Kt:Cs?pn:Jt;lt[us]>qe[us]&&(Nt=js(Nt));var Hs=js(Nt),qs=[];if(V&&qs.push(hs[Yn]<=0),Z&&qs.push(hs[Nt]<=0,hs[Hs]<=0),qs.every(function(_t){return _t})){gt=Mt,ft=!1;break}Je.set(Mt,qs)}if(ft)for(var ia=function(_t){var On=Qe.find(function(ds){var Xi=Je.get(ds);if(Xi)return Xi.slice(0,_t).every(function(Au){return Au})});if(On)return gt=On,"break"},nn=Me?3:1;nn>0&&ia(nn)!=="break";nn--);u.placement!==gt&&(u.modifiersData[w]._skip=!0,u.placement=gt,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ki(v,u,p){return p===void 0&&(p={x:0,y:0}),{top:v.top-u.height-p.y,right:v.right-u.width+p.x,bottom:v.bottom-u.height+p.y,left:v.left-u.width-p.x}}function Tl(v){return[Jt,cn,pn,Kt].some(function(u){return v[u]>=0})}const Jo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(v){var u=v.state,p=v.name,w=u.rects.reference,L=u.rects.popper,V=u.modifiersData.preventOverflow,q=mn(u,{elementContext:"reference"}),Z=mn(u,{altBoundary:!0}),ue=Ki(q,w),_e=Ki(Z,L,V),ye=Tl(ue),fe=Tl(_e);u.modifiersData[p]={referenceClippingOffsets:ue,popperEscapeOffsets:_e,isReferenceHidden:ye,hasPopperEscaped:fe},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":ye,"data-popper-escaped":fe})}},Wr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(v){var u=v.state,p=v.options,w=v.name,L=p.offset,V=L===void 0?[0,0]:L,q=ul.reduce(function(ye,fe){return ye[fe]=function(He,Oe,Me){var Le=Gn(He),$e=[Kt,Jt].indexOf(Le)>=0?-1:1,mt=typeof Me=="function"?Me(Object.assign({},Oe,{placement:He})):Me,bt=mt[0],Qe=mt[1];return bt=bt||0,Qe=(Qe||0)*$e,[Kt,cn].indexOf(Le)>=0?{x:Qe,y:bt}:{x:bt,y:Qe}}(fe,u.rects,V),ye},{}),Z=q[u.placement],ue=Z.x,_e=Z.y;u.modifiersData.popperOffsets!=null&&(u.modifiersData.popperOffsets.x+=ue,u.modifiersData.popperOffsets.y+=_e),u.modifiersData[w]=q}},Zo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(v){var u=v.state,p=v.name;u.modifiersData[p]=wl({reference:u.rects.reference,element:u.rects.popper,placement:u.placement})},data:{}},zr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(v){var u=v.state,p=v.options,w=v.name,L=p.mainAxis,V=L===void 0||L,q=p.altAxis,Z=q!==void 0&&q,ue=p.boundary,_e=p.rootBoundary,ye=p.altBoundary,fe=p.padding,He=p.tether,Oe=He===void 0||He,Me=p.tetherOffset,Le=Me===void 0?0:Me,$e=mn(u,{boundary:ue,rootBoundary:_e,padding:fe,altBoundary:ye}),mt=Gn(u.placement),bt=Sn(u.placement),Qe=!bt,lt=Go(mt),qe=lt==="x"?"y":"x",Je=u.modifiersData.popperOffsets,ft=u.rects.reference,gt=u.rects.popper,pt=typeof Le=="function"?Le(Object.assign({},u.rects,{placement:u.placement})):Le,Mt=typeof pt=="number"?{mainAxis:pt,altAxis:pt}:Object.assign({mainAxis:0,altAxis:0},pt),Yn=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,Cs={x:0,y:0};if(Je){if(V){var Pn,us=lt==="y"?Jt:Kt,hs=lt==="y"?pn:cn,Nt=lt==="y"?"height":"width",Hs=Je[lt],qs=Hs+$e[us],ia=Hs-$e[hs],nn=Oe?-gt[Nt]/2:0,_t=bt===ai?ft[Nt]:gt[Nt],On=bt===ai?-gt[Nt]:-ft[Nt],ds=u.elements.arrow,Xi=Oe&&ds?_l(ds):{width:0,height:0},Au=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},i_=Au[us],r_=Au[hs],Iu=ls(0,ft[Nt],Xi[Nt]),iC=Qe?ft[Nt]/2-nn-Iu-i_-Mt.mainAxis:_t-Iu-i_-Mt.mainAxis,rC=Qe?-ft[Nt]/2+nn+Iu+r_+Mt.mainAxis:On+Iu+r_+Mt.mainAxis,sf=u.elements.arrow&&qi(u.elements.arrow),oC=sf?lt==="y"?sf.clientTop||0:sf.clientLeft||0:0,o_=(Pn=Yn==null?void 0:Yn[lt])!=null?Pn:0,aC=Hs+rC-o_,a_=ls(Oe?li(qs,Hs+iC-o_-oC):qs,Hs,Oe?tt(ia,aC):ia);Je[lt]=a_,Cs[lt]=a_-Hs}if(Z){var l_,lC=lt==="x"?Jt:Kt,cC=lt==="x"?pn:cn,to=Je[qe],Cu=qe==="y"?"height":"width",c_=to+$e[lC],u_=to-$e[cC],rf=[Jt,Kt].indexOf(mt)!==-1,h_=(l_=Yn==null?void 0:Yn[qe])!=null?l_:0,d_=rf?c_:to-ft[Cu]-gt[Cu]-h_+Mt.altAxis,f_=rf?to+ft[Cu]+gt[Cu]-h_-Mt.altAxis:u_,p_=Oe&&rf?function(uC,hC,of){var m_=ls(uC,hC,of);return m_>of?of:m_}(d_,to,f_):ls(Oe?d_:c_,to,Oe?f_:u_);Je[qe]=p_,Cs[qe]=p_-to}u.modifiersData[w]=Cs}},requiresIfExists:["offset"]};function zd(v,u,p){p===void 0&&(p=!1);var w,L,V=Dt(u),q=Dt(u)&&function(fe){var He=fe.getBoundingClientRect(),Oe=as(He.width)/fe.offsetWidth||1,Me=as(He.height)/fe.offsetHeight||1;return Oe!==1||Me!==1}(u),Z=Fn(u),ue=ui(v,q,p),_e={scrollLeft:0,scrollTop:0},ye={x:0,y:0};return(V||!V&&!p)&&((Kn(u)!=="body"||El(Z))&&(_e=(w=u)!==In(w)&&Dt(w)?{scrollLeft:(L=w).scrollLeft,scrollTop:L.scrollTop}:Et(w)),Dt(u)?((ye=ui(u,!0)).x+=u.clientLeft,ye.y+=u.clientTop):Z&&(ye.x=yl(Z))),{x:ue.left+_e.scrollLeft-ye.x,y:ue.top+_e.scrollTop-ye.y,width:ue.width,height:ue.height}}function pu(v){var u=new Map,p=new Set,w=[];function L(V){p.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function(q){if(!p.has(q)){var Z=u.get(q);Z&&L(Z)}}),w.push(V)}return v.forEach(function(V){u.set(V.name,V)}),v.forEach(function(V){p.has(V.name)||L(V)}),w}var Gi={placement:"bottom",modifiers:[],strategy:"absolute"};function Al(){for(var v=arguments.length,u=new Array(v),p=0;p<v;p++)u[p]=arguments[p];return!u.some(function(w){return!(w&&typeof w.getBoundingClientRect=="function")})}function Kr(v){v===void 0&&(v={});var u=v,p=u.defaultModifiers,w=p===void 0?[]:p,L=u.defaultOptions,V=L===void 0?Gi:L;return function(q,Z,ue){ue===void 0&&(ue=V);var _e,ye,fe={placement:"bottom",orderedModifiers:[],options:Object.assign({},Gi,V),modifiersData:{},elements:{reference:q,popper:Z},attributes:{},styles:{}},He=[],Oe=!1,Me={state:fe,setOptions:function($e){var mt=typeof $e=="function"?$e(fe.options):$e;Le(),fe.options=Object.assign({},V,fe.options,mt),fe.scrollParents={reference:Cn(q)?zi(q):q.contextElement?zi(q.contextElement):[],popper:zi(Z)};var bt,Qe,lt=function(qe){var Je=pu(qe);return gl.reduce(function(ft,gt){return ft.concat(Je.filter(function(pt){return pt.phase===gt}))},[])}((bt=[].concat(w,fe.options.modifiers),Qe=bt.reduce(function(qe,Je){var ft=qe[Je.name];return qe[Je.name]=ft?Object.assign({},ft,Je,{options:Object.assign({},ft.options,Je.options),data:Object.assign({},ft.data,Je.data)}):Je,qe},{}),Object.keys(Qe).map(function(qe){return Qe[qe]})));return fe.orderedModifiers=lt.filter(function(qe){return qe.enabled}),fe.orderedModifiers.forEach(function(qe){var Je=qe.name,ft=qe.options,gt=ft===void 0?{}:ft,pt=qe.effect;if(typeof pt=="function"){var Mt=pt({state:fe,name:Je,instance:Me,options:gt});He.push(Mt||function(){})}}),Me.update()},forceUpdate:function(){if(!Oe){var $e=fe.elements,mt=$e.reference,bt=$e.popper;if(Al(mt,bt)){fe.rects={reference:zd(mt,qi(bt),fe.options.strategy==="fixed"),popper:_l(bt)},fe.reset=!1,fe.placement=fe.options.placement,fe.orderedModifiers.forEach(function(pt){return fe.modifiersData[pt.name]=Object.assign({},pt.data)});for(var Qe=0;Qe<fe.orderedModifiers.length;Qe++)if(fe.reset!==!0){var lt=fe.orderedModifiers[Qe],qe=lt.fn,Je=lt.options,ft=Je===void 0?{}:Je,gt=lt.name;typeof qe=="function"&&(fe=qe({state:fe,options:ft,name:gt,instance:Me})||fe)}else fe.reset=!1,Qe=-1}}},update:(_e=function(){return new Promise(function($e){Me.forceUpdate(),$e(fe)})},function(){return ye||(ye=new Promise(function($e){Promise.resolve().then(function(){ye=void 0,$e(_e())})})),ye}),destroy:function(){Le(),Oe=!0}};if(!Al(q,Z))return Me;function Le(){He.forEach(function($e){return $e()}),He=[]}return Me.setOptions(ue).then(function($e){!Oe&&ue.onFirstUpdate&&ue.onFirstUpdate($e)}),Me}}var Il=Kr(),Cl=Kr({defaultModifiers:[Qo,Zo,Wi,Hi]}),ea=Kr({defaultModifiers:[Qo,Zo,Wi,Hi,Wr,fu,zr,cu,Jo]});const Gr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:pl,afterRead:fl,afterWrite:iu,applyStyles:Hi,arrow:cu,auto:Ur,basePlacements:oi,beforeMain:zo,beforeRead:hl,beforeWrite:ml,bottom:pn,clippingParents:cl,computeStyles:Wi,createPopper:ea,createPopperBase:Il,createPopperLite:Cl,detectOverflow:mn,end:Ts,eventListeners:Qo,flip:fu,hide:Jo,left:Kt,main:Ko,modifierPhases:gl,offset:Wr,placements:ul,popper:os,popperGenerator:Kr,popperOffsets:Zo,preventOverflow:zr,read:dl,reference:Us,right:cn,start:ai,top:Jt,variationPlacements:Br,viewport:jr,write:su},Symbol.toStringTag,{value:"Module"})),Sl="dropdown",Bs=".bs.dropdown",Is=".data-api",mu="ArrowUp",Rl="ArrowDown",gu=`hide${Bs}`,_u=`hidden${Bs}`,ta=`show${Bs}`,Rn=`shown${Bs}`,Pl=`click${Bs}${Is}`,Ol=`keydown${Bs}${Is}`,Qi=`keyup${Bs}${Is}`,a="show",f='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',g=`${f}.${a}`,T=".dropdown-menu",$=x()?"top-end":"top-start",B=x()?"top-start":"top-end",ce=x()?"bottom-end":"bottom-start",dt=x()?"bottom-start":"bottom-end",Gt=x()?"left-start":"right-start",Ze=x()?"right-start":"left-start",Zt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},en={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class tn extends ot{constructor(u,p){super(u,p),this._popper=null,this._parent=this._element.parentNode,this._menu=W.next(this._element,T)[0]||W.prev(this._element,T)[0]||W.findOne(T,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Zt}static get DefaultType(){return en}static get NAME(){return Sl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(h(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!Q.trigger(this._element,ta,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))Q.on(p,"mouseover",_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(a),this._element.classList.add(a),Q.trigger(this._element,Rn,u)}}hide(){if(h(this._element)||!this._isShown())return;const u={relatedTarget:this._element};this._completeHide(u)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!Q.trigger(this._element,gu,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))Q.off(p,"mouseover",_);this._popper&&this._popper.destroy(),this._menu.classList.remove(a),this._element.classList.remove(a),this._element.setAttribute("aria-expanded","false"),Tt.removeDataAttribute(this._menu,"popper"),Q.trigger(this._element,_u,u),this._element.focus()}}_getConfig(u){if(typeof(u=super._getConfig(u)).reference=="object"&&!l(u.reference)&&typeof u.reference.getBoundingClientRect!="function")throw new TypeError(`${Sl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(Gr===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let u=this._element;this._config.reference==="parent"?u=this._parent:l(this._config.reference)?u=c(this._config.reference):typeof this._config.reference=="object"&&(u=this._config.reference);const p=this._getPopperConfig();this._popper=ea(u,this._menu,p)}_isShown(){return this._menu.classList.contains(a)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return Gt;if(u.classList.contains("dropstart"))return Ze;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const p=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return u.classList.contains("dropup")?p?B:$:p?dt:ce}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(p=>Number.parseInt(p,10)):typeof u=="function"?p=>u(p,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Tt.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...F(this._config.popperConfig,[void 0,u])}}_selectMenuItem({key:u,target:p}){const w=W.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(L=>d(L));w.length&&j(w,p,u===Rl,!w.includes(p)).focus()}static jQueryInterface(u){return this.each(function(){const p=tn.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u]()}})}static clearMenus(u){if(u.button===2||u.type==="keyup"&&u.key!=="Tab")return;const p=W.find(g);for(const w of p){const L=tn.getInstance(w);if(!L||L._config.autoClose===!1)continue;const V=u.composedPath(),q=V.includes(L._menu);if(V.includes(L._element)||L._config.autoClose==="inside"&&!q||L._config.autoClose==="outside"&&q||L._menu.contains(u.target)&&(u.type==="keyup"&&u.key==="Tab"||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const Z={relatedTarget:L._element};u.type==="click"&&(Z.clickEvent=u),L._completeHide(Z)}}static dataApiKeydownHandler(u){const p=/input|textarea/i.test(u.target.tagName),w=u.key==="Escape",L=[mu,Rl].includes(u.key);if(!L&&!w||p&&!w)return;u.preventDefault();const V=this.matches(f)?this:W.prev(this,f)[0]||W.next(this,f)[0]||W.findOne(f,u.delegateTarget.parentNode),q=tn.getOrCreateInstance(V);if(L)return u.stopPropagation(),q.show(),void q._selectMenuItem(u);q._isShown()&&(u.stopPropagation(),q.hide(),V.focus())}}Q.on(document,Ol,f,tn.dataApiKeydownHandler),Q.on(document,Ol,T,tn.dataApiKeydownHandler),Q.on(document,Pl,tn.clearMenus),Q.on(document,Qi,tn.clearMenus),Q.on(document,Pl,f,function(v){v.preventDefault(),tn.getOrCreateInstance(this).toggle()}),U(tn);const Un="backdrop",Qr="show",na=`mousedown.bs.${Un}`,zI={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},KI={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Pg extends At{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return zI}static get DefaultType(){return KI}static get NAME(){return Un}show(u){if(!this._config.isVisible)return void F(u);this._append();const p=this._getElement();this._config.isAnimated&&E(p),p.classList.add(Qr),this._emulateAnimation(()=>{F(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove(Qr),this._emulateAnimation(()=>{this.dispose(),F(u)})):F(u)}dispose(){this._isAppended&&(Q.off(this._element,na),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=c(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),Q.on(u,na,()=>{F(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){H(u,this._getElement(),this._config.isAnimated)}}const vu=".bs.focustrap",GI=`focusin${vu}`,QI=`keydown.tab${vu}`,Og="backward",YI={autofocus:!0,trapElement:null},XI={autofocus:"boolean",trapElement:"element"};class kg extends At{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return YI}static get DefaultType(){return XI}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Q.off(document,vu),Q.on(document,GI,u=>this._handleFocusin(u)),Q.on(document,QI,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Q.off(document,vu))}_handleFocusin(u){const{trapElement:p}=this._config;if(u.target===document||u.target===p||p.contains(u.target))return;const w=W.focusableChildren(p);w.length===0?p.focus():this._lastTabNavDirection===Og?w[w.length-1].focus():w[0].focus()}_handleKeydown(u){u.key==="Tab"&&(this._lastTabNavDirection=u.shiftKey?Og:"forward")}}const Dg=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ng=".sticky-top",yu="padding-right",xg="margin-right";class Kd{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,yu,p=>p+u),this._setElementAttributes(Dg,yu,p=>p+u),this._setElementAttributes(Ng,xg,p=>p-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,yu),this._resetElementAttributes(Dg,yu),this._resetElementAttributes(Ng,xg)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,p,w){const L=this.getWidth();this._applyManipulationCallback(u,V=>{if(V!==this._element&&window.innerWidth>V.clientWidth+L)return;this._saveInitialAttribute(V,p);const q=window.getComputedStyle(V).getPropertyValue(p);V.style.setProperty(p,`${w(Number.parseFloat(q))}px`)})}_saveInitialAttribute(u,p){const w=u.style.getPropertyValue(p);w&&Tt.setDataAttribute(u,p,w)}_resetElementAttributes(u,p){this._applyManipulationCallback(u,w=>{const L=Tt.getDataAttribute(w,p);L!==null?(Tt.removeDataAttribute(w,p),w.style.setProperty(p,L)):w.style.removeProperty(p)})}_applyManipulationCallback(u,p){if(l(u))p(u);else for(const w of W.find(u,this._element))p(w)}}const cs=".bs.modal",JI=`hide${cs}`,ZI=`hidePrevented${cs}`,Lg=`hidden${cs}`,Vg=`show${cs}`,e0=`shown${cs}`,t0=`resize${cs}`,n0=`click.dismiss${cs}`,s0=`mousedown.dismiss${cs}`,i0=`keydown.dismiss${cs}`,r0=`click${cs}.data-api`,Mg="modal-open",$g="show",Gd="modal-static",o0={backdrop:!0,focus:!0,keyboard:!0},a0={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Yr extends ot{constructor(u,p){super(u,p),this._dialog=W.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Kd,this._addEventListeners()}static get Default(){return o0}static get DefaultType(){return a0}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||Q.trigger(this._element,Vg,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Mg),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){this._isShown&&!this._isTransitioning&&(Q.trigger(this._element,JI).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove($g),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Q.off(window,cs),Q.off(this._dialog,cs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Pg({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new kg({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const p=W.findOne(".modal-body",this._dialog);p&&(p.scrollTop=0),E(this._element),this._element.classList.add($g),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Q.trigger(this._element,e0,{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){Q.on(this._element,i0,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),Q.on(window,t0,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Q.on(this._element,s0,u=>{Q.one(this._element,n0,p=>{this._element===u.target&&this._element===p.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Mg),this._resetAdjustments(),this._scrollBar.reset(),Q.trigger(this._element,Lg)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Q.trigger(this._element,ZI).defaultPrevented)return;const u=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;p==="hidden"||this._element.classList.contains(Gd)||(u||(this._element.style.overflowY="hidden"),this._element.classList.add(Gd),this._queueCallback(()=>{this._element.classList.remove(Gd),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,p=this._scrollBar.getWidth(),w=p>0;if(w&&!u){const L=x()?"paddingLeft":"paddingRight";this._element.style[L]=`${p}px`}if(!w&&u){const L=x()?"paddingRight":"paddingLeft";this._element.style[L]=`${p}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,p){return this.each(function(){const w=Yr.getOrCreateInstance(this,u);if(typeof u=="string"){if(w[u]===void 0)throw new TypeError(`No method named "${u}"`);w[u](p)}})}}Q.on(document,r0,'[data-bs-toggle="modal"]',function(v){const u=W.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&v.preventDefault(),Q.one(u,Vg,w=>{w.defaultPrevented||Q.one(u,Lg,()=>{d(this)&&this.focus()})});const p=W.findOne(".modal.show");p&&Yr.getInstance(p).hide(),Yr.getOrCreateInstance(u).toggle(this)}),le(Yr),U(Yr);const di=".bs.offcanvas",Fg=".data-api",l0=`load${di}${Fg}`,Ug="show",jg="showing",Bg="hiding",Hg=".offcanvas.show",c0=`show${di}`,u0=`shown${di}`,h0=`hide${di}`,qg=`hidePrevented${di}`,Wg=`hidden${di}`,d0=`resize${di}`,f0=`click${di}${Fg}`,p0=`keydown.dismiss${di}`,m0={backdrop:!0,keyboard:!0,scroll:!1},g0={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class fi extends ot{constructor(u,p){super(u,p),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return m0}static get DefaultType(){return g0}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||Q.trigger(this._element,c0,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Kd().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(jg),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Ug),this._element.classList.remove(jg),Q.trigger(this._element,u0,{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&(Q.trigger(this._element,h0).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Bg),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Ug,Bg),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Kd().reset(),Q.trigger(this._element,Wg)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const u=!!this._config.backdrop;return new Pg({className:"offcanvas-backdrop",isVisible:u,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:u?()=>{this._config.backdrop!=="static"?this.hide():Q.trigger(this._element,qg)}:null})}_initializeFocusTrap(){return new kg({trapElement:this._element})}_addEventListeners(){Q.on(this._element,p0,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():Q.trigger(this._element,qg))})}static jQueryInterface(u){return this.each(function(){const p=fi.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u](this)}})}}Q.on(document,f0,'[data-bs-toggle="offcanvas"]',function(v){const u=W.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&v.preventDefault(),h(this))return;Q.one(u,Wg,()=>{d(this)&&this.focus()});const p=W.findOne(Hg);p&&p!==u&&fi.getInstance(p).hide(),fi.getOrCreateInstance(u).toggle(this)}),Q.on(window,l0,()=>{for(const v of W.find(Hg))fi.getOrCreateInstance(v).show()}),Q.on(window,d0,()=>{for(const v of W.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(v).position!=="fixed"&&fi.getOrCreateInstance(v).hide()}),le(fi),U(fi);const zg={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},_0=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),v0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,y0=(v,u)=>{const p=v.nodeName.toLowerCase();return u.includes(p)?!_0.has(p)||!!v0.test(v.nodeValue):u.filter(w=>w instanceof RegExp).some(w=>w.test(p))},E0={allowList:zg,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},b0={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},w0={entry:"(string|element|function|null)",selector:"(string|element)"};class T0 extends At{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return E0}static get DefaultType(){return b0}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[L,V]of Object.entries(this._config.content))this._setContent(u,V,L);const p=u.children[0],w=this._resolvePossibleFunction(this._config.extraClass);return w&&p.classList.add(...w.split(" ")),p}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[p,w]of Object.entries(u))super._typeCheckConfig({selector:p,entry:w},w0)}_setContent(u,p,w){const L=W.findOne(w,u);L&&((p=this._resolvePossibleFunction(p))?l(p)?this._putElementInTemplate(c(p),L):this._config.html?L.innerHTML=this._maybeSanitize(p):L.textContent=p:L.remove())}_maybeSanitize(u){return this._config.sanitize?function(p,w,L){if(!p.length)return p;if(L&&typeof L=="function")return L(p);const V=new window.DOMParser().parseFromString(p,"text/html"),q=[].concat(...V.body.querySelectorAll("*"));for(const Z of q){const ue=Z.nodeName.toLowerCase();if(!Object.keys(w).includes(ue)){Z.remove();continue}const _e=[].concat(...Z.attributes),ye=[].concat(w["*"]||[],w[ue]||[]);for(const fe of _e)y0(fe,ye)||Z.removeAttribute(fe.nodeName)}return V.body.innerHTML}(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return F(u,[void 0,this])}_putElementInTemplate(u,p){if(this._config.html)return p.innerHTML="",void p.append(u);p.textContent=u.textContent}}const A0=new Set(["sanitize","allowList","sanitizeFn"]),Qd="fade",Eu="show",I0=".tooltip-inner",Kg=".modal",Gg="hide.bs.modal",kl="hover",Yd="focus",C0={AUTO:"auto",TOP:"top",RIGHT:x()?"left":"right",BOTTOM:"bottom",LEFT:x()?"right":"left"},S0={allowList:zg,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},R0={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Xr extends ot{constructor(u,p){if(Gr===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(u,p),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return S0}static get DefaultType(){return R0}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Q.off(this._element.closest(Kg),Gg,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=Q.trigger(this._element,this.constructor.eventName("show")),p=(m(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!p)return;this._disposePopper();const w=this._getTipElement();this._element.setAttribute("aria-describedby",w.getAttribute("id"));const{container:L}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(L.append(w),Q.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(w),w.classList.add(Eu),"ontouchstart"in document.documentElement)for(const V of[].concat(...document.body.children))Q.on(V,"mouseover",_);this._queueCallback(()=>{Q.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Q.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Eu),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))Q.off(u,"mouseover",_);this._activeTrigger.click=!1,this._activeTrigger[Yd]=!1,this._activeTrigger[kl]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Q.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const p=this._getTemplateFactory(u).toHtml();if(!p)return null;p.classList.remove(Qd,Eu),p.classList.add(`bs-${this.constructor.NAME}-auto`);const w=(L=>{do L+=Math.floor(1e6*Math.random());while(document.getElementById(L));return L})(this.constructor.NAME).toString();return p.setAttribute("id",w),this._isAnimated()&&p.classList.add(Qd),p}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new T0({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[I0]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Qd)}_isShown(){return this.tip&&this.tip.classList.contains(Eu)}_createPopper(u){const p=F(this._config.placement,[this,u,this._element]),w=C0[p.toUpperCase()];return ea(this._element,u,this._getPopperConfig(w))}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(p=>Number.parseInt(p,10)):typeof u=="function"?p=>u(p,this._element):u}_resolvePossibleFunction(u){return F(u,[this._element,this._element])}_getPopperConfig(u){const p={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:w=>{this._getTipElement().setAttribute("data-popper-placement",w.state.placement)}}]};return{...p,...F(this._config.popperConfig,[void 0,p])}}_setListeners(){const u=this._config.trigger.split(" ");for(const p of u)if(p==="click")Q.on(this._element,this.constructor.eventName("click"),this._config.selector,w=>{this._initializeOnDelegatedTarget(w).toggle()});else if(p!=="manual"){const w=p===kl?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),L=p===kl?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Q.on(this._element,w,this._config.selector,V=>{const q=this._initializeOnDelegatedTarget(V);q._activeTrigger[V.type==="focusin"?Yd:kl]=!0,q._enter()}),Q.on(this._element,L,this._config.selector,V=>{const q=this._initializeOnDelegatedTarget(V);q._activeTrigger[V.type==="focusout"?Yd:kl]=q._element.contains(V.relatedTarget),q._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Q.on(this._element.closest(Kg),Gg,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,p){clearTimeout(this._timeout),this._timeout=setTimeout(u,p)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const p=Tt.getDataAttributes(this._element);for(const w of Object.keys(p))A0.has(w)&&delete p[w];return u={...p,...typeof u=="object"&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=u.container===!1?document.body:c(u.container),typeof u.delay=="number"&&(u.delay={show:u.delay,hide:u.delay}),typeof u.title=="number"&&(u.title=u.title.toString()),typeof u.content=="number"&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[p,w]of Object.entries(this._config))this.constructor.Default[p]!==w&&(u[p]=w);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const p=Xr.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u]()}})}}U(Xr);const P0=".popover-header",O0=".popover-body",k0={...Xr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},D0={...Xr.DefaultType,content:"(null|string|element|function)"};class bu extends Xr{static get Default(){return k0}static get DefaultType(){return D0}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[P0]:this._getTitle(),[O0]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const p=bu.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u]()}})}}U(bu);const Xd=".bs.scrollspy",N0=`activate${Xd}`,Qg=`click${Xd}`,x0=`load${Xd}.data-api`,sa="active",Jd="[href]",Yg=".nav-link",L0=`${Yg}, .nav-item > ${Yg}, .list-group-item`,V0={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},M0={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Dl extends ot{constructor(u,p){super(u,p),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return V0}static get DefaultType(){return M0}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=c(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,typeof u.threshold=="string"&&(u.threshold=u.threshold.split(",").map(p=>Number.parseFloat(p))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Q.off(this._config.target,Qg),Q.on(this._config.target,Qg,Jd,u=>{const p=this._observableSections.get(u.target.hash);if(p){u.preventDefault();const w=this._rootElement||window,L=p.offsetTop-this._element.offsetTop;if(w.scrollTo)return void w.scrollTo({top:L,behavior:"smooth"});w.scrollTop=L}}))}_getNewObserver(){const u={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(p=>this._observerCallback(p),u)}_observerCallback(u){const p=q=>this._targetLinks.get(`#${q.target.id}`),w=q=>{this._previousScrollData.visibleEntryTop=q.target.offsetTop,this._process(p(q))},L=(this._rootElement||document.documentElement).scrollTop,V=L>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=L;for(const q of u){if(!q.isIntersecting){this._activeTarget=null,this._clearActiveClass(p(q));continue}const Z=q.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(V&&Z){if(w(q),!L)return}else V||Z||w(q)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=W.find(Jd,this._config.target);for(const p of u){if(!p.hash||h(p))continue;const w=W.findOne(decodeURI(p.hash),this._element);d(w)&&(this._targetLinks.set(decodeURI(p.hash),p),this._observableSections.set(p.hash,w))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(sa),this._activateParents(u),Q.trigger(this._element,N0,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))W.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(sa);else for(const p of W.parents(u,".nav, .list-group"))for(const w of W.prev(p,L0))w.classList.add(sa)}_clearActiveClass(u){u.classList.remove(sa);const p=W.find(`${Jd}.${sa}`,u);for(const w of p)w.classList.remove(sa)}static jQueryInterface(u){return this.each(function(){const p=Dl.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u]()}})}}Q.on(window,x0,()=>{for(const v of W.find('[data-bs-spy="scroll"]'))Dl.getOrCreateInstance(v)}),U(Dl);const Jr=".bs.tab",$0=`hide${Jr}`,F0=`hidden${Jr}`,U0=`show${Jr}`,j0=`shown${Jr}`,B0=`click${Jr}`,H0=`keydown${Jr}`,q0=`load${Jr}`,W0="ArrowLeft",Xg="ArrowRight",z0="ArrowUp",Jg="ArrowDown",Zd="Home",Zg="End",Zr="active",e_="fade",ef="show",t_=".dropdown-toggle",tf=`:not(${t_})`,n_='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',nf=`.nav-link${tf}, .list-group-item${tf}, [role="tab"]${tf}, ${n_}`,K0=`.${Zr}[data-bs-toggle="tab"], .${Zr}[data-bs-toggle="pill"], .${Zr}[data-bs-toggle="list"]`;class eo extends ot{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Q.on(this._element,H0,p=>this._keydown(p)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const p=this._getActiveElem(),w=p?Q.trigger(p,$0,{relatedTarget:u}):null;Q.trigger(u,U0,{relatedTarget:p}).defaultPrevented||w&&w.defaultPrevented||(this._deactivate(p,u),this._activate(u,p))}_activate(u,p){u&&(u.classList.add(Zr),this._activate(W.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),Q.trigger(u,j0,{relatedTarget:p})):u.classList.add(ef)},u,u.classList.contains(e_)))}_deactivate(u,p){u&&(u.classList.remove(Zr),u.blur(),this._deactivate(W.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),Q.trigger(u,F0,{relatedTarget:p})):u.classList.remove(ef)},u,u.classList.contains(e_)))}_keydown(u){if(![W0,Xg,z0,Jg,Zd,Zg].includes(u.key))return;u.stopPropagation(),u.preventDefault();const p=this._getChildren().filter(L=>!h(L));let w;if([Zd,Zg].includes(u.key))w=p[u.key===Zd?0:p.length-1];else{const L=[Xg,Jg].includes(u.key);w=j(p,u.target,L,!0)}w&&(w.focus({preventScroll:!0}),eo.getOrCreateInstance(w).show())}_getChildren(){return W.find(nf,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,p){this._setAttributeIfNotExists(u,"role","tablist");for(const w of p)this._setInitialAttributesOnChild(w)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const p=this._elemIsActive(u),w=this._getOuterElement(u);u.setAttribute("aria-selected",p),w!==u&&this._setAttributeIfNotExists(w,"role","presentation"),p||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const p=W.getElementFromSelector(u);p&&(this._setAttributeIfNotExists(p,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(p,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,p){const w=this._getOuterElement(u);if(!w.classList.contains("dropdown"))return;const L=(V,q)=>{const Z=W.findOne(V,w);Z&&Z.classList.toggle(q,p)};L(t_,Zr),L(".dropdown-menu",ef),w.setAttribute("aria-expanded",p)}_setAttributeIfNotExists(u,p,w){u.hasAttribute(p)||u.setAttribute(p,w)}_elemIsActive(u){return u.classList.contains(Zr)}_getInnerElement(u){return u.matches(nf)?u:W.findOne(nf,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const p=eo.getOrCreateInstance(this);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u]()}})}}Q.on(document,B0,n_,function(v){["A","AREA"].includes(this.tagName)&&v.preventDefault(),h(this)||eo.getOrCreateInstance(this).show()}),Q.on(window,q0,()=>{for(const v of W.find(K0))eo.getOrCreateInstance(v)}),U(eo);const Yi=".bs.toast",G0=`mouseover${Yi}`,Q0=`mouseout${Yi}`,Y0=`focusin${Yi}`,X0=`focusout${Yi}`,J0=`hide${Yi}`,Z0=`hidden${Yi}`,eC=`show${Yi}`,tC=`shown${Yi}`,s_="hide",wu="show",Tu="showing",nC={animation:"boolean",autohide:"boolean",delay:"number"},sC={animation:!0,autohide:!0,delay:5e3};class Nl extends ot{constructor(u,p){super(u,p),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return sC}static get DefaultType(){return nC}static get NAME(){return"toast"}show(){Q.trigger(this._element,eC).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(s_),E(this._element),this._element.classList.add(wu,Tu),this._queueCallback(()=>{this._element.classList.remove(Tu),Q.trigger(this._element,tC),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Q.trigger(this._element,J0).defaultPrevented||(this._element.classList.add(Tu),this._queueCallback(()=>{this._element.classList.add(s_),this._element.classList.remove(Tu,wu),Q.trigger(this._element,Z0)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(wu),super.dispose()}isShown(){return this._element.classList.contains(wu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,p){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=p;break;case"focusin":case"focusout":this._hasKeyboardInteraction=p}if(p)return void this._clearTimeout();const w=u.relatedTarget;this._element===w||this._element.contains(w)||this._maybeScheduleHide()}_setListeners(){Q.on(this._element,G0,u=>this._onInteraction(u,!0)),Q.on(this._element,Q0,u=>this._onInteraction(u,!1)),Q.on(this._element,Y0,u=>this._onInteraction(u,!0)),Q.on(this._element,X0,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const p=Nl.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u](this)}})}}return le(Nl),U(Nl),{Alert:k,Button:K,Carousel:ri,Collapse:An,Dropdown:tn,Modal:Yr,Offcanvas:fi,Popover:bu,ScrollSpy:Dl,Tab:eo,Toast:Nl,Tooltip:Xr}})}(oh)),oh.exports}zV();const KV={props:{text:{type:String,required:!0},maxLength:{type:Number,default:100}},computed:{truncatedText(){return this.text.length<=this.maxLength?this.text:this.text.slice(0,this.maxLength).trim()+"..."}}};function GV(t,e,n,s,i,r){return ie(),re("div",null,[y("p",null,Ee(r.truncatedText),1)])}const HA=fn(KV,[["render",GV]]),QV={class:"container-fluid py-2 commentaires"},YV={class:"font-weight-light"},XV={class:"media-scroller snaps-inline comms",id:"commentairesIn"},JV={class:"comm-card"},ZV={class:"small"},eM={class:"user"},tM=["src","alt"],nM={class:"username"},sM={class:"stars"},iM={__name:"Comments",setup(t){const e=Ce([{id:1,username:"xXDarkSasukeDu44Xx",picture:"/assets/img/gtavi.png",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"1"},{id:2,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"2"},{id:3,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"},{id:4,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"5"},{id:5,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"},{id:6,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"}]);return(n,s)=>(ie(),re("div",QV,[y("h2",YV,Ee(e.value.length)+" Commentaires :",1),y("div",null,[y("ul",XV,[(ie(!0),re(We,null,Ft(e.value,i=>(ie(),re("li",{key:i.id},[y("div",JV,[y("div",ZV,[y("div",eM,[y("img",{src:i.picture,alt:i.username},null,8,tM),y("h3",nM,Ee(i.username),1)]),y("div",sM,[(ie(),re(We,null,Ft(5,(r,o)=>y("span",{key:o},Ee(o<i.rating?"★":"☆"),1)),64))])]),s[0]||(s[0]=y("div",{class:"texte"},null,-1)),y("h4",null,[Te(HA,{text:i.text,maxLength:80},null,8,["text"])]),s[1]||(s[1]=y("h2",null,null,-1))])]))),128))])])]))}},rM=fn(iM,[["__scopeId","data-v-410a89e0"]]),oM={class:"container-fluid py-2"},aM={class:"media-scroller snaps-inline"},lM={class:"game-card mt-4 mb-5"},cM=["href"],uM=["src","alt"],hM={class:"game-text"},dM={class:"titre"},fM={class:"prix"},pM={__name:"Promo",setup(t){const e=Ce([]),n=async()=>{const s=Za(ln,"games"),i=el(s,Io("featured","==",!0),nA(3));try{const r=await tl(i);e.value=[],r.forEach(o=>{const l=o.data();e.value.push({id:o.id,titre:l.name,link:l.link,image:l.image,price:`${l.price}€`})})}catch(r){console.error("Erreur lors de la récupération des jeux :",r)}};return zn(()=>{n()}),console.log("Résultat Firestore:",e.value),(s,i)=>(ie(),re("div",oM,[i[1]||(i[1]=y("h2",{class:"font-weight-light"},"Les jeux de la semaine",-1)),y("div",null,[y("ul",aM,[(ie(!0),re(We,null,Ft(e.value,r=>(ie(),re("li",{key:r.id},[y("div",lM,[y("a",{href:r.link},[y("img",{src:`/assets/img/preview/${r.image}`,alt:r.titre},null,8,uM)],8,cM),y("div",hM,[y("h3",dM,Ee(r.titre)+" :",1),y("h3",fM,Ee(r.price),1)]),i[0]||(i[0]=y("h2",null,null,-1))])]))),128))])])]))}},mM=fn(pM,[["__scopeId","data-v-9d619668"]]);var Vn="top",ss="bottom",is="right",Mn="left",xd="auto",nl=[Vn,ss,is,Mn],Ro="start",Ua="end",qA="clippingParents",cg="viewport",ma="popper",WA="reference",Lp=nl.reduce(function(t,e){return t.concat([e+"-"+Ro,e+"-"+Ua])},[]),ug=[].concat(nl,[xd]).reduce(function(t,e){return t.concat([e,e+"-"+Ro,e+"-"+Ua])},[]),zA="beforeRead",KA="read",GA="afterRead",QA="beforeMain",YA="main",XA="afterMain",JA="beforeWrite",ZA="write",eI="afterWrite",tI=[zA,KA,GA,QA,YA,XA,JA,ZA,eI];function ni(t){return t?(t.nodeName||"").toLowerCase():null}function rs(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Po(t){var e=rs(t).Element;return t instanceof e||t instanceof Element}function gs(t){var e=rs(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function hg(t){if(typeof ShadowRoot>"u")return!1;var e=rs(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function gM(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},i=e.attributes[n]||{},r=e.elements[n];!gs(r)||!ni(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(o){var l=i[o];l===!1?r.removeAttribute(o):r.setAttribute(o,l===!0?"":l)}))})}function _M(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var i=e.elements[s],r=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),l=o.reduce(function(c,d){return c[d]="",c},{});!gs(i)||!ni(i)||(Object.assign(i.style,l),Object.keys(r).forEach(function(c){i.removeAttribute(c)}))})}}const dg={name:"applyStyles",enabled:!0,phase:"write",fn:gM,effect:_M,requires:["computeStyles"]};function Zs(t){return t.split("-")[0]}var vo=Math.max,Hh=Math.min,ja=Math.round;function Vp(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function nI(){return!/^((?!chrome|android).)*safari/i.test(Vp())}function Ba(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),i=1,r=1;e&&gs(t)&&(i=t.offsetWidth>0&&ja(s.width)/t.offsetWidth||1,r=t.offsetHeight>0&&ja(s.height)/t.offsetHeight||1);var o=Po(t)?rs(t):window,l=o.visualViewport,c=!nI()&&n,d=(s.left+(c&&l?l.offsetLeft:0))/i,h=(s.top+(c&&l?l.offsetTop:0))/r,m=s.width/i,_=s.height/r;return{width:m,height:_,top:h,right:d+m,bottom:h+_,left:d,x:d,y:h}}function fg(t){var e=Ba(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function sI(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&hg(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function ki(t){return rs(t).getComputedStyle(t)}function vM(t){return["table","td","th"].indexOf(ni(t))>=0}function xr(t){return((Po(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ld(t){return ni(t)==="html"?t:t.assignedSlot||t.parentNode||(hg(t)?t.host:null)||xr(t)}function Jy(t){return!gs(t)||ki(t).position==="fixed"?null:t.offsetParent}function yM(t){var e=/firefox/i.test(Vp()),n=/Trident/i.test(Vp());if(n&&gs(t)){var s=ki(t);if(s.position==="fixed")return null}var i=Ld(t);for(hg(i)&&(i=i.host);gs(i)&&["html","body"].indexOf(ni(i))<0;){var r=ki(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function Kc(t){for(var e=rs(t),n=Jy(t);n&&vM(n)&&ki(n).position==="static";)n=Jy(n);return n&&(ni(n)==="html"||ni(n)==="body"&&ki(n).position==="static")?e:n||yM(t)||e}function pg(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ac(t,e,n){return vo(t,Hh(e,n))}function EM(t,e,n){var s=ac(t,e,n);return s>n?n:s}function iI(){return{top:0,right:0,bottom:0,left:0}}function rI(t){return Object.assign({},iI(),t)}function oI(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var bM=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,rI(typeof e!="number"?e:oI(e,nl))};function wM(t){var e,n=t.state,s=t.name,i=t.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,l=Zs(n.placement),c=pg(l),d=[Mn,is].indexOf(l)>=0,h=d?"height":"width";if(!(!r||!o)){var m=bM(i.padding,n),_=fg(r),E=c==="y"?Vn:Mn,C=c==="y"?ss:is,N=n.rects.reference[h]+n.rects.reference[c]-o[c]-n.rects.popper[h],x=o[c]-n.rects.reference[c],U=Kc(r),F=U?c==="y"?U.clientHeight||0:U.clientWidth||0:0,H=N/2-x/2,j=m[E],ne=F-_[h]-m[C],oe=F/2-_[h]/2+H,D=ac(j,oe,ne),I=c;n.modifiersData[s]=(e={},e[I]=D,e.centerOffset=D-oe,e)}}function TM(t){var e=t.state,n=t.options,s=n.element,i=s===void 0?"[data-popper-arrow]":s;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||sI(e.elements.popper,i)&&(e.elements.arrow=i))}const aI={name:"arrow",enabled:!0,phase:"main",fn:wM,effect:TM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ha(t){return t.split("-")[1]}var AM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function IM(t,e){var n=t.x,s=t.y,i=e.devicePixelRatio||1;return{x:ja(n*i)/i||0,y:ja(s*i)/i||0}}function Zy(t){var e,n=t.popper,s=t.popperRect,i=t.placement,r=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,d=t.adaptive,h=t.roundOffsets,m=t.isFixed,_=o.x,E=_===void 0?0:_,C=o.y,N=C===void 0?0:C,x=typeof h=="function"?h({x:E,y:N}):{x:E,y:N};E=x.x,N=x.y;var U=o.hasOwnProperty("x"),F=o.hasOwnProperty("y"),H=Mn,j=Vn,ne=window;if(d){var oe=Kc(n),D="clientHeight",I="clientWidth";if(oe===rs(n)&&(oe=xr(n),ki(oe).position!=="static"&&l==="absolute"&&(D="scrollHeight",I="scrollWidth")),oe=oe,i===Vn||(i===Mn||i===is)&&r===Ua){j=ss;var b=m&&oe===ne&&ne.visualViewport?ne.visualViewport.height:oe[D];N-=b-s.height,N*=c?1:-1}if(i===Mn||(i===Vn||i===ss)&&r===Ua){H=is;var A=m&&oe===ne&&ne.visualViewport?ne.visualViewport.width:oe[I];E-=A-s.width,E*=c?1:-1}}var O=Object.assign({position:l},d&&AM),R=h===!0?IM({x:E,y:N},rs(n)):{x:E,y:N};if(E=R.x,N=R.y,c){var S;return Object.assign({},O,(S={},S[j]=F?"0":"",S[H]=U?"0":"",S.transform=(ne.devicePixelRatio||1)<=1?"translate("+E+"px, "+N+"px)":"translate3d("+E+"px, "+N+"px, 0)",S))}return Object.assign({},O,(e={},e[j]=F?N+"px":"",e[H]=U?E+"px":"",e.transform="",e))}function CM(t){var e=t.state,n=t.options,s=n.gpuAcceleration,i=s===void 0?!0:s,r=n.adaptive,o=r===void 0?!0:r,l=n.roundOffsets,c=l===void 0?!0:l,d={placement:Zs(e.placement),variation:Ha(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Zy(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Zy(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const mg={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:CM,data:{}};var Mu={passive:!0};function SM(t){var e=t.state,n=t.instance,s=t.options,i=s.scroll,r=i===void 0?!0:i,o=s.resize,l=o===void 0?!0:o,c=rs(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&d.forEach(function(h){h.addEventListener("scroll",n.update,Mu)}),l&&c.addEventListener("resize",n.update,Mu),function(){r&&d.forEach(function(h){h.removeEventListener("scroll",n.update,Mu)}),l&&c.removeEventListener("resize",n.update,Mu)}}const gg={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:SM,data:{}};var RM={left:"right",right:"left",bottom:"top",top:"bottom"};function ah(t){return t.replace(/left|right|bottom|top/g,function(e){return RM[e]})}var PM={start:"end",end:"start"};function eE(t){return t.replace(/start|end/g,function(e){return PM[e]})}function _g(t){var e=rs(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function vg(t){return Ba(xr(t)).left+_g(t).scrollLeft}function OM(t,e){var n=rs(t),s=xr(t),i=n.visualViewport,r=s.clientWidth,o=s.clientHeight,l=0,c=0;if(i){r=i.width,o=i.height;var d=nI();(d||!d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:r,height:o,x:l+vg(t),y:c}}function kM(t){var e,n=xr(t),s=_g(t),i=(e=t.ownerDocument)==null?void 0:e.body,r=vo(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=vo(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-s.scrollLeft+vg(t),c=-s.scrollTop;return ki(i||n).direction==="rtl"&&(l+=vo(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:o,x:l,y:c}}function yg(t){var e=ki(t),n=e.overflow,s=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+s)}function lI(t){return["html","body","#document"].indexOf(ni(t))>=0?t.ownerDocument.body:gs(t)&&yg(t)?t:lI(Ld(t))}function lc(t,e){var n;e===void 0&&(e=[]);var s=lI(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),r=rs(s),o=i?[r].concat(r.visualViewport||[],yg(s)?s:[]):s,l=e.concat(o);return i?l:l.concat(lc(Ld(o)))}function Mp(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function DM(t,e){var n=Ba(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function tE(t,e,n){return e===cg?Mp(OM(t,n)):Po(e)?DM(e,n):Mp(kM(xr(t)))}function NM(t){var e=lc(Ld(t)),n=["absolute","fixed"].indexOf(ki(t).position)>=0,s=n&&gs(t)?Kc(t):t;return Po(s)?e.filter(function(i){return Po(i)&&sI(i,s)&&ni(i)!=="body"}):[]}function xM(t,e,n,s){var i=e==="clippingParents"?NM(t):[].concat(e),r=[].concat(i,[n]),o=r[0],l=r.reduce(function(c,d){var h=tE(t,d,s);return c.top=vo(h.top,c.top),c.right=Hh(h.right,c.right),c.bottom=Hh(h.bottom,c.bottom),c.left=vo(h.left,c.left),c},tE(t,o,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function cI(t){var e=t.reference,n=t.element,s=t.placement,i=s?Zs(s):null,r=s?Ha(s):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(i){case Vn:c={x:o,y:e.y-n.height};break;case ss:c={x:o,y:e.y+e.height};break;case is:c={x:e.x+e.width,y:l};break;case Mn:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var d=i?pg(i):null;if(d!=null){var h=d==="y"?"height":"width";switch(r){case Ro:c[d]=c[d]-(e[h]/2-n[h]/2);break;case Ua:c[d]=c[d]+(e[h]/2-n[h]/2);break}}return c}function qa(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=s===void 0?t.placement:s,r=n.strategy,o=r===void 0?t.strategy:r,l=n.boundary,c=l===void 0?qA:l,d=n.rootBoundary,h=d===void 0?cg:d,m=n.elementContext,_=m===void 0?ma:m,E=n.altBoundary,C=E===void 0?!1:E,N=n.padding,x=N===void 0?0:N,U=rI(typeof x!="number"?x:oI(x,nl)),F=_===ma?WA:ma,H=t.rects.popper,j=t.elements[C?F:_],ne=xM(Po(j)?j:j.contextElement||xr(t.elements.popper),c,h,o),oe=Ba(t.elements.reference),D=cI({reference:oe,element:H,placement:i}),I=Mp(Object.assign({},H,D)),b=_===ma?I:oe,A={top:ne.top-b.top+U.top,bottom:b.bottom-ne.bottom+U.bottom,left:ne.left-b.left+U.left,right:b.right-ne.right+U.right},O=t.modifiersData.offset;if(_===ma&&O){var R=O[i];Object.keys(A).forEach(function(S){var Be=[is,ss].indexOf(S)>=0?1:-1,st=[Vn,ss].indexOf(S)>=0?"y":"x";A[S]+=R[st]*Be})}return A}function LM(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=n.boundary,r=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?ug:c,h=Ha(s),m=h?l?Lp:Lp.filter(function(C){return Ha(C)===h}):nl,_=m.filter(function(C){return d.indexOf(C)>=0});_.length===0&&(_=m);var E=_.reduce(function(C,N){return C[N]=qa(t,{placement:N,boundary:i,rootBoundary:r,padding:o})[Zs(N)],C},{});return Object.keys(E).sort(function(C,N){return E[C]-E[N]})}function VM(t){if(Zs(t)===xd)return[];var e=ah(t);return[eE(t),e,eE(e)]}function MM(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,d=n.padding,h=n.boundary,m=n.rootBoundary,_=n.altBoundary,E=n.flipVariations,C=E===void 0?!0:E,N=n.allowedAutoPlacements,x=e.options.placement,U=Zs(x),F=U===x,H=c||(F||!C?[ah(x)]:VM(x)),j=[x].concat(H).reduce(function(Tt,At){return Tt.concat(Zs(At)===xd?LM(e,{placement:At,boundary:h,rootBoundary:m,padding:d,flipVariations:C,allowedAutoPlacements:N}):At)},[]),ne=e.rects.reference,oe=e.rects.popper,D=new Map,I=!0,b=j[0],A=0;A<j.length;A++){var O=j[A],R=Zs(O),S=Ha(O)===Ro,Be=[Vn,ss].indexOf(R)>=0,st=Be?"width":"height",xe=qa(e,{placement:O,boundary:h,rootBoundary:m,altBoundary:_,padding:d}),be=Be?S?is:Mn:S?ss:Vn;ne[st]>oe[st]&&(be=ah(be));var je=ah(be),Ct=[];if(r&&Ct.push(xe[R]<=0),l&&Ct.push(xe[be]<=0,xe[je]<=0),Ct.every(function(Tt){return Tt})){b=O,I=!1;break}D.set(O,Ct)}if(I)for(var Q=C?3:1,jt=function(At){var ot=j.find(function(z){var W=D.get(z);if(W)return W.slice(0,At).every(function(le){return le})});if(ot)return b=ot,"break"},it=Q;it>0;it--){var rt=jt(it);if(rt==="break")break}e.placement!==b&&(e.modifiersData[s]._skip=!0,e.placement=b,e.reset=!0)}}const uI={name:"flip",enabled:!0,phase:"main",fn:MM,requiresIfExists:["offset"],data:{_skip:!1}};function nE(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function sE(t){return[Vn,is,ss,Mn].some(function(e){return t[e]>=0})}function $M(t){var e=t.state,n=t.name,s=e.rects.reference,i=e.rects.popper,r=e.modifiersData.preventOverflow,o=qa(e,{elementContext:"reference"}),l=qa(e,{altBoundary:!0}),c=nE(o,s),d=nE(l,i,r),h=sE(c),m=sE(d);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:h,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":m})}const hI={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$M};function FM(t,e,n){var s=Zs(t),i=[Mn,Vn].indexOf(s)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=r[0],l=r[1];return o=o||0,l=(l||0)*i,[Mn,is].indexOf(s)>=0?{x:l,y:o}:{x:o,y:l}}function UM(t){var e=t.state,n=t.options,s=t.name,i=n.offset,r=i===void 0?[0,0]:i,o=ug.reduce(function(h,m){return h[m]=FM(m,e.rects,r),h},{}),l=o[e.placement],c=l.x,d=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[s]=o}const dI={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:UM};function jM(t){var e=t.state,n=t.name;e.modifiersData[n]=cI({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Eg={name:"popperOffsets",enabled:!0,phase:"read",fn:jM,data:{}};function BM(t){return t==="x"?"y":"x"}function HM(t){var e=t.state,n=t.options,s=t.name,i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,m=n.padding,_=n.tether,E=_===void 0?!0:_,C=n.tetherOffset,N=C===void 0?0:C,x=qa(e,{boundary:c,rootBoundary:d,padding:m,altBoundary:h}),U=Zs(e.placement),F=Ha(e.placement),H=!F,j=pg(U),ne=BM(j),oe=e.modifiersData.popperOffsets,D=e.rects.reference,I=e.rects.popper,b=typeof N=="function"?N(Object.assign({},e.rects,{placement:e.placement})):N,A=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,R={x:0,y:0};if(oe){if(r){var S,Be=j==="y"?Vn:Mn,st=j==="y"?ss:is,xe=j==="y"?"height":"width",be=oe[j],je=be+x[Be],Ct=be-x[st],Q=E?-I[xe]/2:0,jt=F===Ro?D[xe]:I[xe],it=F===Ro?-I[xe]:-D[xe],rt=e.elements.arrow,Tt=E&&rt?fg(rt):{width:0,height:0},At=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:iI(),ot=At[Be],z=At[st],W=ac(0,D[xe],Tt[xe]),le=H?D[xe]/2-Q-W-ot-A.mainAxis:jt-W-ot-A.mainAxis,ge=H?-D[xe]/2+Q+W+z+A.mainAxis:it+W+z+A.mainAxis,Ge=e.elements.arrow&&Kc(e.elements.arrow),P=Ge?j==="y"?Ge.clientTop||0:Ge.clientLeft||0:0,k=(S=O==null?void 0:O[j])!=null?S:0,M=be+le-k-P,K=be+ge-k,G=ac(E?Hh(je,M):je,be,E?vo(Ct,K):Ct);oe[j]=G,R[j]=G-be}if(l){var Y,he=j==="x"?Vn:Mn,ae=j==="x"?ss:is,se=oe[ne],ee=ne==="y"?"height":"width",Ie=se+x[he],de=se-x[ae],ve=[Vn,Mn].indexOf(U)!==-1,we=(Y=O==null?void 0:O[ne])!=null?Y:0,Ae=ve?Ie:se-D[ee]-I[ee]-we+A.altAxis,Ne=ve?se+D[ee]+I[ee]-we-A.altAxis:de,ze=E&&ve?EM(Ae,se,Ne):ac(E?Ae:Ie,se,E?Ne:de);oe[ne]=ze,R[ne]=ze-se}e.modifiersData[s]=R}}const fI={name:"preventOverflow",enabled:!0,phase:"main",fn:HM,requiresIfExists:["offset"]};function qM(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function WM(t){return t===rs(t)||!gs(t)?_g(t):qM(t)}function zM(t){var e=t.getBoundingClientRect(),n=ja(e.width)/t.offsetWidth||1,s=ja(e.height)/t.offsetHeight||1;return n!==1||s!==1}function KM(t,e,n){n===void 0&&(n=!1);var s=gs(e),i=gs(e)&&zM(e),r=xr(e),o=Ba(t,i,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!n)&&((ni(e)!=="body"||yg(r))&&(l=WM(e)),gs(e)?(c=Ba(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):r&&(c.x=vg(r))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function GM(t){var e=new Map,n=new Set,s=[];t.forEach(function(r){e.set(r.name,r)});function i(r){n.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&i(c)}}),s.push(r)}return t.forEach(function(r){n.has(r.name)||i(r)}),s}function QM(t){var e=GM(t);return tI.reduce(function(n,s){return n.concat(e.filter(function(i){return i.phase===s}))},[])}function YM(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function XM(t){var e=t.reduce(function(n,s){var i=n[s.name];return n[s.name]=i?Object.assign({},i,s,{options:Object.assign({},i.options,s.options),data:Object.assign({},i.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var iE={placement:"bottom",modifiers:[],strategy:"absolute"};function rE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Vd(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,i=e.defaultOptions,r=i===void 0?iE:i;return function(l,c,d){d===void 0&&(d=r);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},iE,r),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},m=[],_=!1,E={state:h,setOptions:function(U){var F=typeof U=="function"?U(h.options):U;N(),h.options=Object.assign({},r,h.options,F),h.scrollParents={reference:Po(l)?lc(l):l.contextElement?lc(l.contextElement):[],popper:lc(c)};var H=QM(XM([].concat(s,h.options.modifiers)));return h.orderedModifiers=H.filter(function(j){return j.enabled}),C(),E.update()},forceUpdate:function(){if(!_){var U=h.elements,F=U.reference,H=U.popper;if(rE(F,H)){h.rects={reference:KM(F,Kc(H),h.options.strategy==="fixed"),popper:fg(H)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(A){return h.modifiersData[A.name]=Object.assign({},A.data)});for(var j=0;j<h.orderedModifiers.length;j++){if(h.reset===!0){h.reset=!1,j=-1;continue}var ne=h.orderedModifiers[j],oe=ne.fn,D=ne.options,I=D===void 0?{}:D,b=ne.name;typeof oe=="function"&&(h=oe({state:h,options:I,name:b,instance:E})||h)}}}},update:YM(function(){return new Promise(function(x){E.forceUpdate(),x(h)})}),destroy:function(){N(),_=!0}};if(!rE(l,c))return E;E.setOptions(d).then(function(x){!_&&d.onFirstUpdate&&d.onFirstUpdate(x)});function C(){h.orderedModifiers.forEach(function(x){var U=x.name,F=x.options,H=F===void 0?{}:F,j=x.effect;if(typeof j=="function"){var ne=j({state:h,name:U,instance:E,options:H}),oe=function(){};m.push(ne||oe)}})}function N(){m.forEach(function(x){return x()}),m=[]}return E}}var JM=Vd(),ZM=[gg,Eg,mg,dg],e2=Vd({defaultModifiers:ZM}),t2=[gg,Eg,mg,dg,dI,uI,fI,aI,hI],bg=Vd({defaultModifiers:t2});const pI=Object.freeze(Object.defineProperty({__proto__:null,afterMain:XA,afterRead:GA,afterWrite:eI,applyStyles:dg,arrow:aI,auto:xd,basePlacements:nl,beforeMain:QA,beforeRead:zA,beforeWrite:JA,bottom:ss,clippingParents:qA,computeStyles:mg,createPopper:bg,createPopperBase:JM,createPopperLite:e2,detectOverflow:qa,end:Ua,eventListeners:gg,flip:uI,hide:hI,left:Mn,main:YA,modifierPhases:tI,offset:dI,placements:ug,popper:ma,popperGenerator:Vd,popperOffsets:Eg,preventOverflow:fI,read:KA,reference:WA,right:is,start:Ro,top:Vn,variationPlacements:Lp,viewport:cg,write:ZA},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const tr=new Map,Nf={set(t,e,n){tr.has(t)||tr.set(t,new Map);const s=tr.get(t);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,n)},get(t,e){return tr.has(t)&&tr.get(t).get(e)||null},remove(t,e){if(!tr.has(t))return;const n=tr.get(t);n.delete(e),n.size===0&&tr.delete(t)}},n2=1e6,s2=1e3,$p="transitionend",mI=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),i2=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),r2=t=>{do t+=Math.floor(Math.random()*n2);while(document.getElementById(t));return t},o2=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const s=Number.parseFloat(e),i=Number.parseFloat(n);return!s&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*s2)},gI=t=>{t.dispatchEvent(new Event($p))},Ii=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Sr=t=>Ii(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(mI(t)):null,sl=t=>{if(!Ii(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const s=t.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return e},Rr=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",_I=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?_I(t.parentNode):null},qh=()=>{},Gc=t=>{t.offsetHeight},vI=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,xf=[],a2=t=>{document.readyState==="loading"?(xf.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of xf)e()}),xf.push(t)):t()},Es=()=>document.documentElement.dir==="rtl",ws=t=>{a2(()=>{const e=vI();if(e){const n=t.NAME,s=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=s,t.jQueryInterface)}})},Wn=(t,e=[],n=t)=>typeof t=="function"?t.call(...e):n,yI=(t,e,n=!0)=>{if(!n){Wn(t);return}const i=o2(e)+5;let r=!1;const o=({target:l})=>{l===e&&(r=!0,e.removeEventListener($p,o),Wn(t))};e.addEventListener($p,o),setTimeout(()=>{r||gI(e)},i)},wg=(t,e,n,s)=>{const i=t.length;let r=t.indexOf(e);return r===-1?!n&&s?t[i-1]:t[0]:(r+=n?1:-1,s&&(r=(r+i)%i),t[Math.max(0,Math.min(r,i-1))])},l2=/[^.]*(?=\..*)\.|.*/,c2=/\..*/,u2=/::\d+$/,Lf={};let oE=1;const EI={mouseenter:"mouseover",mouseleave:"mouseout"},h2=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function bI(t,e){return e&&`${e}::${oE++}`||t.uidEvent||oE++}function wI(t){const e=bI(t);return t.uidEvent=e,Lf[e]=Lf[e]||{},Lf[e]}function d2(t,e){return function n(s){return Tg(s,{delegateTarget:t}),n.oneOff&&te.off(t,s.type,e),e.apply(t,[s])}}function f2(t,e,n){return function s(i){const r=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const l of r)if(l===o)return Tg(i,{delegateTarget:o}),s.oneOff&&te.off(t,i.type,e,n),n.apply(o,[i])}}function TI(t,e,n=null){return Object.values(t).find(s=>s.callable===e&&s.delegationSelector===n)}function AI(t,e,n){const s=typeof e=="string",i=s?n:e||n;let r=II(t);return h2.has(r)||(r=t),[s,i,r]}function aE(t,e,n,s,i){if(typeof e!="string"||!t)return;let[r,o,l]=AI(e,n,s);e in EI&&(o=(C=>function(N){if(!N.relatedTarget||N.relatedTarget!==N.delegateTarget&&!N.delegateTarget.contains(N.relatedTarget))return C.call(this,N)})(o));const c=wI(t),d=c[l]||(c[l]={}),h=TI(d,o,r?n:null);if(h){h.oneOff=h.oneOff&&i;return}const m=bI(o,e.replace(l2,"")),_=r?f2(t,n,o):d2(t,o);_.delegationSelector=r?n:null,_.callable=o,_.oneOff=i,_.uidEvent=m,d[m]=_,t.addEventListener(l,_,r)}function Fp(t,e,n,s,i){const r=TI(e[n],s,i);r&&(t.removeEventListener(n,r,!!i),delete e[n][r.uidEvent])}function p2(t,e,n,s){const i=e[n]||{};for(const[r,o]of Object.entries(i))r.includes(s)&&Fp(t,e,n,o.callable,o.delegationSelector)}function II(t){return t=t.replace(c2,""),EI[t]||t}const te={on(t,e,n,s){aE(t,e,n,s,!1)},one(t,e,n,s){aE(t,e,n,s,!0)},off(t,e,n,s){if(typeof e!="string"||!t)return;const[i,r,o]=AI(e,n,s),l=o!==e,c=wI(t),d=c[o]||{},h=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(d).length)return;Fp(t,c,o,r,i?n:null);return}if(h)for(const m of Object.keys(c))p2(t,c,m,e.slice(1));for(const[m,_]of Object.entries(d)){const E=m.replace(u2,"");(!l||e.includes(E))&&Fp(t,c,o,_.callable,_.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const s=vI(),i=II(e),r=e!==i;let o=null,l=!0,c=!0,d=!1;r&&s&&(o=s.Event(e,n),s(t).trigger(o),l=!o.isPropagationStopped(),c=!o.isImmediatePropagationStopped(),d=o.isDefaultPrevented());const h=Tg(new Event(e,{bubbles:l,cancelable:!0}),n);return d&&h.preventDefault(),c&&t.dispatchEvent(h),h.defaultPrevented&&o&&o.preventDefault(),h}};function Tg(t,e={}){for(const[n,s]of Object.entries(e))try{t[n]=s}catch{Object.defineProperty(t,n,{configurable:!0,get(){return s}})}return t}function lE(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Vf(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Ci={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Vf(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Vf(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=lE(t.dataset[s])}return e},getDataAttribute(t,e){return lE(t.getAttribute(`data-bs-${Vf(e)}`))}};class Qc{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const s=Ii(n)?Ci.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...Ii(n)?Ci.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[s,i]of Object.entries(n)){const r=e[s],o=Ii(r)?"element":i2(r);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${i}".`)}}}const m2="5.3.6";class Vs extends Qc{constructor(e,n){super(),e=Sr(e),e&&(this._element=e,this._config=this._getConfig(n),Nf.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Nf.remove(this._element,this.constructor.DATA_KEY),te.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,s=!0){yI(e,n,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Nf.get(Sr(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return m2}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Mf=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>mI(n)).join(","):null},Re={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let s=t.parentNode.closest(e);for(;s;)n.push(s),s=s.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!Rr(n)&&sl(n))},getSelectorFromElement(t){const e=Mf(t);return e&&Re.findOne(e)?e:null},getElementFromSelector(t){const e=Mf(t);return e?Re.findOne(e):null},getMultipleElementsFromSelector(t){const e=Mf(t);return e?Re.find(e):[]}},Md=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;te.on(document,n,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Rr(this))return;const r=Re.getElementFromSelector(this)||this.closest(`.${s}`);t.getOrCreateInstance(r)[e]()})},g2="alert",_2="bs.alert",CI=`.${_2}`,v2=`close${CI}`,y2=`closed${CI}`,E2="fade",b2="show";class $d extends Vs{static get NAME(){return g2}close(){if(te.trigger(this._element,v2).defaultPrevented)return;this._element.classList.remove(b2);const n=this._element.classList.contains(E2);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),te.trigger(this._element,y2),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=$d.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Md($d,"close");ws($d);const w2="button",T2="bs.button",A2=`.${T2}`,I2=".data-api",C2="active",cE='[data-bs-toggle="button"]',S2=`click${A2}${I2}`;class Fd extends Vs{static get NAME(){return w2}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(C2))}static jQueryInterface(e){return this.each(function(){const n=Fd.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}te.on(document,S2,cE,t=>{t.preventDefault();const e=t.target.closest(cE);Fd.getOrCreateInstance(e).toggle()});ws(Fd);const R2="swipe",il=".bs.swipe",P2=`touchstart${il}`,O2=`touchmove${il}`,k2=`touchend${il}`,D2=`pointerdown${il}`,N2=`pointerup${il}`,x2="touch",L2="pen",V2="pointer-event",M2=40,$2={endCallback:null,leftCallback:null,rightCallback:null},F2={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Wh extends Qc{constructor(e,n){super(),this._element=e,!(!e||!Wh.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return $2}static get DefaultType(){return F2}static get NAME(){return R2}dispose(){te.off(this._element,il)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Wn(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=M2)return;const n=e/this._deltaX;this._deltaX=0,n&&Wn(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(te.on(this._element,D2,e=>this._start(e)),te.on(this._element,N2,e=>this._end(e)),this._element.classList.add(V2)):(te.on(this._element,P2,e=>this._start(e)),te.on(this._element,O2,e=>this._move(e)),te.on(this._element,k2,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===L2||e.pointerType===x2)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const U2="carousel",j2="bs.carousel",Lr=`.${j2}`,SI=".data-api",B2="ArrowLeft",H2="ArrowRight",q2=500,Ml="next",aa="prev",ga="left",lh="right",W2=`slide${Lr}`,$f=`slid${Lr}`,z2=`keydown${Lr}`,K2=`mouseenter${Lr}`,G2=`mouseleave${Lr}`,Q2=`dragstart${Lr}`,Y2=`load${Lr}${SI}`,X2=`click${Lr}${SI}`,RI="carousel",$u="active",J2="slide",Z2="carousel-item-end",e$="carousel-item-start",t$="carousel-item-next",n$="carousel-item-prev",PI=".active",OI=".carousel-item",s$=PI+OI,i$=".carousel-item img",r$=".carousel-indicators",o$="[data-bs-slide], [data-bs-slide-to]",a$='[data-bs-ride="carousel"]',l$={[B2]:lh,[H2]:ga},c$={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},u$={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Yc extends Vs{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Re.findOne(r$,this._element),this._addEventListeners(),this._config.ride===RI&&this.cycle()}static get Default(){return c$}static get DefaultType(){return u$}static get NAME(){return U2}next(){this._slide(Ml)}nextWhenVisible(){!document.hidden&&sl(this._element)&&this.next()}prev(){this._slide(aa)}pause(){this._isSliding&&gI(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){te.one(this._element,$f,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){te.one(this._element,$f,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const i=e>s?Ml:aa;this._slide(i,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&te.on(this._element,z2,e=>this._keydown(e)),this._config.pause==="hover"&&(te.on(this._element,K2,()=>this.pause()),te.on(this._element,G2,()=>this._maybeEnableCycle())),this._config.touch&&Wh.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of Re.find(i$,this._element))te.on(s,Q2,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(ga)),rightCallback:()=>this._slide(this._directionToOrder(lh)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),q2+this._config.interval))}};this._swipeHelper=new Wh(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=l$[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=Re.findOne(PI,this._indicatorsElement);n.classList.remove($u),n.removeAttribute("aria-current");const s=Re.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add($u),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const s=this._getActive(),i=e===Ml,r=n||wg(this._getItems(),s,i,this._config.wrap);if(r===s)return;const o=this._getItemIndex(r),l=E=>te.trigger(this._element,E,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:o});if(l(W2).defaultPrevented||!s||!r)return;const d=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const h=i?e$:Z2,m=i?t$:n$;r.classList.add(m),Gc(r),s.classList.add(h),r.classList.add(h);const _=()=>{r.classList.remove(h,m),r.classList.add($u),s.classList.remove($u,m,h),this._isSliding=!1,l($f)};this._queueCallback(_,s,this._isAnimated()),d&&this.cycle()}_isAnimated(){return this._element.classList.contains(J2)}_getActive(){return Re.findOne(s$,this._element)}_getItems(){return Re.find(OI,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Es()?e===ga?aa:Ml:e===ga?Ml:aa}_orderToDirection(e){return Es()?e===aa?ga:lh:e===aa?lh:ga}static jQueryInterface(e){return this.each(function(){const n=Yc.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}te.on(document,X2,o$,function(t){const e=Re.getElementFromSelector(this);if(!e||!e.classList.contains(RI))return;t.preventDefault();const n=Yc.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(Ci.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});te.on(window,Y2,()=>{const t=Re.find(a$);for(const e of t)Yc.getOrCreateInstance(e)});ws(Yc);const h$="collapse",d$="bs.collapse",Xc=`.${d$}`,f$=".data-api",p$=`show${Xc}`,m$=`shown${Xc}`,g$=`hide${Xc}`,_$=`hidden${Xc}`,v$=`click${Xc}${f$}`,Ff="show",va="collapse",Fu="collapsing",y$="collapsed",E$=`:scope .${va} .${va}`,b$="collapse-horizontal",w$="width",T$="height",A$=".collapse.show, .collapse.collapsing",Up='[data-bs-toggle="collapse"]',I$={parent:null,toggle:!0},C$={parent:"(null|element)",toggle:"boolean"};class Sc extends Vs{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const s=Re.find(Up);for(const i of s){const r=Re.getSelectorFromElement(i),o=Re.find(r).filter(l=>l===this._element);r!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return I$}static get DefaultType(){return C$}static get NAME(){return h$}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(A$).filter(l=>l!==this._element).map(l=>Sc.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||te.trigger(this._element,p$).defaultPrevented)return;for(const l of e)l.hide();const s=this._getDimension();this._element.classList.remove(va),this._element.classList.add(Fu),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Fu),this._element.classList.add(va,Ff),this._element.style[s]="",te.trigger(this._element,m$)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||te.trigger(this._element,g$).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Gc(this._element),this._element.classList.add(Fu),this._element.classList.remove(va,Ff);for(const i of this._triggerArray){const r=Re.getElementFromSelector(i);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(Fu),this._element.classList.add(va),te.trigger(this._element,_$)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Ff)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Sr(e.parent),e}_getDimension(){return this._element.classList.contains(b$)?w$:T$}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Up);for(const n of e){const s=Re.getElementFromSelector(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(e){const n=Re.find(E$,this._config.parent);return Re.find(e,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const s of e)s.classList.toggle(y$,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const s=Sc.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}te.on(document,v$,Up,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of Re.getMultipleElementsFromSelector(this))Sc.getOrCreateInstance(e,{toggle:!1}).toggle()});ws(Sc);const uE="dropdown",S$="bs.dropdown",Vo=`.${S$}`,Ag=".data-api",R$="Escape",hE="Tab",P$="ArrowUp",dE="ArrowDown",O$=2,k$=`hide${Vo}`,D$=`hidden${Vo}`,N$=`show${Vo}`,x$=`shown${Vo}`,kI=`click${Vo}${Ag}`,DI=`keydown${Vo}${Ag}`,L$=`keyup${Vo}${Ag}`,_a="show",V$="dropup",M$="dropend",$$="dropstart",F$="dropup-center",U$="dropdown-center",fo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',j$=`${fo}.${_a}`,ch=".dropdown-menu",B$=".navbar",H$=".navbar-nav",q$=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",W$=Es()?"top-end":"top-start",z$=Es()?"top-start":"top-end",K$=Es()?"bottom-end":"bottom-start",G$=Es()?"bottom-start":"bottom-end",Q$=Es()?"left-start":"right-start",Y$=Es()?"right-start":"left-start",X$="top",J$="bottom",Z$={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},e4={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ds extends Vs{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=Re.next(this._element,ch)[0]||Re.prev(this._element,ch)[0]||Re.findOne(ch,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Z$}static get DefaultType(){return e4}static get NAME(){return uE}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Rr(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!te.trigger(this._element,N$,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(H$))for(const s of[].concat(...document.body.children))te.on(s,"mouseover",qh);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(_a),this._element.classList.add(_a),te.trigger(this._element,x$,e)}}hide(){if(Rr(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!te.trigger(this._element,k$,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))te.off(s,"mouseover",qh);this._popper&&this._popper.destroy(),this._menu.classList.remove(_a),this._element.classList.remove(_a),this._element.setAttribute("aria-expanded","false"),Ci.removeDataAttribute(this._menu,"popper"),te.trigger(this._element,D$,e),this._element.focus()}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Ii(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${uE.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof pI>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:Ii(this._config.reference)?e=Sr(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=bg(e,this._menu,n)}_isShown(){return this._menu.classList.contains(_a)}_getPlacement(){const e=this._parent;if(e.classList.contains(M$))return Q$;if(e.classList.contains($$))return Y$;if(e.classList.contains(F$))return X$;if(e.classList.contains(U$))return J$;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(V$)?n?z$:W$:n?G$:K$}_detectNavbar(){return this._element.closest(B$)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ci.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Wn(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:n}){const s=Re.find(q$,this._menu).filter(i=>sl(i));s.length&&wg(s,n,e===dE,!s.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=Ds.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===O$||e.type==="keyup"&&e.key!==hE)return;const n=Re.find(j$);for(const s of n){const i=Ds.getInstance(s);if(!i||i._config.autoClose===!1)continue;const r=e.composedPath(),o=r.includes(i._menu);if(r.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===hE||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const l={relatedTarget:i._element};e.type==="click"&&(l.clickEvent=e),i._completeHide(l)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),s=e.key===R$,i=[P$,dE].includes(e.key);if(!i&&!s||n&&!s)return;e.preventDefault();const r=this.matches(fo)?this:Re.prev(this,fo)[0]||Re.next(this,fo)[0]||Re.findOne(fo,e.delegateTarget.parentNode),o=Ds.getOrCreateInstance(r);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}te.on(document,DI,fo,Ds.dataApiKeydownHandler);te.on(document,DI,ch,Ds.dataApiKeydownHandler);te.on(document,kI,Ds.clearMenus);te.on(document,L$,Ds.clearMenus);te.on(document,kI,fo,function(t){t.preventDefault(),Ds.getOrCreateInstance(this).toggle()});ws(Ds);const NI="backdrop",t4="fade",fE="show",pE=`mousedown.bs.${NI}`,n4={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},s4={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class xI extends Qc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return n4}static get DefaultType(){return s4}static get NAME(){return NI}show(e){if(!this._config.isVisible){Wn(e);return}this._append();const n=this._getElement();this._config.isAnimated&&Gc(n),n.classList.add(fE),this._emulateAnimation(()=>{Wn(e)})}hide(e){if(!this._config.isVisible){Wn(e);return}this._getElement().classList.remove(fE),this._emulateAnimation(()=>{this.dispose(),Wn(e)})}dispose(){this._isAppended&&(te.off(this._element,pE),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(t4),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Sr(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),te.on(e,pE,()=>{Wn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){yI(e,this._getElement(),this._config.isAnimated)}}const i4="focustrap",r4="bs.focustrap",zh=`.${r4}`,o4=`focusin${zh}`,a4=`keydown.tab${zh}`,l4="Tab",c4="forward",mE="backward",u4={autofocus:!0,trapElement:null},h4={autofocus:"boolean",trapElement:"element"};class LI extends Qc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return u4}static get DefaultType(){return h4}static get NAME(){return i4}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),te.off(document,zh),te.on(document,o4,e=>this._handleFocusin(e)),te.on(document,a4,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,te.off(document,zh))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const s=Re.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===mE?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===l4&&(this._lastTabNavDirection=e.shiftKey?mE:c4)}}const gE=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_E=".sticky-top",Uu="padding-right",vE="margin-right";class jp{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Uu,n=>n+e),this._setElementAttributes(gE,Uu,n=>n+e),this._setElementAttributes(_E,vE,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Uu),this._resetElementAttributes(gE,Uu),this._resetElementAttributes(_E,vE)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,s){const i=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,n);const l=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${s(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,n){const s=e.style.getPropertyValue(n);s&&Ci.setDataAttribute(e,n,s)}_resetElementAttributes(e,n){const s=i=>{const r=Ci.getDataAttribute(i,n);if(r===null){i.style.removeProperty(n);return}Ci.removeDataAttribute(i,n),i.style.setProperty(n,r)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,n){if(Ii(e)){n(e);return}for(const s of Re.find(e,this._element))n(s)}}const d4="modal",f4="bs.modal",bs=`.${f4}`,p4=".data-api",m4="Escape",g4=`hide${bs}`,_4=`hidePrevented${bs}`,VI=`hidden${bs}`,MI=`show${bs}`,v4=`shown${bs}`,y4=`resize${bs}`,E4=`click.dismiss${bs}`,b4=`mousedown.dismiss${bs}`,w4=`keydown.dismiss${bs}`,T4=`click${bs}${p4}`,yE="modal-open",A4="fade",EE="show",Uf="modal-static",I4=".modal.show",C4=".modal-dialog",S4=".modal-body",R4='[data-bs-toggle="modal"]',P4={backdrop:!0,focus:!0,keyboard:!0},O4={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Oo extends Vs{constructor(e,n){super(e,n),this._dialog=Re.findOne(C4,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new jp,this._addEventListeners()}static get Default(){return P4}static get DefaultType(){return O4}static get NAME(){return d4}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||te.trigger(this._element,MI,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(yE),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||te.trigger(this._element,g4).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(EE),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){te.off(window,bs),te.off(this._dialog,bs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new xI({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new LI({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=Re.findOne(S4,this._dialog);n&&(n.scrollTop=0),Gc(this._element),this._element.classList.add(EE);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,te.trigger(this._element,v4,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){te.on(this._element,w4,e=>{if(e.key===m4){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),te.on(window,y4,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),te.on(this._element,b4,e=>{te.one(this._element,E4,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(yE),this._resetAdjustments(),this._scrollBar.reset(),te.trigger(this._element,VI)})}_isAnimated(){return this._element.classList.contains(A4)}_triggerBackdropTransition(){if(te.trigger(this._element,_4).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(Uf)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Uf),this._queueCallback(()=>{this._element.classList.remove(Uf),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!e){const i=Es()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!s&&e){const i=Es()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const s=Oo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](n)}})}}te.on(document,T4,R4,function(t){const e=Re.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),te.one(e,MI,i=>{i.defaultPrevented||te.one(e,VI,()=>{sl(this)&&this.focus()})});const n=Re.findOne(I4);n&&Oo.getInstance(n).hide(),Oo.getOrCreateInstance(e).toggle(this)});Md(Oo);ws(Oo);const k4="offcanvas",D4="bs.offcanvas",$i=`.${D4}`,$I=".data-api",N4=`load${$i}${$I}`,x4="Escape",bE="show",wE="showing",TE="hiding",L4="offcanvas-backdrop",FI=".offcanvas.show",V4=`show${$i}`,M4=`shown${$i}`,$4=`hide${$i}`,AE=`hidePrevented${$i}`,UI=`hidden${$i}`,F4=`resize${$i}`,U4=`click${$i}${$I}`,j4=`keydown.dismiss${$i}`,B4='[data-bs-toggle="offcanvas"]',H4={backdrop:!0,keyboard:!0,scroll:!1},q4={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Pr extends Vs{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return H4}static get DefaultType(){return q4}static get NAME(){return k4}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||te.trigger(this._element,V4,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new jp().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(wE);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(bE),this._element.classList.remove(wE),te.trigger(this._element,M4,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||te.trigger(this._element,$4).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(TE),this._backdrop.hide();const n=()=>{this._element.classList.remove(bE,TE),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new jp().reset(),te.trigger(this._element,UI)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){te.trigger(this._element,AE);return}this.hide()},n=!!this._config.backdrop;return new xI({className:L4,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new LI({trapElement:this._element})}_addEventListeners(){te.on(this._element,j4,e=>{if(e.key===x4){if(this._config.keyboard){this.hide();return}te.trigger(this._element,AE)}})}static jQueryInterface(e){return this.each(function(){const n=Pr.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}te.on(document,U4,B4,function(t){const e=Re.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Rr(this))return;te.one(e,UI,()=>{sl(this)&&this.focus()});const n=Re.findOne(FI);n&&n!==e&&Pr.getInstance(n).hide(),Pr.getOrCreateInstance(e).toggle(this)});te.on(window,N4,()=>{for(const t of Re.find(FI))Pr.getOrCreateInstance(t).show()});te.on(window,F4,()=>{for(const t of Re.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Pr.getOrCreateInstance(t).hide()});Md(Pr);ws(Pr);const W4=/^aria-[\w-]*$/i,jI={"*":["class","dir","id","lang","role",W4],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},z4=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),K4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,G4=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?z4.has(n)?!!K4.test(t.nodeValue):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(n))};function Q4(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const i=new window.DOMParser().parseFromString(t,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const o of r){const l=o.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){o.remove();continue}const c=[].concat(...o.attributes),d=[].concat(e["*"]||[],e[l]||[]);for(const h of c)G4(h,d)||o.removeAttribute(h.nodeName)}return i.body.innerHTML}const Y4="TemplateFactory",X4={allowList:jI,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},J4={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Z4={entry:"(string|element|function|null)",selector:"(string|element)"};class eF extends Qc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return X4}static get DefaultType(){return J4}static get NAME(){return Y4}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(e,r,i);const n=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,s]of Object.entries(e))super._typeCheckConfig({selector:n,entry:s},Z4)}_setContent(e,n,s){const i=Re.findOne(s,e);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(Ii(n)){this._putElementInTemplate(Sr(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(e){return this._config.sanitize?Q4(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Wn(e,[void 0,this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const tF="tooltip",nF=new Set(["sanitize","allowList","sanitizeFn"]),jf="fade",sF="modal",ju="show",iF=".tooltip-inner",IE=`.${sF}`,CE="hide.bs.modal",$l="hover",Bf="focus",rF="click",oF="manual",aF="hide",lF="hidden",cF="show",uF="shown",hF="inserted",dF="click",fF="focusin",pF="focusout",mF="mouseenter",gF="mouseleave",_F={AUTO:"auto",TOP:"top",RIGHT:Es()?"left":"right",BOTTOM:"bottom",LEFT:Es()?"right":"left"},vF={allowList:jI,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},yF={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class rl extends Vs{constructor(e,n){if(typeof pI>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return vF}static get DefaultType(){return yF}static get NAME(){return tF}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),te.off(this._element.closest(IE),CE,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=te.trigger(this._element,this.constructor.eventName(cF)),s=(_I(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),te.trigger(this._element,this.constructor.eventName(hF))),this._popper=this._createPopper(i),i.classList.add(ju),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))te.on(l,"mouseover",qh);const o=()=>{te.trigger(this._element,this.constructor.eventName(uF)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||te.trigger(this._element,this.constructor.eventName(aF)).defaultPrevented)return;if(this._getTipElement().classList.remove(ju),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))te.off(i,"mouseover",qh);this._activeTrigger[rF]=!1,this._activeTrigger[Bf]=!1,this._activeTrigger[$l]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),te.trigger(this._element,this.constructor.eventName(lF)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(jf,ju),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=r2(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(jf),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new eF({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[iF]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(jf)}_isShown(){return this.tip&&this.tip.classList.contains(ju)}_createPopper(e){const n=Wn(this._config.placement,[this,e,this._element]),s=_F[n.toUpperCase()];return bg(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return Wn(e,[this._element,this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...Wn(this._config.popperConfig,[void 0,n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")te.on(this._element,this.constructor.eventName(dF),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==oF){const s=n===$l?this.constructor.eventName(mF):this.constructor.eventName(fF),i=n===$l?this.constructor.eventName(gF):this.constructor.eventName(pF);te.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusin"?Bf:$l]=!0,o._enter()}),te.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusout"?Bf:$l]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},te.on(this._element.closest(IE),CE,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=Ci.getDataAttributes(this._element);for(const s of Object.keys(n))nF.has(s)&&delete n[s];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Sr(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,s]of Object.entries(this._config))this.constructor.Default[n]!==s&&(e[n]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=rl.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ws(rl);const EF="popover",bF=".popover-header",wF=".popover-body",TF={...rl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},AF={...rl.DefaultType,content:"(null|string|element|function)"};class Ig extends rl{static get Default(){return TF}static get DefaultType(){return AF}static get NAME(){return EF}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[bF]:this._getTitle(),[wF]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=Ig.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ws(Ig);const IF="scrollspy",CF="bs.scrollspy",Cg=`.${CF}`,SF=".data-api",RF=`activate${Cg}`,SE=`click${Cg}`,PF=`load${Cg}${SF}`,OF="dropdown-item",la="active",kF='[data-bs-spy="scroll"]',Hf="[href]",DF=".nav, .list-group",RE=".nav-link",NF=".nav-item",xF=".list-group-item",LF=`${RE}, ${NF} > ${RE}, ${xF}`,VF=".dropdown",MF=".dropdown-toggle",$F={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},FF={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ud extends Vs{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return $F}static get DefaultType(){return FF}static get NAME(){return IF}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Sr(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(te.off(this._config.target,SE),te.on(this._config.target,SE,Hf,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const s=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:i,behavior:"smooth"});return}s.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const l=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&l){if(s(o),!i)return;continue}!r&&!l&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Re.find(Hf,this._config.target);for(const n of e){if(!n.hash||Rr(n))continue;const s=Re.findOne(decodeURI(n.hash),this._element);sl(s)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(la),this._activateParents(e),te.trigger(this._element,RF,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(OF)){Re.findOne(MF,e.closest(VF)).classList.add(la);return}for(const n of Re.parents(e,DF))for(const s of Re.prev(n,LF))s.classList.add(la)}_clearActiveClass(e){e.classList.remove(la);const n=Re.find(`${Hf}.${la}`,e);for(const s of n)s.classList.remove(la)}static jQueryInterface(e){return this.each(function(){const n=Ud.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}te.on(window,PF,()=>{for(const t of Re.find(kF))Ud.getOrCreateInstance(t)});ws(Ud);const UF="tab",jF="bs.tab",Mo=`.${jF}`,BF=`hide${Mo}`,HF=`hidden${Mo}`,qF=`show${Mo}`,WF=`shown${Mo}`,zF=`click${Mo}`,KF=`keydown${Mo}`,GF=`load${Mo}`,QF="ArrowLeft",PE="ArrowRight",YF="ArrowUp",OE="ArrowDown",qf="Home",kE="End",po="active",DE="fade",Wf="show",XF="dropdown",BI=".dropdown-toggle",JF=".dropdown-menu",zf=`:not(${BI})`,ZF='.list-group, .nav, [role="tablist"]',eU=".nav-item, .list-group-item",tU=`.nav-link${zf}, .list-group-item${zf}, [role="tab"]${zf}`,HI='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Kf=`${tU}, ${HI}`,nU=`.${po}[data-bs-toggle="tab"], .${po}[data-bs-toggle="pill"], .${po}[data-bs-toggle="list"]`;class Wa extends Vs{constructor(e){super(e),this._parent=this._element.closest(ZF),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),te.on(this._element,KF,n=>this._keydown(n)))}static get NAME(){return UF}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),s=n?te.trigger(n,BF,{relatedTarget:e}):null;te.trigger(e,qF,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(po),this._activate(Re.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Wf);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),te.trigger(e,WF,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(DE))}_deactivate(e,n){if(!e)return;e.classList.remove(po),e.blur(),this._deactivate(Re.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Wf);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),te.trigger(e,HF,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(DE))}_keydown(e){if(![QF,PE,YF,OE,qf,kE].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(i=>!Rr(i));let s;if([qf,kE].includes(e.key))s=n[e.key===qf?0:n.length-1];else{const i=[PE,OE].includes(e.key);s=wg(n,e.target,i,!0)}s&&(s.focus({preventScroll:!0}),Wa.getOrCreateInstance(s).show())}_getChildren(){return Re.find(Kf,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",n),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=Re.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const s=this._getOuterElement(e);if(!s.classList.contains(XF))return;const i=(r,o)=>{const l=Re.findOne(r,s);l&&l.classList.toggle(o,n)};i(BI,po),i(JF,Wf),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,s){e.hasAttribute(n)||e.setAttribute(n,s)}_elemIsActive(e){return e.classList.contains(po)}_getInnerElement(e){return e.matches(Kf)?e:Re.findOne(Kf,e)}_getOuterElement(e){return e.closest(eU)||e}static jQueryInterface(e){return this.each(function(){const n=Wa.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}te.on(document,zF,HI,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Rr(this)&&Wa.getOrCreateInstance(this).show()});te.on(window,GF,()=>{for(const t of Re.find(nU))Wa.getOrCreateInstance(t)});ws(Wa);const sU="toast",iU="bs.toast",Vr=`.${iU}`,rU=`mouseover${Vr}`,oU=`mouseout${Vr}`,aU=`focusin${Vr}`,lU=`focusout${Vr}`,cU=`hide${Vr}`,uU=`hidden${Vr}`,hU=`show${Vr}`,dU=`shown${Vr}`,fU="fade",NE="hide",Bu="show",Hu="showing",pU={animation:"boolean",autohide:"boolean",delay:"number"},mU={animation:!0,autohide:!0,delay:5e3};class jd extends Vs{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return mU}static get DefaultType(){return pU}static get NAME(){return sU}show(){if(te.trigger(this._element,hU).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(fU);const n=()=>{this._element.classList.remove(Hu),te.trigger(this._element,dU),this._maybeScheduleHide()};this._element.classList.remove(NE),Gc(this._element),this._element.classList.add(Bu,Hu),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||te.trigger(this._element,cU).defaultPrevented)return;const n=()=>{this._element.classList.add(NE),this._element.classList.remove(Hu,Bu),te.trigger(this._element,uU)};this._element.classList.add(Hu),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Bu),super.dispose()}isShown(){return this._element.classList.contains(Bu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){te.on(this._element,rU,e=>this._onInteraction(e,!0)),te.on(this._element,oU,e=>this._onInteraction(e,!1)),te.on(this._element,aU,e=>this._onInteraction(e,!0)),te.on(this._element,lU,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=jd.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Md(jd);ws(jd);const gU={name:"Footer",data(){return{modalInstance:null,selectedLangue:"fr",selectedDevise:"EUR",langues:[{value:"fr",text:"Français"},{value:"en",text:"Anglais"},{value:"es",text:"Espagnol"}],devises:[{value:"EUR",text:"Euro (€)"},{value:"USD",text:"Dollar ($)"},{value:"GBP",text:"Livre (£)"}]}},mounted(){const t=this.$refs.preferencesModal;this.modalInstance=new Oo(t);const e=localStorage.getItem("langue"),n=localStorage.getItem("devise");e&&(this.selectedLangue=e),n&&(this.selectedDevise=n)},methods:{getLangueText(t){const e=this.langues.find(n=>n.value===t);return e?e.text:"Langue"},getDeviseText(t){const e=this.devises.find(n=>n.value===t);return e?e.text:"Devise"},openModal(){this.modalInstance&&this.modalInstance.show()},appliquerPreferences(){localStorage.setItem("langue",this.selectedLangue),localStorage.setItem("devise",this.selectedDevise),this.modalInstance&&this.modalInstance.hide()}}},_U={class:"modal fade",id:"preferencesModal",ref:"preferencesModal",tabindex:"-1","aria-labelledby":"preferencesModalLabel","aria-hidden":"true"},vU={class:"modal-dialog modal-dialog-centered"},yU={class:"modal-content"},EU={class:"modal-body"},bU={class:"mb-3"},wU=["value"],TU={class:"mb-3"},AU=["value"],IU={class:"modal-footer"};function CU(t,e,n,s,i,r){return ie(),re("footer",null,[e[8]||(e[8]=Sa('<p class="footer-text" data-v-2af8034d>© 2025 Instant Geek</p><div class="footer-links" data-v-2af8034d><a class="footer-link" href="/about" data-v-2af8034d>À propos</a> | <a class="footer-link" href="/privacy-policy" data-v-2af8034d>Politique de confidentialité</a> | <a class="footer-link" href="/terms-of-service" data-v-2af8034d>Conditions de ventes</a> | <a class="footer-link" href="/contact" data-v-2af8034d>Nous Contacter</a></div>',2)),y("div",null,[y("button",{class:"footer-button btn btn-primary",onClick:e[0]||(e[0]=(...o)=>r.openModal&&r.openModal(...o))},Ee(r.getLangueText(i.selectedLangue))+" | "+Ee(r.getDeviseText(i.selectedDevise)),1)]),y("div",_U,[y("div",vU,[y("div",yU,[e[7]||(e[7]=y("div",{class:"modal-header"},[y("h5",{class:"modal-title",id:"preferencesModalLabel"},"Préférences"),y("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),y("div",EU,[y("form",null,[y("div",bU,[e[4]||(e[4]=y("label",{for:"langueSelect",class:"form-label"},"Langue :",-1)),Qt(y("select",{class:"form-select",id:"langueSelect","onUpdate:modelValue":e[1]||(e[1]=o=>i.selectedLangue=o)},[(ie(!0),re(We,null,Ft(i.langues,o=>(ie(),re("option",{key:o.value,value:o.value},Ee(o.text),9,wU))),128))],512),[[Ra,i.selectedLangue]])]),y("div",TU,[e[5]||(e[5]=y("label",{for:"deviseSelect",class:"form-label"},"Devise :",-1)),Qt(y("select",{class:"form-select",id:"deviseSelect","onUpdate:modelValue":e[2]||(e[2]=o=>i.selectedDevise=o)},[(ie(!0),re(We,null,Ft(i.devises,o=>(ie(),re("option",{key:o.value,value:o.value},Ee(o.text),9,AU))),128))],512),[[Ra,i.selectedDevise]])])])]),y("div",IU,[e[6]||(e[6]=y("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Annuler",-1)),y("button",{type:"button",class:"btn btn-primary",onClick:e[3]||(e[3]=(...o)=>r.appliquerPreferences&&r.appliquerPreferences(...o))},"Appliquer")])])])],512)])}const ol=fn(gU,[["render",CU],["__scopeId","data-v-2af8034d"]]),SU="/assets/img/Logo.png",Sg=nw("auth",{state:()=>({user:null,isLoading:!0,userData:null,userWishlistCount:null,_authListenerUnsubscribe:null,_wishlistListenerUnsubscribe:null}),getters:{isLoggedIn:t=>!!t.user,currentUsername:t=>t.userData&&t.userData.displayName?t.userData.displayName:t.user&&t.user.displayName?t.user.displayName:t.user&&t.user.email?t.user.email.split("@")[0]:"Invité"},actions:{initAuthListener(){this._authListenerUnsubscribe||(this._authListenerUnsubscribe=yL(Mi,async t=>{if(this.isLoading=!0,t){this.user=t;const e=vs(ln,"users",t.uid),n=await Bc(e);n.exists()?this.userData=n.data():(this.userData=null,console.warn("L'utilisateur est authentifié mais pas de données trouvées dans Firestore.")),this.listenToUserWishlist()}else this.user=null,this.userData=null,this._wishlistListenerUnsubscribe&&(this._wishlistListenerUnsubscribe(),this._wishlistListenerUnsubscribe=null),this.userWishlistCount=null;this.isLoading=!1}))},listenToUserWishlist(){if(this._wishlistListenerUnsubscribe&&this._wishlistListenerUnsubscribe(),!this.user)return;const t=vs(ln,"users",this.user.uid,"privateData","wishlist");this._wishlistListenerUnsubscribe=Ym(t,e=>{e.exists()&&e.data().items?this.userWishlistCount=e.data().items.length:this.userWishlistCount=0},e=>{console.error("Erreur lors de l'écoute de la wishlist:",e),this.userWishlistCount=0})},cleanupListeners(){this._authListenerUnsubscribe&&this._authListenerUnsubscribe(),this._wishlistListenerUnsubscribe&&this._wishlistListenerUnsubscribe()}}});async function RU(t,e,n){const i=(await pL(Mi,t,e)).user,r=t.split("@")[0];return await OA(i,{displayName:r}),await Od(vs(ln,"users",i.uid),{uid:i.uid,email:i.email,displayName:r,createdAt:new Date}),i}async function PU(t,e){return(await mL(Mi,t,e)).user}async function OU(){const t=new Ei,n=(await jL(Mi,t)).user,s=vs(ln,"users",n.uid),i=await Bc(s),r={uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL};return i.exists()||(r.createdAt=new Date),await Od(s,r,{merge:!0}),n}async function kU(){await EL(Mi)}async function DU(t){await fL(Mi,t)}async function NU(t){const e=Mi.currentUser;if(!e)throw new Error("Aucun utilisateur n'est actuellement connecté.");const n=Lo.credential(e.email,t);await dL(e,n);const s=e.uid,i=vs(ln,"users",s);await ux(i),await bL(e)}async function xU(t,e){if(!t)throw new Error("UID de l'utilisateur non fourni.");const n=vs(ln,"users",t);if(await cx(n,e),e.displayName){const s=Mi.currentUser;s&&await OA(s,{displayName:e.displayName})}}function xE(t,e,n){const s=new Date;s.setTime(s.getTime()+n*24*60*60*1e3),document.cookie=`${t}=${e};expires=${s.toUTCString()};path=/`}function LU(t){const e=document.cookie.split(";");for(let n=0;n<e.length;n++){const s=e[n].trim();if(s.startsWith(`${t}=`))return s.substring(t.length+1)}return null}const Rc=Ce(LU("dark-mode")==="active");function qI(){Rc.value?(document.body.classList.add("dark-mode"),xE("dark-mode","active",365)):(document.body.classList.remove("dark-mode"),xE("dark-mode","inactive",365))}qI();const LE=()=>{Rc.value=!Rc.value,qI()},sn=Ce(""),VU={class:"navbar navbar-expand-lg shadow-sm"},MU={class:"container-fluid"},$U={class:"navbar-center-content flex-grow-1 d-flex justify-content-center align-items-center"},FU={class:"ig-stepper"},UU={class:"navbar-nav d-none d-lg-flex position-absolute top-50 start-50 translate-middle"},jU={class:"nav-item"},BU={class:"nav-item"},HU={class:"nav-item"},qU={class:"d-flex align-items-center ms-auto"},WU={class:"nav-item dropdown"},zU={key:0,class:"bi bi-person-fill connected-profile-icon navbar-icon"},KU={key:1,class:"bi bi-person-circle navbar-icon"},GU={key:0},QU={class:"dropdown-header"},YU={class:"d-lg-none"},XU={class:"d-lg-none"},JU={class:"d-lg-none"},ZU={key:1,class:"d-lg-none"},e3={key:2},t3={key:3},n3={key:0,class:"badge bg-danger rounded-pill"},s3={key:1,class:"badge bg-danger rounded-pill"},i3={key:4},r3={key:5},o3={key:6},a3={__name:"Navbar",setup(t){const e=Nc(),n=mw(),s=Sg(),i=Ce(!1);let r=null;const o=Ce(!1),l=Ce(!1),c=Ce(null),d=Ce(null),h=Ce(!1),m=Ce(null),_=()=>{sn.value.trim()!==""&&n.query.q!==sn.value.trim()&&(o.value=!0,e.push({path:"/recherche",query:{q:sn.value}}))},E=()=>{_()},C=()=>{_()},N=()=>{l.value=!l.value,l.value?go(()=>{var b;return(b=c.value)==null?void 0:b.focus()}):sn.value=""},x=()=>{l.value=!1,sn.value=""},U=()=>{setTimeout(()=>{d.value&&!d.value.contains(document.activeElement)&&x()},150)},F=()=>{h.value=!h.value,h.value?(i.value&&(r==null||r.hide()),go(()=>{var b;return(b=m.value)==null?void 0:b.focus()})):sn.value=""},H=()=>{h.value=!1,sn.value=""},j=async()=>{try{await kU()}catch(b){console.error("Erreur lors de la déconnexion :",b)}},ne=()=>{r&&(i.value?r.hide():r.show()),h.value&&H()};let oe=null;zn(()=>{n.path==="/recherche"&&n.query.q&&(sn.value=n.query.q);const b=document.getElementById("navbarDropdownProfile");b&&(r=new Ds(b),b.addEventListener("show.bs.dropdown",()=>i.value=!0),b.addEventListener("hide.bs.dropdown",()=>i.value=!1))}),Ps(sn,b=>{b.trim()!==""?_():n.path==="/recherche"&&e.push("/")}),Ps(()=>n.fullPath,(b,A)=>{b!==A&&(o.value?(go(()=>{l.value&&c.value?c.value.focus():h.value&&m.value&&m.value.focus()}),o.value=!1):(i.value&&(r==null||r.hide()),l.value&&x(),h.value&&H()))},{flush:"post"});const D=Ht(()=>["/panier","/paiement","/validation"].includes(n.path)),I=Ht(()=>{switch(n.path){case"/panier":return 1;case"/paiement":return 2;case"/validation":return 3;default:return 0}});return Ps(()=>s.user,b=>{if(oe&&oe(),b){const A=vs(ln,"users",b.uid,"privateData","wishlist");oe=Ym(A,O=>{s.userWishlistCount=O.exists()&&O.data().items?O.data().items.length:0})}else s.userWishlistCount=null},{immediate:!0}),(b,A)=>{const O=Do("router-link");return ie(),re("nav",VU,[y("div",MU,[Te(O,{class:"navbar-brand fw-bold me-auto",to:"/"},{default:Rt(()=>A[3]||(A[3]=[y("img",{src:SU,alt:"Logo",width:"150",height:"50",class:"d-inline-block align-text-top"},null,-1)])),_:1}),D.value?(ie(),re(We,{key:0},[y("div",$U,[y("div",FU,[y("div",{class:Dn(["step",{completed:I.value>1,active:I.value===1}])},A[4]||(A[4]=[y("div",{class:"step-circle"},"1",-1),y("div",{class:"step-label"},"Panier",-1)]),2),y("div",{class:Dn(["step-line",{completed:I.value>=2}])},null,2),y("div",{class:Dn(["step",{completed:I.value>2,active:I.value===2}])},A[5]||(A[5]=[y("div",{class:"step-circle"},"2",-1),y("div",{class:"step-label"},"Paiement",-1)]),2),y("div",{class:Dn(["step-line",{completed:I.value>=3}])},null,2),y("div",{class:Dn(["step",{completed:I.value>3,active:I.value===3}])},A[6]||(A[6]=[y("div",{class:"step-circle"},"3",-1),y("div",{class:"step-label"},"Validation",-1)]),2)])]),A[7]||(A[7]=Sa('<div class="secure-payment-cart d-flex align-items-center ms-auto" data-v-6a2741e1><i class="bi bi-check-circle-fill secure-icon-cart me-2" data-v-6a2741e1></i><div class="text-end" data-v-6a2741e1><span class="secure-text-cart d-block" data-v-6a2741e1>Paiement sécurisé</span><span class="ssl-text-cart d-block" data-v-6a2741e1>SSL Secured</span></div></div>',1))],64)):(ie(),re(We,{key:1},[y("form",{class:Dn(["search-form-mobile d-lg-none",{active:h.value}]),onSubmit:ur(C,["prevent"])},[Qt(y("input",{class:"form-control me-2 search-input-mobile",type:"search",placeholder:"Rechercher...","aria-label":"Search","onUpdate:modelValue":A[0]||(A[0]=R=>Pt(sn)?sn.value=R:null),ref_key:"searchInputMobileRef",ref:m},null,512),[[Jn,at(sn)]]),y("button",{class:"btn search-close-btn-mobile",type:"button",onClick:H},A[8]||(A[8]=[y("i",{class:"bi bi-x-lg"},null,-1)]))],34),y("ul",UU,[y("li",jU,[Te(O,{class:"nav-link",to:"/nouveautes"},{default:Rt(()=>A[9]||(A[9]=[_n("Nouveautés")])),_:1})]),y("li",BU,[Te(O,{class:"nav-link",to:"/precommandes"},{default:Rt(()=>A[10]||(A[10]=[_n("Précommandes")])),_:1})]),y("li",HU,[Te(O,{class:"nav-link",to:"/prochaines-sorties"},{default:Rt(()=>A[11]||(A[11]=[_n("Prochaines sorties")])),_:1})])]),y("div",qU,[Te(V_,{name:"fade"},{default:Rt(()=>[h.value?jn("",!0):(ie(),re("button",{key:0,class:"btn btn-outline-secondary d-lg-none search-icon-mobile",type:"button",onClick:F},A[12]||(A[12]=[y("i",{class:"bi bi-search navbar-icon"},null,-1)])))]),_:1}),Te(V_,{name:"fade"},{default:Rt(()=>[l.value?jn("",!0):(ie(),re("button",{key:0,class:"btn btn-outline-secondary d-none d-lg-block search-icon-desktop",type:"button",onClick:N},A[13]||(A[13]=[y("i",{class:"bi bi-search navbar-icon"},null,-1)])))]),_:1}),y("form",{class:Dn(["search-form d-none d-lg-flex",{active:l.value}]),onSubmit:ur(E,["prevent"]),ref_key:"searchFormRef",ref:d},[Qt(y("input",{class:"form-control me-2 search-input",type:"search",placeholder:"Rechercher...","aria-label":"Search","onUpdate:modelValue":A[1]||(A[1]=R=>Pt(sn)?sn.value=R:null),ref_key:"searchInputRef",ref:c,onBlur:U},null,544),[[Jn,at(sn)]]),l.value?(ie(),re("button",{key:0,class:"btn search-close-btn",type:"button",onClick:x},A[14]||(A[14]=[y("i",{class:"bi bi-x-lg"},null,-1)]))):jn("",!0)],34),y("div",WU,[y("a",{class:"nav-link text ms-2 dropdown-toggle-no-caret",href:"#",id:"navbarDropdownProfile",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:ne},[at(s).isLoggedIn?(ie(),re("i",zU)):(ie(),re("i",KU))]),y("ul",{class:Dn(["dropdown-menu dropdown-menu-end profile-dropdown-menu",{show:i.value}]),"aria-labelledby":"navbarDropdownProfile"},[at(s).isLoggedIn?(ie(),re("li",GU,[y("span",QU,"Bienvenue, "+Ee(at(s).currentUsername)+"!",1),A[15]||(A[15]=y("hr",{class:"dropdown-divider"},null,-1))])):jn("",!0),y("li",YU,[Te(O,{class:"dropdown-item",to:"/nouveautes"},{default:Rt(()=>A[16]||(A[16]=[_n("Nouveautés")])),_:1})]),y("li",XU,[Te(O,{class:"dropdown-item",to:"/precommandes"},{default:Rt(()=>A[17]||(A[17]=[_n("Précommandes")])),_:1})]),y("li",JU,[Te(O,{class:"dropdown-item",to:"/prochaines-sorties"},{default:Rt(()=>A[18]||(A[18]=[_n("Prochaines sorties")])),_:1})]),at(s).isLoggedIn?jn("",!0):(ie(),re("li",ZU,A[19]||(A[19]=[y("hr",{class:"dropdown-divider"},null,-1)]))),at(s).isLoggedIn?(ie(),re("li",e3,[Te(O,{class:"dropdown-item",to:"/mes-achats"},{default:Rt(()=>A[20]||(A[20]=[_n("Mes achats")])),_:1})])):jn("",!0),at(s).isLoggedIn?(ie(),re("li",t3,[Te(O,{class:"dropdown-item d-flex justify-content-between align-items-center",to:"/wishlist"},{default:Rt(()=>[A[21]||(A[21]=_n("Wishlist ")),at(s).userWishlistCount!==null?(ie(),re("span",n3,Ee(at(s).userWishlistCount),1)):(ie(),re("span",s3,"0"))]),_:1})])):jn("",!0),at(s).isLoggedIn?(ie(),re("li",i3,[Te(O,{class:"dropdown-item",to:"/parametres"},{default:Rt(()=>A[22]||(A[22]=[_n("Paramètres")])),_:1})])):jn("",!0),at(s).isLoggedIn?(ie(),re("li",r3,A[23]||(A[23]=[y("hr",{class:"dropdown-divider"},null,-1)]))):jn("",!0),y("li",null,[y("button",{class:"dropdown-item d-flex justify-content-between align-items-center",onClick:A[2]||(A[2]=ur((...R)=>at(LE)&&at(LE)(...R),["stop"]))},[y("span",null,Ee(at(Rc)?"Mode clair":"Mode sombre"),1),y("i",{class:Dn(at(Rc)?"bi bi-sun-fill":"bi bi-moon-stars-fill")},null,2)])]),at(s).isLoggedIn?(ie(),re("li",o3,A[24]||(A[24]=[y("hr",{class:"dropdown-divider"},null,-1)]))):jn("",!0),y("li",null,[at(s).isLoggedIn?(ie(),re("a",{key:1,class:"dropdown-item custom-auth-link",href:"#",onClick:ur(j,["prevent"])},"Déconnexion")):(ie(),zb(O,{key:0,class:"dropdown-item custom-auth-link",to:"/connexion"},{default:Rt(()=>A[25]||(A[25]=[_n("Se connecter")])),_:1}))])],2)]),Te(O,{class:"nav-link text ms-2",to:"/panier"},{default:Rt(()=>A[26]||(A[26]=[y("i",{class:"bi bi-cart3 navbar-icon"},null,-1)])),_:1})])],64))])])}}},$o=fn(a3,[["__scopeId","data-v-6a2741e1"]]),l3={__name:"Accueil",setup(t){return(e,n)=>(ie(),re(We,null,[Te($o),Te(gP),Te(qV),Te(rM),Te(mM),Te(ol)],64))}},c3={class:"container-fluid py-2 preco"},u3={id:"precoIn"},h3={class:"game-card"},d3=["href"],f3=["src","alt"],p3={class:"game-text"},m3={class:"titre"},g3={class:"prix"},_3={class:"dateSortie"},v3={__name:"NewGames",setup(t){const e=Ce([]),n=async()=>{const s=Za(ln,"games"),i=new Date;i.setHours(0,0,0,0);const r=new Date(i);r.setDate(i.getDate()-180);const o=el(s,Io("dateSortie",">=",r),Io("dateSortie","<=",i),jc("dateSortie"));try{const l=await tl(o);e.value=[],l.forEach(c=>{const d=c.data();e.value.push({id:c.id,titre:d.name,link:d.link,image:d.image,price:`${d.price}€`,date:d.dateSortie.toDate().toLocaleDateString("fr-FR")})})}catch(l){console.error("Erreur lors de la récupération des jeux :",l)}};return zn(()=>{n()}),(s,i)=>(ie(),re("div",c3,[y("div",null,[i[0]||(i[0]=y("h1",{class:"mt-3 mb-5"},"Nouveautés",-1)),y("ul",u3,[(ie(!0),re(We,null,Ft(e.value,r=>(ie(),re("li",{key:r.id},[y("div",h3,[y("a",{href:r.link},[y("img",{src:`/assets/img/preview/${r.image}`,alt:r.titre},null,8,f3)],8,d3),y("div",p3,[y("h3",m3,Ee(r.titre),1),y("h3",g3,Ee(r.price),1)]),y("p",_3,Ee(r.date),1)])]))),128))])])]))}},y3=fn(v3,[["__scopeId","data-v-002e5fe0"]]),E3={__name:"Nouveautes",setup(t){return(e,n)=>(ie(),re(We,null,[Te($o),y("div",null,[Te(y3)]),Te(ol)],64))}},b3={class:"container-fluid py-2 preco"},w3={id:"precoIn"},T3={class:"game-card"},A3=["src","alt"],I3={class:"game-text"},C3={class:"titre"},S3={class:"prix"},R3={class:"dateSortie"},P3={__name:"PrecoPage",setup(t){const e=Ce([]),n=async()=>{const s=Za(ln,"games"),i=new Date;i.setHours(0,0,0,0);const r=el(s,Io("dateSortie",">=",i),jc("dateSortie"));try{const o=await tl(r);e.value=[],o.forEach(l=>{const c=l.data();e.value.push({id:l.id,titre:c.name,link:c.link,image:c.image,price:`${c.price}€`,date:c.dateSortie.toDate().toLocaleDateString("fr-FR")})})}catch(o){console.error("Erreur lors de la récupération des jeux :",o)}};return zn(()=>{n()}),(s,i)=>{const r=Do("router-link");return ie(),re("div",b3,[y("div",null,[i[0]||(i[0]=y("h1",{class:"mt-3"},"Précommandes",-1)),i[1]||(i[1]=y("p",{class:"mb-5"},"Réservez dès maintenant les articles à venir.",-1)),y("ul",w3,[(ie(!0),re(We,null,Ft(e.value,o=>(ie(),re("li",{key:o.id},[y("div",T3,[Te(r,{class:"nav-link",to:`/game/${o.id}`},{default:Rt(()=>[y("img",{src:`/assets/img/preview/${o.image}`,alt:o.titre},null,8,A3)]),_:2},1032,["to"]),y("div",I3,[y("h3",C3,Ee(o.titre),1),y("h3",S3,Ee(o.price),1)]),y("p",R3,Ee(o.date),1)])]))),128))])])])}}},O3=fn(P3,[["__scopeId","data-v-0b0feb13"]]),k3={__name:"Precommandes",setup(t){return(e,n)=>(ie(),re(We,null,[Te($o),y("div",null,[Te(O3)]),Te(ol)],64))}},D3={class:"container-fluid py-2 preco"},N3={id:"precoIn"},x3={class:"game-card GameJuill"},L3=["href"],V3=["src","alt"],M3={class:"game-text"},$3={class:"titre"},F3={class:"prix"},U3={class:"dateSortie"},j3={id:"precoIn"},B3={class:"game-card GameAout"},H3=["href"],q3=["src","alt"],W3={class:"game-text"},z3={class:"titre"},K3={class:"prix"},G3={class:"dateSortie"},Q3={id:"precoIn"},Y3={class:"game-card GameAout"},X3=["href"],J3=["src","alt"],Z3={class:"game-text"},e6={class:"titre"},t6={class:"prix"},n6={class:"dateSortie"},s6={id:"precoIn"},i6={class:"game-card GameAout"},r6=["href"],o6=["src","alt"],a6={class:"game-text"},l6={class:"titre"},c6={class:"prix"},u6={class:"dateSortie"},h6={id:"precoIn"},d6={class:"game-card GameAout"},f6=["href"],p6=["src","alt"],m6={class:"game-text"},g6={class:"titre"},_6={class:"prix"},v6={class:"dateSortie"},y6={id:"precoIn"},E6={class:"game-card GameAout"},b6=["href"],w6=["src","alt"],T6={class:"game-text"},A6={class:"titre"},I6={class:"prix"},C6={class:"dateSortie"},S6={__name:"PlanningSortie",setup(t){const e=Ce([]),n=Ce([]),s=Ce([]),i=Ce([]),r=Ce([]),o=Ce([]),l=async()=>{const c=Za(ln,"games"),d=new Date("2025-07-01T00:00:00"),h=new Date("2025-12-31T23:59:59"),m=el(c,Io("dateSortie",">=",d),Io("dateSortie","<=",h),jc("dateSortie"));try{const _=await tl(m);e.value=[],n.value=[],s.value=[],i.value=[],r.value=[],o.value=[],_.forEach(E=>{const C=E.data(),N=C.dateSortie.toDate(),x={id:E.id,titre:C.name,link:C.link,image:C.image,price:`${C.price}€`,date:N.toLocaleDateString("fr-FR")};switch(N.getMonth()){case 6:e.value.push(x);break;case 7:n.value.push(x);break;case 8:s.value.push(x);break;case 9:i.value.push(x);break;case 10:r.value.push(x);break;case 11:o.value.push(x);break}})}catch(_){console.error("Erreur lors de la récupération des jeux :",_)}};return zn(()=>{l()}),(c,d)=>(ie(),re("div",D3,[y("div",null,[d[0]||(d[0]=y("h1",{class:"mt-3 mb-5"},"Prochaines sorties",-1)),d[1]||(d[1]=y("h2",{class:"text-center"},[y("u",null,"Juillet")],-1)),d[2]||(d[2]=y("br",null,null,-1)),y("ul",N3,[(ie(!0),re(We,null,Ft(e.value,h=>(ie(),re("li",{key:h.id},[y("div",x3,[y("a",{href:h.link},[y("img",{src:`/assets/img/preview/${h.image}`,alt:h.titre},null,8,V3)],8,L3),y("div",M3,[y("h3",$3,Ee(h.titre),1),y("h3",F3,Ee(h.price),1)]),y("p",U3,Ee(h.date),1)])]))),128))]),d[3]||(d[3]=y("h2",{class:"text-center mt-4 mb-5"},[y("u",null,"Août")],-1)),y("ul",j3,[(ie(!0),re(We,null,Ft(n.value,h=>(ie(),re("li",{key:h.id},[y("div",B3,[y("a",{href:h.link},[y("img",{src:`/assets/img/preview/${h.image}`,alt:h.titre},null,8,q3)],8,H3),y("div",W3,[y("h3",z3,Ee(h.titre),1),y("h3",K3,Ee(h.price),1)]),y("p",G3,Ee(h.date),1)])]))),128))]),d[4]||(d[4]=y("h2",{class:"text-center mt-4 mb-5"},[y("u",null,"Septembre")],-1)),y("ul",Q3,[(ie(!0),re(We,null,Ft(s.value,h=>(ie(),re("li",{key:h.id},[y("div",Y3,[y("a",{href:h.link},[y("img",{src:`/assets/img/preview/${h.image}`,alt:h.titre},null,8,J3)],8,X3),y("div",Z3,[y("h3",e6,Ee(h.titre),1),y("h3",t6,Ee(h.price),1)]),y("p",n6,Ee(h.date),1)])]))),128))]),d[5]||(d[5]=y("h2",{class:"text-center mt-4 mb-5"},[y("u",null,"Octobre")],-1)),y("ul",s6,[(ie(!0),re(We,null,Ft(i.value,h=>(ie(),re("li",{key:h.id},[y("div",i6,[y("a",{href:h.link},[y("img",{src:`/assets/img/preview/${h.image}`,alt:h.titre},null,8,o6)],8,r6),y("div",a6,[y("h3",l6,Ee(h.titre),1),y("h3",c6,Ee(h.price),1)]),y("p",u6,Ee(h.date),1)])]))),128))]),d[6]||(d[6]=y("h2",{class:"text-center mt-4 mb-5"},[y("u",null,"Novembre")],-1)),y("ul",h6,[(ie(!0),re(We,null,Ft(r.value,h=>(ie(),re("li",{key:h.id},[y("div",d6,[y("a",{href:h.link},[y("img",{src:`/assets/img/preview/${h.image}`,alt:h.titre},null,8,p6)],8,f6),y("div",m6,[y("h3",g6,Ee(h.titre),1),y("h3",_6,Ee(h.price),1)]),y("p",v6,Ee(h.date),1)])]))),128))]),d[7]||(d[7]=y("h2",{class:"text-center mt-4 mb-5"},[y("u",null,"Décembre")],-1)),y("ul",y6,[(ie(!0),re(We,null,Ft(o.value,h=>(ie(),re("li",{key:h.id},[y("div",E6,[y("a",{href:h.link},[y("img",{src:`/assets/img/preview/${h.image}`,alt:h.titre},null,8,w6)],8,b6),y("div",T6,[y("h3",A6,Ee(h.titre),1),y("h3",I6,Ee(h.price),1)]),y("p",C6,Ee(h.date),1)])]))),128))])])]))}},R6=fn(S6,[["__scopeId","data-v-e8362f0c"]]),P6={__name:"ProchainesSorties",setup(t){return(e,n)=>(ie(),re(We,null,[Te($o),y("div",null,[Te(R6)]),Te(ol)],64))}},O6="/assets/img/inscription.jpg",k6={class:"login-page-wrapper vh-100 d-flex align-items-center justify-content-center"},D6={class:"login-card-container d-flex shadow-lg"},N6={class:"login-form-section p-4 d-flex flex-column justify-content-center align-items-center text-center"},x6={class:"form-group mb-3 text-start"},L6={class:"form-group mb-3 text-start"},V6={class:"form-group mb-3 text-start"},M6={class:"form-group mb-3 text-start"},$6={class:"form-group mb-3 text-start"},F6={class:"form-group mb-4 text-start"},U6=["value"],j6={class:"d-flex justify-content-center w-100 mt-4 small-links"},B6={class:"login-image-section d-none d-md-flex align-items-center justify-content-center p-0"},H6={__name:"Inscription",setup(t){const e=Ce(""),n=Ce(""),s=Ce(""),i=Ce(""),r=Ce(""),o=Ce(""),l=Ce([]),c=Nc();async function d(){try{const m=await fetch("https://restcountries.com/v3.1/all?fields=name,cca3");if(!m.ok)throw new Error("Failed to fetch countries");const _=await m.json();l.value=_.sort((E,C)=>E.name.common.localeCompare(C.name.common))}catch(m){console.error(m.message)}}zn(()=>{d()});async function h(){const m=new Date,_=new Date(r.value),E=new Date(m.getFullYear()-18,m.getMonth(),m.getDate());if(_>E){alert("Vous devez avoir au moins 18 ans pour vous inscrire.");return}try{const C=await RU(e.value,n.value);if(C&&C.uid)await Od(vs(ln,"users",C.uid),{email:e.value,username:s.value,firstname:i.value,birthdate:r.value,country:o.value,createdAt:new Date},{merge:!0}),alert("Compte créé avec succès !"),c.push("/");else throw new Error("L'utilisateur n'a pas été créé correctement par Firebase.")}catch(C){alert("Erreur lors de l'inscription : "+C.message)}}return(m,_)=>{const E=Do("router-link");return ie(),re("div",k6,[y("div",D6,[y("div",N6,[_[15]||(_[15]=y("h2",{class:"login-title mb-4 text-white"},"inscription",-1)),y("form",{onSubmit:ur(h,["prevent"]),class:"w-100"},[y("div",x6,[_[6]||(_[6]=y("label",{for:"email",class:"form-label text-uppercase text-white-50"},"Email",-1)),Qt(y("input",{id:"email","onUpdate:modelValue":_[0]||(_[0]=C=>e.value=C),type:"email",class:"form-control login-input",required:"","aria-label":"Email"},null,512),[[Jn,e.value]])]),y("div",L6,[_[7]||(_[7]=y("label",{for:"password",class:"form-label text-uppercase text-white-50"},"Mot de passe",-1)),Qt(y("input",{id:"password","onUpdate:modelValue":_[1]||(_[1]=C=>n.value=C),type:"password",class:"form-control login-input",required:"","aria-label":"Mot de passe"},null,512),[[Jn,n.value]])]),y("div",V6,[_[8]||(_[8]=y("label",{for:"username",class:"form-label text-uppercase text-white-50"},"Nom",-1)),Qt(y("input",{id:"username","onUpdate:modelValue":_[2]||(_[2]=C=>s.value=C),type:"text",class:"form-control login-input",required:"","aria-label":"Nom d'utilisateur"},null,512),[[Jn,s.value]])]),y("div",M6,[_[9]||(_[9]=y("label",{for:"firstname",class:"form-label text-uppercase text-white-50"},"Prénom",-1)),Qt(y("input",{id:"firstname","onUpdate:modelValue":_[3]||(_[3]=C=>i.value=C),type:"text",class:"form-control login-input",required:"","aria-label":"Prénom"},null,512),[[Jn,i.value]])]),y("div",$6,[_[10]||(_[10]=y("label",{for:"birthdate",class:"form-label text-uppercase text-white-50"},"Date de naissance",-1)),Qt(y("input",{id:"birthdate","onUpdate:modelValue":_[4]||(_[4]=C=>r.value=C),type:"date",class:"form-control login-input",required:"","aria-label":"Date de naissance"},null,512),[[Jn,r.value]])]),y("div",F6,[_[12]||(_[12]=y("label",{for:"country",class:"form-label text-uppercase text-white-50"},"Pays",-1)),Qt(y("select",{id:"country","onUpdate:modelValue":_[5]||(_[5]=C=>o.value=C),class:"form-control login-input",required:"","aria-label":"Pays"},[_[11]||(_[11]=y("option",{disabled:"",value:""},"Veuillez sélectionner un pays",-1)),(ie(!0),re(We,null,Ft(l.value,C=>(ie(),re("option",{key:C.cca3,value:C.name.common},Ee(C.name.common),9,U6))),128))],512),[[Ra,o.value]])]),_[13]||(_[13]=y("button",{type:"submit",class:"btn login-btn w-100"},"valider",-1))],32),y("div",j6,[Te(E,{to:"/connexion",class:"text-decoration-none text-white-50"},{default:Rt(()=>_[14]||(_[14]=[y("i",{class:"bi bi-arrow-left me-2"},null,-1),_n(" RETOUR ")])),_:1})])]),y("div",B6,[Te(E,{to:"/",class:"close-button","aria-label":"Retour à l'accueil"},{default:Rt(()=>_[16]||(_[16]=[y("i",{class:"bi bi-x-lg"},null,-1)])),_:1}),_[17]||(_[17]=y("img",{src:O6,alt:"Illustration de jeux vidéo pour l'inscription",class:"img-fluid login-background-image"},null,-1))])])])}}},q6=fn(H6,[["__scopeId","data-v-8a284661"]]),W6="/assets/img/connexion.jpg",z6={class:"login-page-wrapper vh-100 d-flex align-items-center justify-content-center"},K6={class:"login-card-container d-flex shadow-lg"},G6={class:"login-form-section p-4 d-flex flex-column justify-content-center align-items-center text-center"},Q6={class:"form-group mb-3 text-start"},Y6={class:"form-group mb-4 text-start"},X6={class:"d-flex justify-content-between w-100 mt-3 small-links"},J6={class:"login-image-section d-none d-md-flex align-items-center justify-content-center p-0"},Z6={__name:"Connexion",setup(t){const e=Ce(""),n=Ce(""),s=Nc();async function i(){try{await PU(e.value,n.value),alert("Connexion réussie !"),s.push("/")}catch(l){alert("Erreur lors de la connexion : "+l.message)}}async function r(){try{await OU(),alert("Connexion Google réussie !"),s.push("/")}catch(l){alert("Erreur avec Google : "+l.message)}}async function o(){if(!e.value){alert('Veuillez entrer votre adresse email dans le champ "Email" pour réinitialiser votre mot de passe.');return}try{await DU(e.value),alert("Un e-mail de réinitialisation de mot de passe a été envoyé à "+e.value+". Veuillez vérifier votre boîte de réception.")}catch(l){alert("Erreur lors de l'envoi de l'e-mail de réinitialisation : "+l.message)}}return(l,c)=>{const d=Do("router-link");return ie(),re("div",z6,[y("div",K6,[y("div",G6,[c[9]||(c[9]=y("h2",{class:"login-title mb-4"},"Se connecter",-1)),y("div",{class:"social-icons d-flex justify-content-center w-100 mb-4"},[y("button",{onClick:r,class:"btn social-icon-btn google-btn me-3","aria-label":"Se connecter avec Google"},c[2]||(c[2]=[y("i",{class:"bi bi-google"},null,-1)])),c[3]||(c[3]=y("button",{class:"btn social-icon-btn discord-btn me-3","aria-label":"Se connecter avec Discord"},[y("i",{class:"bi bi-discord"})],-1)),c[4]||(c[4]=y("button",{class:"btn social-icon-btn facebook-btn","aria-label":"Se connecter avec Facebook"},[y("i",{class:"bi bi-facebook"})],-1))]),c[10]||(c[10]=y("div",{class:"social-login-separator my-3"},"— ou —",-1)),y("form",{onSubmit:ur(i,["prevent"]),class:"w-100"},[y("div",Q6,[c[5]||(c[5]=y("label",{for:"email",class:"form-label text-uppercase"},"Email",-1)),Qt(y("input",{id:"email","onUpdate:modelValue":c[0]||(c[0]=h=>e.value=h),type:"email",class:"form-control login-input",required:"","aria-label":"Email"},null,512),[[Jn,e.value]])]),y("div",Y6,[c[6]||(c[6]=y("label",{for:"password",class:"form-label text-uppercase"},"Mot de passe",-1)),Qt(y("input",{id:"password","onUpdate:modelValue":c[1]||(c[1]=h=>n.value=h),type:"password",class:"form-control login-input",required:"","aria-label":"Mot de passe"},null,512),[[Jn,n.value]])]),c[7]||(c[7]=y("button",{type:"submit",class:"btn login-btn w-100"},"Se connecter",-1))],32),y("div",X6,[Te(d,{to:"/inscription",class:"text-decoration-none"},{default:Rt(()=>c[8]||(c[8]=[_n(" J'ai besoin de compte ? ")])),_:1}),y("a",{href:"#",onClick:ur(o,["prevent"]),class:"text-decoration-none"}," Mot de passe oublié ? ")])]),y("div",J6,[Te(d,{to:"/",class:"close-button","aria-label":"Retour à l'accueil"},{default:Rt(()=>c[11]||(c[11]=[y("i",{class:"bi bi-x-lg"},null,-1)])),_:1}),c[12]||(c[12]=y("img",{src:W6,alt:"Illustration de jeux vidéo",class:"img-fluid login-background-image"},null,-1))])])])}}},e9=fn(Z6,[["__scopeId","data-v-6422ba25"]]),qu="guestCart",WI=nw("cart",()=>{const t=Ce([]),e=Sg();let n=null;const s=Ht(()=>t.value.reduce((E,C)=>E+C.quantity,0)),i=Ht(()=>t.value.reduce((C,N)=>C+N.price*N.quantity,0).toFixed(2));async function r(){if(e.isLoggedIn&&e.user){const E=vs(ln,"users",e.user.uid,"privateData","cart");await Od(E,{items:JSON.parse(JSON.stringify(t.value))})}}function o(){e.isLoggedIn||localStorage.setItem(qu,JSON.stringify(t.value))}function l(E){const C=t.value.find(N=>N.id===E.id);C?C.quantity++:t.value.push({...E,quantity:1}),e.isLoggedIn?r():o()}function c(E){t.value=t.value.filter(C=>C.id!==E),e.isLoggedIn?r():o()}function d(E){const C=t.value.find(N=>N.id===E);C&&C.quantity++,e.isLoggedIn?r():o()}function h(E){const C=t.value.find(N=>N.id===E);if(C&&C.quantity>1)C.quantity--;else if(C&&C.quantity===1){c(E);return}e.isLoggedIn?r():o()}function m(){t.value=[],e.isLoggedIn?r():o()}async function _(){Ps(()=>e.user,async(E,C)=>{if(n&&(n(),n=null),E){const N=vs(ln,"users",E.uid,"privateData","cart"),x=JSON.parse(localStorage.getItem(qu)||"[]"),U=await Bc(N),H=[...U.exists()?U.data().items:[]];x.forEach(j=>{const ne=H.find(oe=>oe.id===j.id);ne?ne.quantity+=j.quantity:H.push(j)}),t.value=H,await r(),localStorage.removeItem(qu),n=Ym(N,j=>{t.value=j.exists()?j.data().items:[]})}else{const N=JSON.parse(localStorage.getItem(qu)||"[]");t.value=N}},{immediate:!0})}return{items:t,totalItems:s,totalPrice:i,addItem:l,removeItem:c,increaseQuantity:d,decreaseQuantity:h,clearCart:m,init:_}}),t9={class:"panier-container container py-5"},n9={class:"row g-4 mt-4"},s9={class:"col-lg-8"},i9={class:"cart-items-list"},r9={key:0,class:"empty-cart-message"},o9=["src","alt"],a9={class:"item-details"},l9={class:"item-name"},c9={class:"item-price-unit"},u9={class:"item-quantity-controls"},h9=["onClick"],d9={class:"quantity-display"},f9=["onClick"],p9={class:"item-subtotal"},m9={class:"mb-0"},g9=["onClick"],_9={class:"col-lg-4"},v9={class:"order-summary"},y9={class:"summary-details mt-4"},E9={class:"d-flex justify-content-between fw-bold summary-total-final"},b9={class:"display-6"},w9=["disabled"],T9={__name:"Panier",setup(t){const e=WI();return Nc(),(n,s)=>{const i=Do("router-link");return ie(),re(We,null,[Te($o),y("div",t9,[y("div",n9,[y("div",s9,[y("div",i9,[at(e).items.length===0?(ie(),re("div",r9,[s[1]||(s[1]=y("i",{class:"bi bi-bag-fill empty-cart-icon"},null,-1)),s[2]||(s[2]=y("h3",null,"Votre panier est vide.",-1)),s[3]||(s[3]=y("p",null,"Découvrez notre catalogue de jeux et remplissez votre collection !",-1)),Te(i,{to:"/",class:"btn btn-primary mt-3"},{default:Rt(()=>s[0]||(s[0]=[_n("Explorer le catalogue")])),_:1})])):(ie(!0),re(We,{key:1},Ft(at(e).items,r=>(ie(),re("div",{key:r.id,class:"cart-item"},[y("img",{src:r.image,alt:r.name,class:"item-image"},null,8,o9),y("div",a9,[y("h5",l9,Ee(r.name),1),y("p",c9,Ee(r.price)+" €",1)]),y("div",u9,[y("button",{class:"btn-quantity",onClick:o=>at(e).decreaseQuantity(r.id)},s[4]||(s[4]=[y("i",{class:"bi bi-dash"},null,-1)]),8,h9),y("span",d9,Ee(r.quantity),1),y("button",{class:"btn-quantity",onClick:o=>at(e).increaseQuantity(r.id)},s[5]||(s[5]=[y("i",{class:"bi bi-plus"},null,-1)]),8,f9)]),y("div",p9,[y("p",m9,Ee((r.price*r.quantity).toFixed(2))+" €",1)]),y("button",{class:"btn-delete",onClick:o=>at(e).removeItem(r.id)},s[6]||(s[6]=[y("i",{class:"bi bi-trash-fill"},null,-1)]),8,g9)]))),128))])]),y("div",_9,[y("div",v9,[s[10]||(s[10]=y("h3",{class:"summary-title"},"RÉSUMÉ DE LA COMMANDE",-1)),y("div",y9,[y("div",E9,[s[7]||(s[7]=y("span",null,"TOTAL :",-1)),y("span",b9,Ee(at(e).totalPrice)+" €",1)]),s[8]||(s[8]=y("p",{class:"mt-3 text-muted small"}," *Livraison instantanée par clé numérique. ",-1))]),y("button",{class:"btn-validate",disabled:at(e).items.length===0}," VALIDER MA COMMANDE ",8,w9),Te(i,{to:"/",class:"btn btn-continue-shopping mt-3"},{default:Rt(()=>s[9]||(s[9]=[_n(" Continuer mes achats ")])),_:1})])])])])],64)}}},A9=fn(T9,[["__scopeId","data-v-dc125d97"]]),I9={key:0,class:"container-fluid py-2 gameDetail"},C9={key:0},S9={class:"title"},R9={class:"game-info"},P9={class:"tags"},O9={class:"tag-list"},k9={class:"synopsis"},D9={class:"game-details"},N9={class:"infos"},x9={class:"infos1"},L9={class:"paltform"},V9={class:"price"},M9={key:1},$9=["src","alt"],F9={class:"desktop"},U9={class:"title"},j9={class:"game-info"},B9={class:"tags"},H9={class:"tag-list"},q9={class:"synopsis"},W9={class:"game-details"},z9={class:"infos"},K9={class:"infos1"},G9={class:"paltform"},Q9={class:"price"},Y9={key:1},X9={__name:"GameDetail",setup(t){const e=mw(),n=Ce(e.params.id),s=Ce(null),i=async l=>{try{const c=vs(ln,"games",l),d=await Bc(c);if(d.exists()){const h=d.data();s.value={id:d.id,titre:h.name,link:h.link,image:h.image,price:`${h.price}€`,date:h.dateSortie.toDate().toLocaleDateString("fr-FR"),description:h.description,tags:h.tag,platform:h.plateforme}}else router.replace({name:"not-found"})}catch(c){console.error("Erreur lors de la récupération du jeu :",c)}};zn(()=>{n.value&&i(n.value)}),Ps(()=>e.params.id,l=>{n.value=l,i(l)});const r=Ce(window.innerWidth<768),o=()=>{r.value=window.innerWidth<768};return zn(()=>{window.addEventListener("resize",o)}),sd(()=>{window.removeEventListener("resize",o)}),(l,c)=>s.value?(ie(),re("div",I9,[r.value?(ie(),re("div",C9,[y("div",{class:"background",style:yo({backgroundImage:`url(/assets/img/preview/${s.value.image})`})},[y("h1",S9,Ee(s.value.titre),1),y("div",R9,[y("h3",P9,[y("ul",O9,[(ie(!0),re(We,null,Ft(s.value.tags,(d,h)=>(ie(),re("li",{key:h,class:"tag"},Ee(d),1))),128))])]),y("p",k9,[Te(HA,{text:s.value.description,maxLength:200},null,8,["text"])])])],4),y("div",D9,[y("div",N9,[y("div",x9,[y("div",L9,[y("h3",null,Ee(s.value.platform),1)]),c[0]||(c[0]=y("p",null,"|",-1)),c[1]||(c[1]=y("div",{class:"stock"},[y("h3",null,"En stock")],-1))]),y("h3",V9,Ee(s.value.price),1)]),c[2]||(c[2]=Sa('<div class="buttons" data-v-5eefd4b8><button class="favorite" data-v-5eefd4b8>favoris</button><button class="cart" data-v-5eefd4b8><h3 data-v-5eefd4b8>Ajouter au panier</h3> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-v-5eefd4b8>!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--&gt; <path d="M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z" data-v-5eefd4b8></path></svg></button></div><div class="description" data-v-5eefd4b8><h3 data-v-5eefd4b8>description</h3></div>',2))])])):(ie(),re("div",M9,[y("div",{class:"background",style:yo({backgroundImage:`url(/assets/img/preview/${s.value.image})`})},[y("div",null,[y("img",{src:`/assets/img/preview/${s.value.image}`,alt:s.value.titre},null,8,$9)]),y("div",F9,[y("h1",U9,Ee(s.value.titre),1),y("div",j9,[y("h3",B9,[y("ul",H9,[(ie(!0),re(We,null,Ft(s.value.tags,(d,h)=>(ie(),re("li",{key:h,class:"tag"},Ee(d),1))),128))])]),y("p",q9,Ee(s.value.description),1)]),y("div",W9,[y("div",z9,[y("div",K9,[y("div",G9,[y("h3",null,Ee(s.value.platform),1)]),c[3]||(c[3]=y("p",null,"|",-1)),c[4]||(c[4]=y("div",{class:"stock"},[y("h3",null,"En stock")],-1))]),y("h3",Q9,Ee(s.value.price),1)]),c[5]||(c[5]=Sa('<div class="buttons" data-v-5eefd4b8><button class="favorite" data-v-5eefd4b8>favoris</button><button class="cart" data-v-5eefd4b8><h3 data-v-5eefd4b8>Ajouter au panier</h3> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-v-5eefd4b8>!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--&gt; <path d="M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z" data-v-5eefd4b8></path></svg></button></div><div class="description" data-v-5eefd4b8><h3 data-v-5eefd4b8>description</h3></div>',2))])])],4)]))])):(ie(),re("div",Y9,c[6]||(c[6]=[y("p",null,"Chargement du jeu...",-1)])))}},J9=fn(X9,[["__scopeId","data-v-5eefd4b8"]]),VE={__name:"GameDetailPage",setup(t){return(e,n)=>(ie(),re(We,null,[Te($o),y("div",null,[Te(J9)]),Te(ol)],64))}},Z9={};function ej(t,e){const n=Do("router-link");return ie(),re("div",null,[e[1]||(e[1]=y("h1",null,"404 - Page introuvable",-1)),e[2]||(e[2]=y("p",null,"Cette page n'existe pas.",-1)),Te(n,{to:"/"},{default:Rt(()=>e[0]||(e[0]=[_n("Retour à l'accueil")])),_:1})])}const ME=fn(Z9,[["render",ej]]),tj={class:"container-fluid py-2 preco"},nj={id:"filter",action:""},sj={class:"price"},ij={id:"precoIn"},rj={class:"game-card"},oj=["href"],aj=["src","alt"],lj={class:"game-text"},cj={class:"titre"},uj={class:"prix"},hj={class:"dateSortie"},dj={key:0,class:"text-center mt-2"},fj={__name:"Search",setup(t){const e=Ce([]),n=Ce([]),s=Ce(""),i=Ce(""),r=Ce(null),o=Ce(null),l=async()=>{const d=Za(ln,"games"),h=el(d,jc("name"));try{const m=await tl(h);e.value=[],m.forEach(_=>{const E=_.data();e.value.push({id:_.id,titre:E.name,link:E.link,image:E.image,plateforme:E.plateforme,price:`${E.price}€`,date:E.dateSortie.toDate().toLocaleDateString("fr-FR"),tag:E.tag||[]})}),c()}catch(m){console.error("Erreur lors de la récupération des jeux :",m)}};function c(){let d=e.value;sn.value&&(d=d.filter(h=>h.titre.toLowerCase().includes(sn.value.toLowerCase()))),s.value&&(d=d.filter(h=>h.plateforme.includes(s.value))),i.value&&(d=d.filter(h=>h.tag.includes(i.value))),r.value!==null&&r.value!==""&&(d=d.filter(h=>parseFloat(h.price.replace("€",""))>=r.value)),o.value!==null&&o.value!==""&&(d=d.filter(h=>parseFloat(h.price.replace("€",""))<=o.value)),n.value=d}return Ps([sn,s,i],c),zn(()=>{l()}),(d,h)=>(ie(),re("div",tj,[y("div",null,[h[10]||(h[10]=y("h1",{class:"mt-3 mb-5"},"Recherche",-1)),y("form",nj,[Qt(y("select",{"onUpdate:modelValue":h[0]||(h[0]=m=>s.value=m),onChange:c},h[4]||(h[4]=[Sa('<option value="" data-v-44bce04d>Systèmes</option><option value="Steam" data-v-44bce04d>Steam</option><option value="Switch" data-v-44bce04d>Nintendo Switch</option><option value="Playstation" data-v-44bce04d>PlayStation</option><option value="Xbox" data-v-44bce04d>Xbox Series</option>',5)]),544),[[Ra,s.value]]),Qt(y("select",{"onUpdate:modelValue":h[1]||(h[1]=m=>i.value=m),onChange:c},h[5]||(h[5]=[Sa('<option value="" data-v-44bce04d>Genres</option><option value="Action" data-v-44bce04d>Action</option><option value="Aventure" data-v-44bce04d>Aventure</option><option value="Histoire" data-v-44bce04d>Histoire</option><option value="Horreur" data-v-44bce04d>Horreur</option><option value="Indies" data-v-44bce04d>Indies</option><option value="Infiltration" data-v-44bce04d>Infiltration</option><option value="Multijoueur" data-v-44bce04d>Multijoueur</option><option value="RPG" data-v-44bce04d>RPG</option><option value="Difficulté" data-v-44bce04d>Difficulté</option><option value="FPS" data-v-44bce04d>FPS</option><option value="Roguelite" data-v-44bce04d>Roguelite</option><option value="Sport" data-v-44bce04d>Sport</option><option value="Anime" data-v-44bce04d>Anime</option><option value="Gestion" data-v-44bce04d>Gestion</option><option value="Stratégie" data-v-44bce04d>Stratégie</option><option value="Course" data-v-44bce04d>Course</option><option value="Simulation" data-v-44bce04d>Simulation</option>',18)]),544),[[Ra,i.value]]),y("div",sj,[h[6]||(h[6]=y("span",null,"Entre",-1)),Qt(y("input",{type:"number","onUpdate:modelValue":h[2]||(h[2]=m=>r.value=m),placeholder:"Prix min",onInput:c},null,544),[[Jn,r.value]]),h[7]||(h[7]=y("span",null,"à",-1)),Qt(y("input",{type:"number","onUpdate:modelValue":h[3]||(h[3]=m=>o.value=m),placeholder:"Prix max",onInput:c},null,544),[[Jn,o.value]]),h[8]||(h[8]=y("span",null,"€",-1))])]),y("ul",ij,[(ie(!0),re(We,null,Ft(n.value,m=>(ie(),re("li",{key:m.id},[y("div",rj,[y("a",{href:m.link},[y("img",{src:`/assets/img/preview/${m.image}`,alt:m.titre},null,8,aj)],8,oj),y("div",lj,[y("h3",cj,Ee(m.titre),1),y("h3",uj,Ee(m.price),1)]),y("p",hj,Ee(m.date),1)])]))),128))]),n.value.length===0?(ie(),re("div",dj,h[9]||(h[9]=[y("h4",null,"Aucun jeu trouvé pour cette recherche.",-1)]))):jn("",!0)])]))}},pj=fn(fj,[["__scopeId","data-v-44bce04d"]]),mj={__name:"Recherche",setup(t){return(e,n)=>(ie(),re(We,null,[Te($o),y("div",null,[Te(pj)]),Te(ol)],64))}},gj={class:"settings-page-wrapper"},_j={class:"container py-5"},vj={class:"row justify-content-center"},yj={class:"col-md-8"},Ej={class:"card"},bj={class:"card-body"},wj={key:0,class:"alert alert-success"},Tj={key:1,class:"alert alert-warning"},Aj={class:"mb-3 text-start"},Ij=["value"],Cj={class:"row"},Sj={class:"col-md-6 mb-3 text-start"},Rj={class:"col-md-6 mb-3 text-start"},Pj={class:"mb-3 text-start"},Oj={key:0,value:""},kj=["value"],Dj={__name:"Parametres",setup(t){const e=Nc(),n=Mi.currentUser,s=Ce(""),i=Ce(""),r=Ce(""),o=Ce([]),l=Ce(""),c=Ce("");async function d(){try{const E=await fetch("https://restcountries.com/v3.1/all?fields=name,cca3");if(!E.ok)throw new Error("Failed to fetch countries");const C=await E.json();o.value=C.sort((N,x)=>N.name.common.localeCompare(x.name.common))}catch(E){console.error(E.message)}}zn(async()=>{if(n){const E=vs(ln,"users",n.uid),C=await Bc(E);if(C.exists()){const N=C.data();s.value=N.firstname||"",i.value=N.username||"",r.value=N.country||""}}await d()});async function h(){if(l.value="",c.value="",!n){c.value="Utilisateur non trouvé.";return}const E={firstname:s.value,username:i.value,country:r.value,displayName:`${s.value} ${i.value}`};try{await xU(n.uid,E),l.value="Vos informations ont été mises à jour avec succès !"}catch(C){console.error("Erreur lors de la mise à jour du profil:",C),c.value="Une erreur est survenue lors de la mise à jour."}}function m(){e.back()}async function _(){if(c.value="",!confirm("Êtes-vous absolument certain de vouloir supprimer votre compte ? Cette action est irréversible."))return;const C=prompt("Pour confirmer la suppression, veuillez entrer votre mot de passe :");if(!C){c.value="La suppression a été annulée. Mot de passe non fourni.";return}try{await NU(C),alert("Votre compte a été supprimé avec succès."),e.push("/")}catch(N){console.error("Erreur lors de la suppression du compte:",N),N.code==="auth/wrong-password"?c.value="Mot de passe incorrect. La suppression a été annulée.":c.value="Une erreur est survenue lors de la suppression du compte."}}return(E,C)=>{var N;return ie(),re("div",gj,[y("div",_j,[y("div",vj,[y("div",yj,[y("div",Ej,[C[13]||(C[13]=y("div",{class:"card-header"},[y("h1",null,"Paramètres du compte")],-1)),y("div",bj,[C[11]||(C[11]=y("h3",{class:"mb-3"},"Informations Personnelles",-1)),l.value?(ie(),re("div",wj,Ee(l.value),1)):jn("",!0),c.value?(ie(),re("div",Tj,Ee(c.value),1)):jn("",!0),y("form",{onSubmit:ur(h,["prevent"])},[y("div",Aj,[C[3]||(C[3]=y("label",{for:"email",class:"form-label"},"Adresse e-mail",-1)),y("input",{type:"email",id:"email",class:"form-control",value:(N=at(n))==null?void 0:N.email,disabled:""},null,8,Ij),C[4]||(C[4]=y("div",{class:"form-text"},"L'adresse e-mail ne peut pas être modifiée.",-1))]),y("div",Cj,[y("div",Sj,[C[5]||(C[5]=y("label",{for:"firstname",class:"form-label"},"Prénom",-1)),Qt(y("input",{type:"text",id:"firstname",class:"form-control","onUpdate:modelValue":C[0]||(C[0]=x=>s.value=x)},null,512),[[Jn,s.value]])]),y("div",Rj,[C[6]||(C[6]=y("label",{for:"username",class:"form-label"},"Nom",-1)),Qt(y("input",{type:"text",id:"username",class:"form-control","onUpdate:modelValue":C[1]||(C[1]=x=>i.value=x)},null,512),[[Jn,i.value]])])]),y("div",Pj,[C[7]||(C[7]=y("label",{for:"country",class:"form-label"},"Pays",-1)),Qt(y("select",{id:"country",class:"form-control","onUpdate:modelValue":C[2]||(C[2]=x=>r.value=x)},[r.value?jn("",!0):(ie(),re("option",Oj,"Sélectionnez votre pays")),(ie(!0),re(We,null,Ft(o.value,x=>(ie(),re("option",{key:x.cca3,value:x.name.common},Ee(x.name.common),9,kj))),128))],512),[[Ra,r.value]])]),C[8]||(C[8]=y("button",{type:"submit",class:"btn btn-primary w-100"},"Sauvegarder les modifications",-1))],32),C[12]||(C[12]=y("hr",{class:"my-4"},null,-1)),y("div",{class:"alert alert-danger"},[C[9]||(C[9]=y("h4",{class:"alert-heading"},"Zone de Danger",-1)),C[10]||(C[10]=y("p",null," La suppression de votre compte est une action permanente et irréversible. ",-1)),y("button",{onClick:_,class:"btn btn-danger"}," Supprimer mon compte ")]),y("div",{class:"mt-4 text-center"},[y("button",{onClick:m,class:"btn btn-secondary"},"Retour")])])])])])])])}}},Nj=fn(Dj,[["__scopeId","data-v-9346893c"]]),xj=eP({history:P1("/"),routes:[{path:"/",name:"accueil",component:l3},{path:"/nouveautes",name:"nouveautes",component:E3},{path:"/precommandes",name:"precommandes",component:k3},{path:"/prochaines-sorties",name:"prochaines-sorties",component:P6},{path:"/inscription",name:"inscription",component:q6},{path:"/connexion",name:"connexion",component:e9},{path:"/parametres",name:"Parametres",component:Nj},{path:"/panier",name:"panier",component:A9},{path:"/game/:id",name:"gameDetailPage",component:VE},{path:"/:pathMatch(.*)*",name:"not-found",component:ME},{path:"/recherche",name:"recherche",component:mj},{path:"/game/:id",name:"gameDetailPage",component:VE},{path:"/:pathMatch(.*)*",name:"not-found",component:ME}],linkActiveClass:"active"}),Rg=jR(JR),Lj=qR();Rg.use(Lj);Rg.use(xj);const Vj=Sg();Vj.initAuthListener();const Mj=WI();Mj.init();Rg.mount("#app");
