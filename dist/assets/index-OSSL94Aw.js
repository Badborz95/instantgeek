(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Mp(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const vt={},ga=[],zs=()=>{},rC=()=>!1,Hh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),$p=t=>t.startsWith("onUpdate:"),rn=Object.assign,Fp=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},oC=Object.prototype.hasOwnProperty,ut=(t,e)=>oC.call(t,e),Re=Array.isArray,_a=t=>Sc(t)==="[object Map]",qh=t=>Sc(t)==="[object Set]",a_=t=>Sc(t)==="[object Date]",$e=t=>typeof t=="function",$t=t=>typeof t=="string",Js=t=>typeof t=="symbol",yt=t=>t!==null&&typeof t=="object",OE=t=>(yt(t)||$e(t))&&$e(t.then)&&$e(t.catch),kE=Object.prototype.toString,Sc=t=>kE.call(t),aC=t=>Sc(t).slice(8,-1),DE=t=>Sc(t)==="[object Object]",Up=t=>$t(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ql=Mp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wh=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},lC=/-(\w)/g,ds=Wh(t=>t.replace(lC,(e,n)=>n?n.toUpperCase():"")),cC=/\B([A-Z])/g,So=Wh(t=>t.replace(cC,"-$1").toLowerCase()),zh=Wh(t=>t.charAt(0).toUpperCase()+t.slice(1)),nf=Wh(t=>t?`on${zh(t)}`:""),ur=(t,e)=>!Object.is(t,e),Uu=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},NE=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},rh=t=>{const e=parseFloat(t);return isNaN(e)?t:e},uC=t=>{const e=$t(t)?Number(t):NaN;return isNaN(e)?t:e};let l_;const Kh=()=>l_||(l_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function mo(t){if(Re(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=$t(s)?pC(s):mo(s);if(i)for(const r in i)e[r]=i[r]}return e}else if($t(t)||yt(t))return t}const hC=/;(?![^(]*\))/g,dC=/:([^]+)/,fC=/\/\*[^]*?\*\//g;function pC(t){const e={};return t.replace(fC,"").split(hC).forEach(n=>{if(n){const s=n.split(dC);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Pn(t){let e="";if($t(t))e=t;else if(Re(t))for(let n=0;n<t.length;n++){const s=Pn(t[n]);s&&(e+=s+" ")}else if(yt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const mC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gC=Mp(mC);function xE(t){return!!t||t===""}function _C(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Gh(t[s],e[s]);return n}function Gh(t,e){if(t===e)return!0;let n=a_(t),s=a_(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Js(t),s=Js(e),n||s)return t===e;if(n=Re(t),s=Re(e),n||s)return n&&s?_C(t,e):!1;if(n=yt(t),s=yt(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const l=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(l&&!c||!l&&c||!Gh(t[o],e[o]))return!1}}return String(t)===String(e)}function vC(t,e){return t.findIndex(n=>Gh(n,e))}const LE=t=>!!(t&&t.__v_isRef===!0),we=t=>$t(t)?t:t==null?"":Re(t)||yt(t)&&(t.toString===kE||!$e(t.toString))?LE(t)?we(t.value):JSON.stringify(t,VE,2):String(t),VE=(t,e)=>LE(e)?VE(t,e.value):_a(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[sf(s,r)+" =>"]=i,n),{})}:qh(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>sf(n))}:Js(e)?sf(e):yt(e)&&!Re(e)&&!DE(e)?String(e):e,sf=(t,e="")=>{var n;return Js(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let On;class ME{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=On,!e&&On&&(this.index=(On.scopes||(On.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=On;try{return On=this,e()}finally{On=n}}}on(){On=this}off(){On=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function $E(t){return new ME(t)}function FE(){return On}function yC(t,e=!1){On&&On.cleanups.push(t)}let wt;const rf=new WeakSet;class UE{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,On&&On.active&&On.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,rf.has(this)&&(rf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||BE(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,c_(this),HE(this);const e=wt,n=Is;wt=this,Is=!0;try{return this.fn()}finally{qE(this),wt=e,Is=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Hp(e);this.deps=this.depsTail=void 0,c_(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?rf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qf(this)&&this.run()}get dirty(){return qf(this)}}let jE=0,Wl,zl;function BE(t,e=!1){if(t.flags|=8,e){t.next=zl,zl=t;return}t.next=Wl,Wl=t}function jp(){jE++}function Bp(){if(--jE>0)return;if(zl){let e=zl;for(zl=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Wl;){let e=Wl;for(Wl=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function HE(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function qE(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Hp(s),EC(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function qf(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(WE(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function WE(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ac))return;t.globalVersion=ac;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!qf(t)){t.flags&=-3;return}const n=wt,s=Is;wt=t,Is=!0;try{HE(t);const i=t.fn(t._value);(e.version===0||ur(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{wt=n,Is=s,qE(t),t.flags&=-3}}function Hp(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Hp(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function EC(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Is=!0;const zE=[];function Sr(){zE.push(Is),Is=!1}function Rr(){const t=zE.pop();Is=t===void 0?!0:t}function c_(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=wt;wt=void 0;try{e()}finally{wt=n}}}let ac=0;class bC{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class qp{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!wt||!Is||wt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==wt)n=this.activeLink=new bC(wt,this),wt.deps?(n.prevDep=wt.depsTail,wt.depsTail.nextDep=n,wt.depsTail=n):wt.deps=wt.depsTail=n,KE(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=wt.depsTail,n.nextDep=void 0,wt.depsTail.nextDep=n,wt.depsTail=n,wt.deps===n&&(wt.deps=s)}return n}trigger(e){this.version++,ac++,this.notify(e)}notify(e){jp();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Bp()}}}function KE(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)KE(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const oh=new WeakMap,uo=Symbol(""),Wf=Symbol(""),lc=Symbol("");function gn(t,e,n){if(Is&&wt){let s=oh.get(t);s||oh.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new qp),i.map=s,i.key=n),i.track()}}function gi(t,e,n,s,i,r){const o=oh.get(t);if(!o){ac++;return}const l=c=>{c&&c.trigger()};if(jp(),e==="clear")o.forEach(l);else{const c=Re(t),d=c&&Up(n);if(c&&n==="length"){const h=Number(s);o.forEach((m,_)=>{(_==="length"||_===lc||!Js(_)&&_>=h)&&l(m)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),d&&l(o.get(lc)),e){case"add":c?d&&l(o.get("length")):(l(o.get(uo)),_a(t)&&l(o.get(Wf)));break;case"delete":c||(l(o.get(uo)),_a(t)&&l(o.get(Wf)));break;case"set":_a(t)&&l(o.get(uo));break}}Bp()}function wC(t,e){const n=oh.get(t);return n&&n.get(e)}function na(t){const e=nt(t);return e===t?e:(gn(e,"iterate",lc),cs(t)?e:e.map(_n))}function Qh(t){return gn(t=nt(t),"iterate",lc),t}const TC={__proto__:null,[Symbol.iterator](){return of(this,Symbol.iterator,_n)},concat(...t){return na(this).concat(...t.map(e=>Re(e)?na(e):e))},entries(){return of(this,"entries",t=>(t[1]=_n(t[1]),t))},every(t,e){return di(this,"every",t,e,void 0,arguments)},filter(t,e){return di(this,"filter",t,e,n=>n.map(_n),arguments)},find(t,e){return di(this,"find",t,e,_n,arguments)},findIndex(t,e){return di(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return di(this,"findLast",t,e,_n,arguments)},findLastIndex(t,e){return di(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return di(this,"forEach",t,e,void 0,arguments)},includes(...t){return af(this,"includes",t)},indexOf(...t){return af(this,"indexOf",t)},join(t){return na(this).join(t)},lastIndexOf(...t){return af(this,"lastIndexOf",t)},map(t,e){return di(this,"map",t,e,void 0,arguments)},pop(){return Dl(this,"pop")},push(...t){return Dl(this,"push",t)},reduce(t,...e){return u_(this,"reduce",t,e)},reduceRight(t,...e){return u_(this,"reduceRight",t,e)},shift(){return Dl(this,"shift")},some(t,e){return di(this,"some",t,e,void 0,arguments)},splice(...t){return Dl(this,"splice",t)},toReversed(){return na(this).toReversed()},toSorted(t){return na(this).toSorted(t)},toSpliced(...t){return na(this).toSpliced(...t)},unshift(...t){return Dl(this,"unshift",t)},values(){return of(this,"values",_n)}};function of(t,e,n){const s=Qh(t),i=s[e]();return s!==t&&!cs(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const AC=Array.prototype;function di(t,e,n,s,i,r){const o=Qh(t),l=o!==t&&!cs(t),c=o[e];if(c!==AC[e]){const m=c.apply(t,r);return l?_n(m):m}let d=n;o!==t&&(l?d=function(m,_){return n.call(this,_n(m),_,t)}:n.length>2&&(d=function(m,_){return n.call(this,m,_,t)}));const h=c.call(o,d,s);return l&&i?i(h):h}function u_(t,e,n,s){const i=Qh(t);let r=n;return i!==t&&(cs(t)?n.length>3&&(r=function(o,l,c){return n.call(this,o,l,c,t)}):r=function(o,l,c){return n.call(this,o,_n(l),c,t)}),i[e](r,...s)}function af(t,e,n){const s=nt(t);gn(s,"iterate",lc);const i=s[e](...n);return(i===-1||i===!1)&&Kp(n[0])?(n[0]=nt(n[0]),s[e](...n)):i}function Dl(t,e,n=[]){Sr(),jp();const s=nt(t)[e].apply(t,n);return Bp(),Rr(),s}const IC=Mp("__proto__,__v_isRef,__isVue"),GE=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Js));function CC(t){Js(t)||(t=String(t));const e=nt(this);return gn(e,"has",t),e.hasOwnProperty(t)}class QE{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?VC:ZE:r?JE:XE).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=Re(e);if(!i){let c;if(o&&(c=TC[n]))return c;if(n==="hasOwnProperty")return CC}const l=Reflect.get(e,n,Pt(e)?e:s);return(Js(n)?GE.has(n):IC(n))||(i||gn(e,"get",n),r)?l:Pt(l)?o&&Up(n)?l:l.value:yt(l)?i?tb(l):Rc(l):l}}class YE extends QE{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const c=go(r);if(!cs(s)&&!go(s)&&(r=nt(r),s=nt(s)),!Re(e)&&Pt(r)&&!Pt(s))return c?!1:(r.value=s,!0)}const o=Re(e)&&Up(n)?Number(n)<e.length:ut(e,n),l=Reflect.set(e,n,s,Pt(e)?e:i);return e===nt(i)&&(o?ur(s,r)&&gi(e,"set",n,s):gi(e,"add",n,s)),l}deleteProperty(e,n){const s=ut(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&gi(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Js(n)||!GE.has(n))&&gn(e,"has",n),s}ownKeys(e){return gn(e,"iterate",Re(e)?"length":uo),Reflect.ownKeys(e)}}class SC extends QE{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const RC=new YE,PC=new SC,OC=new YE(!0);const zf=t=>t,wu=t=>Reflect.getPrototypeOf(t);function kC(t,e,n){return function(...s){const i=this.__v_raw,r=nt(i),o=_a(r),l=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,d=i[t](...s),h=n?zf:e?Kf:_n;return!e&&gn(r,"iterate",c?Wf:uo),{next(){const{value:m,done:_}=d.next();return _?{value:m,done:_}:{value:l?[h(m[0]),h(m[1])]:h(m),done:_}},[Symbol.iterator](){return this}}}}function Tu(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function DC(t,e){const n={get(i){const r=this.__v_raw,o=nt(r),l=nt(i);t||(ur(i,l)&&gn(o,"get",i),gn(o,"get",l));const{has:c}=wu(o),d=e?zf:t?Kf:_n;if(c.call(o,i))return d(r.get(i));if(c.call(o,l))return d(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&gn(nt(i),"iterate",uo),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=nt(r),l=nt(i);return t||(ur(i,l)&&gn(o,"has",i),gn(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,c=nt(l),d=e?zf:t?Kf:_n;return!t&&gn(c,"iterate",uo),l.forEach((h,m)=>i.call(r,d(h),d(m),o))}};return rn(n,t?{add:Tu("add"),set:Tu("set"),delete:Tu("delete"),clear:Tu("clear")}:{add(i){!e&&!cs(i)&&!go(i)&&(i=nt(i));const r=nt(this);return wu(r).has.call(r,i)||(r.add(i),gi(r,"add",i,i)),this},set(i,r){!e&&!cs(r)&&!go(r)&&(r=nt(r));const o=nt(this),{has:l,get:c}=wu(o);let d=l.call(o,i);d||(i=nt(i),d=l.call(o,i));const h=c.call(o,i);return o.set(i,r),d?ur(r,h)&&gi(o,"set",i,r):gi(o,"add",i,r),this},delete(i){const r=nt(this),{has:o,get:l}=wu(r);let c=o.call(r,i);c||(i=nt(i),c=o.call(r,i)),l&&l.call(r,i);const d=r.delete(i);return c&&gi(r,"delete",i,void 0),d},clear(){const i=nt(this),r=i.size!==0,o=i.clear();return r&&gi(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=kC(i,t,e)}),n}function Wp(t,e){const n=DC(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(ut(n,i)&&i in s?n:s,i,r)}const NC={get:Wp(!1,!1)},xC={get:Wp(!1,!0)},LC={get:Wp(!0,!1)};const XE=new WeakMap,JE=new WeakMap,ZE=new WeakMap,VC=new WeakMap;function MC(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $C(t){return t.__v_skip||!Object.isExtensible(t)?0:MC(aC(t))}function Rc(t){return go(t)?t:zp(t,!1,RC,NC,XE)}function eb(t){return zp(t,!1,OC,xC,JE)}function tb(t){return zp(t,!0,PC,LC,ZE)}function zp(t,e,n,s,i){if(!yt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=$C(t);if(o===0)return t;const l=new Proxy(t,o===2?s:n);return i.set(t,l),l}function hr(t){return go(t)?hr(t.__v_raw):!!(t&&t.__v_isReactive)}function go(t){return!!(t&&t.__v_isReadonly)}function cs(t){return!!(t&&t.__v_isShallow)}function Kp(t){return t?!!t.__v_raw:!1}function nt(t){const e=t&&t.__v_raw;return e?nt(e):t}function Gp(t){return!ut(t,"__v_skip")&&Object.isExtensible(t)&&NE(t,"__v_skip",!0),t}const _n=t=>yt(t)?Rc(t):t,Kf=t=>yt(t)?tb(t):t;function Pt(t){return t?t.__v_isRef===!0:!1}function je(t){return nb(t,!1)}function FC(t){return nb(t,!0)}function nb(t,e){return Pt(t)?t:new UC(t,e)}class UC{constructor(e,n){this.dep=new qp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:nt(e),this._value=n?e:_n(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||cs(e)||go(e);e=s?e:nt(e),ur(e,n)&&(this._rawValue=e,this._value=s?e:_n(e),this.dep.trigger())}}function lt(t){return Pt(t)?t.value:t}const jC={get:(t,e,n)=>e==="__v_raw"?t:lt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Pt(i)&&!Pt(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function sb(t){return hr(t)?t:new Proxy(t,jC)}function BC(t){const e=Re(t)?new Array(t.length):{};for(const n in t)e[n]=qC(t,n);return e}class HC{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return wC(nt(this._object),this._key)}}function qC(t,e,n){const s=t[e];return Pt(s)?s:new HC(t,e,n)}class WC{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new qp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ac-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&wt!==this)return BE(this,!0),!0}get value(){const e=this.dep.track();return WE(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function zC(t,e,n=!1){let s,i;return $e(t)?s=t:(s=t.get,i=t.set),new WC(s,i,n)}const Au={},ah=new WeakMap;let to;function KC(t,e=!1,n=to){if(n){let s=ah.get(n);s||ah.set(n,s=[]),s.push(t)}}function GC(t,e,n=vt){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:l,call:c}=n,d=j=>i?j:cs(j)||i===!1||i===0?_i(j,1):_i(j);let h,m,_,y,D=!1,N=!1;if(Pt(t)?(m=()=>t.value,D=cs(t)):hr(t)?(m=()=>d(t),D=!0):Re(t)?(N=!0,D=t.some(j=>hr(j)||cs(j)),m=()=>t.map(j=>{if(Pt(j))return j.value;if(hr(j))return d(j);if($e(j))return c?c(j,2):j()})):$e(t)?e?m=c?()=>c(t,2):t:m=()=>{if(_){Sr();try{_()}finally{Rr()}}const j=to;to=h;try{return c?c(t,3,[y]):t(y)}finally{to=j}}:m=zs,e&&i){const j=m,ne=i===!0?1/0:i;m=()=>_i(j(),ne)}const x=FE(),U=()=>{h.stop(),x&&x.active&&Fp(x.effects,h)};if(r&&e){const j=e;e=(...ne)=>{j(...ne),U()}}let F=N?new Array(t.length).fill(Au):Au;const H=j=>{if(!(!(h.flags&1)||!h.dirty&&!j))if(e){const ne=h.run();if(i||D||(N?ne.some((ie,k)=>ur(ie,F[k])):ur(ne,F))){_&&_();const ie=to;to=h;try{const k=[ne,F===Au?void 0:N&&F[0]===Au?[]:F,y];c?c(e,3,k):e(...k),F=ne}finally{to=ie}}}else h.run()};return l&&l(H),h=new UE(m),h.scheduler=o?()=>o(H,!1):H,y=j=>KC(j,!1,h),_=h.onStop=()=>{const j=ah.get(h);if(j){if(c)c(j,4);else for(const ne of j)ne();ah.delete(h)}},e?s?H(!0):F=h.run():o?o(H.bind(null,!0),!0):h.run(),U.pause=h.pause.bind(h),U.resume=h.resume.bind(h),U.stop=U,U}function _i(t,e=1/0,n){if(e<=0||!yt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Pt(t))_i(t.value,e,n);else if(Re(t))for(let s=0;s<t.length;s++)_i(t[s],e,n);else if(qh(t)||_a(t))t.forEach(s=>{_i(s,e,n)});else if(DE(t)){for(const s in t)_i(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&_i(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Pc(t,e,n,s){try{return s?t(...s):t()}catch(i){Yh(i,e,n)}}function Ps(t,e,n,s){if($e(t)){const i=Pc(t,e,n,s);return i&&OE(i)&&i.catch(r=>{Yh(r,e,n)}),i}if(Re(t)){const i=[];for(let r=0;r<t.length;r++)i.push(Ps(t[r],e,n,s));return i}}function Yh(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||vt;if(e){let l=e.parent;const c=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const h=l.ec;if(h){for(let m=0;m<h.length;m++)if(h[m](t,c,d)===!1)return}l=l.parent}if(r){Sr(),Pc(r,null,10,[t,c,d]),Rr();return}}QC(t,n,i,s,o)}function QC(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const kn=[];let Bs=-1;const va=[];let nr=null,oa=0;const ib=Promise.resolve();let lh=null;function ho(t){const e=lh||ib;return t?e.then(this?t.bind(this):t):e}function YC(t){let e=Bs+1,n=kn.length;for(;e<n;){const s=e+n>>>1,i=kn[s],r=cc(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function Qp(t){if(!(t.flags&1)){const e=cc(t),n=kn[kn.length-1];!n||!(t.flags&2)&&e>=cc(n)?kn.push(t):kn.splice(YC(e),0,t),t.flags|=1,rb()}}function rb(){lh||(lh=ib.then(ab))}function XC(t){Re(t)?va.push(...t):nr&&t.id===-1?nr.splice(oa+1,0,t):t.flags&1||(va.push(t),t.flags|=1),rb()}function h_(t,e,n=Bs+1){for(;n<kn.length;n++){const s=kn[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;kn.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function ob(t){if(va.length){const e=[...new Set(va)].sort((n,s)=>cc(n)-cc(s));if(va.length=0,nr){nr.push(...e);return}for(nr=e,oa=0;oa<nr.length;oa++){const n=nr[oa];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}nr=null,oa=0}}const cc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ab(t){try{for(Bs=0;Bs<kn.length;Bs++){const e=kn[Bs];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Pc(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Bs<kn.length;Bs++){const e=kn[Bs];e&&(e.flags&=-2)}Bs=-1,kn.length=0,ob(),lh=null,(kn.length||va.length)&&ab()}}let Dn=null,lb=null;function ch(t){const e=Dn;return Dn=t,lb=t&&t.type.__scopeId||null,e}function Rt(t,e=Dn,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&w_(-1);const r=ch(e);let o;try{o=t(...i)}finally{ch(r),s._d&&w_(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function as(t,e){if(Dn===null)return t;const n=nd(Dn),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,l,c=vt]=e[i];r&&($e(r)&&(r={mounted:r,updated:r}),r.deep&&_i(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return t}function Xr(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let c=l.dir[s];c&&(Sr(),Ps(c,n,8,[t.el,l,t,e]),Rr())}}const JC=Symbol("_vte"),cb=t=>t.__isTeleport,sr=Symbol("_leaveCb"),Iu=Symbol("_enterCb");function ZC(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return fs(()=>{t.isMounted=!0}),vb(()=>{t.isUnmounting=!0}),t}const os=[Function,Array],ub={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:os,onEnter:os,onAfterEnter:os,onEnterCancelled:os,onBeforeLeave:os,onLeave:os,onAfterLeave:os,onLeaveCancelled:os,onBeforeAppear:os,onAppear:os,onAfterAppear:os,onAppearCancelled:os},hb=t=>{const e=t.subTree;return e.component?hb(e.component):e},eS={name:"BaseTransition",props:ub,setup(t,{slots:e}){const n=XS(),s=ZC();return()=>{const i=e.default&&pb(e.default(),!0);if(!i||!i.length)return;const r=db(i),o=nt(t),{mode:l}=o;if(s.isLeaving)return lf(r);const c=d_(r);if(!c)return lf(r);let d=Gf(c,o,s,n,m=>d=m);c.type!==jn&&uc(c,d);let h=n.subTree&&d_(n.subTree);if(h&&h.type!==jn&&!so(c,h)&&hb(n).type!==jn){let m=Gf(h,o,s,n);if(uc(h,m),l==="out-in"&&c.type!==jn)return s.isLeaving=!0,m.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave,h=void 0},lf(r);l==="in-out"&&c.type!==jn?m.delayLeave=(_,y,D)=>{const N=fb(s,h);N[String(h.key)]=h,_[sr]=()=>{y(),_[sr]=void 0,delete d.delayedLeave,h=void 0},d.delayedLeave=()=>{D(),delete d.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return r}}};function db(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==jn){e=n;break}}return e}const tS=eS;function fb(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Gf(t,e,n,s,i){const{appear:r,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:h,onEnterCancelled:m,onBeforeLeave:_,onLeave:y,onAfterLeave:D,onLeaveCancelled:N,onBeforeAppear:x,onAppear:U,onAfterAppear:F,onAppearCancelled:H}=e,j=String(t.key),ne=fb(n,t),ie=(b,A)=>{b&&Ps(b,s,9,A)},k=(b,A)=>{const P=A[1];ie(b,A),Re(b)?b.every(S=>S.length<=1)&&P():b.length<=1&&P()},I={mode:o,persisted:l,beforeEnter(b){let A=c;if(!n.isMounted)if(r)A=x||c;else return;b[sr]&&b[sr](!0);const P=ne[j];P&&so(t,P)&&P.el[sr]&&P.el[sr](),ie(A,[b])},enter(b){let A=d,P=h,S=m;if(!n.isMounted)if(r)A=U||d,P=F||h,S=H||m;else return;let C=!1;const Be=b[Iu]=st=>{C||(C=!0,st?ie(S,[b]):ie(P,[b]),I.delayedLeave&&I.delayedLeave(),b[Iu]=void 0)};A?k(A,[b,Be]):Be()},leave(b,A){const P=String(t.key);if(b[Iu]&&b[Iu](!0),n.isUnmounting)return A();ie(_,[b]);let S=!1;const C=b[sr]=Be=>{S||(S=!0,A(),Be?ie(N,[b]):ie(D,[b]),b[sr]=void 0,ne[P]===t&&delete ne[P])};ne[P]=t,y?k(y,[b,C]):C()},clone(b){const A=Gf(b,e,n,s,i);return i&&i(A),A}};return I}function lf(t){if(Xh(t))return t=_r(t),t.children=null,t}function d_(t){if(!Xh(t))return cb(t.type)&&t.children?db(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&$e(n.default))return n.default()}}function uc(t,e){t.shapeFlag&6&&t.component?(t.transition=e,uc(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function pb(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Qe?(o.patchFlag&128&&i++,s=s.concat(pb(o.children,e,l))):(e||o.type!==jn)&&s.push(l!=null?_r(o,{key:l}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function mb(t,e){return $e(t)?rn({name:t.name},e,{setup:t}):t}function gb(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function uh(t,e,n,s,i=!1){if(Re(t)){t.forEach((D,N)=>uh(D,e&&(Re(e)?e[N]:e),n,s,i));return}if(Kl(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&uh(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?nd(s.component):s.el,o=i?null:r,{i:l,r:c}=t,d=e&&e.r,h=l.refs===vt?l.refs={}:l.refs,m=l.setupState,_=nt(m),y=m===vt?()=>!1:D=>ut(_,D);if(d!=null&&d!==c&&($t(d)?(h[d]=null,y(d)&&(m[d]=null)):Pt(d)&&(d.value=null)),$e(c))Pc(c,l,12,[o,h]);else{const D=$t(c),N=Pt(c);if(D||N){const x=()=>{if(t.f){const U=D?y(c)?m[c]:h[c]:c.value;i?Re(U)&&Fp(U,r):Re(U)?U.includes(r)||U.push(r):D?(h[c]=[r],y(c)&&(m[c]=h[c])):(c.value=[r],t.k&&(h[t.k]=c.value))}else D?(h[c]=o,y(c)&&(m[c]=o)):N&&(c.value=o,t.k&&(h[t.k]=o))};o?(x.id=-1,Kn(x,n)):x()}}}Kh().requestIdleCallback;Kh().cancelIdleCallback;const Kl=t=>!!t.type.__asyncLoader,Xh=t=>t.type.__isKeepAlive;function nS(t,e){_b(t,"a",e)}function sS(t,e){_b(t,"da",e)}function _b(t,e,n=sn){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Jh(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Xh(i.parent.vnode)&&iS(s,e,n,i),i=i.parent}}function iS(t,e,n,s){const i=Jh(e,t,s,!0);Zh(()=>{Fp(s[e],i)},n)}function Jh(t,e,n=sn,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Sr();const l=Oc(n),c=Ps(e,n,t,o);return l(),Rr(),c});return s?i.unshift(r):i.push(r),r}}const Di=t=>(e,n=sn)=>{(!dc||t==="sp")&&Jh(t,(...s)=>e(...s),n)},rS=Di("bm"),fs=Di("m"),oS=Di("bu"),aS=Di("u"),vb=Di("bum"),Zh=Di("um"),lS=Di("sp"),cS=Di("rtg"),uS=Di("rtc");function hS(t,e=sn){Jh("ec",t,e)}const dS="components";function Ro(t,e){return pS(dS,t,!0,e)||t}const fS=Symbol.for("v-ndc");function pS(t,e,n=!0,s=!1){const i=Dn||sn;if(i){const r=i.type;{const l=nR(r,!1);if(l&&(l===e||l===ds(e)||l===zh(ds(e))))return r}const o=f_(i[t]||r[t],e)||f_(i.appContext[t],e);return!o&&s?r:o}}function f_(t,e){return t&&(t[e]||t[ds(e)]||t[zh(ds(e))])}function Kt(t,e,n,s){let i;const r=n,o=Re(t);if(o||$t(t)){const l=o&&hr(t);let c=!1;l&&(c=!cs(t),t=Qh(t)),i=new Array(t.length);for(let d=0,h=t.length;d<h;d++)i[d]=e(c?_n(t[d]):t[d],d,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,r)}else if(yt(t))if(t[Symbol.iterator])i=Array.from(t,(l,c)=>e(l,c,void 0,r));else{const l=Object.keys(t);i=new Array(l.length);for(let c=0,d=l.length;c<d;c++){const h=l[c];i[c]=e(t[h],h,c,r)}}else i=[];return i}const Qf=t=>t?Ub(t)?nd(t):Qf(t.parent):null,Gl=rn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Qf(t.parent),$root:t=>Qf(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Eb(t),$forceUpdate:t=>t.f||(t.f=()=>{Qp(t.update)}),$nextTick:t=>t.n||(t.n=ho.bind(t.proxy)),$watch:t=>VS.bind(t)}),cf=(t,e)=>t!==vt&&!t.__isScriptSetup&&ut(t,e),mS={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:c}=t;let d;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(cf(s,e))return o[e]=1,s[e];if(i!==vt&&ut(i,e))return o[e]=2,i[e];if((d=t.propsOptions[0])&&ut(d,e))return o[e]=3,r[e];if(n!==vt&&ut(n,e))return o[e]=4,n[e];Yf&&(o[e]=0)}}const h=Gl[e];let m,_;if(h)return e==="$attrs"&&gn(t.attrs,"get",""),h(t);if((m=l.__cssModules)&&(m=m[e]))return m;if(n!==vt&&ut(n,e))return o[e]=4,n[e];if(_=c.config.globalProperties,ut(_,e))return _[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return cf(i,e)?(i[e]=n,!0):s!==vt&&ut(s,e)?(s[e]=n,!0):ut(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let l;return!!n[o]||t!==vt&&ut(t,o)||cf(e,o)||(l=r[0])&&ut(l,o)||ut(s,o)||ut(Gl,o)||ut(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ut(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function p_(t){return Re(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Yf=!0;function gS(t){const e=Eb(t),n=t.proxy,s=t.ctx;Yf=!1,e.beforeCreate&&m_(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:l,provide:c,inject:d,created:h,beforeMount:m,mounted:_,beforeUpdate:y,updated:D,activated:N,deactivated:x,beforeDestroy:U,beforeUnmount:F,destroyed:H,unmounted:j,render:ne,renderTracked:ie,renderTriggered:k,errorCaptured:I,serverPrefetch:b,expose:A,inheritAttrs:P,components:S,directives:C,filters:Be}=e;if(d&&_S(d,s,null),o)for(const Ee in o){const Ue=o[Ee];$e(Ue)&&(s[Ee]=Ue.bind(n))}if(i){const Ee=i.call(n,n);yt(Ee)&&(t.data=Rc(Ee))}if(Yf=!0,r)for(const Ee in r){const Ue=r[Ee],Ct=$e(Ue)?Ue.bind(n,n):$e(Ue.get)?Ue.get.bind(n,n):zs,Q=!$e(Ue)&&$e(Ue.set)?Ue.set.bind(n):zs,Ft=jt({get:Ct,set:Q});Object.defineProperty(s,Ee,{enumerable:!0,configurable:!0,get:()=>Ft.value,set:it=>Ft.value=it})}if(l)for(const Ee in l)yb(l[Ee],s,n,Ee);if(c){const Ee=$e(c)?c.call(n):c;Reflect.ownKeys(Ee).forEach(Ue=>{ju(Ue,Ee[Ue])})}h&&m_(h,t,"c");function Ne(Ee,Ue){Re(Ue)?Ue.forEach(Ct=>Ee(Ct.bind(n))):Ue&&Ee(Ue.bind(n))}if(Ne(rS,m),Ne(fs,_),Ne(oS,y),Ne(aS,D),Ne(nS,N),Ne(sS,x),Ne(hS,I),Ne(uS,ie),Ne(cS,k),Ne(vb,F),Ne(Zh,j),Ne(lS,b),Re(A))if(A.length){const Ee=t.exposed||(t.exposed={});A.forEach(Ue=>{Object.defineProperty(Ee,Ue,{get:()=>n[Ue],set:Ct=>n[Ue]=Ct})})}else t.exposed||(t.exposed={});ne&&t.render===zs&&(t.render=ne),P!=null&&(t.inheritAttrs=P),S&&(t.components=S),C&&(t.directives=C),b&&gb(t)}function _S(t,e,n=zs){Re(t)&&(t=Xf(t));for(const s in t){const i=t[s];let r;yt(i)?"default"in i?r=us(i.from||s,i.default,!0):r=us(i.from||s):r=us(i),Pt(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function m_(t,e,n){Ps(Re(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function yb(t,e,n,s){let i=s.includes(".")?xb(n,s):()=>n[s];if($t(t)){const r=e[t];$e(r)&&Cs(i,r)}else if($e(t))Cs(i,t.bind(n));else if(yt(t))if(Re(t))t.forEach(r=>yb(r,e,n,s));else{const r=$e(t.handler)?t.handler.bind(n):e[t.handler];$e(r)&&Cs(i,r,t)}}function Eb(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(e);let c;return l?c=l:!i.length&&!n&&!s?c=e:(c={},i.length&&i.forEach(d=>hh(c,d,o,!0)),hh(c,e,o)),yt(e)&&r.set(e,c),c}function hh(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&hh(t,r,n,!0),i&&i.forEach(o=>hh(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=vS[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const vS={data:g_,props:__,emits:__,methods:Ml,computed:Ml,beforeCreate:Rn,created:Rn,beforeMount:Rn,mounted:Rn,beforeUpdate:Rn,updated:Rn,beforeDestroy:Rn,beforeUnmount:Rn,destroyed:Rn,unmounted:Rn,activated:Rn,deactivated:Rn,errorCaptured:Rn,serverPrefetch:Rn,components:Ml,directives:Ml,watch:ES,provide:g_,inject:yS};function g_(t,e){return e?t?function(){return rn($e(t)?t.call(this,this):t,$e(e)?e.call(this,this):e)}:e:t}function yS(t,e){return Ml(Xf(t),Xf(e))}function Xf(t){if(Re(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Rn(t,e){return t?[...new Set([].concat(t,e))]:e}function Ml(t,e){return t?rn(Object.create(null),t,e):e}function __(t,e){return t?Re(t)&&Re(e)?[...new Set([...t,...e])]:rn(Object.create(null),p_(t),p_(e??{})):e}function ES(t,e){if(!t)return e;if(!e)return t;const n=rn(Object.create(null),t);for(const s in e)n[s]=Rn(t[s],e[s]);return n}function bb(){return{app:null,config:{isNativeTag:rC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bS=0;function wS(t,e){return function(s,i=null){$e(s)||(s=rn({},s)),i!=null&&!yt(i)&&(i=null);const r=bb(),o=new WeakSet,l=[];let c=!1;const d=r.app={_uid:bS++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:iR,get config(){return r.config},set config(h){},use(h,...m){return o.has(h)||(h&&$e(h.install)?(o.add(h),h.install(d,...m)):$e(h)&&(o.add(h),h(d,...m))),d},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),d},component(h,m){return m?(r.components[h]=m,d):r.components[h]},directive(h,m){return m?(r.directives[h]=m,d):r.directives[h]},mount(h,m,_){if(!c){const y=d._ceVNode||Te(s,i);return y.appContext=r,_===!0?_="svg":_===!1&&(_=void 0),t(y,h,_),c=!0,d._container=h,h.__vue_app__=d,nd(y.component)}},onUnmount(h){l.push(h)},unmount(){c&&(Ps(l,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(h,m){return r.provides[h]=m,d},runWithContext(h){const m=fo;fo=d;try{return h()}finally{fo=m}}};return d}}let fo=null;function ju(t,e){if(sn){let n=sn.provides;const s=sn.parent&&sn.parent.provides;s===n&&(n=sn.provides=Object.create(s)),n[t]=e}}function us(t,e,n=!1){const s=sn||Dn;if(s||fo){const i=fo?fo._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&$e(e)?e.call(s&&s.proxy):e}}function TS(){return!!(sn||Dn||fo)}const wb={},Tb=()=>Object.create(wb),Ab=t=>Object.getPrototypeOf(t)===wb;function AS(t,e,n,s=!1){const i={},r=Tb();t.propsDefaults=Object.create(null),Ib(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:eb(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function IS(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,l=nt(i),[c]=t.propsOptions;let d=!1;if((s||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let m=0;m<h.length;m++){let _=h[m];if(ed(t.emitsOptions,_))continue;const y=e[_];if(c)if(ut(r,_))y!==r[_]&&(r[_]=y,d=!0);else{const D=ds(_);i[D]=Jf(c,l,D,y,t,!1)}else y!==r[_]&&(r[_]=y,d=!0)}}}else{Ib(t,e,i,r)&&(d=!0);let h;for(const m in l)(!e||!ut(e,m)&&((h=So(m))===m||!ut(e,h)))&&(c?n&&(n[m]!==void 0||n[h]!==void 0)&&(i[m]=Jf(c,l,m,void 0,t,!0)):delete i[m]);if(r!==l)for(const m in r)(!e||!ut(e,m))&&(delete r[m],d=!0)}d&&gi(t.attrs,"set","")}function Ib(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,l;if(e)for(let c in e){if(ql(c))continue;const d=e[c];let h;i&&ut(i,h=ds(c))?!r||!r.includes(h)?n[h]=d:(l||(l={}))[h]=d:ed(t.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,o=!0)}if(r){const c=nt(n),d=l||vt;for(let h=0;h<r.length;h++){const m=r[h];n[m]=Jf(i,c,m,d[m],t,!ut(d,m))}}return o}function Jf(t,e,n,s,i,r){const o=t[n];if(o!=null){const l=ut(o,"default");if(l&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&$e(c)){const{propsDefaults:d}=i;if(n in d)s=d[n];else{const h=Oc(i);s=d[n]=c.call(null,e),h()}}else s=c;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===So(n))&&(s=!0))}return s}const CS=new WeakMap;function Cb(t,e,n=!1){const s=n?CS:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},l=[];let c=!1;if(!$e(t)){const h=m=>{c=!0;const[_,y]=Cb(m,e,!0);rn(o,_),y&&l.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!r&&!c)return yt(t)&&s.set(t,ga),ga;if(Re(r))for(let h=0;h<r.length;h++){const m=ds(r[h]);v_(m)&&(o[m]=vt)}else if(r)for(const h in r){const m=ds(h);if(v_(m)){const _=r[h],y=o[m]=Re(_)||$e(_)?{type:_}:rn({},_),D=y.type;let N=!1,x=!0;if(Re(D))for(let U=0;U<D.length;++U){const F=D[U],H=$e(F)&&F.name;if(H==="Boolean"){N=!0;break}else H==="String"&&(x=!1)}else N=$e(D)&&D.name==="Boolean";y[0]=N,y[1]=x,(N||ut(y,"default"))&&l.push(m)}}const d=[o,l];return yt(t)&&s.set(t,d),d}function v_(t){return t[0]!=="$"&&!ql(t)}const Sb=t=>t[0]==="_"||t==="$stable",Yp=t=>Re(t)?t.map(qs):[qs(t)],SS=(t,e,n)=>{if(e._n)return e;const s=Rt((...i)=>Yp(e(...i)),n);return s._c=!1,s},Rb=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Sb(i))continue;const r=t[i];if($e(r))e[i]=SS(i,r,s);else if(r!=null){const o=Yp(r);e[i]=()=>o}}},Pb=(t,e)=>{const n=Yp(e);t.slots.default=()=>n},Ob=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},RS=(t,e,n)=>{const s=t.slots=Tb();if(t.vnode.shapeFlag&32){const i=e._;i?(Ob(s,e,n),n&&NE(s,"_",i,!0)):Rb(e,s)}else e&&Pb(t,e)},PS=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=vt;if(s.shapeFlag&32){const l=e._;l?n&&l===1?r=!1:Ob(i,e,n):(r=!e.$stable,Rb(e,i)),o=e}else e&&(Pb(t,e),o={default:1});if(r)for(const l in i)!Sb(l)&&o[l]==null&&delete i[l]},Kn=HS;function OS(t){return kS(t)}function kS(t,e){const n=Kh();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:c,setText:d,setElementText:h,parentNode:m,nextSibling:_,setScopeId:y=zs,insertStaticContent:D}=t,N=(R,O,M,K=null,G=null,Y=null,he=void 0,oe=null,se=!!O.dynamicChildren)=>{if(R===O)return;R&&!so(R,O)&&(K=z(R),it(R,G,Y,!0),R=null),O.patchFlag===-2&&(se=!1,O.dynamicChildren=null);const{type:ee,ref:Ie,shapeFlag:de}=O;switch(ee){case td:x(R,O,M,K);break;case jn:U(R,O,M,K);break;case Bu:R==null&&F(O,M,K,he);break;case Qe:S(R,O,M,K,G,Y,he,oe,se);break;default:de&1?ne(R,O,M,K,G,Y,he,oe,se):de&6?C(R,O,M,K,G,Y,he,oe,se):(de&64||de&128)&&ee.process(R,O,M,K,G,Y,he,oe,se,ge)}Ie!=null&&G&&uh(Ie,R&&R.ref,Y,O||R,!O)},x=(R,O,M,K)=>{if(R==null)s(O.el=l(O.children),M,K);else{const G=O.el=R.el;O.children!==R.children&&d(G,O.children)}},U=(R,O,M,K)=>{R==null?s(O.el=c(O.children||""),M,K):O.el=R.el},F=(R,O,M,K)=>{[R.el,R.anchor]=D(R.children,O,M,K,R.el,R.anchor)},H=({el:R,anchor:O},M,K)=>{let G;for(;R&&R!==O;)G=_(R),s(R,M,K),R=G;s(O,M,K)},j=({el:R,anchor:O})=>{let M;for(;R&&R!==O;)M=_(R),i(R),R=M;i(O)},ne=(R,O,M,K,G,Y,he,oe,se)=>{O.type==="svg"?he="svg":O.type==="math"&&(he="mathml"),R==null?ie(O,M,K,G,Y,he,oe,se):b(R,O,G,Y,he,oe,se)},ie=(R,O,M,K,G,Y,he,oe)=>{let se,ee;const{props:Ie,shapeFlag:de,transition:ve,dirs:be}=R;if(se=R.el=o(R.type,Y,Ie&&Ie.is,Ie),de&8?h(se,R.children):de&16&&I(R.children,se,null,K,G,uf(R,Y),he,oe),be&&Xr(R,null,K,"created"),k(se,R,R.scopeId,he,K),Ie){for(const De in Ie)De!=="value"&&!ql(De)&&r(se,De,null,Ie[De],Y,K);"value"in Ie&&r(se,"value",null,Ie.value,Y),(ee=Ie.onVnodeBeforeMount)&&js(ee,K,R)}be&&Xr(R,null,K,"beforeMount");const Ae=DS(G,ve);Ae&&ve.beforeEnter(se),s(se,O,M),((ee=Ie&&Ie.onVnodeMounted)||Ae||be)&&Kn(()=>{ee&&js(ee,K,R),Ae&&ve.enter(se),be&&Xr(R,null,K,"mounted")},G)},k=(R,O,M,K,G)=>{if(M&&y(R,M),K)for(let Y=0;Y<K.length;Y++)y(R,K[Y]);if(G){let Y=G.subTree;if(O===Y||Vb(Y.type)&&(Y.ssContent===O||Y.ssFallback===O)){const he=G.vnode;k(R,he,he.scopeId,he.slotScopeIds,G.parent)}}},I=(R,O,M,K,G,Y,he,oe,se=0)=>{for(let ee=se;ee<R.length;ee++){const Ie=R[ee]=oe?ir(R[ee]):qs(R[ee]);N(null,Ie,O,M,K,G,Y,he,oe)}},b=(R,O,M,K,G,Y,he)=>{const oe=O.el=R.el;let{patchFlag:se,dynamicChildren:ee,dirs:Ie}=O;se|=R.patchFlag&16;const de=R.props||vt,ve=O.props||vt;let be;if(M&&Jr(M,!1),(be=ve.onVnodeBeforeUpdate)&&js(be,M,O,R),Ie&&Xr(O,R,M,"beforeUpdate"),M&&Jr(M,!0),(de.innerHTML&&ve.innerHTML==null||de.textContent&&ve.textContent==null)&&h(oe,""),ee?A(R.dynamicChildren,ee,oe,M,K,uf(O,G),Y):he||Ue(R,O,oe,null,M,K,uf(O,G),Y,!1),se>0){if(se&16)P(oe,de,ve,M,G);else if(se&2&&de.class!==ve.class&&r(oe,"class",null,ve.class,G),se&4&&r(oe,"style",de.style,ve.style,G),se&8){const Ae=O.dynamicProps;for(let De=0;De<Ae.length;De++){const We=Ae[De],kt=de[We],St=ve[We];(St!==kt||We==="value")&&r(oe,We,kt,St,G,M)}}se&1&&R.children!==O.children&&h(oe,O.children)}else!he&&ee==null&&P(oe,de,ve,M,G);((be=ve.onVnodeUpdated)||Ie)&&Kn(()=>{be&&js(be,M,O,R),Ie&&Xr(O,R,M,"updated")},K)},A=(R,O,M,K,G,Y,he)=>{for(let oe=0;oe<O.length;oe++){const se=R[oe],ee=O[oe],Ie=se.el&&(se.type===Qe||!so(se,ee)||se.shapeFlag&70)?m(se.el):M;N(se,ee,Ie,null,K,G,Y,he,!0)}},P=(R,O,M,K,G)=>{if(O!==M){if(O!==vt)for(const Y in O)!ql(Y)&&!(Y in M)&&r(R,Y,O[Y],null,G,K);for(const Y in M){if(ql(Y))continue;const he=M[Y],oe=O[Y];he!==oe&&Y!=="value"&&r(R,Y,oe,he,G,K)}"value"in M&&r(R,"value",O.value,M.value,G)}},S=(R,O,M,K,G,Y,he,oe,se)=>{const ee=O.el=R?R.el:l(""),Ie=O.anchor=R?R.anchor:l("");let{patchFlag:de,dynamicChildren:ve,slotScopeIds:be}=O;be&&(oe=oe?oe.concat(be):be),R==null?(s(ee,M,K),s(Ie,M,K),I(O.children||[],M,Ie,G,Y,he,oe,se)):de>0&&de&64&&ve&&R.dynamicChildren?(A(R.dynamicChildren,ve,M,G,Y,he,oe),(O.key!=null||G&&O===G.subTree)&&kb(R,O,!0)):Ue(R,O,M,Ie,G,Y,he,oe,se)},C=(R,O,M,K,G,Y,he,oe,se)=>{O.slotScopeIds=oe,R==null?O.shapeFlag&512?G.ctx.activate(O,M,K,he,se):Be(O,M,K,G,Y,he,se):st(R,O,se)},Be=(R,O,M,K,G,Y,he)=>{const oe=R.component=YS(R,K,G);if(Xh(R)&&(oe.ctx.renderer=ge),JS(oe,!1,he),oe.asyncDep){if(G&&G.registerDep(oe,Ne,he),!R.el){const se=oe.subTree=Te(jn);U(null,se,O,M)}}else Ne(oe,R,O,M,G,Y,he)},st=(R,O,M)=>{const K=O.component=R.component;if(jS(R,O,M))if(K.asyncDep&&!K.asyncResolved){Ee(K,O,M);return}else K.next=O,K.update();else O.el=R.el,K.vnode=O},Ne=(R,O,M,K,G,Y,he)=>{const oe=()=>{if(R.isMounted){let{next:de,bu:ve,u:be,parent:Ae,vnode:De}=R;{const xt=Db(R);if(xt){de&&(de.el=De.el,Ee(R,de,he)),xt.asyncDep.then(()=>{R.isUnmounted||oe()});return}}let We=de,kt;Jr(R,!1),de?(de.el=De.el,Ee(R,de,he)):de=De,ve&&Uu(ve),(kt=de.props&&de.props.onVnodeBeforeUpdate)&&js(kt,Ae,de,De),Jr(R,!0);const St=E_(R),Ht=R.subTree;R.subTree=St,N(Ht,St,m(Ht.el),z(Ht),R,G,Y),de.el=St.el,We===null&&BS(R,St.el),be&&Kn(be,G),(kt=de.props&&de.props.onVnodeUpdated)&&Kn(()=>js(kt,Ae,de,De),G)}else{let de;const{el:ve,props:be}=O,{bm:Ae,m:De,parent:We,root:kt,type:St}=R,Ht=Kl(O);Jr(R,!1),Ae&&Uu(Ae),!Ht&&(de=be&&be.onVnodeBeforeMount)&&js(de,We,O),Jr(R,!0);{kt.ce&&kt.ce._injectChildStyle(St);const xt=R.subTree=E_(R);N(null,xt,M,K,R,G,Y),O.el=xt.el}if(De&&Kn(De,G),!Ht&&(de=be&&be.onVnodeMounted)){const xt=O;Kn(()=>js(de,We,xt),G)}(O.shapeFlag&256||We&&Kl(We.vnode)&&We.vnode.shapeFlag&256)&&R.a&&Kn(R.a,G),R.isMounted=!0,O=M=K=null}};R.scope.on();const se=R.effect=new UE(oe);R.scope.off();const ee=R.update=se.run.bind(se),Ie=R.job=se.runIfDirty.bind(se);Ie.i=R,Ie.id=R.uid,se.scheduler=()=>Qp(Ie),Jr(R,!0),ee()},Ee=(R,O,M)=>{O.component=R;const K=R.vnode.props;R.vnode=O,R.next=null,IS(R,O.props,K,M),PS(R,O.children,M),Sr(),h_(R),Rr()},Ue=(R,O,M,K,G,Y,he,oe,se=!1)=>{const ee=R&&R.children,Ie=R?R.shapeFlag:0,de=O.children,{patchFlag:ve,shapeFlag:be}=O;if(ve>0){if(ve&128){Q(ee,de,M,K,G,Y,he,oe,se);return}else if(ve&256){Ct(ee,de,M,K,G,Y,he,oe,se);return}}be&8?(Ie&16&&ot(ee,G,Y),de!==ee&&h(M,de)):Ie&16?be&16?Q(ee,de,M,K,G,Y,he,oe,se):ot(ee,G,Y,!0):(Ie&8&&h(M,""),be&16&&I(de,M,K,G,Y,he,oe,se))},Ct=(R,O,M,K,G,Y,he,oe,se)=>{R=R||ga,O=O||ga;const ee=R.length,Ie=O.length,de=Math.min(ee,Ie);let ve;for(ve=0;ve<de;ve++){const be=O[ve]=se?ir(O[ve]):qs(O[ve]);N(R[ve],be,M,null,G,Y,he,oe,se)}ee>Ie?ot(R,G,Y,!0,!1,de):I(O,M,K,G,Y,he,oe,se,de)},Q=(R,O,M,K,G,Y,he,oe,se)=>{let ee=0;const Ie=O.length;let de=R.length-1,ve=Ie-1;for(;ee<=de&&ee<=ve;){const be=R[ee],Ae=O[ee]=se?ir(O[ee]):qs(O[ee]);if(so(be,Ae))N(be,Ae,M,null,G,Y,he,oe,se);else break;ee++}for(;ee<=de&&ee<=ve;){const be=R[de],Ae=O[ve]=se?ir(O[ve]):qs(O[ve]);if(so(be,Ae))N(be,Ae,M,null,G,Y,he,oe,se);else break;de--,ve--}if(ee>de){if(ee<=ve){const be=ve+1,Ae=be<Ie?O[be].el:K;for(;ee<=ve;)N(null,O[ee]=se?ir(O[ee]):qs(O[ee]),M,Ae,G,Y,he,oe,se),ee++}}else if(ee>ve)for(;ee<=de;)it(R[ee],G,Y,!0),ee++;else{const be=ee,Ae=ee,De=new Map;for(ee=Ae;ee<=ve;ee++){const qt=O[ee]=se?ir(O[ee]):qs(O[ee]);qt.key!=null&&De.set(qt.key,ee)}let We,kt=0;const St=ve-Ae+1;let Ht=!1,xt=0;const Ns=new Array(St);for(ee=0;ee<St;ee++)Ns[ee]=0;for(ee=be;ee<=de;ee++){const qt=R[ee];if(kt>=St){it(qt,G,Y,!0);continue}let Mn;if(qt.key!=null)Mn=De.get(qt.key);else for(We=Ae;We<=ve;We++)if(Ns[We-Ae]===0&&so(qt,O[We])){Mn=We;break}Mn===void 0?it(qt,G,Y,!0):(Ns[Mn-Ae]=ee+1,Mn>=xt?xt=Mn:Ht=!0,N(qt,O[Mn],M,null,G,Y,he,oe,se),kt++)}const ni=Ht?NS(Ns):ga;for(We=ni.length-1,ee=St-1;ee>=0;ee--){const qt=Ae+ee,Mn=O[qt],Vo=qt+1<Ie?O[qt+1].el:K;Ns[ee]===0?N(null,Mn,M,Vo,G,Y,he,oe,se):Ht&&(We<0||ee!==ni[We]?Ft(Mn,M,Vo,2):We--)}}},Ft=(R,O,M,K,G=null)=>{const{el:Y,type:he,transition:oe,children:se,shapeFlag:ee}=R;if(ee&6){Ft(R.component.subTree,O,M,K);return}if(ee&128){R.suspense.move(O,M,K);return}if(ee&64){he.move(R,O,M,ge);return}if(he===Qe){s(Y,O,M);for(let de=0;de<se.length;de++)Ft(se[de],O,M,K);s(R.anchor,O,M);return}if(he===Bu){H(R,O,M);return}if(K!==2&&ee&1&&oe)if(K===0)oe.beforeEnter(Y),s(Y,O,M),Kn(()=>oe.enter(Y),G);else{const{leave:de,delayLeave:ve,afterLeave:be}=oe,Ae=()=>s(Y,O,M),De=()=>{de(Y,()=>{Ae(),be&&be()})};ve?ve(Y,Ae,De):De()}else s(Y,O,M)},it=(R,O,M,K=!1,G=!1)=>{const{type:Y,props:he,ref:oe,children:se,dynamicChildren:ee,shapeFlag:Ie,patchFlag:de,dirs:ve,cacheIndex:be}=R;if(de===-2&&(G=!1),oe!=null&&uh(oe,null,M,R,!0),be!=null&&(O.renderCache[be]=void 0),Ie&256){O.ctx.deactivate(R);return}const Ae=Ie&1&&ve,De=!Kl(R);let We;if(De&&(We=he&&he.onVnodeBeforeUnmount)&&js(We,O,R),Ie&6)At(R.component,M,K);else{if(Ie&128){R.suspense.unmount(M,K);return}Ae&&Xr(R,null,O,"beforeUnmount"),Ie&64?R.type.remove(R,O,M,ge,K):ee&&!ee.hasOnce&&(Y!==Qe||de>0&&de&64)?ot(ee,O,M,!1,!0):(Y===Qe&&de&384||!G&&Ie&16)&&ot(se,O,M),K&&rt(R)}(De&&(We=he&&he.onVnodeUnmounted)||Ae)&&Kn(()=>{We&&js(We,O,R),Ae&&Xr(R,null,O,"unmounted")},M)},rt=R=>{const{type:O,el:M,anchor:K,transition:G}=R;if(O===Qe){Tt(M,K);return}if(O===Bu){j(R);return}const Y=()=>{i(M),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(R.shapeFlag&1&&G&&!G.persisted){const{leave:he,delayLeave:oe}=G,se=()=>he(M,Y);oe?oe(R.el,Y,se):se()}else Y()},Tt=(R,O)=>{let M;for(;R!==O;)M=_(R),i(R),R=M;i(O)},At=(R,O,M)=>{const{bum:K,scope:G,job:Y,subTree:he,um:oe,m:se,a:ee}=R;y_(se),y_(ee),K&&Uu(K),G.stop(),Y&&(Y.flags|=8,it(he,R,O,M)),oe&&Kn(oe,O),Kn(()=>{R.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},ot=(R,O,M,K=!1,G=!1,Y=0)=>{for(let he=Y;he<R.length;he++)it(R[he],O,M,K,G)},z=R=>{if(R.shapeFlag&6)return z(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const O=_(R.anchor||R.el),M=O&&O[JC];return M?_(M):O};let W=!1;const le=(R,O,M)=>{R==null?O._vnode&&it(O._vnode,null,null,!0):N(O._vnode||null,R,O,null,null,null,M),O._vnode=R,W||(W=!0,h_(),ob(),W=!1)},ge={p:N,um:it,m:Ft,r:rt,mt:Be,mc:I,pc:Ue,pbc:A,n:z,o:t};return{render:le,hydrate:void 0,createApp:wS(le)}}function uf({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Jr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function DS(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function kb(t,e,n=!1){const s=t.children,i=e.children;if(Re(s)&&Re(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=ir(i[r]),l.el=o.el),!n&&l.patchFlag!==-2&&kb(o,l)),l.type===td&&(l.el=o.el)}}function NS(t){const e=t.slice(),n=[0];let s,i,r,o,l;const c=t.length;for(s=0;s<c;s++){const d=t[s];if(d!==0){if(i=n[n.length-1],t[i]<d){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,t[n[l]]<d?r=l+1:o=l;d<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Db(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Db(e)}function y_(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const xS=Symbol.for("v-scx"),LS=()=>us(xS);function Cs(t,e,n){return Nb(t,e,n)}function Nb(t,e,n=vt){const{immediate:s,deep:i,flush:r,once:o}=n,l=rn({},n),c=e&&s||!e&&r!=="post";let d;if(dc){if(r==="sync"){const y=LS();d=y.__watcherHandles||(y.__watcherHandles=[])}else if(!c){const y=()=>{};return y.stop=zs,y.resume=zs,y.pause=zs,y}}const h=sn;l.call=(y,D,N)=>Ps(y,h,D,N);let m=!1;r==="post"?l.scheduler=y=>{Kn(y,h&&h.suspense)}:r!=="sync"&&(m=!0,l.scheduler=(y,D)=>{D?y():Qp(y)}),l.augmentJob=y=>{e&&(y.flags|=4),m&&(y.flags|=2,h&&(y.id=h.uid,y.i=h))};const _=GC(t,e,l);return dc&&(d?d.push(_):c&&_()),_}function VS(t,e,n){const s=this.proxy,i=$t(t)?t.includes(".")?xb(s,t):()=>s[t]:t.bind(s,s);let r;$e(e)?r=e:(r=e.handler,n=e);const o=Oc(this),l=Nb(i,r.bind(s),n);return o(),l}function xb(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const MS=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ds(e)}Modifiers`]||t[`${So(e)}Modifiers`];function $S(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||vt;let i=n;const r=e.startsWith("update:"),o=r&&MS(s,e.slice(7));o&&(o.trim&&(i=n.map(h=>$t(h)?h.trim():h)),o.number&&(i=n.map(rh)));let l,c=s[l=nf(e)]||s[l=nf(ds(e))];!c&&r&&(c=s[l=nf(So(e))]),c&&Ps(c,t,6,i);const d=s[l+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Ps(d,t,6,i)}}function Lb(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},l=!1;if(!$e(t)){const c=d=>{const h=Lb(d,e,!0);h&&(l=!0,rn(o,h))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!r&&!l?(yt(t)&&s.set(t,null),null):(Re(r)?r.forEach(c=>o[c]=null):rn(o,r),yt(t)&&s.set(t,o),o)}function ed(t,e){return!t||!Hh(e)?!1:(e=e.slice(2).replace(/Once$/,""),ut(t,e[0].toLowerCase()+e.slice(1))||ut(t,So(e))||ut(t,e))}function E_(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:c,render:d,renderCache:h,props:m,data:_,setupState:y,ctx:D,inheritAttrs:N}=t,x=ch(t);let U,F;try{if(n.shapeFlag&4){const j=i||s,ne=j;U=qs(d.call(ne,j,h,m,y,_,D)),F=l}else{const j=e;U=qs(j.length>1?j(m,{attrs:l,slots:o,emit:c}):j(m,null)),F=e.props?l:FS(l)}}catch(j){Ql.length=0,Yh(j,t,1),U=Te(jn)}let H=U;if(F&&N!==!1){const j=Object.keys(F),{shapeFlag:ne}=H;j.length&&ne&7&&(r&&j.some($p)&&(F=US(F,r)),H=_r(H,F,!1,!0))}return n.dirs&&(H=_r(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(n.dirs):n.dirs),n.transition&&uc(H,n.transition),U=H,ch(x),U}const FS=t=>{let e;for(const n in t)(n==="class"||n==="style"||Hh(n))&&((e||(e={}))[n]=t[n]);return e},US=(t,e)=>{const n={};for(const s in t)(!$p(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function jS(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:l,patchFlag:c}=e,d=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?b_(s,o,d):!!o;if(c&8){const h=e.dynamicProps;for(let m=0;m<h.length;m++){const _=h[m];if(o[_]!==s[_]&&!ed(d,_))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?b_(s,o,d):!0:!!o;return!1}function b_(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!ed(n,r))return!0}return!1}function BS({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Vb=t=>t.__isSuspense;function HS(t,e){e&&e.pendingBranch?Re(t)?e.effects.push(...t):e.effects.push(t):XC(t)}const Qe=Symbol.for("v-fgt"),td=Symbol.for("v-txt"),jn=Symbol.for("v-cmt"),Bu=Symbol.for("v-stc"),Ql=[];let Qn=null;function re(t=!1){Ql.push(Qn=t?null:[])}function qS(){Ql.pop(),Qn=Ql[Ql.length-1]||null}let hc=1;function w_(t,e=!1){hc+=t,t<0&&Qn&&e&&(Qn.hasOnce=!0)}function Mb(t){return t.dynamicChildren=hc>0?Qn||ga:null,qS(),hc>0&&Qn&&Qn.push(t),t}function ae(t,e,n,s,i,r){return Mb(E(t,e,n,s,i,r,!0))}function $b(t,e,n,s,i){return Mb(Te(t,e,n,s,i,!0))}function dh(t){return t?t.__v_isVNode===!0:!1}function so(t,e){return t.type===e.type&&t.key===e.key}const Fb=({key:t})=>t??null,Hu=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?$t(t)||Pt(t)||$e(t)?{i:Dn,r:t,k:e,f:!!n}:t:null);function E(t,e=null,n=null,s=0,i=null,r=t===Qe?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Fb(e),ref:e&&Hu(e),scopeId:lb,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Dn};return l?(Xp(c,n),r&128&&t.normalize(c)):n&&(c.shapeFlag|=$t(n)?8:16),hc>0&&!o&&Qn&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Qn.push(c),c}const Te=WS;function WS(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===fS)&&(t=jn),dh(t)){const l=_r(t,e,!0);return n&&Xp(l,n),hc>0&&!r&&Qn&&(l.shapeFlag&6?Qn[Qn.indexOf(t)]=l:Qn.push(l)),l.patchFlag=-2,l}if(sR(t)&&(t=t.__vccOpts),e){e=zS(e);let{class:l,style:c}=e;l&&!$t(l)&&(e.class=Pn(l)),yt(c)&&(Kp(c)&&!Re(c)&&(c=rn({},c)),e.style=mo(c))}const o=$t(t)?1:Vb(t)?128:cb(t)?64:yt(t)?4:$e(t)?2:0;return E(t,e,n,s,i,o,r,!0)}function zS(t){return t?Kp(t)||Ab(t)?rn({},t):t:null}function _r(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:c}=t,d=e?KS(i||{},e):i,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&Fb(d),ref:e&&e.ref?n&&r?Re(r)?r.concat(Hu(e)):[r,Hu(e)]:Hu(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Qe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&_r(t.ssContent),ssFallback:t.ssFallback&&_r(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&uc(h,c.clone(h)),h}function pn(t=" ",e=0){return Te(td,null,t,e)}function fh(t,e){const n=Te(Bu,null,t);return n.staticCount=e,n}function ws(t="",e=!1){return e?(re(),$b(jn,null,t)):Te(jn,null,t)}function qs(t){return t==null||typeof t=="boolean"?Te(jn):Re(t)?Te(Qe,null,t.slice()):dh(t)?ir(t):Te(td,null,String(t))}function ir(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:_r(t)}function Xp(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Re(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Xp(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Ab(e)?e._ctx=Dn:i===3&&Dn&&(Dn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else $e(e)?(e={default:e,_ctx:Dn},n=32):(e=String(e),s&64?(n=16,e=[pn(e)]):n=8);t.children=e,t.shapeFlag|=n}function KS(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Pn([e.class,s.class]));else if(i==="style")e.style=mo([e.style,s.style]);else if(Hh(i)){const r=e[i],o=s[i];o&&r!==o&&!(Re(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function js(t,e,n,s=null){Ps(t,e,7,[n,s])}const GS=bb();let QS=0;function YS(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||GS,r={uid:QS++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ME(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Cb(s,i),emitsOptions:Lb(s,i),emit:null,emitted:null,propsDefaults:vt,inheritAttrs:s.inheritAttrs,ctx:vt,data:vt,props:vt,attrs:vt,slots:vt,refs:vt,setupState:vt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=$S.bind(null,r),t.ce&&t.ce(r),r}let sn=null;const XS=()=>sn||Dn;let ph,Zf;{const t=Kh(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};ph=e("__VUE_INSTANCE_SETTERS__",n=>sn=n),Zf=e("__VUE_SSR_SETTERS__",n=>dc=n)}const Oc=t=>{const e=sn;return ph(t),t.scope.on(),()=>{t.scope.off(),ph(e)}},T_=()=>{sn&&sn.scope.off(),ph(null)};function Ub(t){return t.vnode.shapeFlag&4}let dc=!1;function JS(t,e=!1,n=!1){e&&Zf(e);const{props:s,children:i}=t.vnode,r=Ub(t);AS(t,s,r,e),RS(t,i,n);const o=r?ZS(t,e):void 0;return e&&Zf(!1),o}function ZS(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,mS);const{setup:s}=n;if(s){Sr();const i=t.setupContext=s.length>1?tR(t):null,r=Oc(t),o=Pc(s,t,0,[t.props,i]),l=OE(o);if(Rr(),r(),(l||t.sp)&&!Kl(t)&&gb(t),l){if(o.then(T_,T_),e)return o.then(c=>{A_(t,c)}).catch(c=>{Yh(c,t,0)});t.asyncDep=o}else A_(t,o)}else jb(t)}function A_(t,e,n){$e(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:yt(e)&&(t.setupState=sb(e)),jb(t)}function jb(t,e,n){const s=t.type;t.render||(t.render=s.render||zs);{const i=Oc(t);Sr();try{gS(t)}finally{Rr(),i()}}}const eR={get(t,e){return gn(t,"get",""),t[e]}};function tR(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,eR),slots:t.slots,emit:t.emit,expose:e}}function nd(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(sb(Gp(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Gl)return Gl[n](t)},has(e,n){return n in e||n in Gl}})):t.proxy}function nR(t,e=!0){return $e(t)?t.displayName||t.name:t.name||e&&t.__name}function sR(t){return $e(t)&&"__vccOpts"in t}const jt=(t,e)=>zC(t,e,dc);function Jp(t,e,n){const s=arguments.length;return s===2?yt(e)&&!Re(e)?dh(e)?Te(t,null,[e]):Te(t,e):Te(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&dh(n)&&(n=[n]),Te(t,e,n))}const iR="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ep;const I_=typeof window<"u"&&window.trustedTypes;if(I_)try{ep=I_.createPolicy("vue",{createHTML:t=>t})}catch{}const Bb=ep?t=>ep.createHTML(t):t=>t,rR="http://www.w3.org/2000/svg",oR="http://www.w3.org/1998/Math/MathML",mi=typeof document<"u"?document:null,C_=mi&&mi.createElement("template"),aR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?mi.createElementNS(rR,t):e==="mathml"?mi.createElementNS(oR,t):n?mi.createElement(t,{is:n}):mi.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>mi.createTextNode(t),createComment:t=>mi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>mi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{C_.innerHTML=Bb(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=C_.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Xi="transition",Nl="animation",fc=Symbol("_vtc"),Hb={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},lR=rn({},ub,Hb),cR=t=>(t.displayName="Transition",t.props=lR,t),S_=cR((t,{slots:e})=>Jp(tS,uR(t),e)),Zr=(t,e=[])=>{Re(t)?t.forEach(n=>n(...e)):t&&t(...e)},R_=t=>t?Re(t)?t.some(e=>e.length>1):t.length>1:!1;function uR(t){const e={};for(const S in t)S in Hb||(e[S]=t[S]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=r,appearActiveClass:d=o,appearToClass:h=l,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=t,D=hR(i),N=D&&D[0],x=D&&D[1],{onBeforeEnter:U,onEnter:F,onEnterCancelled:H,onLeave:j,onLeaveCancelled:ne,onBeforeAppear:ie=U,onAppear:k=F,onAppearCancelled:I=H}=e,b=(S,C,Be,st)=>{S._enterCancelled=st,eo(S,C?h:l),eo(S,C?d:o),Be&&Be()},A=(S,C)=>{S._isLeaving=!1,eo(S,m),eo(S,y),eo(S,_),C&&C()},P=S=>(C,Be)=>{const st=S?k:F,Ne=()=>b(C,S,Be);Zr(st,[C,Ne]),P_(()=>{eo(C,S?c:r),fi(C,S?h:l),R_(st)||O_(C,s,N,Ne)})};return rn(e,{onBeforeEnter(S){Zr(U,[S]),fi(S,r),fi(S,o)},onBeforeAppear(S){Zr(ie,[S]),fi(S,c),fi(S,d)},onEnter:P(!1),onAppear:P(!0),onLeave(S,C){S._isLeaving=!0;const Be=()=>A(S,C);fi(S,m),S._enterCancelled?(fi(S,_),N_()):(N_(),fi(S,_)),P_(()=>{S._isLeaving&&(eo(S,m),fi(S,y),R_(j)||O_(S,s,x,Be))}),Zr(j,[S,Be])},onEnterCancelled(S){b(S,!1,void 0,!0),Zr(H,[S])},onAppearCancelled(S){b(S,!0,void 0,!0),Zr(I,[S])},onLeaveCancelled(S){A(S),Zr(ne,[S])}})}function hR(t){if(t==null)return null;if(yt(t))return[hf(t.enter),hf(t.leave)];{const e=hf(t);return[e,e]}}function hf(t){return uC(t)}function fi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[fc]||(t[fc]=new Set)).add(e)}function eo(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[fc];n&&(n.delete(e),n.size||(t[fc]=void 0))}function P_(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let dR=0;function O_(t,e,n,s){const i=t._endId=++dR,r=()=>{i===t._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:l,propCount:c}=fR(t,e);if(!o)return s();const d=o+"end";let h=0;const m=()=>{t.removeEventListener(d,_),r()},_=y=>{y.target===t&&++h>=c&&m()};setTimeout(()=>{h<c&&m()},l+1),t.addEventListener(d,_)}function fR(t,e){const n=window.getComputedStyle(t),s=D=>(n[D]||"").split(", "),i=s(`${Xi}Delay`),r=s(`${Xi}Duration`),o=k_(i,r),l=s(`${Nl}Delay`),c=s(`${Nl}Duration`),d=k_(l,c);let h=null,m=0,_=0;e===Xi?o>0&&(h=Xi,m=o,_=r.length):e===Nl?d>0&&(h=Nl,m=d,_=c.length):(m=Math.max(o,d),h=m>0?o>d?Xi:Nl:null,_=h?h===Xi?r.length:c.length:0);const y=h===Xi&&/\b(transform|all)(,|$)/.test(s(`${Xi}Property`).toString());return{type:h,timeout:m,propCount:_,hasTransform:y}}function k_(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>D_(n)+D_(t[s])))}function D_(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function N_(){return document.body.offsetHeight}function pR(t,e,n){const s=t[fc];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const x_=Symbol("_vod"),mR=Symbol("_vsh"),gR=Symbol(""),_R=/(^|;)\s*display\s*:/;function vR(t,e,n){const s=t.style,i=$t(n);let r=!1;if(n&&!i){if(e)if($t(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&qu(s,l,"")}else for(const o in e)n[o]==null&&qu(s,o,"");for(const o in n)o==="display"&&(r=!0),qu(s,o,n[o])}else if(i){if(e!==n){const o=s[gR];o&&(n+=";"+o),s.cssText=n,r=_R.test(n)}}else e&&t.removeAttribute("style");x_ in t&&(t[x_]=r?s.display:"",t[mR]&&(s.display="none"))}const L_=/\s*!important$/;function qu(t,e,n){if(Re(n))n.forEach(s=>qu(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=yR(t,e);L_.test(n)?t.setProperty(So(s),n.replace(L_,""),"important"):t[s]=n}}const V_=["Webkit","Moz","ms"],df={};function yR(t,e){const n=df[e];if(n)return n;let s=ds(e);if(s!=="filter"&&s in t)return df[e]=s;s=zh(s);for(let i=0;i<V_.length;i++){const r=V_[i]+s;if(r in t)return df[e]=r}return e}const M_="http://www.w3.org/1999/xlink";function $_(t,e,n,s,i,r=gC(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(M_,e.slice(6,e.length)):t.setAttributeNS(M_,e,n):n==null||r&&!xE(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Js(n)?String(n):n)}function F_(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Bb(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=xE(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function io(t,e,n,s){t.addEventListener(e,n,s)}function ER(t,e,n,s){t.removeEventListener(e,n,s)}const U_=Symbol("_vei");function bR(t,e,n,s,i=null){const r=t[U_]||(t[U_]={}),o=r[e];if(s&&o)o.value=s;else{const[l,c]=wR(e);if(s){const d=r[e]=IR(s,i);io(t,l,d,c)}else o&&(ER(t,l,o,c),r[e]=void 0)}}const j_=/(?:Once|Passive|Capture)$/;function wR(t){let e;if(j_.test(t)){e={};let s;for(;s=t.match(j_);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):So(t.slice(2)),e]}let ff=0;const TR=Promise.resolve(),AR=()=>ff||(TR.then(()=>ff=0),ff=Date.now());function IR(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ps(CR(s,n.value),e,5,[s])};return n.value=t,n.attached=AR(),n}function CR(t,e){if(Re(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const B_=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,SR=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?pR(t,s,o):e==="style"?vR(t,n,s):Hh(e)?$p(e)||bR(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):RR(t,e,s,o))?(F_(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&$_(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!$t(s))?F_(t,ds(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),$_(t,e,s,o))};function RR(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&B_(e)&&$e(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return B_(e)&&$t(n)?!1:e in t}const mh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Re(e)?n=>Uu(e,n):e};function PR(t){t.target.composing=!0}function H_(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ya=Symbol("_assign"),Ws={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[ya]=mh(i);const r=s||i.props&&i.props.type==="number";io(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),r&&(l=rh(l)),t[ya](l)}),n&&io(t,"change",()=>{t.value=t.value.trim()}),e||(io(t,"compositionstart",PR),io(t,"compositionend",H_),io(t,"change",H_))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[ya]=mh(o),t.composing)return;const l=(r||t.type==="number")&&!/^0\d/.test(t.value)?rh(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===c)||(t.value=c))}},q_={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=qh(e);io(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?rh(gh(o)):gh(o));t[ya](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,ho(()=>{t._assigning=!1})}),t[ya]=mh(s)},mounted(t,{value:e}){W_(t,e)},beforeUpdate(t,e,n){t[ya]=mh(n)},updated(t,{value:e}){t._assigning||W_(t,e)}};function W_(t,e){const n=t.multiple,s=Re(e);if(!(n&&!s&&!qh(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],l=gh(o);if(n)if(s){const c=typeof l;c==="string"||c==="number"?o.selected=e.some(d=>String(d)===String(l)):o.selected=vC(e,l)>-1}else o.selected=e.has(l);else if(Gh(gh(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function gh(t){return"_value"in t?t._value:t.value}const OR=["ctrl","shift","alt","meta"],kR={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>OR.some(n=>t[`${n}Key`]&&!e.includes(n))},ro=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const l=kR[e[o]];if(l&&l(i,e))return}return t(i,...r)})},DR=rn({patchProp:SR},aR);let z_;function NR(){return z_||(z_=OS(DR))}const xR=(...t)=>{const e=NR().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=VR(s);if(!i)return;const r=e._component;!$e(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,LR(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function LR(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function VR(t){return $t(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let qb;const sd=t=>qb=t,Wb=Symbol();function tp(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Yl;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Yl||(Yl={}));function MR(){const t=$E(!0),e=t.run(()=>je({}));let n=[],s=[];const i=Gp({install(r){sd(i),i._a=r,r.provide(Wb,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const zb=()=>{};function K_(t,e,n,s=zb){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&FE()&&yC(i),i}function sa(t,...e){t.slice().forEach(n=>{n(...e)})}const $R=t=>t(),G_=Symbol(),pf=Symbol();function np(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];tp(i)&&tp(s)&&t.hasOwnProperty(n)&&!Pt(s)&&!hr(s)?t[n]=np(i,s):t[n]=s}return t}const FR=Symbol();function UR(t){return!tp(t)||!Object.prototype.hasOwnProperty.call(t,FR)}const{assign:tr}=Object;function jR(t){return!!(Pt(t)&&t.effect)}function BR(t,e,n,s){const{state:i,actions:r,getters:o}=e,l=n.state.value[t];let c;function d(){l||(n.state.value[t]=i?i():{});const h=BC(n.state.value[t]);return tr(h,r,Object.keys(o||{}).reduce((m,_)=>(m[_]=Gp(jt(()=>{sd(n);const y=n._s.get(t);return o[_].call(y,y)})),m),{}))}return c=Kb(t,d,e,n,s,!0),c}function Kb(t,e,n={},s,i,r){let o;const l=tr({actions:{}},n),c={deep:!0};let d,h,m=[],_=[],y;const D=s.state.value[t];!r&&!D&&(s.state.value[t]={}),je({});let N;function x(I){let b;d=h=!1,typeof I=="function"?(I(s.state.value[t]),b={type:Yl.patchFunction,storeId:t,events:y}):(np(s.state.value[t],I),b={type:Yl.patchObject,payload:I,storeId:t,events:y});const A=N=Symbol();ho().then(()=>{N===A&&(d=!0)}),h=!0,sa(m,b,s.state.value[t])}const U=r?function(){const{state:b}=n,A=b?b():{};this.$patch(P=>{tr(P,A)})}:zb;function F(){o.stop(),m=[],_=[],s._s.delete(t)}const H=(I,b="")=>{if(G_ in I)return I[pf]=b,I;const A=function(){sd(s);const P=Array.from(arguments),S=[],C=[];function Be(Ee){S.push(Ee)}function st(Ee){C.push(Ee)}sa(_,{args:P,name:A[pf],store:ne,after:Be,onError:st});let Ne;try{Ne=I.apply(this&&this.$id===t?this:ne,P)}catch(Ee){throw sa(C,Ee),Ee}return Ne instanceof Promise?Ne.then(Ee=>(sa(S,Ee),Ee)).catch(Ee=>(sa(C,Ee),Promise.reject(Ee))):(sa(S,Ne),Ne)};return A[G_]=!0,A[pf]=b,A},j={_p:s,$id:t,$onAction:K_.bind(null,_),$patch:x,$reset:U,$subscribe(I,b={}){const A=K_(m,I,b.detached,()=>P()),P=o.run(()=>Cs(()=>s.state.value[t],S=>{(b.flush==="sync"?h:d)&&I({storeId:t,type:Yl.direct,events:y},S)},tr({},c,b)));return A},$dispose:F},ne=Rc(j);s._s.set(t,ne);const k=(s._a&&s._a.runWithContext||$R)(()=>s._e.run(()=>(o=$E()).run(()=>e({action:H}))));for(const I in k){const b=k[I];if(Pt(b)&&!jR(b)||hr(b))r||(D&&UR(b)&&(Pt(b)?b.value=D[I]:np(b,D[I])),s.state.value[t][I]=b);else if(typeof b=="function"){const A=H(b,I);k[I]=A,l.actions[I]=b}}return tr(ne,k),tr(nt(ne),k),Object.defineProperty(ne,"$state",{get:()=>s.state.value[t],set:I=>{x(b=>{tr(b,I)})}}),s._p.forEach(I=>{tr(ne,o.run(()=>I({store:ne,app:s._a,pinia:s,options:l})))}),D&&r&&n.hydrate&&n.hydrate(ne.$state,D),d=!0,h=!0,ne}/*! #__NO_SIDE_EFFECTS__ */function Gb(t,e,n){let s;const i=typeof e=="function";s=i?n:e;function r(o,l){const c=TS();return o=o||(c?us(Wb,null):null),o&&sd(o),o=qb,o._s.has(t)||(i?Kb(t,e,s,o):BR(t,s,o)),o._s.get(t)}return r.$id=t,r}const HR={id:"app-wrapper"},qR={class:"container-fluid p-0 flex-fill"},WR={__name:"App",setup(t){return(e,n)=>{const s=Ro("router-view");return re(),ae("div",HR,[E("main",qR,[Te(s)])])}}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const aa=typeof document<"u";function Qb(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function zR(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Qb(t.default)}const ct=Object.assign;function mf(t,e){const n={};for(const s in e){const i=e[s];n[s]=Os(i)?i.map(t):t(i)}return n}const Xl=()=>{},Os=Array.isArray,Yb=/#/g,KR=/&/g,GR=/\//g,QR=/=/g,YR=/\?/g,Xb=/\+/g,XR=/%5B/g,JR=/%5D/g,Jb=/%5E/g,ZR=/%60/g,Zb=/%7B/g,eP=/%7C/g,ew=/%7D/g,tP=/%20/g;function Zp(t){return encodeURI(""+t).replace(eP,"|").replace(XR,"[").replace(JR,"]")}function nP(t){return Zp(t).replace(Zb,"{").replace(ew,"}").replace(Jb,"^")}function sp(t){return Zp(t).replace(Xb,"%2B").replace(tP,"+").replace(Yb,"%23").replace(KR,"%26").replace(ZR,"`").replace(Zb,"{").replace(ew,"}").replace(Jb,"^")}function sP(t){return sp(t).replace(QR,"%3D")}function iP(t){return Zp(t).replace(Yb,"%23").replace(YR,"%3F")}function rP(t){return t==null?"":iP(t).replace(GR,"%2F")}function pc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const oP=/\/$/,aP=t=>t.replace(oP,"");function gf(t,e,n="/"){let s,i={},r="",o="";const l=e.indexOf("#");let c=e.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=e.slice(0,c),r=e.slice(c+1,l>-1?l:e.length),i=t(r)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=hP(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:pc(o)}}function lP(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Q_(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function cP(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Aa(e.matched[s],n.matched[i])&&tw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Aa(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function tw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!uP(t[n],e[n]))return!1;return!0}function uP(t,e){return Os(t)?Y_(t,e):Os(e)?Y_(e,t):t===e}function Y_(t,e){return Os(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function hP(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Ji={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var mc;(function(t){t.pop="pop",t.push="push"})(mc||(mc={}));var Jl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Jl||(Jl={}));function dP(t){if(!t)if(aa){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),aP(t)}const fP=/^[^#]+#/;function pP(t,e){return t.replace(fP,"#")+e}function mP(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const id=()=>({left:window.scrollX,top:window.scrollY});function gP(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=mP(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function X_(t,e){return(history.state?history.state.position-e:-1)+t}const ip=new Map;function _P(t,e){ip.set(t,e)}function vP(t){const e=ip.get(t);return ip.delete(t),e}let yP=()=>location.protocol+"//"+location.host;function nw(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let l=i.includes(t.slice(r))?t.slice(r).length:1,c=i.slice(l);return c[0]!=="/"&&(c="/"+c),Q_(c,"")}return Q_(n,t)+s+i}function EP(t,e,n,s){let i=[],r=[],o=null;const l=({state:_})=>{const y=nw(t,location),D=n.value,N=e.value;let x=0;if(_){if(n.value=y,e.value=_,o&&o===D){o=null;return}x=N?_.position-N.position:0}else s(y);i.forEach(U=>{U(n.value,D,{delta:x,type:mc.pop,direction:x?x>0?Jl.forward:Jl.back:Jl.unknown})})};function c(){o=n.value}function d(_){i.push(_);const y=()=>{const D=i.indexOf(_);D>-1&&i.splice(D,1)};return r.push(y),y}function h(){const{history:_}=window;_.state&&_.replaceState(ct({},_.state,{scroll:id()}),"")}function m(){for(const _ of r)_();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:d,destroy:m}}function J_(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?id():null}}function bP(t){const{history:e,location:n}=window,s={value:nw(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(c,d,h){const m=t.indexOf("#"),_=m>-1?(n.host&&document.querySelector("base")?t:t.slice(m))+c:yP()+t+c;try{e[h?"replaceState":"pushState"](d,"",_),i.value=d}catch(y){console.error(y),n[h?"replace":"assign"](_)}}function o(c,d){const h=ct({},e.state,J_(i.value.back,c,i.value.forward,!0),d,{position:i.value.position});r(c,h,!0),s.value=c}function l(c,d){const h=ct({},i.value,e.state,{forward:c,scroll:id()});r(h.current,h,!0);const m=ct({},J_(s.value,c,null),{position:h.position+1},d);r(c,m,!1),s.value=c}return{location:s,state:i,push:l,replace:o}}function wP(t){t=dP(t);const e=bP(t),n=EP(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=ct({location:"",base:t,go:s,createHref:pP.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function TP(t){return typeof t=="string"||t&&typeof t=="object"}function sw(t){return typeof t=="string"||typeof t=="symbol"}const iw=Symbol("");var Z_;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Z_||(Z_={}));function Ia(t,e){return ct(new Error,{type:t,[iw]:!0},e)}function pi(t,e){return t instanceof Error&&iw in t&&(e==null||!!(t.type&e))}const ev="[^/]+?",AP={sensitive:!1,strict:!1,start:!0,end:!0},IP=/[.+*?^${}()[\]/\\]/g;function CP(t,e){const n=ct({},AP,e),s=[];let i=n.start?"^":"";const r=[];for(const d of t){const h=d.length?[]:[90];n.strict&&!d.length&&(i+="/");for(let m=0;m<d.length;m++){const _=d[m];let y=40+(n.sensitive?.25:0);if(_.type===0)m||(i+="/"),i+=_.value.replace(IP,"\\$&"),y+=40;else if(_.type===1){const{value:D,repeatable:N,optional:x,regexp:U}=_;r.push({name:D,repeatable:N,optional:x});const F=U||ev;if(F!==ev){y+=10;try{new RegExp(`(${F})`)}catch(j){throw new Error(`Invalid custom RegExp for param "${D}" (${F}): `+j.message)}}let H=N?`((?:${F})(?:/(?:${F}))*)`:`(${F})`;m||(H=x&&d.length<2?`(?:/${H})`:"/"+H),x&&(H+="?"),i+=H,y+=20,x&&(y+=-8),N&&(y+=-20),F===".*"&&(y+=-50)}h.push(y)}s.push(h)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function l(d){const h=d.match(o),m={};if(!h)return null;for(let _=1;_<h.length;_++){const y=h[_]||"",D=r[_-1];m[D.name]=y&&D.repeatable?y.split("/"):y}return m}function c(d){let h="",m=!1;for(const _ of t){(!m||!h.endsWith("/"))&&(h+="/"),m=!1;for(const y of _)if(y.type===0)h+=y.value;else if(y.type===1){const{value:D,repeatable:N,optional:x}=y,U=D in d?d[D]:"";if(Os(U)&&!N)throw new Error(`Provided param "${D}" is an array but it is not repeatable (* or + modifiers)`);const F=Os(U)?U.join("/"):U;if(!F)if(x)_.length<2&&(h.endsWith("/")?h=h.slice(0,-1):m=!0);else throw new Error(`Missing required param "${D}"`);h+=F}}return h||"/"}return{re:o,score:s,keys:r,parse:l,stringify:c}}function SP(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function rw(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=SP(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(tv(s))return 1;if(tv(i))return-1}return i.length-s.length}function tv(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const RP={type:0,value:""},PP=/[a-zA-Z0-9_]/;function OP(t){if(!t)return[[]];if(t==="/")return[[RP]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${d}": ${y}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let l=0,c,d="",h="";function m(){d&&(n===0?r.push({type:0,value:d}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:d,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),d="")}function _(){d+=c}for(;l<t.length;){if(c=t[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(d&&m(),o()):c===":"?(m(),n=1):_();break;case 4:_(),n=s;break;case 1:c==="("?n=2:PP.test(c)?_():(m(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:m(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),m(),o(),i}function kP(t,e,n){const s=CP(OP(t.path),n),i=ct(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function DP(t,e){const n=[],s=new Map;e=rv({strict:!1,end:!0,sensitive:!1},e);function i(m){return s.get(m)}function r(m,_,y){const D=!y,N=sv(m);N.aliasOf=y&&y.record;const x=rv(e,m),U=[N];if("alias"in m){const j=typeof m.alias=="string"?[m.alias]:m.alias;for(const ne of j)U.push(sv(ct({},N,{components:y?y.record.components:N.components,path:ne,aliasOf:y?y.record:N})))}let F,H;for(const j of U){const{path:ne}=j;if(_&&ne[0]!=="/"){const ie=_.record.path,k=ie[ie.length-1]==="/"?"":"/";j.path=_.record.path+(ne&&k+ne)}if(F=kP(j,_,x),y?y.alias.push(F):(H=H||F,H!==F&&H.alias.push(F),D&&m.name&&!iv(F)&&o(m.name)),ow(F)&&c(F),N.children){const ie=N.children;for(let k=0;k<ie.length;k++)r(ie[k],F,y&&y.children[k])}y=y||F}return H?()=>{o(H)}:Xl}function o(m){if(sw(m)){const _=s.get(m);_&&(s.delete(m),n.splice(n.indexOf(_),1),_.children.forEach(o),_.alias.forEach(o))}else{const _=n.indexOf(m);_>-1&&(n.splice(_,1),m.record.name&&s.delete(m.record.name),m.children.forEach(o),m.alias.forEach(o))}}function l(){return n}function c(m){const _=LP(m,n);n.splice(_,0,m),m.record.name&&!iv(m)&&s.set(m.record.name,m)}function d(m,_){let y,D={},N,x;if("name"in m&&m.name){if(y=s.get(m.name),!y)throw Ia(1,{location:m});x=y.record.name,D=ct(nv(_.params,y.keys.filter(H=>!H.optional).concat(y.parent?y.parent.keys.filter(H=>H.optional):[]).map(H=>H.name)),m.params&&nv(m.params,y.keys.map(H=>H.name))),N=y.stringify(D)}else if(m.path!=null)N=m.path,y=n.find(H=>H.re.test(N)),y&&(D=y.parse(N),x=y.record.name);else{if(y=_.name?s.get(_.name):n.find(H=>H.re.test(_.path)),!y)throw Ia(1,{location:m,currentLocation:_});x=y.record.name,D=ct({},_.params,m.params),N=y.stringify(D)}const U=[];let F=y;for(;F;)U.unshift(F.record),F=F.parent;return{name:x,path:N,params:D,matched:U,meta:xP(U)}}t.forEach(m=>r(m));function h(){n.length=0,s.clear()}return{addRoute:r,resolve:d,removeRoute:o,clearRoutes:h,getRoutes:l,getRecordMatcher:i}}function nv(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function sv(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:NP(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function NP(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function iv(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function xP(t){return t.reduce((e,n)=>ct(e,n.meta),{})}function rv(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function LP(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;rw(t,e[r])<0?s=r:n=r+1}const i=VP(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function VP(t){let e=t;for(;e=e.parent;)if(ow(e)&&rw(t,e)===0)return e}function ow({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function MP(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(Xb," "),o=r.indexOf("="),l=pc(o<0?r:r.slice(0,o)),c=o<0?null:pc(r.slice(o+1));if(l in e){let d=e[l];Os(d)||(d=e[l]=[d]),d.push(c)}else e[l]=c}return e}function ov(t){let e="";for(let n in t){const s=t[n];if(n=sP(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Os(s)?s.map(r=>r&&sp(r)):[s&&sp(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function $P(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Os(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const FP=Symbol(""),av=Symbol(""),rd=Symbol(""),em=Symbol(""),rp=Symbol("");function xl(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function rr(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((l,c)=>{const d=_=>{_===!1?c(Ia(4,{from:n,to:e})):_ instanceof Error?c(_):TP(_)?c(Ia(2,{from:e,to:_})):(o&&s.enterCallbacks[i]===o&&typeof _=="function"&&o.push(_),l())},h=r(()=>t.call(s&&s.instances[i],e,n,d));let m=Promise.resolve(h);t.length<3&&(m=m.then(d)),m.catch(_=>c(_))})}function _f(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(Qb(c)){const h=(c.__vccOpts||c)[e];h&&r.push(rr(h,n,s,o,l,i))}else{let d=c();r.push(()=>d.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const m=zR(h)?h.default:h;o.mods[l]=h,o.components[l]=m;const y=(m.__vccOpts||m)[e];return y&&rr(y,n,s,o,l,i)()}))}}return r}function lv(t){const e=us(rd),n=us(em),s=jt(()=>{const c=lt(t.to);return e.resolve(c)}),i=jt(()=>{const{matched:c}=s.value,{length:d}=c,h=c[d-1],m=n.matched;if(!h||!m.length)return-1;const _=m.findIndex(Aa.bind(null,h));if(_>-1)return _;const y=cv(c[d-2]);return d>1&&cv(h)===y&&m[m.length-1].path!==y?m.findIndex(Aa.bind(null,c[d-2])):_}),r=jt(()=>i.value>-1&&qP(n.params,s.value.params)),o=jt(()=>i.value>-1&&i.value===n.matched.length-1&&tw(n.params,s.value.params));function l(c={}){if(HP(c)){const d=e[lt(t.replace)?"replace":"push"](lt(t.to)).catch(Xl);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:s,href:jt(()=>s.value.href),isActive:r,isExactActive:o,navigate:l}}function UP(t){return t.length===1?t[0]:t}const jP=mb({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:lv,setup(t,{slots:e}){const n=Rc(lv(t)),{options:s}=us(rd),i=jt(()=>({[uv(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[uv(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&UP(e.default(n));return t.custom?r:Jp("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),BP=jP;function HP(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function qP(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Os(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function cv(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const uv=(t,e,n)=>t??e??n,WP=mb({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=us(rp),i=jt(()=>t.route||s.value),r=us(av,0),o=jt(()=>{let d=lt(r);const{matched:h}=i.value;let m;for(;(m=h[d])&&!m.components;)d++;return d}),l=jt(()=>i.value.matched[o.value]);ju(av,jt(()=>o.value+1)),ju(FP,l),ju(rp,i);const c=je();return Cs(()=>[c.value,l.value,t.name],([d,h,m],[_,y,D])=>{h&&(h.instances[m]=d,y&&y!==h&&d&&d===_&&(h.leaveGuards.size||(h.leaveGuards=y.leaveGuards),h.updateGuards.size||(h.updateGuards=y.updateGuards))),d&&h&&(!y||!Aa(h,y)||!_)&&(h.enterCallbacks[m]||[]).forEach(N=>N(d))},{flush:"post"}),()=>{const d=i.value,h=t.name,m=l.value,_=m&&m.components[h];if(!_)return hv(n.default,{Component:_,route:d});const y=m.props[h],D=y?y===!0?d.params:typeof y=="function"?y(d):y:null,x=Jp(_,ct({},D,e,{onVnodeUnmounted:U=>{U.component.isUnmounted&&(m.instances[h]=null)},ref:c}));return hv(n.default,{Component:x,route:d})||x}}});function hv(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const zP=WP;function KP(t){const e=DP(t.routes,t),n=t.parseQuery||MP,s=t.stringifyQuery||ov,i=t.history,r=xl(),o=xl(),l=xl(),c=FC(Ji);let d=Ji;aa&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=mf.bind(null,z=>""+z),m=mf.bind(null,rP),_=mf.bind(null,pc);function y(z,W){let le,ge;return sw(z)?(le=e.getRecordMatcher(z),ge=W):ge=z,e.addRoute(ge,le)}function D(z){const W=e.getRecordMatcher(z);W&&e.removeRoute(W)}function N(){return e.getRoutes().map(z=>z.record)}function x(z){return!!e.getRecordMatcher(z)}function U(z,W){if(W=ct({},W||c.value),typeof z=="string"){const M=gf(n,z,W.path),K=e.resolve({path:M.path},W),G=i.createHref(M.fullPath);return ct(M,K,{params:_(K.params),hash:pc(M.hash),redirectedFrom:void 0,href:G})}let le;if(z.path!=null)le=ct({},z,{path:gf(n,z.path,W.path).path});else{const M=ct({},z.params);for(const K in M)M[K]==null&&delete M[K];le=ct({},z,{params:m(M)}),W.params=m(W.params)}const ge=e.resolve(le,W),Ke=z.hash||"";ge.params=h(_(ge.params));const R=lP(s,ct({},z,{hash:nP(Ke),path:ge.path})),O=i.createHref(R);return ct({fullPath:R,hash:Ke,query:s===ov?$P(z.query):z.query||{}},ge,{redirectedFrom:void 0,href:O})}function F(z){return typeof z=="string"?gf(n,z,c.value.path):ct({},z)}function H(z,W){if(d!==z)return Ia(8,{from:W,to:z})}function j(z){return k(z)}function ne(z){return j(ct(F(z),{replace:!0}))}function ie(z){const W=z.matched[z.matched.length-1];if(W&&W.redirect){const{redirect:le}=W;let ge=typeof le=="function"?le(z):le;return typeof ge=="string"&&(ge=ge.includes("?")||ge.includes("#")?ge=F(ge):{path:ge},ge.params={}),ct({query:z.query,hash:z.hash,params:ge.path!=null?{}:z.params},ge)}}function k(z,W){const le=d=U(z),ge=c.value,Ke=z.state,R=z.force,O=z.replace===!0,M=ie(le);if(M)return k(ct(F(M),{state:typeof M=="object"?ct({},Ke,M.state):Ke,force:R,replace:O}),W||le);const K=le;K.redirectedFrom=W;let G;return!R&&cP(s,ge,le)&&(G=Ia(16,{to:K,from:ge}),Ft(ge,ge,!0,!1)),(G?Promise.resolve(G):A(K,ge)).catch(Y=>pi(Y)?pi(Y,2)?Y:Q(Y):Ue(Y,K,ge)).then(Y=>{if(Y){if(pi(Y,2))return k(ct({replace:O},F(Y.to),{state:typeof Y.to=="object"?ct({},Ke,Y.to.state):Ke,force:R}),W||K)}else Y=S(K,ge,!0,O,Ke);return P(K,ge,Y),Y})}function I(z,W){const le=H(z,W);return le?Promise.reject(le):Promise.resolve()}function b(z){const W=Tt.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(z):z()}function A(z,W){let le;const[ge,Ke,R]=GP(z,W);le=_f(ge.reverse(),"beforeRouteLeave",z,W);for(const M of ge)M.leaveGuards.forEach(K=>{le.push(rr(K,z,W))});const O=I.bind(null,z,W);return le.push(O),ot(le).then(()=>{le=[];for(const M of r.list())le.push(rr(M,z,W));return le.push(O),ot(le)}).then(()=>{le=_f(Ke,"beforeRouteUpdate",z,W);for(const M of Ke)M.updateGuards.forEach(K=>{le.push(rr(K,z,W))});return le.push(O),ot(le)}).then(()=>{le=[];for(const M of R)if(M.beforeEnter)if(Os(M.beforeEnter))for(const K of M.beforeEnter)le.push(rr(K,z,W));else le.push(rr(M.beforeEnter,z,W));return le.push(O),ot(le)}).then(()=>(z.matched.forEach(M=>M.enterCallbacks={}),le=_f(R,"beforeRouteEnter",z,W,b),le.push(O),ot(le))).then(()=>{le=[];for(const M of o.list())le.push(rr(M,z,W));return le.push(O),ot(le)}).catch(M=>pi(M,8)?M:Promise.reject(M))}function P(z,W,le){l.list().forEach(ge=>b(()=>ge(z,W,le)))}function S(z,W,le,ge,Ke){const R=H(z,W);if(R)return R;const O=W===Ji,M=aa?history.state:{};le&&(ge||O?i.replace(z.fullPath,ct({scroll:O&&M&&M.scroll},Ke)):i.push(z.fullPath,Ke)),c.value=z,Ft(z,W,le,O),Q()}let C;function Be(){C||(C=i.listen((z,W,le)=>{if(!At.listening)return;const ge=U(z),Ke=ie(ge);if(Ke){k(ct(Ke,{replace:!0,force:!0}),ge).catch(Xl);return}d=ge;const R=c.value;aa&&_P(X_(R.fullPath,le.delta),id()),A(ge,R).catch(O=>pi(O,12)?O:pi(O,2)?(k(ct(F(O.to),{force:!0}),ge).then(M=>{pi(M,20)&&!le.delta&&le.type===mc.pop&&i.go(-1,!1)}).catch(Xl),Promise.reject()):(le.delta&&i.go(-le.delta,!1),Ue(O,ge,R))).then(O=>{O=O||S(ge,R,!1),O&&(le.delta&&!pi(O,8)?i.go(-le.delta,!1):le.type===mc.pop&&pi(O,20)&&i.go(-1,!1)),P(ge,R,O)}).catch(Xl)}))}let st=xl(),Ne=xl(),Ee;function Ue(z,W,le){Q(z);const ge=Ne.list();return ge.length?ge.forEach(Ke=>Ke(z,W,le)):console.error(z),Promise.reject(z)}function Ct(){return Ee&&c.value!==Ji?Promise.resolve():new Promise((z,W)=>{st.add([z,W])})}function Q(z){return Ee||(Ee=!z,Be(),st.list().forEach(([W,le])=>z?le(z):W()),st.reset()),z}function Ft(z,W,le,ge){const{scrollBehavior:Ke}=t;if(!aa||!Ke)return Promise.resolve();const R=!le&&vP(X_(z.fullPath,0))||(ge||!le)&&history.state&&history.state.scroll||null;return ho().then(()=>Ke(z,W,R)).then(O=>O&&gP(O)).catch(O=>Ue(O,z,W))}const it=z=>i.go(z);let rt;const Tt=new Set,At={currentRoute:c,listening:!0,addRoute:y,removeRoute:D,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:N,resolve:U,options:t,push:j,replace:ne,go:it,back:()=>it(-1),forward:()=>it(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:Ne.add,isReady:Ct,install(z){const W=this;z.component("RouterLink",BP),z.component("RouterView",zP),z.config.globalProperties.$router=W,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>lt(c)}),aa&&!rt&&c.value===Ji&&(rt=!0,j(i.location).catch(Ke=>{}));const le={};for(const Ke in Ji)Object.defineProperty(le,Ke,{get:()=>c.value[Ke],enumerable:!0});z.provide(rd,W),z.provide(em,eb(le)),z.provide(rp,c);const ge=z.unmount;Tt.add(z),z.unmount=function(){Tt.delete(z),Tt.size<1&&(d=Ji,C&&C(),C=null,c.value=Ji,rt=!1,Ee=!1),ge()}}};function ot(z){return z.reduce((W,le)=>W.then(()=>b(le)),Promise.resolve())}return At}function GP(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(t.matched.find(d=>Aa(d,l))?s.push(l):n.push(l));const c=t.matched[o];c&&(e.matched.find(d=>Aa(d,c))||i.push(c))}return[n,s,i]}function od(){return us(rd)}function aw(t){return us(em)}const En=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},QP={class:"container-fluid"},YP={class:"row justify-content-center"},XP={class:"col-12 col-md-10 col-lg-8 p-0 w-100"},JP={class:"slider-wrapper"},ZP=["src","alt"],e1=["onClick"],t1=["href"],n1=["src","alt"],s1=["src","alt"],i1=["src","alt"],r1={class:"game-info mt-3"},o1=["href"],a1=["src"],l1={__name:"slider",setup(t){const e=je([{src:"/assets/img/icon/gtavi.png",alt:"Image 1"},{src:"/assets/img/icon/metaphor.png",alt:"Image 2"},{src:"/assets/img/icon/nightrein.png",alt:"Image 3"},{src:"/assets/img/icon/TLOU2.jpg",alt:"Image 4"},{src:"/assets/img/icon/Clair_Obscur.jpg",alt:"Image 5"}]),n=je([{src:"https://www.instant-gaming.com/fr/2462-acheter-grand-theft-auto-vi-pc-jeu-rockstar/",alt:"Page GTA VI"},{src:"https://www.instant-gaming.com/fr/14352-acheter-metaphor-refantazio-pc-jeu-steam-europe/",alt:"Page Metaphor"},{src:"https://www.instant-gaming.com/fr/18294-acheter-elden-ring-nightreign-pc-jeu-steam-europe/",alt:"Page Elden Ring Nightrein"},{src:"https://www.instant-gaming.com/fr/6215-acheter-the-last-of-us-part-ii-remastered-pc-jeu-steam-europe/",alt:"Page The Last of Us 2"},{src:"https://www.instant-gaming.com/fr/17015-acheter-clair-obscur-expedition-33-pc-jeu-steam-europe-us-canada/",alt:"Page Clair Obscur"}]),s=[{src:"https://cdn2.steamgriddb.com/hero_thumb/b80be7960918982fceea91afaf4d5e27.jpg",alt:"Image Hero GTA VI"},{src:"https://cdn2.steamgriddb.com/hero_thumb/aaecbb83e18bf24199bc5b2d3a280054.jpg",alt:"Image Hero Metaphor"},{src:"https://cdn2.steamgriddb.com/hero_thumb/8ec28b09ec95f08279e82459f1289c34.jpg",alt:"Image Hero Nightrein"},{src:"https://cdn2.steamgriddb.com/hero_thumb/5b465c13fd8cac3b9baf4af74bc0069a.png",alt:"Image Hero TLOU2"},{src:"https://cdn2.steamgriddb.com/hero_thumb/d2d195657240f493374e95e2b75cc8cf.jpg",alt:"Image Hero Clair Obscur"}],i=je([{name:"Grand Thief Auto VI",description:"lorem ipsum",price:"99.99€"},{name:"Metaphor: ReFantazio",description:"lorem ipsum",price:"39.99€"},{name:"Elden Ring Nightrein",description:"lorem ipsum",price:"31.52€"},{name:"The Last of Us Part II REMASTERED",description:"lorem ipsum",price:"35.43€"},{name:"Clair Obscur : Expédition 33",description:"lorem ipsum",price:"29.99€"}]),r=je(0),o=je(!1),l=je([!1,!1,!1,!1,!1]);jt(()=>(r.value-1+e.value.length)%e.value.length),jt(()=>(r.value+1)%e.value.length);const c=jt(()=>{const U=e.value.length;return[e.value[(r.value-1+U)%U],e.value[r.value],e.value[(r.value+1)%U]]}),d=jt(()=>{const U=e.value.length;return[e.value[(r.value-2+U)%U],e.value[(r.value+2)%U]]}),h=U=>U===1?{width:"50%"}:{width:"25%"};let m=null;function _(){m&&clearInterval(m),m=setInterval(()=>{y()},6e3)}fs(()=>{_()}),Zh(()=>{clearInterval(m)});const y=()=>{o.value=!0,setTimeout(()=>{r.value=(r.value+1)%e.value.length,o.value=!1,_()},500)},D=()=>{o.value=!0,setTimeout(()=>{r.value=(r.value-1+e.value.length)%e.value.length,o.value=!1,_()},500)},N=U=>{U===0&&D(),U===2&&y()},x=U=>{l.value[U]=!l.value[U]};return(U,F)=>(re(),ae("div",QP,[E("div",YP,[E("div",XP,[E("div",{class:"carousel-container mx-auto",style:mo({"--carousel-bg":`url('${s[r.value].src}')`})},[E("div",JP,[E("div",{class:Pn(["slide","prev"]),onClick:F[0]||(F[0]=H=>N(0))},[E("img",{src:d.value[0].src,alt:d.value[0].alt,class:"img-fluid rounded-4 w-50"},null,8,ZP)]),(re(!0),ae(Qe,null,Kt(c.value,(H,j)=>(re(),ae("div",{key:j,class:Pn(["slide",j===0?"prev":j===1?"active":"next",j===1&&o.value?"fading":""]),style:mo(h(j)),onClick:ne=>N(j)},[j===1?(re(),ae("a",{key:0,href:n.value[r.value].src,target:"_blank"},[E("img",{src:H.src,alt:H.alt,class:"img-fluid rounded-4",style:{cursor:"pointer"}},null,8,n1)],8,t1)):(re(),ae("img",{key:1,src:H.src,alt:H.alt,class:"img-fluid rounded-4"},null,8,s1))],14,e1))),128)),E("div",{class:Pn(["slide","next"]),onClick:F[1]||(F[1]=H=>N(2))},[E("img",{src:d.value[1].src,alt:d.value[1].alt,class:"img-fluid rounded-4 w-50"},null,8,i1)])]),E("div",{class:"controls d-flex justify-content-between mt-3"},[E("button",{class:"btn",onClick:D},F[3]||(F[3]=[E("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1)])),E("button",{class:"btn",onClick:y},F[4]||(F[4]=[E("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1)]))]),E("div",r1,[E("h2",null,we(i.value[r.value].name),1),E("p",null,we(i.value[r.value].description),1),E("p",null,we(i.value[r.value].price),1),F[5]||(F[5]=E("a",{class:"btn btn-page me-2"},"Acheter",-1)),E("a",{href:n.value[r.value].src,target:"_blank",class:"btn btn-page me-2"},"Page du jeu",8,o1),E("a",{class:"btn btn-danger",onClick:F[2]||(F[2]=H=>x(r.value))},[E("img",{src:l.value[r.value]?"/assets/img/favorite_black.png":"/assets/img/favorite_empty.png",alt:"Icône",style:{width:"24px",height:"24px"}},null,8,a1)])])],4)])])]))}},c1=En(l1,[["__scopeId","data-v-1767f94d"]]),u1=()=>{};var dv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},h1=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},cw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=r>>2,m=(r&3)<<4|l>>4;let _=(l&15)<<2|d>>6,y=d&63;c||(y=64,o||(_=64)),s.push(n[h],n[m],n[_],n[y])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||l==null||d==null||m==null)throw new d1;const _=r<<2|l>>4;if(s.push(_),d!==64){const y=l<<4&240|d>>2;if(s.push(y),m!==64){const D=d<<6&192|m;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class d1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f1=function(t){const e=lw(t);return cw.encodeByteArray(e,!0)},_h=function(t){return f1(t).replace(/\./g,"")},uw=function(t){try{return cw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=()=>p1().__FIREBASE_DEFAULTS__,g1=()=>{if(typeof process>"u"||typeof dv>"u")return;const t=dv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uw(t[1]);return e&&JSON.parse(e)},ad=()=>{try{return u1()||m1()||g1()||_1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hw=t=>{var e,n;return(n=(e=ad())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},v1=t=>{const e=hw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},dw=()=>{var t;return(t=ad())===null||t===void 0?void 0:t.config},fw=t=>{var e;return(e=ad())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t){return t.endsWith(".cloudworkstations.dev")}async function pw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_h(JSON.stringify(n)),_h(JSON.stringify(o)),""].join(".")}const Zl={};function b1(){const t={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?t.emulator.push(e):t.prod.push(e);return t}function w1(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fv=!1;function mw(t,e){if(typeof window>"u"||typeof document>"u"||!Ba(window.location.host)||Zl[t]===e||Zl[t]||fv)return;Zl[t]=e;function n(_){return`__firebase__banner__${_}`}const s="__firebase__banner",r=b1().prod.length>0;function o(){const _=document.getElementById(s);_&&_.remove()}function l(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function c(_,y){_.setAttribute("width","24"),_.setAttribute("id",y),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{fv=!0,o()},_}function h(_,y){_.setAttribute("id",y),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function m(){const _=w1(s),y=n("text"),D=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),x=document.getElementById(N)||document.createElement("a"),U=n("preprendIcon"),F=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const H=_.element;l(H),h(x,N);const j=d();c(F,U),H.append(F,D,x,j),document.body.appendChild(H)}r?(D.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function A1(){var t;const e=(t=ad())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function S1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R1(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function P1(){return!A1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O1(){try{return typeof indexedDB=="object"}catch{return!1}}function k1(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="FirebaseError";class Ni extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=D1,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kc.prototype.create)}}class kc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?N1(r,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ni(i,l,s)}}function N1(t,e){return t.replace(x1,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const x1=/\{\$([^}]+)}/g;function L1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _o(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(pv(r)&&pv(o)){if(!_o(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function pv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $l(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function Fl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function V1(t,e){const n=new M1(t,e);return n.subscribe.bind(n)}class M1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");$1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=vf),i.error===void 0&&(i.error=vf),i.complete===void 0&&(i.complete=vf);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $1(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t){return t&&t._delegate?t._delegate:t}class vo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new y1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j1(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:U1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U1(t){return t===no?void 0:t}function j1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const H1={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},q1=Ye.INFO,W1={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},z1=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=W1[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tm{constructor(e){this.name=e,this._logLevel=q1,this._logHandler=z1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const K1=(t,e)=>e.some(n=>t instanceof n);let mv,gv;function G1(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q1(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gw=new WeakMap,op=new WeakMap,_w=new WeakMap,yf=new WeakMap,nm=new WeakMap;function Y1(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(dr(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gw.set(n,t)}).catch(()=>{}),nm.set(e,t),e}function X1(t){if(op.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});op.set(t,e)}let ap={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return op.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_w.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J1(t){ap=t(ap)}function Z1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ef(this),e,...n);return _w.set(s,e.sort?e.sort():[e]),dr(s)}:Q1().includes(t)?function(...e){return t.apply(Ef(this),e),dr(gw.get(this))}:function(...e){return dr(t.apply(Ef(this),e))}}function eO(t){return typeof t=="function"?Z1(t):(t instanceof IDBTransaction&&X1(t),K1(t,G1())?new Proxy(t,ap):t)}function dr(t){if(t instanceof IDBRequest)return Y1(t);if(yf.has(t))return yf.get(t);const e=eO(t);return e!==t&&(yf.set(t,e),nm.set(e,t)),e}const Ef=t=>nm.get(t);function tO(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),l=dr(o);return s&&o.addEventListener("upgradeneeded",c=>{s(dr(o.result),c.oldVersion,c.newVersion,dr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{r&&c.addEventListener("close",()=>r()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const nO=["get","getKey","getAll","getAllKeys","count"],sO=["put","add","delete","clear"],bf=new Map;function _v(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bf.get(e))return bf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=sO.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||nO.includes(n)))return;const r=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return bf.set(e,r),r}J1(t=>({...t,get:(e,n,s)=>_v(e,n)||t.get(e,n,s),has:(e,n)=>!!_v(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rO(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function rO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lp="@firebase/app",vv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new tm("@firebase/app"),oO="@firebase/app-compat",aO="@firebase/analytics-compat",lO="@firebase/analytics",cO="@firebase/app-check-compat",uO="@firebase/app-check",hO="@firebase/auth",dO="@firebase/auth-compat",fO="@firebase/database",pO="@firebase/data-connect",mO="@firebase/database-compat",gO="@firebase/functions",_O="@firebase/functions-compat",vO="@firebase/installations",yO="@firebase/installations-compat",EO="@firebase/messaging",bO="@firebase/messaging-compat",wO="@firebase/performance",TO="@firebase/performance-compat",AO="@firebase/remote-config",IO="@firebase/remote-config-compat",CO="@firebase/storage",SO="@firebase/storage-compat",RO="@firebase/firestore",PO="@firebase/ai",OO="@firebase/firestore-compat",kO="firebase",DO="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="[DEFAULT]",NO={[lp]:"fire-core",[oO]:"fire-core-compat",[lO]:"fire-analytics",[aO]:"fire-analytics-compat",[uO]:"fire-app-check",[cO]:"fire-app-check-compat",[hO]:"fire-auth",[dO]:"fire-auth-compat",[fO]:"fire-rtdb",[pO]:"fire-data-connect",[mO]:"fire-rtdb-compat",[gO]:"fire-fn",[_O]:"fire-fn-compat",[vO]:"fire-iid",[yO]:"fire-iid-compat",[EO]:"fire-fcm",[bO]:"fire-fcm-compat",[wO]:"fire-perf",[TO]:"fire-perf-compat",[AO]:"fire-rc",[IO]:"fire-rc-compat",[CO]:"fire-gcs",[SO]:"fire-gcs-compat",[RO]:"fire-fst",[OO]:"fire-fst-compat",[PO]:"fire-vertex","fire-js":"fire-js",[kO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Map,xO=new Map,up=new Map;function yv(t,e){try{t.container.addComponent(e)}catch(n){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ca(t){const e=t.name;if(up.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;up.set(e,t);for(const n of vh.values())yv(n,t);for(const n of xO.values())yv(n,t);return!0}function sm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new kc("app","Firebase",LO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=DO;function vw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:cp,automaticDataCollectionEnabled:!0},e),i=s.name;if(typeof i!="string"||!i)throw fr.create("bad-app-name",{appName:String(i)});if(n||(n=dw()),!n)throw fr.create("no-options");const r=vh.get(i);if(r){if(_o(n,r.options)&&_o(s,r.config))return r;throw fr.create("duplicate-app",{appName:i})}const o=new B1(i);for(const c of up.values())o.addComponent(c);const l=new VO(n,s,o);return vh.set(i,l),l}function yw(t=cp){const e=vh.get(t);if(!e&&t===cp&&dw())return vw();if(!e)throw fr.create("no-app",{appName:t});return e}function pr(t,e,n){var s;let i=(s=NO[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(l.join(" "));return}Ca(new vo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="firebase-heartbeat-database",$O=1,gc="firebase-heartbeat-store";let wf=null;function Ew(){return wf||(wf=tO(MO,$O,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gc)}catch(n){console.warn(n)}}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),wf}async function FO(t){try{const n=(await Ew()).transaction(gc),s=await n.objectStore(gc).get(bw(t));return await n.done,s}catch(e){if(e instanceof Ni)Ci.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(n.message)}}}async function Ev(t,e){try{const s=(await Ew()).transaction(gc,"readwrite");await s.objectStore(gc).put(e,bw(t)),await s.done}catch(n){if(n instanceof Ni)Ci.warn(n.message);else{const s=fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ci.warn(s.message)}}}function bw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=1024,jO=30;class BO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qO(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=bv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>jO){const o=WO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ci.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bv(),{heartbeatsToSend:s,unsentEntries:i}=HO(this._heartbeatsCache.heartbeats),r=_h(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Ci.warn(n),""}}}function bv(){return new Date().toISOString().substring(0,10)}function HO(t,e=UO){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),wv(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class qO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O1()?k1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wv(t){return _h(JSON.stringify({version:2,heartbeats:t})).length}function WO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){Ca(new vo("platform-logger",e=>new iO(e),"PRIVATE")),Ca(new vo("heartbeat",e=>new BO(e),"PRIVATE")),pr(lp,vv,t),pr(lp,vv,"esm2017"),pr("fire-js","")}zO("");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mr,ww;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function b(){}b.prototype=I.prototype,k.D=I.prototype,k.prototype=new b,k.prototype.constructor=k,k.C=function(A,P,S){for(var C=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)C[Be-2]=arguments[Be];return I.prototype[P].apply(A,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,I,b){b||(b=0);var A=Array(16);if(typeof I=="string")for(var P=0;16>P;++P)A[P]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(P=0;16>P;++P)A[P]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=k.g[0],b=k.g[1],P=k.g[2];var S=k.g[3],C=I+(S^b&(P^S))+A[0]+3614090360&4294967295;I=b+(C<<7&4294967295|C>>>25),C=S+(P^I&(b^P))+A[1]+3905402710&4294967295,S=I+(C<<12&4294967295|C>>>20),C=P+(b^S&(I^b))+A[2]+606105819&4294967295,P=S+(C<<17&4294967295|C>>>15),C=b+(I^P&(S^I))+A[3]+3250441966&4294967295,b=P+(C<<22&4294967295|C>>>10),C=I+(S^b&(P^S))+A[4]+4118548399&4294967295,I=b+(C<<7&4294967295|C>>>25),C=S+(P^I&(b^P))+A[5]+1200080426&4294967295,S=I+(C<<12&4294967295|C>>>20),C=P+(b^S&(I^b))+A[6]+2821735955&4294967295,P=S+(C<<17&4294967295|C>>>15),C=b+(I^P&(S^I))+A[7]+4249261313&4294967295,b=P+(C<<22&4294967295|C>>>10),C=I+(S^b&(P^S))+A[8]+1770035416&4294967295,I=b+(C<<7&4294967295|C>>>25),C=S+(P^I&(b^P))+A[9]+2336552879&4294967295,S=I+(C<<12&4294967295|C>>>20),C=P+(b^S&(I^b))+A[10]+4294925233&4294967295,P=S+(C<<17&4294967295|C>>>15),C=b+(I^P&(S^I))+A[11]+2304563134&4294967295,b=P+(C<<22&4294967295|C>>>10),C=I+(S^b&(P^S))+A[12]+1804603682&4294967295,I=b+(C<<7&4294967295|C>>>25),C=S+(P^I&(b^P))+A[13]+4254626195&4294967295,S=I+(C<<12&4294967295|C>>>20),C=P+(b^S&(I^b))+A[14]+2792965006&4294967295,P=S+(C<<17&4294967295|C>>>15),C=b+(I^P&(S^I))+A[15]+1236535329&4294967295,b=P+(C<<22&4294967295|C>>>10),C=I+(P^S&(b^P))+A[1]+4129170786&4294967295,I=b+(C<<5&4294967295|C>>>27),C=S+(b^P&(I^b))+A[6]+3225465664&4294967295,S=I+(C<<9&4294967295|C>>>23),C=P+(I^b&(S^I))+A[11]+643717713&4294967295,P=S+(C<<14&4294967295|C>>>18),C=b+(S^I&(P^S))+A[0]+3921069994&4294967295,b=P+(C<<20&4294967295|C>>>12),C=I+(P^S&(b^P))+A[5]+3593408605&4294967295,I=b+(C<<5&4294967295|C>>>27),C=S+(b^P&(I^b))+A[10]+38016083&4294967295,S=I+(C<<9&4294967295|C>>>23),C=P+(I^b&(S^I))+A[15]+3634488961&4294967295,P=S+(C<<14&4294967295|C>>>18),C=b+(S^I&(P^S))+A[4]+3889429448&4294967295,b=P+(C<<20&4294967295|C>>>12),C=I+(P^S&(b^P))+A[9]+568446438&4294967295,I=b+(C<<5&4294967295|C>>>27),C=S+(b^P&(I^b))+A[14]+3275163606&4294967295,S=I+(C<<9&4294967295|C>>>23),C=P+(I^b&(S^I))+A[3]+4107603335&4294967295,P=S+(C<<14&4294967295|C>>>18),C=b+(S^I&(P^S))+A[8]+1163531501&4294967295,b=P+(C<<20&4294967295|C>>>12),C=I+(P^S&(b^P))+A[13]+2850285829&4294967295,I=b+(C<<5&4294967295|C>>>27),C=S+(b^P&(I^b))+A[2]+4243563512&4294967295,S=I+(C<<9&4294967295|C>>>23),C=P+(I^b&(S^I))+A[7]+1735328473&4294967295,P=S+(C<<14&4294967295|C>>>18),C=b+(S^I&(P^S))+A[12]+2368359562&4294967295,b=P+(C<<20&4294967295|C>>>12),C=I+(b^P^S)+A[5]+4294588738&4294967295,I=b+(C<<4&4294967295|C>>>28),C=S+(I^b^P)+A[8]+2272392833&4294967295,S=I+(C<<11&4294967295|C>>>21),C=P+(S^I^b)+A[11]+1839030562&4294967295,P=S+(C<<16&4294967295|C>>>16),C=b+(P^S^I)+A[14]+4259657740&4294967295,b=P+(C<<23&4294967295|C>>>9),C=I+(b^P^S)+A[1]+2763975236&4294967295,I=b+(C<<4&4294967295|C>>>28),C=S+(I^b^P)+A[4]+1272893353&4294967295,S=I+(C<<11&4294967295|C>>>21),C=P+(S^I^b)+A[7]+4139469664&4294967295,P=S+(C<<16&4294967295|C>>>16),C=b+(P^S^I)+A[10]+3200236656&4294967295,b=P+(C<<23&4294967295|C>>>9),C=I+(b^P^S)+A[13]+681279174&4294967295,I=b+(C<<4&4294967295|C>>>28),C=S+(I^b^P)+A[0]+3936430074&4294967295,S=I+(C<<11&4294967295|C>>>21),C=P+(S^I^b)+A[3]+3572445317&4294967295,P=S+(C<<16&4294967295|C>>>16),C=b+(P^S^I)+A[6]+76029189&4294967295,b=P+(C<<23&4294967295|C>>>9),C=I+(b^P^S)+A[9]+3654602809&4294967295,I=b+(C<<4&4294967295|C>>>28),C=S+(I^b^P)+A[12]+3873151461&4294967295,S=I+(C<<11&4294967295|C>>>21),C=P+(S^I^b)+A[15]+530742520&4294967295,P=S+(C<<16&4294967295|C>>>16),C=b+(P^S^I)+A[2]+3299628645&4294967295,b=P+(C<<23&4294967295|C>>>9),C=I+(P^(b|~S))+A[0]+4096336452&4294967295,I=b+(C<<6&4294967295|C>>>26),C=S+(b^(I|~P))+A[7]+1126891415&4294967295,S=I+(C<<10&4294967295|C>>>22),C=P+(I^(S|~b))+A[14]+2878612391&4294967295,P=S+(C<<15&4294967295|C>>>17),C=b+(S^(P|~I))+A[5]+4237533241&4294967295,b=P+(C<<21&4294967295|C>>>11),C=I+(P^(b|~S))+A[12]+1700485571&4294967295,I=b+(C<<6&4294967295|C>>>26),C=S+(b^(I|~P))+A[3]+2399980690&4294967295,S=I+(C<<10&4294967295|C>>>22),C=P+(I^(S|~b))+A[10]+4293915773&4294967295,P=S+(C<<15&4294967295|C>>>17),C=b+(S^(P|~I))+A[1]+2240044497&4294967295,b=P+(C<<21&4294967295|C>>>11),C=I+(P^(b|~S))+A[8]+1873313359&4294967295,I=b+(C<<6&4294967295|C>>>26),C=S+(b^(I|~P))+A[15]+4264355552&4294967295,S=I+(C<<10&4294967295|C>>>22),C=P+(I^(S|~b))+A[6]+2734768916&4294967295,P=S+(C<<15&4294967295|C>>>17),C=b+(S^(P|~I))+A[13]+1309151649&4294967295,b=P+(C<<21&4294967295|C>>>11),C=I+(P^(b|~S))+A[4]+4149444226&4294967295,I=b+(C<<6&4294967295|C>>>26),C=S+(b^(I|~P))+A[11]+3174756917&4294967295,S=I+(C<<10&4294967295|C>>>22),C=P+(I^(S|~b))+A[2]+718787259&4294967295,P=S+(C<<15&4294967295|C>>>17),C=b+(S^(P|~I))+A[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+S&4294967295}s.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var b=I-this.blockSize,A=this.B,P=this.h,S=0;S<I;){if(P==0)for(;S<=b;)i(this,k,S),S+=this.blockSize;if(typeof k=="string"){for(;S<I;)if(A[P++]=k.charCodeAt(S++),P==this.blockSize){i(this,A),P=0;break}}else for(;S<I;)if(A[P++]=k[S++],P==this.blockSize){i(this,A),P=0;break}}this.h=P,this.o+=I},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var b=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=b&255,b/=256;for(this.u(k),k=Array(16),I=b=0;4>I;++I)for(var A=0;32>A;A+=8)k[b++]=this.g[I]>>>A&255;return k};function r(k,I){var b=l;return Object.prototype.hasOwnProperty.call(b,k)?b[k]:b[k]=I(k)}function o(k,I){this.h=I;for(var b=[],A=!0,P=k.length-1;0<=P;P--){var S=k[P]|0;A&&S==I||(b[P]=S,A=!1)}this.g=b}var l={};function c(k){return-128<=k&&128>k?r(k,function(I){return new o([I|0],0>I?-1:0)}):new o([k|0],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return m;if(0>k)return x(d(-k));for(var I=[],b=1,A=0;k>=b;A++)I[A]=k/b|0,b*=4294967296;return new o(I,0)}function h(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return x(h(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=d(Math.pow(I,8)),A=m,P=0;P<k.length;P+=8){var S=Math.min(8,k.length-P),C=parseInt(k.substring(P,P+S),I);8>S?(S=d(Math.pow(I,S)),A=A.j(S).add(d(C))):(A=A.j(b),A=A.add(d(C)))}return A}var m=c(0),_=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(N(this))return-x(this).m();for(var k=0,I=1,b=0;b<this.g.length;b++){var A=this.i(b);k+=(0<=A?A:4294967296+A)*I,I*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D(this))return"0";if(N(this))return"-"+x(this).toString(k);for(var I=d(Math.pow(k,6)),b=this,A="";;){var P=j(b,I).g;b=U(b,P.j(I));var S=((0<b.g.length?b.g[0]:b.h)>>>0).toString(k);if(b=P,D(b))return S+A;for(;6>S.length;)S="0"+S;A=S+A}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function D(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function N(k){return k.h==-1}t.l=function(k){return k=U(this,k),N(k)?-1:D(k)?0:1};function x(k){for(var I=k.g.length,b=[],A=0;A<I;A++)b[A]=~k.g[A];return new o(b,~k.h).add(_)}t.abs=function(){return N(this)?x(this):this},t.add=function(k){for(var I=Math.max(this.g.length,k.g.length),b=[],A=0,P=0;P<=I;P++){var S=A+(this.i(P)&65535)+(k.i(P)&65535),C=(S>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);A=C>>>16,S&=65535,C&=65535,b[P]=C<<16|S}return new o(b,b[b.length-1]&-2147483648?-1:0)};function U(k,I){return k.add(x(I))}t.j=function(k){if(D(this)||D(k))return m;if(N(this))return N(k)?x(this).j(x(k)):x(x(this).j(k));if(N(k))return x(this.j(x(k)));if(0>this.l(y)&&0>k.l(y))return d(this.m()*k.m());for(var I=this.g.length+k.g.length,b=[],A=0;A<2*I;A++)b[A]=0;for(A=0;A<this.g.length;A++)for(var P=0;P<k.g.length;P++){var S=this.i(A)>>>16,C=this.i(A)&65535,Be=k.i(P)>>>16,st=k.i(P)&65535;b[2*A+2*P]+=C*st,F(b,2*A+2*P),b[2*A+2*P+1]+=S*st,F(b,2*A+2*P+1),b[2*A+2*P+1]+=C*Be,F(b,2*A+2*P+1),b[2*A+2*P+2]+=S*Be,F(b,2*A+2*P+2)}for(A=0;A<I;A++)b[A]=b[2*A+1]<<16|b[2*A];for(A=I;A<2*I;A++)b[A]=0;return new o(b,0)};function F(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function H(k,I){this.g=k,this.h=I}function j(k,I){if(D(I))throw Error("division by zero");if(D(k))return new H(m,m);if(N(k))return I=j(x(k),I),new H(x(I.g),x(I.h));if(N(I))return I=j(k,x(I)),new H(x(I.g),I.h);if(30<k.g.length){if(N(k)||N(I))throw Error("slowDivide_ only works with positive integers.");for(var b=_,A=I;0>=A.l(k);)b=ne(b),A=ne(A);var P=ie(b,1),S=ie(A,1);for(A=ie(A,2),b=ie(b,2);!D(A);){var C=S.add(A);0>=C.l(k)&&(P=P.add(b),S=C),A=ie(A,1),b=ie(b,1)}return I=U(k,P.j(I)),new H(P,I)}for(P=m;0<=k.l(I);){for(b=Math.max(1,Math.floor(k.m()/I.m())),A=Math.ceil(Math.log(b)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),S=d(b),C=S.j(I);N(C)||0<C.l(k);)b-=A,S=d(b),C=S.j(I);D(S)&&(S=_),P=P.add(S),k=U(k,C)}return new H(P,k)}t.A=function(k){return j(this,k).h},t.and=function(k){for(var I=Math.max(this.g.length,k.g.length),b=[],A=0;A<I;A++)b[A]=this.i(A)&k.i(A);return new o(b,this.h&k.h)},t.or=function(k){for(var I=Math.max(this.g.length,k.g.length),b=[],A=0;A<I;A++)b[A]=this.i(A)|k.i(A);return new o(b,this.h|k.h)},t.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),b=[],A=0;A<I;A++)b[A]=this.i(A)^k.i(A);return new o(b,this.h^k.h)};function ne(k){for(var I=k.g.length+1,b=[],A=0;A<I;A++)b[A]=k.i(A)<<1|k.i(A-1)>>>31;return new o(b,k.h)}function ie(k,I){var b=I>>5;I%=32;for(var A=k.g.length-b,P=[],S=0;S<A;S++)P[S]=0<I?k.i(S+b)>>>I|k.i(S+b+1)<<32-I:k.i(S+b);return new o(P,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ww=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,mr=o}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var Cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tw,Ul,Aw,Wu,hp,Iw,Cw,Sw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,g){return a==Array.prototype||a==Object.prototype||(a[f]=g.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cu=="object"&&Cu];for(var f=0;f<a.length;++f){var g=a[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function i(a,f){if(f)e:{var g=s;a=a.split(".");for(var T=0;T<a.length-1;T++){var $=a[T];if(!($ in g))break e;g=g[$]}a=a[a.length-1],T=g[a],f=f(T),f!=T&&f!=null&&e(g,a,{configurable:!0,writable:!0,value:f})}}function r(a,f){a instanceof String&&(a+="");var g=0,T=!1,$={next:function(){if(!T&&g<a.length){var B=g++;return{value:f(B,a[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(a){return a||function(){return r(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function d(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function h(a,f,g){return a.call.apply(a.bind,arguments)}function m(a,f,g){if(!a)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,T),a.apply(f,$)}}return function(){return a.apply(f,arguments)}}function _(a,f,g){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,_.apply(null,arguments)}function y(a,f){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),a.apply(this,T)}}function D(a,f){function g(){}g.prototype=f.prototype,a.aa=f.prototype,a.prototype=new g,a.prototype.constructor=a,a.Qb=function(T,$,B){for(var ce=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ce[dt-2]=arguments[dt];return f.prototype[$].apply(T,ce)}}function N(a){const f=a.length;if(0<f){const g=Array(f);for(let T=0;T<f;T++)g[T]=a[T];return g}return[]}function x(a,f){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(c(T)){const $=a.length||0,B=T.length||0;a.length=$+B;for(let ce=0;ce<B;ce++)a[$+ce]=T[ce]}else a.push(T)}}class U{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function F(a){return/^[\s\xa0]*$/.test(a)}function H(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function j(a){return j[" "](a),a}j[" "]=function(){};var ne=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ie(a,f,g){for(const T in a)f.call(g,a[T],T,a)}function k(a,f){for(const g in a)f.call(void 0,a[g],g,a)}function I(a){const f={};for(const g in a)f[g]=a[g];return f}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(a,f){let g,T;for(let $=1;$<arguments.length;$++){T=arguments[$];for(g in T)a[g]=T[g];for(let B=0;B<b.length;B++)g=b[B],Object.prototype.hasOwnProperty.call(T,g)&&(a[g]=T[g])}}function P(a){var f=1;a=a.split(":");const g=[];for(;0<f&&a.length;)g.push(a.shift()),f--;return a.length&&g.push(a.join(":")),g}function S(a){l.setTimeout(()=>{throw a},0)}function C(){var a=Ct;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class Be{constructor(){this.h=this.g=null}add(f,g){const T=st.get();T.set(f,g),this.h?this.h.next=T:this.g=T,this.h=T}}var st=new U(()=>new Ne,a=>a.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,Ue=!1,Ct=new Be,Q=()=>{const a=l.Promise.resolve(void 0);Ee=()=>{a.then(Ft)}};var Ft=()=>{for(var a;a=C();){try{a.h.call(a.g)}catch(g){S(g)}var f=st;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}Ue=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var Tt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};l.addEventListener("test",g,f),l.removeEventListener("test",g,f)}catch{}return a}();function At(a,f){if(rt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var g=this.type=a.type,T=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(ne){e:{try{j(f.nodeName);var $=!0;break e}catch{}$=!1}$||(f=null)}}else g=="mouseover"?f=a.fromElement:g=="mouseout"&&(f=a.toElement);this.relatedTarget=f,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ot[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&At.aa.h.call(this)}}D(At,rt);var ot={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),W=0;function le(a,f,g,T,$){this.listener=a,this.proxy=null,this.src=f,this.type=g,this.capture=!!T,this.ha=$,this.key=++W,this.da=this.fa=!1}function ge(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ke(a){this.src=a,this.g={},this.h=0}Ke.prototype.add=function(a,f,g,T,$){var B=a.toString();a=this.g[B],a||(a=this.g[B]=[],this.h++);var ce=O(a,f,T,$);return-1<ce?(f=a[ce],g||(f.fa=!1)):(f=new le(f,this.src,B,!!T,$),f.fa=g,a.push(f)),f};function R(a,f){var g=f.type;if(g in a.g){var T=a.g[g],$=Array.prototype.indexOf.call(T,f,void 0),B;(B=0<=$)&&Array.prototype.splice.call(T,$,1),B&&(ge(f),a.g[g].length==0&&(delete a.g[g],a.h--))}}function O(a,f,g,T){for(var $=0;$<a.length;++$){var B=a[$];if(!B.da&&B.listener==f&&B.capture==!!g&&B.ha==T)return $}return-1}var M="closure_lm_"+(1e6*Math.random()|0),K={};function G(a,f,g,T,$){if(Array.isArray(f)){for(var B=0;B<f.length;B++)G(a,f[B],g,T,$);return null}return g=be(g),a&&a[z]?a.K(f,g,d(T)?!!T.capture:!1,$):Y(a,f,g,!1,T,$)}function Y(a,f,g,T,$,B){if(!f)throw Error("Invalid event type");var ce=d($)?!!$.capture:!!$,dt=de(a);if(dt||(a[M]=dt=new Ke(a)),g=dt.add(f,g,T,ce,B),g.proxy)return g;if(T=he(),g.proxy=T,T.src=a,T.listener=g,a.addEventListener)Tt||($=ce),$===void 0&&($=!1),a.addEventListener(f.toString(),T,$);else if(a.attachEvent)a.attachEvent(ee(f.toString()),T);else if(a.addListener&&a.removeListener)a.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function he(){function a(g){return f.call(a.src,a.listener,g)}const f=Ie;return a}function oe(a,f,g,T,$){if(Array.isArray(f))for(var B=0;B<f.length;B++)oe(a,f[B],g,T,$);else T=d(T)?!!T.capture:!!T,g=be(g),a&&a[z]?(a=a.i,f=String(f).toString(),f in a.g&&(B=a.g[f],g=O(B,g,T,$),-1<g&&(ge(B[g]),Array.prototype.splice.call(B,g,1),B.length==0&&(delete a.g[f],a.h--)))):a&&(a=de(a))&&(f=a.g[f.toString()],a=-1,f&&(a=O(f,g,T,$)),(g=-1<a?f[a]:null)&&se(g))}function se(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[z])R(f.i,a);else{var g=a.type,T=a.proxy;f.removeEventListener?f.removeEventListener(g,T,a.capture):f.detachEvent?f.detachEvent(ee(g),T):f.addListener&&f.removeListener&&f.removeListener(T),(g=de(f))?(R(g,a),g.h==0&&(g.src=null,f[M]=null)):ge(a)}}}function ee(a){return a in K?K[a]:K[a]="on"+a}function Ie(a,f){if(a.da)a=!0;else{f=new At(f,this);var g=a.listener,T=a.ha||a.src;a.fa&&se(a),a=g.call(T,f)}return a}function de(a){return a=a[M],a instanceof Ke?a:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(a){return typeof a=="function"?a:(a[ve]||(a[ve]=function(f){return a.handleEvent(f)}),a[ve])}function Ae(){it.call(this),this.i=new Ke(this),this.M=this,this.F=null}D(Ae,it),Ae.prototype[z]=!0,Ae.prototype.removeEventListener=function(a,f,g,T){oe(this,a,f,g,T)};function De(a,f){var g,T=a.F;if(T)for(g=[];T;T=T.F)g.push(T);if(a=a.M,T=f.type||f,typeof f=="string")f=new rt(f,a);else if(f instanceof rt)f.target=f.target||a;else{var $=f;f=new rt(T,a),A(f,$)}if($=!0,g)for(var B=g.length-1;0<=B;B--){var ce=f.g=g[B];$=We(ce,T,!0,f)&&$}if(ce=f.g=a,$=We(ce,T,!0,f)&&$,$=We(ce,T,!1,f)&&$,g)for(B=0;B<g.length;B++)ce=f.g=g[B],$=We(ce,T,!1,f)&&$}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var g=a.g[f],T=0;T<g.length;T++)ge(g[T]);delete a.g[f],a.h--}}this.F=null},Ae.prototype.K=function(a,f,g,T){return this.i.add(String(a),f,!1,g,T)},Ae.prototype.L=function(a,f,g,T){return this.i.add(String(a),f,!0,g,T)};function We(a,f,g,T){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var $=!0,B=0;B<f.length;++B){var ce=f[B];if(ce&&!ce.da&&ce.capture==g){var dt=ce.listener,zt=ce.ha||ce.src;ce.fa&&R(a.i,ce),$=dt.call(zt,T)!==!1&&$}}return $&&!T.defaultPrevented}function kt(a,f,g){if(typeof a=="function")g&&(a=_(a,g));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:l.setTimeout(a,f||0)}function St(a){a.g=kt(()=>{a.g=null,a.i&&(a.i=!1,St(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class Ht extends it{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xt(a){it.call(this),this.h=a,this.g={}}D(xt,it);var Ns=[];function ni(a){ie(a.g,function(f,g){this.g.hasOwnProperty(g)&&se(f)},a),a.g={}}xt.prototype.N=function(){xt.aa.N.call(this),ni(this)},xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qt=l.JSON.stringify,Mn=l.JSON.parse,Vo=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function rl(){}rl.prototype.h=null;function Kc(a){return a.h||(a.h=a.i())}function Gc(){}var $i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){rt.call(this,"d")}D(Fi,rt);function Mo(){rt.call(this,"c")}D(Mo,rt);var xs={},Qc=null;function $o(){return Qc=Qc||new Ae}xs.La="serverreachability";function Yc(a){rt.call(this,xs.La,a)}D(Yc,rt);function Dr(a){const f=$o();De(f,new Yc(f))}xs.STAT_EVENT="statevent";function si(a,f){rt.call(this,xs.STAT_EVENT,a),this.stat=f}D(si,rt);function Lt(a){const f=$o();De(f,new si(f,a))}xs.Ma="timingevent";function Xc(a,f){rt.call(this,xs.Ma,a),this.size=f}D(Xc,rt);function Nr(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},f)}function xr(){this.g=!0}xr.prototype.xa=function(){this.g=!1};function $d(a,f,g,T,$,B){a.info(function(){if(a.g)if(B)for(var ce="",dt=B.split("&"),zt=0;zt<dt.length;zt++){var Ze=dt[zt].split("=");if(1<Ze.length){var Xt=Ze[0];Ze=Ze[1];var Jt=Xt.split("_");ce=2<=Jt.length&&Jt[1]=="type"?ce+(Xt+"="+Ze+"&"):ce+(Xt+"=redacted&")}}else ce=null;else ce=B;return"XMLHTTP REQ ("+T+") [attempt "+$+"]: "+f+`
`+g+`
`+ce})}function Fd(a,f,g,T,$,B,ce){a.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+$+"]: "+f+`
`+g+`
`+B+" "+ce})}function Ls(a,f,g,T){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+Fo(a,g)+(T?" "+T:"")})}function Ui(a,f){a.info(function(){return"TIMEOUT: "+f})}xr.prototype.info=function(){};function Fo(a,f){if(!a.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(a=0;a<g.length;a++)if(Array.isArray(g[a])){var T=g[a];if(!(2>T.length)){var $=T[1];if(Array.isArray($)&&!(1>$.length)){var B=$[0];if(B!="noop"&&B!="stop"&&B!="close")for(var ce=1;ce<$.length;ce++)$[ce]=""}}}}return qt(g)}catch{return f}}var Uo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ol;function Bo(){}D(Bo,rl),Bo.prototype.g=function(){return new XMLHttpRequest},Bo.prototype.i=function(){return{}},ol=new Bo;function bn(a,f,g,T){this.j=a,this.i=f,this.l=g,this.R=T||1,this.U=new xt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yt}function Yt(){this.i=null,this.g="",this.h=!1}var hn={},on={};function Wt(a,f,g){a.L=1,a.v=oi(Dt(f)),a.m=g,a.P=!0,Lr(a,null)}function Lr(a,f){a.F=Date.now(),vs(a),a.A=Dt(a.v);var g=a.A,T=a.R;Array.isArray(T)||(T=[String(T)]),Wo(g.i,"t",T),a.C=0,g=a.j.J,a.h=new Yt,a.g=hu(a.j,g?f:null,!a.m),0<a.O&&(a.M=new Ht(_(a.Y,a,a.g),a.O)),f=a.U,g=a.g,T=a.ca;var $="readystatechange";Array.isArray($)||($&&(Ns[0]=$.toString()),$=Ns);for(var B=0;B<$.length;B++){var ce=G(g,$[B],T||f.handleEvent,!1,f.h||f);if(!ce)break;f.g[ce.key]=ce}f=a.H?I(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),Dr(),$d(a.i,a.u,a.A,a.l,a.R,a.m)}bn.prototype.ca=function(a){a=a.target;const f=this.M;f&&dn(a)==3?f.j():this.Y(a)},bn.prototype.Y=function(a){try{if(a==this.g)e:{const Jt=dn(this.g);var f=this.g.Ba();const Zt=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||Jt!=4||f==7||(f==8||0>=Zt?Dr(3):Dr(2)),Vr(this);var g=this.g.Z();this.X=g;t:if(ii(this)){var T=au(this.g);a="";var $=T.length,B=dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vs(this),Zn(this);var ce="";break t}this.h.i=new l.TextDecoder}for(f=0;f<$;f++)this.h.h=!0,a+=this.h.i.decode(T[f],{stream:!(B&&f==$-1)});T.length=0,this.h.g+=a,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=g==200,Fd(this.i,this.u,this.A,this.l,this.R,Jt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,zt=this.g;if((dt=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(dt)){var Ze=dt;break t}}Ze=null}if(g=Ze)Ls(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mr(this,g);else{this.o=!1,this.s=3,Lt(12),Vs(this),Zn(this);break e}}if(this.P){g=!0;let Fn;for(;!this.J&&this.C<ce.length;)if(Fn=ri(this,ce),Fn==on){Jt==4&&(this.s=4,Lt(14),g=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==hn){this.s=4,Lt(15),Ls(this.i,this.l,ce,"[Invalid Chunk]"),g=!1;break}else Ls(this.i,this.l,Fn,null),Mr(this,Fn);if(ii(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||ce.length!=0||this.h.h||(this.s=1,Lt(16),g=!1),this.o=this.o&&g,!g)Ls(this.i,this.l,ce,"[Invalid Chunked Response]"),Vs(this),Zn(this);else if(0<ce.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Al(Xt),Xt.M=!0,Lt(11))}}else Ls(this.i,this.l,ce,null),Mr(this,ce);Jt==4&&Vs(this),this.o&&!this.J&&(Jt==4?Il(this.j,this):(this.o=!1,vs(this)))}else lu(this.g),g==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),Vs(this),Zn(this)}}}catch{}finally{}};function ii(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function ri(a,f){var g=a.C,T=f.indexOf(`
`,g);return T==-1?on:(g=Number(f.substring(g,T)),isNaN(g)?hn:(T+=1,T+g>f.length?on:(f=f.slice(T,T+g),a.C=T+g,f)))}bn.prototype.cancel=function(){this.J=!0,Vs(this)};function vs(a){a.S=Date.now()+a.I,al(a,a.I)}function al(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Nr(_(a.ba,a),f)}function Vr(a){a.B&&(l.clearTimeout(a.B),a.B=null)}bn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Ui(this.i,this.A),this.L!=2&&(Dr(),Lt(17)),Vs(this),this.s=2,Zn(this)):al(this,this.S-a)};function Zn(a){a.j.G==0||a.J||Il(a.j,a)}function Vs(a){Vr(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,ni(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function Mr(a,f){try{var g=a.j;if(g.G!=0&&(g.g==a||Ho(g.h,a))){if(!a.K&&Ho(g.h,a)&&g.G==3){try{var T=g.Da.g.parse(f)}catch{T=null}if(Array.isArray(T)&&T.length==3){var $=T;if($[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<a.F)Hr(g),Ur(g);else break e;Tl(g),Lt(18)}}else g.za=$[1],0<g.za-g.T&&37500>$[2]&&g.F&&g.v==0&&!g.C&&(g.C=Nr(_(g.Za,g),6e3));if(1>=hl(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Es(g,11)}else if((a.K||g.g==a)&&Hr(g),!F(f))for($=g.Da.g.parse(f),f=0;f<$.length;f++){let Ze=$[f];if(g.T=Ze[0],Ze=Ze[1],g.G==2)if(Ze[0]=="c"){g.K=Ze[1],g.ia=Ze[2];const Xt=Ze[3];Xt!=null&&(g.la=Xt,g.j.info("VER="+g.la));const Jt=Ze[4];Jt!=null&&(g.Aa=Jt,g.j.info("SVER="+g.Aa));const Zt=Ze[5];Zt!=null&&typeof Zt=="number"&&0<Zt&&(T=1.5*Zt,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Fn=a.g;if(Fn){const qr=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var B=T.h;B.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(qo(B,B.h),B.h=null))}if(T.D){const Zo=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(T.ya=Zo,tt(T.I,T.D,Zo))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-a.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var ce=a;if(T.qa=Cl(T,T.J?T.ia:null,T.W),ce.K){dl(T.h,ce);var dt=ce,zt=T.L;zt&&(dt.I=zt),dt.B&&(Vr(dt),vs(dt)),T.g=ce}else Br(T);0<g.i.length&&jr(g)}else Ze[0]!="stop"&&Ze[0]!="close"||Es(g,7);else g.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Es(g,7):Qo(g):Ze[0]!="noop"&&g.l&&g.l.ta(Ze),g.v=0)}}Dr(4)}catch{}}var ll=class{constructor(a,f){this.g=a,this.map=f}};function cl(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ul(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function hl(a){return a.h?1:a.g?a.g.size:0}function Ho(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function qo(a,f){a.g?a.g.add(f):a.h=f}function dl(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}cl.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function fl(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const g of a.g.values())f=f.concat(g.D);return f}return N(a.i)}function Jc(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var f=[],g=a.length,T=0;T<g;T++)f.push(a[T]);return f}f=[],g=0;for(T in a)f[g++]=a[T];return f}function Zc(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var f=[];a=a.length;for(var g=0;g<a;g++)f.push(g);return f}f=[],g=0;for(const T in a)f[g++]=T;return f}}}function pl(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var g=Zc(a),T=Jc(a),$=T.length,B=0;B<$;B++)f.call(void 0,T[B],g&&g[B],a)}var Hn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wn(a,f){if(a){a=a.split("&");for(var g=0;g<a.length;g++){var T=a[g].indexOf("="),$=null;if(0<=T){var B=a[g].substring(0,T);$=a[g].substring(T+1)}else B=a[g];f(B,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Tn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Tn){this.h=a.h,ji(this,a.j),this.o=a.o,this.g=a.g,Bi(this,a.s),this.l=a.l;var f=a.i,g=new $n;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),qn(this,g),this.m=a.m}else a&&(f=String(a).match(Hn))?(this.h=!1,ji(this,f[1]||"",!0),this.o=es(f[2]||""),this.g=es(f[3]||"",!0),Bi(this,f[4]),this.l=es(f[5]||"",!0),qn(this,f[6]||"",!0),this.m=es(f[7]||"")):(this.h=!1,this.i=new $n(null,this.h))}Tn.prototype.toString=function(){var a=[],f=this.j;f&&a.push(ai(f,li,!0),":");var g=this.g;return(g||f=="file")&&(a.push("//"),(f=this.o)&&a.push(ai(f,li,!0),"@"),a.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&a.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(ai(g,g.charAt(0)=="/"?tu:ml,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",ai(g,Ud)),a.join("")};function Dt(a){return new Tn(a)}function ji(a,f,g){a.j=g?es(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Bi(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function qn(a,f,g){f instanceof $n?(a.i=f,nu(a.i,a.h)):(g||(f=ai(f,ys)),a.i=new $n(f,a.h))}function tt(a,f,g){a.i.set(f,g)}function oi(a){return tt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function es(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ai(a,f,g){return typeof a=="string"?(a=encodeURI(a).replace(f,eu),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function eu(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var li=/[#\/\?@]/g,ml=/[#\?:]/g,tu=/[#\?]/g,ys=/[#\?@]/g,Ud=/#/g;function $n(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function Wn(a){a.g||(a.g=new Map,a.h=0,a.i&&wn(a.i,function(f,g){a.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=$n.prototype,t.add=function(a,f){Wn(this),this.i=null,a=ts(this,a);var g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(f),this.h+=1,this};function gl(a,f){Wn(a),f=ts(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Hi(a,f){return Wn(a),f=ts(a,f),a.g.has(f)}t.forEach=function(a,f){Wn(this),this.g.forEach(function(g,T){g.forEach(function($){a.call(f,$,T,this)},this)},this)},t.na=function(){Wn(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let T=0;T<f.length;T++){const $=a[T];for(let B=0;B<$.length;B++)g.push(f[T])}return g},t.V=function(a){Wn(this);let f=[];if(typeof a=="string")Hi(this,a)&&(f=f.concat(this.g.get(ts(this,a))));else{a=Array.from(this.g.values());for(let g=0;g<a.length;g++)f=f.concat(a[g])}return f},t.set=function(a,f){return Wn(this),this.i=null,a=ts(this,a),Hi(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function Wo(a,f,g){gl(a,f),0<g.length&&(a.i=null,a.g.set(ts(a,f),N(g)),a.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var T=f[g];const B=encodeURIComponent(String(T)),ce=this.V(T);for(T=0;T<ce.length;T++){var $=B;ce[T]!==""&&($+="="+encodeURIComponent(String(ce[T]))),a.push($)}}return this.i=a.join("&")};function ts(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function nu(a,f){f&&!a.j&&(Wn(a),a.i=null,a.g.forEach(function(g,T){var $=T.toLowerCase();T!=$&&(gl(this,T),Wo(this,$,g))},a)),a.j=f}function su(a,f){const g=new xr;if(l.Image){const T=new Image;T.onload=y(An,g,"TestLoadImage: loaded",!0,f,T),T.onerror=y(An,g,"TestLoadImage: error",!1,f,T),T.onabort=y(An,g,"TestLoadImage: abort",!1,f,T),T.ontimeout=y(An,g,"TestLoadImage: timeout",!1,f,T),l.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=a}else f(!1)}function iu(a,f){const g=new xr,T=new AbortController,$=setTimeout(()=>{T.abort(),An(g,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:T.signal}).then(B=>{clearTimeout($),B.ok?An(g,"TestPingServer: ok",!0,f):An(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout($),An(g,"TestPingServer: error",!1,f)})}function An(a,f,g,T,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),T(g)}catch{}}function jd(){this.g=new Vo}function ru(a,f,g){const T=g||"";try{pl(a,function($,B){let ce=$;d($)&&(ce=qt($)),f.push(T+B+"="+encodeURIComponent(ce))})}catch($){throw f.push(T+"type="+encodeURIComponent("_badmap")),$}}function qi(a){this.l=a.Ub||null,this.j=a.eb||!1}D(qi,rl),qi.prototype.g=function(){return new ci(this.l,this.j)},qi.prototype.i=function(a){return function(){return a}}({});function ci(a,f){Ae.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(ci,Ae),t=ci.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,Ms(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||l).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ms(this)),this.g&&(this.readyState=3,Ms(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zo(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function zo(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?$r(this):Ms(this),this.readyState==3&&zo(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,$r(this))},t.Qa=function(a){this.g&&(this.response=a,$r(this))},t.ga=function(){this.g&&$r(this)};function $r(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ms(a)}t.setRequestHeader=function(a,f){this.u.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=f.next();return a.join(`\r
`)};function Ms(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ou(a){let f="";return ie(a,function(g,T){f+=T,f+=":",f+=g,f+=`\r
`}),f}function Ko(a,f,g){e:{for(T in g){var T=!1;break e}T=!0}T||(g=ou(g),typeof a=="string"?g!=null&&encodeURIComponent(String(g)):tt(a,f,g))}function Et(a){Ae.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Et,Ae);var _l=/^https?$/i,vl=["POST","PUT"];t=Et.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,f,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ol.g(),this.v=this.o?Kc(this.o):Kc(ol),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(B){yl(this,B);return}if(a=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var $ in T)g.set($,T[$]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())g.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(B=>B.toLowerCase()=="content-type"),$=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(vl,f,void 0))||T||$||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ce]of g)this.g.setRequestHeader(B,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{El(this),this.u=!0,this.g.send(a),this.u=!1}catch(B){yl(this,B)}};function yl(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,Wi(a),Fr(a)}function Wi(a){a.A||(a.A=!0,De(a,"complete"),De(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,De(this,"complete"),De(this,"abort"),Fr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fr(this,!0)),Et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Go(this):this.bb())},t.bb=function(){Go(this)};function Go(a){if(a.h&&typeof o<"u"&&(!a.v[1]||dn(a)!=4||a.Z()!=2)){if(a.u&&dn(a)==4)kt(a.Ea,0,a);else if(De(a,"readystatechange"),dn(a)==4){a.h=!1;try{const ce=a.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var T;if(T=ce===0){var $=String(a.D).match(Hn)[1]||null;!$&&l.self&&l.self.location&&($=l.self.location.protocol.slice(0,-1)),T=!_l.test($?$.toLowerCase():"")}g=T}if(g)De(a,"complete"),De(a,"success");else{a.m=6;try{var B=2<dn(a)?a.g.statusText:""}catch{B=""}a.l=B+" ["+a.Z()+"]",Wi(a)}}finally{Fr(a)}}}}function Fr(a,f){if(a.g){El(a);const g=a.g,T=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||De(a,"ready");try{g.onreadystatechange=T}catch{}}}function El(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function dn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<dn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),Mn(f)}};function au(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function lu(a){const f={};a=(a.g&&2<=dn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<a.length;T++){if(F(a[T]))continue;var g=P(a[T]);const $=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const B=f[$]||[];f[$]=B,B.push(g)}k(f,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(a,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||f}function bl(a){this.Aa=0,this.i=[],this.j=new xr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zi("baseRetryDelayMs",5e3,a),this.cb=zi("retryDelaySeedMs",1e4,a),this.Wa=zi("forwardChannelMaxRetries",2,a),this.wa=zi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new cl(a&&a.concurrentRequestLimit),this.Da=new jd,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bl.prototype,t.la=8,t.G=1,t.connect=function(a,f,g,T){Lt(0),this.W=a,this.H=f||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Cl(this,null,this.W),jr(this)};function Qo(a){if(Yo(a),a.G==3){var f=a.U++,g=Dt(a.I);if(tt(g,"SID",a.K),tt(g,"RID",f),tt(g,"TYPE","terminate"),Ki(a,g),f=new bn(a,a.j,f),f.L=2,f.v=oi(Dt(g)),g=!1,l.navigator&&l.navigator.sendBeacon)try{g=l.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&l.Image&&(new Image().src=f.v,g=!0),g||(f.g=hu(f.j,null),f.g.ea(f.v)),f.F=Date.now(),vs(f)}uu(a)}function Ur(a){a.g&&(Al(a),a.g.cancel(),a.g=null)}function Yo(a){Ur(a),a.u&&(l.clearTimeout(a.u),a.u=null),Hr(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function jr(a){if(!ul(a.h)&&!a.s){a.s=!0;var f=a.Ga;Ee||Q(),Ue||(Ee(),Ue=!0),Ct.add(f,a),a.B=0}}function Bd(a,f){return hl(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Nr(_(a.Ga,a,f),$s(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const $=new bn(this,this.j,a);let B=this.o;if(this.S&&(B?(B=I(B),A(B,this.S)):B=this.S),this.m!==null||this.O||($.H=B,B=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(f+=T,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=wl(this,$,f),g=Dt(this.I),tt(g,"RID",a),tt(g,"CVER",22),this.D&&tt(g,"X-HTTP-Session-Id",this.D),Ki(this,g),B&&(this.O?f="headers="+encodeURIComponent(String(ou(B)))+"&"+f:this.m&&Ko(g,this.m,B)),qo(this.h,$),this.Ua&&tt(g,"TYPE","init"),this.P?(tt(g,"$req",f),tt(g,"SID","null"),$.T=!0,Wt($,g,null)):Wt($,g,f),this.G=2}}else this.G==3&&(a?cu(this,a):this.i.length==0||ul(this.h)||cu(this))};function cu(a,f){var g;f?g=f.l:g=a.U++;const T=Dt(a.I);tt(T,"SID",a.K),tt(T,"RID",g),tt(T,"AID",a.T),Ki(a,T),a.m&&a.o&&Ko(T,a.m,a.o),g=new bn(a,a.j,g,a.B+1),a.m===null&&(g.H=a.o),f&&(a.i=f.D.concat(a.i)),f=wl(a,g,1e3),g.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),qo(a.h,g),Wt(g,T,f)}function Ki(a,f){a.H&&ie(a.H,function(g,T){tt(f,T,g)}),a.l&&pl({},function(g,T){tt(f,T,g)})}function wl(a,f,g){g=Math.min(a.i.length,g);var T=a.l?_(a.l.Na,a.l,a):null;e:{var $=a.i;let B=-1;for(;;){const ce=["count="+g];B==-1?0<g?(B=$[0].g,ce.push("ofs="+B)):B=0:ce.push("ofs="+B);let dt=!0;for(let zt=0;zt<g;zt++){let Ze=$[zt].g;const Xt=$[zt].map;if(Ze-=B,0>Ze)B=Math.max(0,$[zt].g-100),dt=!1;else try{ru(Xt,ce,"req"+Ze+"_")}catch{T&&T(Xt)}}if(dt){T=ce.join("&");break e}}}return a=a.i.splice(0,g),f.D=a,T}function Br(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;Ee||Q(),Ue||(Ee(),Ue=!0),Ct.add(f,a),a.v=0}}function Tl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Nr(_(a.Fa,a),$s(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Nr(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Ur(this),Xo(this))};function Al(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Xo(a){a.g=new bn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=Dt(a.qa);tt(f,"RID","rpc"),tt(f,"SID",a.K),tt(f,"AID",a.T),tt(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&tt(f,"TO",a.ja),tt(f,"TYPE","xmlhttp"),Ki(a,f),a.m&&a.o&&Ko(f,a.m,a.o),a.L&&(a.g.I=a.L);var g=a.g;a=a.ia,g.L=1,g.v=oi(Dt(f)),g.m=null,g.P=!0,Lr(g,a)}t.Za=function(){this.C!=null&&(this.C=null,Ur(this),Tl(this),Lt(19))};function Hr(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Il(a,f){var g=null;if(a.g==f){Hr(a),Al(a),a.g=null;var T=2}else if(Ho(a.h,f))g=f.D,dl(a.h,f),T=1;else return;if(a.G!=0){if(f.o)if(T==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var $=a.B;T=$o(),De(T,new Xc(T,g)),jr(a)}else Br(a);else if($=f.s,$==3||$==0&&0<f.X||!(T==1&&Bd(a,f)||T==2&&Tl(a)))switch(g&&0<g.length&&(f=a.h,f.i=f.i.concat(g)),$){case 1:Es(a,5);break;case 4:Es(a,10);break;case 3:Es(a,6);break;default:Es(a,2)}}}function $s(a,f){let g=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(g*=2),g*f}function Es(a,f){if(a.j.info("Error code "+f),f==2){var g=_(a.fb,a),T=a.Xa;const $=!T;T=new Tn(T||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ji(T,"https"),oi(T),$?su(T.toString(),g):iu(T.toString(),g)}else Lt(2);a.G=0,a.l&&a.l.sa(f),uu(a),Yo(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function uu(a){if(a.G=0,a.ka=[],a.l){const f=fl(a.h);(f.length!=0||a.i.length!=0)&&(x(a.ka,f),x(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function Cl(a,f,g){var T=g instanceof Tn?Dt(g):new Tn(g);if(T.g!="")f&&(T.g=f+"."+T.g),Bi(T,T.s);else{var $=l.location;T=$.protocol,f=f?f+"."+$.hostname:$.hostname,$=+$.port;var B=new Tn(null);T&&ji(B,T),f&&(B.g=f),$&&Bi(B,$),g&&(B.l=g),T=B}return g=a.D,f=a.ya,g&&f&&tt(T,g,f),tt(T,"VER",a.la),Ki(a,T),T}function hu(a,f,g){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new Et(new qi({eb:g})):new Et(a.pa),f.Ha(a.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function du(){}t=du.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Jo(){}Jo.prototype.g=function(a,f){return new In(a,f)};function In(a,f){Ae.call(this),this.g=new bl(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!F(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!F(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Gi(this)}D(In,Ae),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Qo(this.g)},In.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.u&&(g={},g.__data__=qt(a),a=g);f.i.push(new ll(f.Ya++,a)),f.G==3&&jr(f)},In.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,In.aa.N.call(this)};function Sl(a){Fi.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const g in f){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}D(Sl,Fi);function Rl(){Mo.call(this),this.status=1}D(Rl,Mo);function Gi(a){this.g=a}D(Gi,du),Gi.prototype.ua=function(){De(this.g,"a")},Gi.prototype.ta=function(a){De(this.g,new Sl(a))},Gi.prototype.sa=function(a){De(this.g,new Rl)},Gi.prototype.ra=function(){De(this.g,"b")},Jo.prototype.createWebChannel=Jo.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,Sw=function(){return new Jo},Cw=function(){return $o()},Iw=xs,hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Uo.NO_ERROR=0,Uo.TIMEOUT=8,Uo.HTTP_ERROR=6,Wu=Uo,jo.COMPLETE="complete",Aw=jo,Gc.EventType=$i,$i.OPEN="a",$i.CLOSE="b",$i.ERROR="c",$i.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,Ul=Gc,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,Tw=Et}).apply(typeof Cu<"u"?Cu:typeof self<"u"?self:typeof window<"u"?window:{});const Av="@firebase/firestore",Iv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new tm("@firebase/firestore");function la(){return yo.logLevel}function pe(t,...e){if(yo.logLevel<=Ye.DEBUG){const n=e.map(im);yo.debug(`Firestore (${qa}): ${t}`,...n)}}function Si(t,...e){if(yo.logLevel<=Ye.ERROR){const n=e.map(im);yo.error(`Firestore (${qa}): ${t}`,...n)}}function Sa(t,...e){if(yo.logLevel<=Ye.WARN){const n=e.map(im);yo.warn(`Firestore (${qa}): ${t}`,...n)}}function im(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Rw(t,s,n)}function Rw(t,e,n){let s=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Si(s),new Error(s)}function ht(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||Rw(e,i,s)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class GO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QO{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let s=this.i;const i=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let r=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new bi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=r;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new bi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ht(typeof s.accessToken=="string",31837,{l:s}),new Pw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class YO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new YO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const s=r=>{r.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,pe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Cv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=ZO(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%62))}return s}}function ze(t,e){return t<e?-1:t>e?1:0}function dp(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),i=e.codePointAt(n);if(s!==i){if(s<128&&i<128)return ze(s,i);{const r=Ow(),o=ek(r.encode(Sv(t,n)),r.encode(Sv(e,n)));return o!==0?o:ze(s,i)}}n+=s>65535?2:1}return ze(t.length,e.length)}function Sv(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function ek(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ze(t[n],e[n]);return ze(t.length,e.length)}function Ra(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=-62135596800,Pv=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Pv);return new Gt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Rv)throw new me(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pv}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Rv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Gt(0,0))}static max(){return new Le(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="__name__";class Hs{constructor(e,n,s){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ke(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Hs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hs?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=Hs.compareSegments(e.get(i),n.get(i));if(r!==0)return r}return ze(e.length,n.length)}static compareSegments(e,n){const s=Hs.isNumericId(e),i=Hs.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?Hs.extractNumericId(e).compare(Hs.extractNumericId(n)):dp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class It extends Hs{construct(e,n,s){return new It(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new It(n)}static emptyPath(){return new It([])}}const tk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Hs{construct(e,n,s){return new ln(e,n,s)}static isValidIdentifier(e){return tk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ov}static keyField(){return new ln([Ov])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new me(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new me(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new me(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(s+=l,i++):(r(),i++)}if(r(),o)throw new me(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(It.fromString(e))}static fromName(e){return new Ce(It.fromString(e).popFirst(5))}static empty(){return new Ce(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new It(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=-1;function nk(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(s===1e9?new Gt(n+1,0):new Gt(n,s));return new vr(i,Ce.empty(),e)}function sk(t){return new vr(t.readTime,t.key,_c)}class vr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new vr(Le.min(),Ce.empty(),_c)}static max(){return new vr(Le.max(),Ce.empty(),_c)}}function ik(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ok{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==rk)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let i=0,r=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++r,o&&r===i&&n()},c=>s(c))}),o=!0,r===i&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(i=>i?J.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new J((s,i)=>{const r=e.length,o=new Array(r);let l=0;for(let c=0;c<r;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++l,l===r&&s(o)},h=>i(h))}})}static doWhile(e,n){return new J((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function ak(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function za(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ld.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=-1;function cd(t){return t==null}function yh(t){return t===0&&1/t==-1/0}function lk(t){return typeof t=="number"&&Number.isInteger(t)&&!yh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="";function ck(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kv(e)),e=uk(t.get(n),e);return kv(e)}function uk(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const r=t.charAt(i);switch(r){case"\0":n+="";break;case Dw:n+="";break;default:n+=r}}return n}function kv(t){return t+Dw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Po(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Su(this.root,e,this.comparator,!1)}getReverseIterator(){return new Su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Su(this.root,e,this.comparator,!0)}}class Su{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??an.RED,this.left=i??an.EMPTY,this.right=r??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new an(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return an.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,s,i,r){return this}insert(e,n,s){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nv(this.data.getIterator())}getIteratorFrom(e){return new Nv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class Nv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Ts([])}unionWith(e){let n=new Qt(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ts(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ra(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new xw("Invalid base64 string: "+r):r}}(e);return new un(n)}static fromUint8Array(e){const n=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const hk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=hk.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Er(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="server_timestamp",Vw="__type__",Mw="__previous_value__",$w="__local_write_time__";function om(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Vw])===null||n===void 0?void 0:n.stringValue)===Lw}function ud(t){const e=t.mapValue.fields[Mw];return om(e)?ud(e):e}function vc(t){const e=yr(t.mapValue.fields[$w].timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,s,i,r,o,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Eh="(default)";class yc{constructor(e,n){this.projectId=e,this.database=n||Eh}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="__type__",fk="__max__",Ru={mapValue:{}},Uw="__vector__",bh="value";function br(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?om(t)?4:mk(t)?9007199254740991:pk(t)?10:11:ke(28295,{value:t})}function Zs(t,e){if(t===e)return!0;const n=br(t);if(n!==br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vc(t).isEqual(vc(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=yr(i.timestampValue),l=yr(r.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return Er(i.bytesValue).isEqual(Er(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return Mt(i.geoPointValue.latitude)===Mt(r.geoPointValue.latitude)&&Mt(i.geoPointValue.longitude)===Mt(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Mt(i.integerValue)===Mt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Mt(i.doubleValue),l=Mt(r.doubleValue);return o===l?yh(o)===yh(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ra(t.arrayValue.values||[],e.arrayValue.values||[],Zs);case 10:case 11:return function(i,r){const o=i.mapValue.fields||{},l=r.mapValue.fields||{};if(Dv(o)!==Dv(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Zs(o[c],l[c])))return!1;return!0}(t,e);default:return ke(52216,{left:t})}}function Ec(t,e){return(t.values||[]).find(n=>Zs(n,e))!==void 0}function Pa(t,e){if(t===e)return 0;const n=br(t),s=br(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(r,o){const l=Mt(r.integerValue||r.doubleValue),c=Mt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return xv(t.timestampValue,e.timestampValue);case 4:return xv(vc(t),vc(e));case 5:return dp(t.stringValue,e.stringValue);case 6:return function(r,o){const l=Er(r),c=Er(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const l=r.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=ze(l[d],c[d]);if(h!==0)return h}return ze(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const l=ze(Mt(r.latitude),Mt(o.latitude));return l!==0?l:ze(Mt(r.longitude),Mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Lv(t.arrayValue,e.arrayValue);case 10:return function(r,o){var l,c,d,h;const m=r.fields||{},_=o.fields||{},y=(l=m[bh])===null||l===void 0?void 0:l.arrayValue,D=(c=_[bh])===null||c===void 0?void 0:c.arrayValue,N=ze(((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0,((h=D==null?void 0:D.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:Lv(y,D)}(t.mapValue,e.mapValue);case 11:return function(r,o){if(r===Ru.mapValue&&o===Ru.mapValue)return 0;if(r===Ru.mapValue)return 1;if(o===Ru.mapValue)return-1;const l=r.fields||{},c=Object.keys(l),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const _=dp(c[m],h[m]);if(_!==0)return _;const y=Pa(l[c[m]],d[h[m]]);if(y!==0)return y}return ze(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ke(23264,{Pe:n})}}function xv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=yr(t),s=yr(e),i=ze(n.seconds,s.seconds);return i!==0?i:ze(n.nanos,s.nanos)}function Lv(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const r=Pa(n[i],s[i]);if(r)return r}return ze(n.length,s.length)}function Oa(t){return fp(t)}function fp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=yr(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Er(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=fp(r);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const o of s)r?r=!1:i+=",",i+=`${o}:${fp(n.fields[o])}`;return i+"}"}(t.mapValue):ke(61005,{value:t})}function zu(t){switch(br(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(t);return e?16+zu(e):16;case 5:return 2*t.stringValue.length;case 6:return Er(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+zu(r),0)}(t.arrayValue);case 10:case 11:return function(s){let i=0;return Po(s.fields,(r,o)=>{i+=r.length+zu(o)}),i}(t.mapValue);default:throw ke(13486,{value:t})}}function Vv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pp(t){return!!t&&"integerValue"in t}function am(t){return!!t&&"arrayValue"in t}function Mv(t){return!!t&&"nullValue"in t}function $v(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ku(t){return!!t&&"mapValue"in t}function pk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fw])===null||n===void 0?void 0:n.stringValue)===Uw}function ec(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Po(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ec(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ec(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.value=e}static empty(){return new ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ku(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(n)}setAll(e){let n=ln.emptyPath(),s={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,i),s={},i=[],n=l.popLast()}o?s[l.lastSegment()]=ec(o):i.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());Ku(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];Ku(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Po(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new ls(ec(this.value))}}function jw(t){const e=[];return Po(t.fields,(n,s)=>{const i=new ln([n]);if(Ku(s)){const r=jw(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)}),new Ts(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,s,i,r,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new vn(e,0,Le.min(),Le.min(),Le.min(),ls.empty(),0)}static newFoundDocument(e,n,s,i){return new vn(e,1,n,Le.min(),s,i,0)}static newNoDocument(e,n){return new vn(e,2,n,Le.min(),Le.min(),ls.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,Le.min(),Le.min(),ls.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.position=e,this.inclusive=n}}function Fv(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],o=t.position[i];if(r.field.isKeyField()?s=Ce.comparator(Ce.fromName(o.referenceValue),n.key):s=Pa(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function Uv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n="asc"){this.field=e,this.dir=n}}function gk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{}class Bt extends Bw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new vk(e,n,s):n==="array-contains"?new bk(e,s):n==="in"?new wk(e,s):n==="not-in"?new Tk(e,s):n==="array-contains-any"?new Ak(e,s):new Bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new yk(e,s):new Ek(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pa(n,this.value)):n!==null&&br(this.value)===br(n)&&this.matchesComparison(Pa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ks extends Bw{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ks(e,n)}matches(e){return Hw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Hw(t){return t.op==="and"}function qw(t){return _k(t)&&Hw(t)}function _k(t){for(const e of t.filters)if(e instanceof ks)return!1;return!0}function mp(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+Oa(t.value);if(qw(t))return t.filters.map(e=>mp(e)).join(",");{const e=t.filters.map(n=>mp(n)).join(",");return`${t.op}(${e})`}}function Ww(t,e){return t instanceof Bt?function(s,i){return i instanceof Bt&&s.op===i.op&&s.field.isEqual(i.field)&&Zs(s.value,i.value)}(t,e):t instanceof ks?function(s,i){return i instanceof ks&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,o,l)=>r&&Ww(o,i.filters[l]),!0):!1}(t,e):void ke(19439)}function zw(t){return t instanceof Bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Oa(n.value)}`}(t):t instanceof ks?function(n){return n.op.toString()+" {"+n.getFilters().map(zw).join(" ,")+"}"}(t):"Filter"}class vk extends Bt{constructor(e,n,s){super(e,n,s),this.key=Ce.fromName(s.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class yk extends Bt{constructor(e,n){super(e,"in",n),this.keys=Kw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ek extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=Kw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Kw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ce.fromName(s.referenceValue))}class bk extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return am(n)&&Ec(n.arrayValue,this.value)}}class wk extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ec(this.value.arrayValue,n)}}class Tk extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ec(this.value.arrayValue,n)}}class Ak extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!am(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ec(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n=null,s=[],i=[],r=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=l,this.Ie=null}}function jv(t,e=null,n=[],s=[],i=null,r=null,o=null){return new Ik(t,e,n,s,i,r,o)}function lm(t){const e=Fe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>mp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),cd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Oa(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Oa(s)).join(",")),e.Ie=n}return e.Ie}function cm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ww(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Uv(t.startAt,e.startAt)&&Uv(t.endAt,e.endAt)}function gp(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n=null,s=[],i=[],r=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Ck(t,e,n,s,i,r,o,l){return new Ka(t,e,n,s,i,r,o,l)}function hd(t){return new Ka(t)}function Bv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Gw(t){return t.collectionGroup!==null}function tc(t){const e=Fe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ee.push(r),n.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Qt(ln.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ee.push(new bc(r,s))}),n.has(ln.keyField().canonicalString())||e.Ee.push(new bc(ln.keyField(),s))}return e.Ee}function Ks(t){const e=Fe(t);return e.de||(e.de=Sk(e,tc(t))),e.de}function Sk(t,e){if(t.limitType==="F")return jv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new bc(i.field,r)});const n=t.endAt?new wh(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new wh(t.startAt.position,t.startAt.inclusive):null;return jv(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function _p(t,e){const n=t.filters.concat([e]);return new Ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Th(t,e,n){return new Ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dd(t,e){return cm(Ks(t),Ks(e))&&t.limitType===e.limitType}function Qw(t){return`${lm(Ks(t))}|lt:${t.limitType}`}function ca(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>zw(i)).join(", ")}]`),cd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>Oa(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>Oa(i)).join(",")),`Target(${s})`}(Ks(t))}; limitType=${t.limitType})`}function fd(t,e){return e.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):Ce.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(t,e)&&function(s,i){for(const r of tc(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(o,l,c){const d=Fv(o,l,c);return o.inclusive?d<=0:d<0}(s.startAt,tc(s),i)||s.endAt&&!function(o,l,c){const d=Fv(o,l,c);return o.inclusive?d>=0:d>0}(s.endAt,tc(s),i))}(t,e)}function Rk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Yw(t){return(e,n)=>{let s=!1;for(const i of tc(t)){const r=Pk(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function Pk(t,e,n){const s=t.field.isKeyField()?Ce.comparator(e.key,n.key):function(r,o,l){const c=o.data.field(r),d=l.data.field(r);return c!==null&&d!==null?Pa(c,d):ke(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return Nw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=new Ot(Ce.comparator);function Ri(){return Ok}const Xw=new Ot(Ce.comparator);function jl(...t){let e=Xw;for(const n of t)e=e.insert(n.key,n);return e}function Jw(t){let e=Xw;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function oo(){return nc()}function Zw(){return nc()}function nc(){return new Oo(t=>t.toString(),(t,e)=>t.isEqual(e))}const kk=new Ot(Ce.comparator),Dk=new Qt(Ce.comparator);function Xe(...t){let e=Dk;for(const n of t)e=e.add(n);return e}const Nk=new Qt(ze);function xk(){return Nk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function eT(t){return{integerValue:""+t}}function Lk(t,e){return lk(e)?eT(e):um(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this._=void 0}}function Vk(t,e,n){return t instanceof Ah?function(i,r){const o={fields:{[Vw]:{stringValue:Lw},[$w]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&om(r)&&(r=ud(r)),r&&(o.fields[Mw]=r),{mapValue:o}}(n,e):t instanceof wc?nT(t,e):t instanceof Tc?sT(t,e):function(i,r){const o=tT(i,r),l=Hv(o)+Hv(i.Re);return pp(o)&&pp(i.Re)?eT(l):um(i.serializer,l)}(t,e)}function Mk(t,e,n){return t instanceof wc?nT(t,e):t instanceof Tc?sT(t,e):n}function tT(t,e){return t instanceof Ih?function(s){return pp(s)||function(r){return!!r&&"doubleValue"in r}(s)}(e)?e:{integerValue:0}:null}class Ah extends pd{}class wc extends pd{constructor(e){super(),this.elements=e}}function nT(t,e){const n=iT(e);for(const s of t.elements)n.some(i=>Zs(i,s))||n.push(s);return{arrayValue:{values:n}}}class Tc extends pd{constructor(e){super(),this.elements=e}}function sT(t,e){let n=iT(e);for(const s of t.elements)n=n.filter(i=>!Zs(i,s));return{arrayValue:{values:n}}}class Ih extends pd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Hv(t){return Mt(t.integerValue||t.doubleValue)}function iT(t){return am(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $k(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof wc&&i instanceof wc||s instanceof Tc&&i instanceof Tc?Ra(s.elements,i.elements,Zs):s instanceof Ih&&i instanceof Ih?Zs(s.Re,i.Re):s instanceof Ah&&i instanceof Ah}(t.transform,e.transform)}class Fk{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class md{}function rT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new aT(t.key,wi.none()):new Nc(t.key,t.data,wi.none());{const n=t.data,s=ls.empty();let i=new Qt(ln.comparator);for(let r of e.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new ko(t.key,s,new Ts(i.toArray()),wi.none())}}function Uk(t,e,n){t instanceof Nc?function(i,r,o){const l=i.value.clone(),c=Wv(i.fieldTransforms,r,o.transformResults);l.setAll(c),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ko?function(i,r,o){if(!Gu(i.precondition,r))return void r.convertToUnknownDocument(o.version);const l=Wv(i.fieldTransforms,r,o.transformResults),c=r.data;c.setAll(oT(i)),c.setAll(l),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function sc(t,e,n,s){return t instanceof Nc?function(r,o,l,c){if(!Gu(r.precondition,o))return l;const d=r.value.clone(),h=zv(r.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,s):t instanceof ko?function(r,o,l,c){if(!Gu(r.precondition,o))return l;const d=zv(r.fieldTransforms,c,o),h=o.data;return h.setAll(oT(r)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(m=>m.field))}(t,e,n,s):function(r,o,l){return Gu(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function jk(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=tT(s.transform,i||null);r!=null&&(n===null&&(n=ls.empty()),n.set(s.field,r))}return n||null}function qv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Ra(s,i,(r,o)=>$k(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nc extends md{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ko extends md{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function oT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Wv(t,e,n){const s=new Map;ht(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const r=t[i],o=r.transform,l=e.data.field(r.field);s.set(r.field,Mk(o,l,n[i]))}return s}function zv(t,e,n){const s=new Map;for(const i of t){const r=i.transform,o=n.data.field(i.field);s.set(i.field,Vk(r,o,e))}return s}class aT extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bk extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&Uk(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=sc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=sc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Zw();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let l=this.applyToLocalView(o,r.mutatedFields);l=n.has(i.key)?null:l;const c=rT(o,l);c!==null&&s.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Le.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,(n,s)=>qv(n,s))&&Ra(this.baseMutations,e.baseMutations,(n,s)=>qv(n,s))}}class hm{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){ht(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let i=function(){return kk}();const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new hm(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,et;function zk(t){switch(t){case X.OK:return ke(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function lT(t){if(t===void 0)return Si("GRPC error has no .code"),X.UNKNOWN;switch(t){case Ut.OK:return X.OK;case Ut.CANCELLED:return X.CANCELLED;case Ut.UNKNOWN:return X.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return X.INTERNAL;case Ut.UNAVAILABLE:return X.UNAVAILABLE;case Ut.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ut.NOT_FOUND:return X.NOT_FOUND;case Ut.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ut.ABORTED:return X.ABORTED;case Ut.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ut.DATA_LOSS:return X.DATA_LOSS;default:return ke(39323,{code:t})}}(et=Ut||(Ut={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=new mr([4294967295,4294967295],0);function Kv(t){const e=Ow().encode(t),n=new ww;return n.update(e),new Uint8Array(n.digest())}function Gv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new mr([n,s],0),new mr([i,r],0)]}class dm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=mr.fromNumber(this.pe)}we(e,n,s){let i=e.add(n.multiply(mr.fromNumber(s)));return i.compare(Kk)===1&&(i=new mr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Kv(e),[s,i]=Gv(n);for(let r=0;r<this.hashCount;r++){const o=this.we(s,i,r);if(!this.be(o))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new dm(r,i,n);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const n=Kv(e),[s,i]=Gv(n);for(let r=0;r<this.hashCount;r++){const o=this.we(s,i,r);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new gd(Le.min(),i,new Ot(ze),Ri(),Xe())}}class xc{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new xc(s,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n,s,i){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=i}}class cT{constructor(e,n){this.targetId=e,this.Ce=n}}class uT{constructor(e,n,s=un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class Qv{constructor(){this.Fe=0,this.Me=Yv(),this.xe=un.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Xe(),n=Xe(),s=Xe();return this.Me.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:ke(38017,{changeType:r})}}),new xc(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=Yv()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Gk{constructor(e){this.ze=e,this.je=new Map,this.He=Ri(),this.Je=Pu(),this.Ye=Pu(),this.Ze=new Ot(ze)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:ke(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,s=e.Ce.count,i=this._t(n);if(i){const r=i.target;if(gp(r))if(s===0){const o=new Ce(r.path);this.tt(n,o,vn.newNoDocument(o,Le.min()))}else ht(s===1,20013,{expectedCount:s});else{const o=this.ut(n);if(o!==s){const l=this.ct(e),c=l?this.lt(l,e,o):1;if(c!==0){this.st(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let o,l;try{o=Er(s).toUint8Array()}catch(c){if(c instanceof xw)return Sa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new dm(o,i,r)}catch(c){return Sa(c instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let i=0;return s.forEach(r=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,r,null),i++)}),i}It(e){const n=new Map;this.je.forEach((r,o)=>{const l=this._t(o);if(l){if(r.current&&gp(l.target)){const c=new Ce(l.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,vn.newNoDocument(c,e))}r.Le&&(n.set(o,r.qe()),r.Qe())}});let s=Xe();this.Ye.forEach((r,o)=>{let l=!0;o.forEachWhile(c=>{const d=this._t(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(r))}),this.He.forEach((r,o)=>o.setReadTime(e));const i=new gd(e,n,this.Ze,this.He,s);return this.He=Ri(),this.Je=Pu(),this.Ye=Pu(),this.Ze=new Ot(ze),i}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Qv,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Qt(ze),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Qt(ze),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Qv),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Pu(){return new Ot(Ce.comparator)}function Yv(){return new Ot(Ce.comparator)}const Qk={asc:"ASCENDING",desc:"DESCENDING"},Yk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xk={and:"AND",or:"OR"};class Jk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vp(t,e){return t.useProto3Json||cd(e)?e:{value:e}}function Ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Zk(t,e){return Ch(t,e.toTimestamp())}function Gs(t){return ht(!!t,49232),Le.fromTimestamp(function(n){const s=yr(n);return new Gt(s.seconds,s.nanos)}(t))}function fm(t,e){return yp(t,e).canonicalString()}function yp(t,e){const n=function(i){return new It(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dT(t){const e=It.fromString(t);return ht(_T(e),10190,{key:e.toString()}),e}function Ep(t,e){return fm(t.databaseId,e.path)}function Tf(t,e){const n=dT(e);if(n.get(1)!==t.databaseId.projectId)throw new me(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(pT(n))}function fT(t,e){return fm(t.databaseId,e)}function eD(t){const e=dT(t);return e.length===4?It.emptyPath():pT(e)}function bp(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pT(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Xv(t,e,n){return{name:Ep(t,e),fields:n.value.mapValue.fields}}function tD(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ke(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(d,h){return d.useProto3Json?(ht(h===void 0||typeof h=="string",58123),un.fromBase64String(h||"")):(ht(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),un.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?X.UNKNOWN:lT(d.code);return new me(h,d.message||"")}(o);n=new uT(s,i,r,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=Tf(t,s.document.name),r=Gs(s.document.updateTime),o=s.document.createTime?Gs(s.document.createTime):Le.min(),l=new ls({mapValue:{fields:s.document.fields}}),c=vn.newFoundDocument(i,r,o,l),d=s.targetIds||[],h=s.removedTargetIds||[];n=new Qu(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=Tf(t,s.document),r=s.readTime?Gs(s.readTime):Le.min(),o=vn.newNoDocument(i,r),l=s.removedTargetIds||[];n=new Qu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=Tf(t,s.document),r=s.removedTargetIds||[];n=new Qu([],r,i,null)}else{if(!("filter"in e))return ke(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new Wk(i,r),l=s.targetId;n=new cT(l,o)}}return n}function nD(t,e){let n;if(e instanceof Nc)n={update:Xv(t,e.key,e.value)};else if(e instanceof aT)n={delete:Ep(t,e.key)};else if(e instanceof ko)n={update:Xv(t,e.key,e.data),updateMask:hD(e.fieldMask)};else{if(!(e instanceof Bk))return ke(16599,{ft:e.type});n={verify:Ep(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,o){const l=o.transform;if(l instanceof Ah)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof wc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Tc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ih)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw ke(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:Zk(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ke(27497)}(t,e.precondition)),n}function sD(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map(n=>function(i,r){let o=i.updateTime?Gs(i.updateTime):Gs(r);return o.isEqual(Le.min())&&(o=Gs(r)),new Fk(o,i.transformResults||[])}(n,e))):[]}function iD(t,e){return{documents:[fT(t,e.path)]}}function rD(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=fT(t,i);const r=function(d){if(d.length!==0)return gT(ks.create(d,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(d){if(d.length!==0)return d.map(h=>function(_){return{field:ua(_.field),direction:lD(_.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=vp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:i}}function oD(t){let e=eD(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){ht(s===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let r=[];n.where&&(r=function(m){const _=mT(m);return _ instanceof ks&&qw(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(_=>function(D){return new bc(ha(D.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(_))}(n.orderBy));let l=null;n.limit&&(l=function(m){let _;return _=typeof m=="object"?m.value:m,cd(_)?null:_}(n.limit));let c=null;n.startAt&&(c=function(m){const _=!!m.before,y=m.values||[];return new wh(y,_)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const _=!m.before,y=m.values||[];return new wh(y,_)}(n.endAt)),Ck(e,i,o,r,l,"F",c,d)}function aD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ha(n.unaryFilter.field);return Bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=ha(n.unaryFilter.field);return Bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ha(n.unaryFilter.field);return Bt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ha(n.unaryFilter.field);return Bt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}}(t):t.fieldFilter!==void 0?function(n){return Bt.create(ha(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ks.create(n.compositeFilter.filters.map(s=>mT(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke(1026)}}(n.compositeFilter.op))}(t):ke(30097,{filter:t})}function lD(t){return Qk[t]}function cD(t){return Yk[t]}function uD(t){return Xk[t]}function ua(t){return{fieldPath:t.canonicalString()}}function ha(t){return ln.fromServerFormat(t.fieldPath)}function gT(t){return t instanceof Bt?function(n){if(n.op==="=="){if($v(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NAN"}};if(Mv(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($v(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NAN"}};if(Mv(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(n.field),op:cD(n.op),value:n.value}}}(t):t instanceof ks?function(n){const s=n.getFilters().map(i=>gT(i));return s.length===1?s[0]:{compositeFilter:{op:uD(n.op),filters:s}}}(t):ke(54877,{filter:t})}function hD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _T(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n,s,i,r=Le.min(),o=Le.min(),l=un.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.wt=e}}function fD(t){const e=oD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Th(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.Cn=new mD}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(vr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class mD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new Qt(It.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Qt(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vT=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(vT,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ka(0)}static lr(){return new ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="LruGarbageCollector",gD=1048576;function ey([t,e],[n,s]){const i=ze(t,n);return i===0?ze(e,s):i}class _D{constructor(e){this.Er=e,this.buffer=new Qt(ey),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ey(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){pe(Zv,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){za(n)?pe(Zv,"Ignoring IndexedDB error during garbage collection: ",n):await Wa(n)}await this.mr(3e5)})}}class yD{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(ld.le);const s=new _D(n);return this.gr.forEachTarget(e,i=>s.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>s.Rr(i))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Jv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,i,r,o,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(s=m,l=Date.now(),this.removeTargets(e,s,n))).next(m=>(r=m,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(m=>(d=Date.now(),la()<=Ye.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${r} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:m})))}}function ED(t,e){return new yD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.changes=new Oo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&sc(s.mutation,i,Ts.empty(),Gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Xe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Xe()){const i=oo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let o=jl();return r.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=oo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Xe()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,s,i){let r=Ri();const o=nc(),l=function(){return nc()}();return n.forEach((c,d)=>{const h=s.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof ko)?r=r.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),sc(h.mutation,d,h.mutation.getFieldMask(),Gt.now())):o.set(d.key,Ts.empty())}),this.recalculateAndSaveOverlays(e,r).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var m;return l.set(d,new wD(h,(m=o.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const s=nc();let i=new Ot((o,l)=>o-l),r=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=s.get(c)||Ts.empty();h=l.applyToLocalView(d,h),s.set(c,h);const m=(i.get(l.batchId)||Xe()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,m=Zw();h.forEach(_=>{if(!r.has(_)){const y=rT(n.get(_),s.get(_));y!==null&&m.set(_,y),r=r.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return J.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,i){return function(o){return Ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Gw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):J.resolve(oo());let l=_c,c=r;return o.next(d=>J.forEach(d,(h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),r.get(h)?J.resolve():this.remoteDocumentCache.getEntry(e,h).next(_=>{c=c.insert(h,_)}))).next(()=>this.populateOverlays(e,d,r)).next(()=>this.computeViews(e,c,d,Xe())).next(h=>({batchId:l,changes:Jw(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(s=>{let i=jl();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const r=n.collectionGroup;let o=jl();return this.indexManager.getCollectionParents(e,r).next(l=>J.forEach(l,c=>{const d=function(m,_){return new Ka(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(r));return this.getDocumentsMatchingCollectionQuery(e,d,s,i).next(h=>{h.forEach((m,_)=>{o=o.insert(m,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r,i))).next(o=>{r.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,vn.newInvalidDocument(h)))});let l=jl();return o.forEach((c,d)=>{const h=r.get(c);h!==void 0&&sc(h.mutation,d,Ts.empty(),Gt.now()),fd(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return J.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gs(i.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:fD(i.bundledQuery),readTime:Gs(i.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.overlays=new Ot(Ce.comparator),this.Qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=oo();return J.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.St(e,n,r)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.Qr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const i=oo(),r=n.length+1,o=new Ce(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===r&&c.largestBatchId>s&&i.set(c.getKey(),c)}return J.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new Ot((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let h=r.get(d.largestBatchId);h===null&&(h=oo(),r=r.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=oo(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=i)););return J.resolve(l)}St(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(s.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new qk(n,s));let r=this.Qr.get(n);r===void 0&&(r=Xe(),this.Qr.set(n,r)),this.Qr.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this.$r=new Qt(nn.Ur),this.Kr=new Qt(nn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new nn(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new nn(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Ce(new It([])),s=new nn(n,e),i=new nn(n,e+1),r=[];return this.Kr.forEachInRange([s,i],o=>{this.zr(o),r.push(o.key)}),r}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ce(new It([])),s=new nn(n,e),i=new nn(n,e+1);let r=Xe();return this.Kr.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new nn(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class nn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ce.comparator(e.key,n.key)||ze(e.Zr,n.Zr)}static Wr(e,n){return ze(e.Zr,n.Zr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Qt(nn.Ur)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Hk(r,n,s,i);this.mutationQueue.push(o);for(const l of i)this.Xr=this.Xr.add(new nn(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,n){return J.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.ti(s),r=i<0?0:i;return J.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?rm:this.nr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new nn(n,0),i=new nn(n,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([s,i],o=>{const l=this.ei(o.Zr);r.push(l)}),J.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Qt(ze);return n.forEach(i=>{const r=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,o],l=>{s=s.add(l.Zr)})}),J.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;Ce.isDocumentKey(r)||(r=r.child(""));const o=new nn(new Ce(r),0);let l=new Qt(ze);return this.Xr.forEachWhile(c=>{const d=c.key.path;return!!s.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Zr)),!0)},o),J.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(s=>{const i=this.ei(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ht(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return J.forEach(n.mutations,i=>{const r=new nn(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new nn(n,0),i=this.Xr.firstAfterOrEqual(s);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.ii=e,this.docs=function(){return new Ot(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let s=Ri();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():vn.newInvalidDocument(i))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=Ri();const o=n.path,l=new Ce(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||ik(sk(h),s)<=0||(i.has(h.key)||fd(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return J.resolve(r)}getAllFromCollectionGroup(e,n,s,i){ke(9500)}si(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new PD(this)}getSize(e){return J.resolve(this.size)}}class PD extends bD{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.persistence=e,this.oi=new Oo(n=>lm(n),cm),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this._i=0,this.ai=new pm,this.targetCount=0,this.ui=ka.cr()}forEachTarget(e,n){return this.oi.forEach((s,i)=>n(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),J.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new ka(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Tr(n),J.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.oi.delete(o),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),J.waitFor(r).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(e,o))}),J.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n){this.ci={},this.overlays={},this.li=new ld(0),this.hi=!1,this.hi=!0,this.Pi=new CD,this.referenceDelegate=e(this),this.Ti=new OD(this),this.indexManager=new pD,this.remoteDocumentCache=function(i){return new RD(i)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new dD(n),this.Ei=new AD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ID,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new SD(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const i=new kD(this.li.next());return this.referenceDelegate.di(),s(i).next(r=>this.referenceDelegate.Ai(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ri(e,n){return J.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class kD extends ok{constructor(e){super(),this.currentSequenceNumber=e}}class mm{constructor(e){this.persistence=e,this.Vi=new pm,this.mi=null}static fi(e){return new mm(e)}get gi(){if(this.mi)return this.mi;throw ke(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.gi.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.gi,s=>{const i=Ce.fromPath(s);return this.pi(e,i).next(r=>{r||n.removeEntry(i,Le.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return J.or([()=>J.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.yi=new Oo(s=>ck(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=ED(this,n)}static fi(e,n){return new Sh(e,n)}di(){}Ai(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(i=>s+i))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return J.forEach(this.yi,(s,i)=>this.Dr(e,s,i).next(r=>r?J.resolve():n(i)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(l=>{l||(s++,r.removeEntry(o,Le.min()))})).next(()=>r.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),J.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zu(e.data.value)),n}Dr(e,n,s){return J.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return J.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.ds=s,this.As=i}static Rs(e,n){let s=Xe(),i=Xe();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new gm(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return P1()?8:ak(yn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,i){const r={result:null};return this.ws(e,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.bs(e,n,i,s).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new DD;return this.Ss(e,n,o).next(l=>{if(r.result=l,this.fs)return this.Ds(e,n,o,l.size)})}).next(()=>r.result)}Ds(e,n,s,i){return s.documentReadCount<this.gs?(la()<=Ye.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),J.resolve()):(la()<=Ye.DEBUG&&pe("QueryEngine","Query:",ca(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.ps*i?(la()<=Ye.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ks(n))):J.resolve())}ws(e,n){if(Bv(n))return J.resolve(null);let s=Ks(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Th(n,null,"F"),s=Ks(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const o=Xe(...r);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const d=this.vs(n,l);return this.Cs(n,d,o,c.readTime)?this.ws(e,Th(n,null,"F")):this.Fs(e,d,n,c)}))})))}bs(e,n,s,i){return Bv(n)||i.isEqual(Le.min())?J.resolve(null):this.ys.getDocuments(e,s).next(r=>{const o=this.vs(n,r);return this.Cs(n,o,s,i)?J.resolve(null):(la()<=Ye.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ca(n)),this.Fs(e,o,n,nk(i,_c)).next(l=>l))})}vs(e,n){let s=new Qt(Yw(e));return n.forEach((i,r)=>{fd(e,r)&&(s=s.add(r))}),s}Cs(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(e,n,s){return la()<=Ye.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",ca(n)),this.ys.getDocumentsMatchingQuery(e,n,vr.min(),s)}Fs(e,n,s,i){return this.ys.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="LocalStore",xD=3e8;class LD{constructor(e,n,s,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Ot(ze),this.Os=new Oo(r=>lm(r),cm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function VD(t,e,n,s){return new LD(t,e,n,s)}async function ET(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],l=[];let c=Xe();for(const d of i){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of r){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(s,c).next(d=>({ks:d,removedBatchIds:o,addedBatchIds:l}))})})}function MD(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const m=d.batch,_=m.keys();let y=J.resolve();return _.forEach(D=>{y=y.next(()=>h.getEntry(c,D)).next(N=>{const x=d.docVersions.get(D);ht(x!==null,48541),N.version.compareTo(x)<0&&(m.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),h.addEntry(N)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=Xe();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function bT(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function $D(t,e){const n=Fe(t),s=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const l=[];e.targetChanges.forEach((h,m)=>{const _=i.get(m);if(!_)return;l.push(n.Ti.removeMatchingKeys(r,h.removedDocuments,m).next(()=>n.Ti.addMatchingKeys(r,h.addedDocuments,m)));let y=_.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(un.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,s)),i=i.insert(m,y),function(N,x,U){return N.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=xD?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(_,y,h)&&l.push(n.Ti.updateTargetData(r,y))});let c=Ri(),d=Xe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))}),l.push(FD(r,o,e.documentUpdates).next(h=>{c=h.qs,d=h.Qs})),!s.isEqual(Le.min())){const h=n.Ti.getLastRemoteSnapshotVersion(r).next(m=>n.Ti.setTargetsMetadata(r,r.currentSequenceNumber,s));l.push(h)}return J.waitFor(l).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,c,d)).next(()=>c)}).then(r=>(n.xs=i,r))}function FD(t,e,n){let s=Xe(),i=Xe();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let o=Ri();return n.forEach((l,c)=>{const d=r.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Le.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):pe(_m,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{qs:o,Qs:i}})}function UD(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=rm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function jD(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Ti.getTargetData(s,e).next(r=>r?(i=r,J.resolve(i)):n.Ti.allocateTargetId(s).next(o=>(i=new cr(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.xs.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function wp(t,e,n){const s=Fe(t),i=s.xs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!za(o))throw o;pe(_m,`Failed to update sequence numbers for target ${e}: ${o}`)}s.xs=s.xs.remove(e),s.Os.delete(i.target)}function ty(t,e,n){const s=Fe(t);let i=Le.min(),r=Xe();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const m=Fe(c),_=m.Os.get(h);return _!==void 0?J.resolve(m.xs.get(_)):m.Ti.getTargetData(d,h)}(s,o,Ks(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(o,l.targetId).next(c=>{r=c})}).next(()=>s.Ms.getDocumentsMatchingQuery(o,e,n?i:Le.min(),n?r:Xe())).next(l=>(BD(s,Rk(e),l),{documents:l,$s:r})))}function BD(t,e,n){let s=t.Ns.get(e)||Le.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.Ns.set(e,s)}class ny{constructor(){this.activeTargetIds=xk()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HD{constructor(){this.xo=new ny,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new ny,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="ConnectivityMonitor";class iy{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pe(sy,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){pe(sy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=null;function Tp(){return Ou===null?Ou=function(){return 268435456+Math.round(2147483648*Math.random())}():Ou++,"0x"+Ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="RestConnection",WD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${i}`,this.Go=this.databaseId.database===Eh?`project_id=${s}`:`project_id=${s}&database_id=${i}`}zo(e,n,s,i,r){const o=Tp(),l=this.jo(e,n.toUriEncodedString());pe(Af,`Sending RPC '${e}' ${o}:`,l,s);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,r);const{host:d}=new URL(l),h=Ba(d);return this.Jo(e,l,c,s,h).then(m=>(pe(Af,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Sa(Af,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",s),m})}Yo(e,n,s,i,r,o){return this.zo(e,n,s,i,r)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}jo(e,n){const s=WD[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class GD extends zD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,i,r){const o=Tp();return new Promise((l,c)=>{const d=new Tw;d.setWithCredentials(!0),d.listenOnce(Aw.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Wu.NO_ERROR:const m=d.getResponseJson();pe(fn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Wu.TIMEOUT:pe(fn,`RPC '${e}' ${o} timed out`),c(new me(X.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const _=d.getStatus();if(pe(fn,`RPC '${e}' ${o} failed with status:`,_,"response text:",d.getResponseText()),_>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const D=y==null?void 0:y.error;if(D&&D.status&&D.message){const N=function(U){const F=U.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(F)>=0?F:X.UNKNOWN}(D.status);c(new me(N,D.message))}else c(new me(X.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new me(X.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{h_:e,streamId:o,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{pe(fn,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);pe(fn,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",h,s,15)})}I_(e,n,s){const i=Tp(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Sw(),l=Cw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const h=r.join("");pe(fn,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=o.createWebChannel(h,c);this.E_(m);let _=!1,y=!1;const D=new KD({Zo:x=>{y?pe(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(_||(pe(fn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),pe(fn,`RPC '${e}' stream ${i} sending:`,x),m.send(x))},Xo:()=>m.close()}),N=(x,U,F)=>{x.listen(U,H=>{try{F(H)}catch(j){setTimeout(()=>{throw j},0)}})};return N(m,Ul.EventType.OPEN,()=>{y||(pe(fn,`RPC '${e}' stream ${i} transport opened.`),D.__())}),N(m,Ul.EventType.CLOSE,()=>{y||(y=!0,pe(fn,`RPC '${e}' stream ${i} transport closed`),D.u_(),this.d_(m))}),N(m,Ul.EventType.ERROR,x=>{y||(y=!0,Sa(fn,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),D.u_(new me(X.UNAVAILABLE,"The operation could not be completed")))}),N(m,Ul.EventType.MESSAGE,x=>{var U;if(!y){const F=x.data[0];ht(!!F,16349);const H=F,j=(H==null?void 0:H.error)||((U=H[0])===null||U===void 0?void 0:U.error);if(j){pe(fn,`RPC '${e}' stream ${i} received error:`,j);const ne=j.status;let ie=function(b){const A=Ut[b];if(A!==void 0)return lT(A)}(ne),k=j.message;ie===void 0&&(ie=X.INTERNAL,k="Unknown error status: "+ne+" with message "+j.message),y=!0,D.u_(new me(ie,k)),m.close()}else pe(fn,`RPC '${e}' stream ${i} received:`,F),D.c_(F)}}),N(l,Iw.STAT_EVENT,x=>{x.stat===hp.PROXY?pe(fn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===hp.NOPROXY&&pe(fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.a_()},0),D}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function If(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){return new Jk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,s=1e3,i=1.5,r=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=i,this.V_=r,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-s);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="PersistentStream";class TT{constructor(e,n,s,i,r,o,l,c){this.xi=e,this.S_=s,this.D_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new wT(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Si(n.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.v_===n&&this.z_(s,i)},s=>{e(()=>{const i=new me(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(i)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{s(()=>this.j_(i))}),this.stream.onMessage(i=>{s(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return pe(ry,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(pe(ry,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QD extends TT{constructor(e,n,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=tD(this.serializer,e),s=function(r){if(!("targetChange"in r))return Le.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Le.min():o.readTime?Gs(o.readTime):Le.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=bp(this.serializer),n.addTarget=function(r,o){let l;const c=o.target;if(l=gp(c)?{documents:iD(r,c)}:{query:rD(r,c).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=hT(r,o.resumeToken);const d=vp(r,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(Le.min())>0){l.readTime=Ch(r,o.snapshotVersion.toTimestamp());const d=vp(r,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const s=aD(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=bp(this.serializer),n.removeTarget=e,this.Q_(n)}}class YD extends TT{constructor(e,n,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=sD(e.writeResults,e.commitTime),s=Gs(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=bp(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>nD(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{}class JD extends XD{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new me(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.zo(e,yp(n,s),i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new me(X.UNKNOWN,r.toString())})}Yo(e,n,s,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,yp(n,s),i,o,l,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(X.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class ZD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Si(n),this.ua=!1):pe("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="RemoteStore";class eN{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=r,this.Ra.No(o=>{s.enqueueAndForget(async()=>{Do(this)&&(pe(Eo,"Restarting streams for network reachability change."),await async function(c){const d=Fe(c);d.da.add(4),await Lc(d),d.Va.set("Unknown"),d.da.delete(4),await vd(d)}(this))})}),this.Va=new ZD(s,i)}}async function vd(t){if(Do(t))for(const e of t.Aa)await e(!0)}async function Lc(t){for(const e of t.Aa)await e(!1)}function AT(t,e){const n=Fe(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),bm(n)?Em(n):Ga(n).N_()&&ym(n,e))}function vm(t,e){const n=Fe(t),s=Ga(n);n.Ea.delete(e),s.N_()&&IT(n,e),n.Ea.size===0&&(s.N_()?s.k_():Do(n)&&n.Va.set("Unknown"))}function ym(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ga(t).Z_(e)}function IT(t,e){t.ma.Ke(e),Ga(t).X_(e)}function Em(t){t.ma=new Gk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ga(t).start(),t.Va.ca()}function bm(t){return Do(t)&&!Ga(t).O_()&&t.Ea.size>0}function Do(t){return Fe(t).da.size===0}function CT(t){t.ma=void 0}async function tN(t){t.Va.set("Online")}async function nN(t){t.Ea.forEach((e,n)=>{ym(t,e)})}async function sN(t,e){CT(t),bm(t)?(t.Va.Pa(e),Em(t)):t.Va.set("Unknown")}async function iN(t,e,n){if(t.Va.set("Online"),e instanceof uT&&e.state===2&&e.cause)try{await async function(i,r){const o=r.cause;for(const l of r.targetIds)i.Ea.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ea.delete(l),i.ma.removeTarget(l))}(t,e)}catch(s){pe(Eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Rh(t,s)}else if(e instanceof Qu?t.ma.Xe(e):e instanceof cT?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Le.min()))try{const s=await bT(t.localStore);n.compareTo(s)>=0&&await function(r,o){const l=r.ma.It(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=r.Ea.get(d);h&&r.Ea.set(d,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const h=r.Ea.get(c);if(!h)return;r.Ea.set(c,h.withResumeToken(un.EMPTY_BYTE_STRING,h.snapshotVersion)),IT(r,c);const m=new cr(h.target,c,d,h.sequenceNumber);ym(r,m)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){pe(Eo,"Failed to raise snapshot:",s),await Rh(t,s)}}async function Rh(t,e,n){if(!za(e))throw e;t.da.add(1),await Lc(t),t.Va.set("Offline"),n||(n=()=>bT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe(Eo,"Retrying IndexedDB access"),await n(),t.da.delete(1),await vd(t)})}function ST(t,e){return e().catch(n=>Rh(t,n,e))}async function yd(t){const e=Fe(t),n=wr(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:rm;for(;rN(e);)try{const i=await UD(e.localStore,s);if(i===null){e.Ia.length===0&&n.k_();break}s=i.batchId,oN(e,i)}catch(i){await Rh(e,i)}RT(e)&&PT(e)}function rN(t){return Do(t)&&t.Ia.length<10}function oN(t,e){t.Ia.push(e);const n=wr(t);n.N_()&&n.ea&&n.ta(e.mutations)}function RT(t){return Do(t)&&!wr(t).O_()&&t.Ia.length>0}function PT(t){wr(t).start()}async function aN(t){wr(t).ia()}async function lN(t){const e=wr(t);for(const n of t.Ia)e.ta(n.mutations)}async function cN(t,e,n){const s=t.Ia.shift(),i=hm.from(s,e,n);await ST(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await yd(t)}async function uN(t,e){e&&wr(t).ea&&await async function(s,i){if(function(o){return zk(o)&&o!==X.ABORTED}(i.code)){const r=s.Ia.shift();wr(s).L_(),await ST(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await yd(s)}}(t,e),RT(t)&&PT(t)}async function oy(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),pe(Eo,"RemoteStore received new credentials");const s=Do(n);n.da.add(3),await Lc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await vd(n)}async function hN(t,e){const n=Fe(t);e?(n.da.delete(2),await vd(n)):e||(n.da.add(2),await Lc(n),n.Va.set("Unknown"))}function Ga(t){return t.fa||(t.fa=function(n,s,i){const r=Fe(n);return r.oa(),new QD(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{e_:tN.bind(null,t),n_:nN.bind(null,t),i_:sN.bind(null,t),Y_:iN.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),bm(t)?Em(t):t.Va.set("Unknown")):(await t.fa.stop(),CT(t))})),t.fa}function wr(t){return t.ga||(t.ga=function(n,s,i){const r=Fe(n);return r.oa(),new YD(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:aN.bind(null,t),i_:uN.bind(null,t),na:lN.bind(null,t),ra:cN.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await yd(t)):(await t.ga.stop(),t.Ia.length>0&&(pe(Eo,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,r){const o=Date.now()+s,l=new wm(e,n,o,i,r);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tm(t,e){if(Si("AsyncQueue",`${e}: ${t}`),za(t))return new me(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{static emptySet(e){return new Ea(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ce.comparator(n.key,s.key):(n,s)=>Ce.comparator(n.key,s.key),this.keyedMap=jl(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ea)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ea;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this.pa=new Ot(Ce.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):ke(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class Da{constructor(e,n,s,i,r,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,i,r){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Da(e,n,Ea.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class fN{constructor(){this.queries=ly(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=Fe(n),r=i.queries;i.queries=ly(),r.forEach((o,l)=>{for(const c of l.Sa)c.onError(s)})})(this,new me(X.ABORTED,"Firestore shutting down"))}}function ly(){return new Oo(t=>Qw(t),dd)}async function Am(t,e){const n=Fe(t);let s=3;const i=e.query;let r=n.queries.get(i);r?!r.Da()&&e.va()&&(s=2):(r=new dN,s=e.va()?0:1);try{switch(s){case 0:r.ba=await n.onListen(i,!0);break;case 1:r.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Tm(o,`Initialization of query '${ca(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,r),r.Sa.push(e),e.Fa(n.onlineState),r.ba&&e.Ma(r.ba)&&Cm(n)}async function Im(t,e){const n=Fe(t),s=e.query;let i=3;const r=n.queries.get(s);if(r){const o=r.Sa.indexOf(e);o>=0&&(r.Sa.splice(o,1),r.Sa.length===0?i=e.va()?0:1:!r.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function pN(t,e){const n=Fe(t);let s=!1;for(const i of e){const r=i.query,o=n.queries.get(r);if(o){for(const l of o.Sa)l.Ma(i)&&(s=!0);o.ba=i}}s&&Cm(n)}function mN(t,e,n){const s=Fe(t),i=s.queries.get(e);if(i)for(const r of i.Sa)r.onError(n);s.queries.delete(e)}function Cm(t){t.Ca.forEach(e=>{e.next()})}var Ap,cy;(cy=Ap||(Ap={})).xa="default",cy.Cache="cache";class Sm{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new Da(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.key=e}}class kT{constructor(e){this.key=e}}class gN{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.Za=Yw(e),this.Xa=new Ea(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new ay,i=n?n.Xa:this.Xa;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const _=i.get(h),y=fd(this.query,m)?m:null,D=!!_&&this.mutatedKeys.has(_.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;_&&y?_.data.isEqual(y.data)?D!==N&&(s.track({type:3,doc:y}),x=!0):this.ru(_,y)||(s.track({type:2,doc:y}),x=!0,(c&&this.Za(y,c)>0||d&&this.Za(y,d)<0)&&(l=!0)):!_&&y?(s.track({type:0,doc:y}),x=!0):_&&!y&&(s.track({type:1,doc:_}),x=!0,(c||d)&&(l=!0)),x&&(y?(o=o.add(y),r=N?r.add(h):r.delete(h)):(o=o.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),r=r.delete(h.key),s.track({type:1,doc:h})}return{Xa:o,nu:s,Cs:l,mutatedKeys:r}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const r=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((h,m)=>function(y,D){const N=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Vt:x})}};return N(y)-N(D)}(h.type,m.type)||this.Za(h.doc,m.doc)),this.iu(s),i=i!=null&&i;const l=n&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,d=c!==this.Ja;return this.Ja=c,o.length!==0||d?{snapshot:new Da(this.query,e.Xa,r,o,e.mutatedKeys,c===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new ay,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new kT(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new OT(s))}),n}au(e){this.Ha=e.$s,this.Ya=Xe();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Da.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Rm="SyncEngine";class _N{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class vN{constructor(e){this.key=e,this.cu=!1}}class yN{constructor(e,n,s,i,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Oo(l=>Qw(l),dd),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ot(Ce.comparator),this.Eu=new Map,this.du=new pm,this.Au={},this.Ru=new Map,this.Vu=ka.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function EN(t,e,n=!0){const s=MT(t);let i;const r=s.hu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.uu()):i=await DT(s,e,n,!0),i}async function bN(t,e){const n=MT(t);await DT(n,e,!0,!1)}async function DT(t,e,n,s){const i=await jD(t.localStore,Ks(e)),r=i.targetId,o=t.sharedClientState.addLocalQueryTarget(r,n);let l;return s&&(l=await wN(t,e,r,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&AT(t.remoteStore,i),l}async function wN(t,e,n,s,i){t.fu=(m,_,y)=>async function(N,x,U,F){let H=x.view.tu(U);H.Cs&&(H=await ty(N.localStore,x.query,!1).then(({documents:k})=>x.view.tu(k,H)));const j=F&&F.targetChanges.get(x.targetId),ne=F&&F.targetMismatches.get(x.targetId)!=null,ie=x.view.applyChanges(H,N.isPrimaryClient,j,ne);return hy(N,x.targetId,ie.ou),ie.snapshot}(t,m,_,y);const r=await ty(t.localStore,e,!0),o=new gN(e,r.$s),l=o.tu(r.documents),c=xc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,c);hy(t,n,d.ou);const h=new _N(e,n,o);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function TN(t,e,n){const s=Fe(t),i=s.hu.get(e),r=s.Pu.get(i.targetId);if(r.length>1)return s.Pu.set(i.targetId,r.filter(o=>!dd(o,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await wp(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),n&&vm(s.remoteStore,i.targetId),Ip(s,i.targetId)}).catch(Wa)):(Ip(s,i.targetId),await wp(s.localStore,i.targetId,!0))}async function AN(t,e){const n=Fe(t),s=n.hu.get(e),i=n.Pu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vm(n.remoteStore,s.targetId))}async function IN(t,e,n){const s=DN(t);try{const i=await function(o,l){const c=Fe(o),d=Gt.now(),h=l.reduce((y,D)=>y.add(D.key),Xe());let m,_;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let D=Ri(),N=Xe();return c.Bs.getEntries(y,h).next(x=>{D=x,D.forEach((U,F)=>{F.isValidDocument()||(N=N.add(U))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,D)).next(x=>{m=x;const U=[];for(const F of l){const H=jk(F,m.get(F.key).overlayedDocument);H!=null&&U.push(new ko(F.key,H,jw(H.value.mapValue),wi.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,U,l)}).next(x=>{_=x;const U=x.applyToLocalDocumentSet(m,N);return c.documentOverlayCache.saveOverlays(y,x.batchId,U)})}).then(()=>({batchId:_.batchId,changes:Jw(m)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let d=o.Au[o.currentUser.toKey()];d||(d=new Ot(ze)),d=d.insert(l,c),o.Au[o.currentUser.toKey()]=d}(s,i.batchId,n),await Vc(s,i.changes),await yd(s.remoteStore)}catch(i){const r=Tm(i,"Failed to persist write");n.reject(r)}}async function NT(t,e){const n=Fe(t);try{const s=await $D(n.localStore,e);e.targetChanges.forEach((i,r)=>{const o=n.Eu.get(r);o&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?ht(o.cu,14607):i.removedDocuments.size>0&&(ht(o.cu,42227),o.cu=!1))}),await Vc(n,s,e)}catch(s){await Wa(s)}}function uy(t,e,n){const s=Fe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.hu.forEach((r,o)=>{const l=o.view.Fa(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=Fe(o);c.onlineState=l;let d=!1;c.queries.forEach((h,m)=>{for(const _ of m.Sa)_.Fa(l)&&(d=!0)}),d&&Cm(c)}(s.eventManager,e),i.length&&s.lu.Y_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function CN(t,e,n){const s=Fe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Eu.get(e),r=i&&i.key;if(r){let o=new Ot(Ce.comparator);o=o.insert(r,vn.newNoDocument(r,Le.min()));const l=Xe().add(r),c=new gd(Le.min(),new Map,new Ot(ze),o,l);await NT(s,c),s.Iu=s.Iu.remove(r),s.Eu.delete(e),Pm(s)}else await wp(s.localStore,e,!1).then(()=>Ip(s,e,n)).catch(Wa)}async function SN(t,e){const n=Fe(t),s=e.batch.batchId;try{const i=await MD(n.localStore,e);LT(n,s,null),xT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Vc(n,i)}catch(i){await Wa(i)}}async function RN(t,e,n){const s=Fe(t);try{const i=await function(o,l){const c=Fe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(m=>(ht(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(s.localStore,e);LT(s,e,n),xT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Vc(s,i)}catch(i){await Wa(i)}}function xT(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function LT(t,e,n){const s=Fe(t);let i=s.Au[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.Au[s.currentUser.toKey()]=i}}function Ip(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Pu.get(e))t.hu.delete(s),n&&t.lu.gu(s,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(s=>{t.du.containsKey(s)||VT(t,s)})}function VT(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(vm(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Pm(t))}function hy(t,e,n){for(const s of n)s instanceof OT?(t.du.addReference(s.key,e),PN(t,s)):s instanceof kT?(pe(Rm,"Document no longer in limbo: "+s.key),t.du.removeReference(s.key,e),t.du.containsKey(s.key)||VT(t,s.key)):ke(19791,{pu:s})}function PN(t,e){const n=e.key,s=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(s)||(pe(Rm,"New document in limbo: "+n),t.Tu.add(s),Pm(t))}function Pm(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Ce(It.fromString(e)),s=t.Vu.next();t.Eu.set(s,new vN(n)),t.Iu=t.Iu.insert(n,s),AT(t.remoteStore,new cr(Ks(hd(n.path)),s,"TargetPurposeLimboResolution",ld.le))}}async function Vc(t,e,n){const s=Fe(t),i=[],r=[],o=[];s.hu.isEmpty()||(s.hu.forEach((l,c)=>{o.push(s.fu(c,e,n).then(d=>{var h;if((d||n)&&s.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;s.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=gm.Rs(c.targetId,d);r.push(m)}}))}),await Promise.all(o),s.lu.Y_(i),await async function(c,d){const h=Fe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>J.forEach(d,_=>J.forEach(_.ds,y=>h.persistence.referenceDelegate.addReference(m,_.targetId,y)).next(()=>J.forEach(_.As,y=>h.persistence.referenceDelegate.removeReference(m,_.targetId,y)))))}catch(m){if(!za(m))throw m;pe(_m,"Failed to update sequence numbers: "+m)}for(const m of d){const _=m.targetId;if(!m.fromCache){const y=h.xs.get(_),D=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(D);h.xs=h.xs.insert(_,N)}}}(s.localStore,r))}async function ON(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){pe(Rm,"User change. New user:",e.toKey());const s=await ET(n.localStore,e);n.currentUser=e,function(r,o){r.Ru.forEach(l=>{l.forEach(c=>{c.reject(new me(X.CANCELLED,o))})}),r.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vc(n,s.ks)}}function kN(t,e){const n=Fe(t),s=n.Eu.get(e);if(s&&s.cu)return Xe().add(s.key);{let i=Xe();const r=n.Pu.get(e);if(!r)return i;for(const o of r){const l=n.hu.get(o);i=i.unionWith(l.view.eu)}return i}}function MT(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CN.bind(null,e),e.lu.Y_=pN.bind(null,e.eventManager),e.lu.gu=mN.bind(null,e.eventManager),e}function DN(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RN.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return VD(this.persistence,new ND,e.initialUser,this.serializer)}Su(e){return new yT(mm.fi,this.serializer)}bu(e){return new HD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class NN extends Ph{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ht(this.persistence.referenceDelegate instanceof Sh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vD(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new yT(s=>Sh.fi(s,n),this.serializer)}}class Cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>uy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ON.bind(null,this.syncEngine),await hN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fN}()}createDatastore(e){const n=_d(e.databaseInfo.databaseId),s=function(r){return new GD(r)}(e.databaseInfo);return function(r,o,l,c){return new JD(r,o,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,i,r,o,l){return new eN(s,i,r,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>uy(this.syncEngine,n,0),function(){return iy.C()?new iy:new qD}())}createSyncEngine(e,n){return function(i,r,o,l,c,d,h){const m=new yN(i,r,o,l,c,d);return h&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const r=Fe(i);pe(Eo,"RemoteStore shutting down."),r.da.add(5),await Lc(r),r.Ra.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cp.provider={build:()=>new Cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="FirestoreClient";class xN{constructor(e,n,s,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=kw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async o=>{pe(Tr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(pe(Tr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Tm(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Cf(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Tr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await ET(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LN(t);pe(Tr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>oy(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>oy(e.remoteStore,i)),t._onlineComponents=e}async function LN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Tr,"Using user provided OfflineComponentProvider");try{await Cf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Sa("Error using user provided cache. Falling back to memory cache: "+n),await Cf(t,new Ph)}}else pe(Tr,"Using default OfflineComponentProvider"),await Cf(t,new NN(void 0));return t._offlineComponents}async function $T(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Tr,"Using user provided OnlineComponentProvider"),await dy(t,t._uninitializedComponentsProvider._online)):(pe(Tr,"Using default OnlineComponentProvider"),await dy(t,new Cp))),t._onlineComponents}function VN(t){return $T(t).then(e=>e.syncEngine)}async function Oh(t){const e=await $T(t),n=e.eventManager;return n.onListen=EN.bind(null,e.syncEngine),n.onUnlisten=TN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AN.bind(null,e.syncEngine),n}function MN(t,e,n={}){const s=new bi;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,l,c,d){const h=new Om({next:_=>{h.xu(),o.enqueueAndForget(()=>Im(r,m));const y=_.docs.has(l);!y&&_.fromCache?d.reject(new me(X.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&_.fromCache&&c&&c.source==="server"?d.reject(new me(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),m=new Sm(hd(l.path),h,{includeMetadataChanges:!0,Qa:!0});return Am(r,m)}(await Oh(t),t.asyncQueue,e,n,s)),s.promise}function $N(t,e,n={}){const s=new bi;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,l,c,d){const h=new Om({next:_=>{h.xu(),o.enqueueAndForget(()=>Im(r,m)),_.fromCache&&c.source==="server"?d.reject(new me(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),m=new Sm(l,h,{includeMetadataChanges:!0,Qa:!0});return Am(r,m)}(await Oh(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t,e,n){if(!n)throw new me(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FN(t,e,n,s){if(e===!0&&s===!0)throw new me(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function py(t){if(!Ce.isDocumentKey(t))throw new me(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function my(t){if(Ce.isDocumentKey(t))throw new me(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ed(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function Qs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ed(t);throw new me(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function UN(t,e){if(e<=0)throw new me(X.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firestore.googleapis.com",gy=!0;class _y{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jT,this.ssl=gy}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:gy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gD)throw new me(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bd{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _y({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _y(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new KO;switch(s.type){case"firstParty":return new XO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=fy.get(n);s&&(pe("ComponentProvider","Removing Datastore"),fy.delete(n),s.terminate())}(this),Promise.resolve()}}function jN(t,e,n,s={}){var i;t=Qs(t,bd);const r=Ba(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;r&&(pw(`https://${c}`),mw("Firestore",!0)),o.host!==jT&&o.host!==c&&Sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:r,emulatorOptions:s});if(!_o(d,l)&&(t._setSettings(d),s.mockUserToken)){let h,m;if(typeof s.mockUserToken=="string")h=s.mockUserToken,m=mn.MOCK_USER;else{h=E1(s.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new me(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new mn(_)}t._authCredentials=new GO(new Pw(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xi(this.firestore,e,this._query)}}class Nn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class gr extends xi{constructor(e,n,s){super(e,n,hd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new Ce(e))}withConverter(e){return new gr(this.firestore,e,this._path)}}function Qa(t,e,...n){if(t=cn(t),UT("collection","path",e),t instanceof bd){const s=It.fromString(e,...n);return my(s),new gr(t,null,s)}{if(!(t instanceof Nn||t instanceof gr))throw new me(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(It.fromString(e,...n));return my(s),new gr(t.firestore,null,s)}}function Pi(t,e,...n){if(t=cn(t),arguments.length===1&&(e=kw.newId()),UT("doc","path",e),t instanceof bd){const s=It.fromString(e,...n);return py(s),new Nn(t,null,new Ce(s))}{if(!(t instanceof Nn||t instanceof gr))throw new me(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(It.fromString(e,...n));return py(s),new Nn(t.firestore,t instanceof gr?t.converter:null,new Ce(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="AsyncQueue";class yy{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new wT(this,"async_queue_retry"),this.rc=()=>{const s=If();s&&pe(vy,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=If();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=If();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new bi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!za(e))throw e;pe(vy,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,Si("INTERNAL UNHANDLED ERROR: ",Ey(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=wm.createAndSchedule(this,e,n,s,r=>this.uc(r));return this.Zu.push(i),i}oc(){this.Xu&&ke(47125,{cc:Ey(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Ey(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const i=n;for(const r of s)if(r in i&&typeof i[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Na extends bd{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new yy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yy(e),this._firestoreClient=void 0,await e}}}function BN(t,e){const n=typeof t=="object"?t:yw(),s=typeof t=="string"?t:Eh,i=sm(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=v1("firestore");r&&jN(i,...r)}return i}function wd(t){if(t._terminated)throw new me(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HN(t),t._firestoreClient}function HN(t){var e,n,s;const i=t._freezeSettings(),r=function(l,c,d,h){return new dk(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,FT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=i.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new xN(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xa(un.fromBase64String(e))}catch(n){throw new me(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xa(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=/^__.*__$/;class WN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nc(e,this.data,n,this.fieldTransforms)}}function HT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ic:t})}}class xm{constructor(e,n,s,i,r,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Ec(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new xm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:s,Rc:!1});return i.Vc(e),i}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:s,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return kh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(HT(this.Ic)&&qN.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class zN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||_d(e)}bc(e,n,s,i=!1){return new xm({Ic:e,methodName:n,wc:s,path:ln.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qT(t){const e=t._freezeSettings(),n=_d(t._databaseId);return new zN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KN(t,e,n,s,i,r={}){const o=t.bc(r.merge||r.mergeFields?2:0,e,n,i);KT("Data must be an object, but it was:",o,s);const l=WT(s,o);let c,d;if(r.merge)c=new Ts(o.fieldMask),d=o.fieldTransforms;else if(r.mergeFields){const h=[];for(const m of r.mergeFields){const _=QN(e,m,n);if(!o.contains(_))throw new me(X.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);XN(h,_)||h.push(_)}c=new Ts(h),d=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=o.fieldTransforms;return new WN(new ls(l),c,d)}function GN(t,e,n,s=!1){return Lm(n,t.bc(s?4:3,e))}function Lm(t,e){if(zT(t=cn(t)))return KT("Unsupported field value:",e,t),WT(t,e);if(t instanceof BT)return function(s,i){if(!HT(i.Ic))throw i.gc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,i){const r=[];let o=0;for(const l of s){let c=Lm(l,i.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),r.push(c),o++}return{arrayValue:{values:r}}}(t,e)}return function(s,i){if((s=cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Lk(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=Gt.fromDate(s);return{timestampValue:Ch(i.serializer,r)}}if(s instanceof Gt){const r=new Gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(i.serializer,r)}}if(s instanceof Dm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xa)return{bytesValue:hT(i.serializer,s._byteString)};if(s instanceof Nn){const r=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(r))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:fm(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof Nm)return function(o,l){return{mapValue:{fields:{[Fw]:{stringValue:Uw},[bh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.gc("VectorValues must only contain numeric values.");return um(l.serializer,d)})}}}}}}(s,i);throw i.gc(`Unsupported field value: ${Ed(s)}`)}(t,e)}function WT(t,e){const n={};return Nw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(t,(s,i)=>{const r=Lm(i,e.Ac(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function zT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gt||t instanceof Dm||t instanceof xa||t instanceof Nn||t instanceof BT||t instanceof Nm)}function KT(t,e,n){if(!zT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const s=Ed(n);throw s==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+s)}}function QN(t,e,n){if((e=cn(e))instanceof km)return e._internalPath;if(typeof e=="string")return GT(t,e);throw kh("Field path arguments must be of type string or ",t,!1,void 0,n)}const YN=new RegExp("[~\\*/\\[\\]]");function GT(t,e,n){if(e.search(YN)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new km(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kh(t,e,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(r||o)&&(c+=" (found",r&&(c+=` in field ${s}`),o&&(c+=` in document ${i}`),c+=")"),new me(X.INVALID_ARGUMENT,l+t+c)}function XN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Td("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JN extends QT{data(){return super.data()}}function Td(t,e){return typeof e=="string"?GT(t,e):e instanceof km?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vm{}class Mm extends Vm{}function Ya(t,e,...n){let s=[];e instanceof Vm&&s.push(e),s=s.concat(n),function(r){const o=r.filter(c=>c instanceof $m).length,l=r.filter(c=>c instanceof Ad).length;if(o>1||o>0&&l>0)throw new me(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)t=i._apply(t);return t}class Ad extends Mm{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ad(e,n,s)}_apply(e){const n=this._parse(e);return JT(e._query,n),new xi(e.firestore,e.converter,_p(e._query,n))}_parse(e){const n=qT(e.firestore);return function(r,o,l,c,d,h,m){let _;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new me(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Ty(m,h);const D=[];for(const N of m)D.push(wy(c,r,N));_={arrayValue:{values:D}}}else _=wy(c,r,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Ty(m,h),_=GN(l,o,m,h==="in"||h==="not-in");return Bt.create(d,h,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function bo(t,e,n){const s=e,i=Td("where",t);return Ad._create(i,s,n)}class $m extends Vm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $m(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ks.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,r){let o=i;const l=r.getFlattenedFilters();for(const c of l)JT(o,c),o=_p(o,c)}(e._query,n),new xi(e.firestore,e.converter,_p(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fm extends Mm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Fm(e,n)}_apply(e){const n=function(i,r,o){if(i.startAt!==null)throw new me(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new me(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bc(r,o)}(e._query,this._field,this._direction);return new xi(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Ka(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Mc(t,e="asc"){const n=e,s=Td("orderBy",t);return Fm._create(s,n)}class Um extends Mm{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Um(e,n,s)}_apply(e){return new xi(e.firestore,e.converter,Th(e._query,this._limit,this._limitType))}}function XT(t){return UN("limit",t),Um._create("limit",t,"F")}function wy(t,e,n){if(typeof(n=cn(n))=="string"){if(n==="")throw new me(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gw(e)&&n.indexOf("/")!==-1)throw new me(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(It.fromString(n));if(!Ce.isDocumentKey(s))throw new me(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Vv(t,new Ce(s))}if(n instanceof Nn)return Vv(t,n._key);throw new me(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(n)}.`)}function Ty(t,e){if(!Array.isArray(t)||t.length===0)throw new me(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JT(t,e){const n=function(i,r){for(const o of i)for(const l of o.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new me(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZN{convertValue(e,n="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Po(e,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertVectorValue(e){var n,s,i;const r=(i=(s=(n=e.fields)===null||n===void 0?void 0:n[bh].arrayValue)===null||s===void 0?void 0:s.values)===null||i===void 0?void 0:i.map(o=>Mt(o.doubleValue));return new Nm(r)}convertGeoPoint(e){return new Dm(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ud(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){const n=yr(e);return new Gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=It.fromString(e);ht(_T(s),9688,{name:e});const i=new yc(s.get(1),s.get(3)),r=new Ce(s.popFirst(5));return i.isEqual(n)||Si(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZT extends QT{constructor(e,n,s,i,r,o){super(e,n,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Td("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Yu extends ZT{data(e={}){return super.data(e)}}class eA{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hl(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Yu(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Yu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Hl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const c=new Yu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Hl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:tx(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tx(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t){t=Qs(t,Nn);const e=Qs(t.firestore,Na);return MN(wd(e),t._key).then(n=>tA(e,t,n))}class jm extends ZN{constructor(e){super(),this.firestore=e}convertBytes(e){return new xa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}function Xa(t){t=Qs(t,xi);const e=Qs(t.firestore,Na),n=wd(e),s=new jm(e);return YT(t._query),$N(n,t._query).then(i=>new eA(e,s,t,i))}function Cd(t,e,n){t=Qs(t,Nn);const s=Qs(t.firestore,Na),i=ex(t.converter,e,n);return nx(s,[KN(qT(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wi.none())])}function Bm(t,...e){var n,s,i;t=cn(t);let r={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||by(e[o])||(r=e[o],o++);const l={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(by(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(s=m.error)===null||s===void 0?void 0:s.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,d,h;if(t instanceof Nn)d=Qs(t.firestore,Na),h=hd(t._key.path),c={next:m=>{e[o]&&e[o](tA(d,t,m))},error:e[o+1],complete:e[o+2]};else{const m=Qs(t,xi);d=Qs(m.firestore,Na),h=m._query;const _=new jm(d);c={next:y=>{e[o]&&e[o](new eA(d,_,m,y))},error:e[o+1],complete:e[o+2]},YT(t._query)}return function(_,y,D,N){const x=new Om(N),U=new Sm(y,x,D);return _.asyncQueue.enqueueAndForget(async()=>Am(await Oh(_),U)),()=>{x.xu(),_.asyncQueue.enqueueAndForget(async()=>Im(await Oh(_),U))}}(wd(d),h,l,c)}function nx(t,e){return function(s,i){const r=new bi;return s.asyncQueue.enqueueAndForget(async()=>IN(await VN(s),i,r)),r.promise}(wd(t),e)}function tA(t,e,n){const s=n.docs.get(e._key),i=new jm(t);return new ZT(t,i,e._key,s,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){qa=i})(Ha),Ca(new vo("firestore",(s,{instanceIdentifier:i,options:r})=>{const o=s.getProvider("app").getImmediate(),l=new Na(new QO(s.getProvider("auth-internal")),new JO(o,s.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new me(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(d.options.projectId,h)}(o,i),o);return r=Object.assign({useFetchStreams:n},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),pr(Av,Iv,e),pr(Av,Iv,"esm2017")})();var sx="firebase",ix="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(sx,ix,"app");function Hm(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function nA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rx=nA,sA=new kc("auth","Firebase",nA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new tm("@firebase/auth");function ox(t,...e){Dh.logLevel<=Ye.WARN&&Dh.warn(`Auth (${Ha}): ${t}`,...e)}function Xu(t,...e){Dh.logLevel<=Ye.ERROR&&Dh.error(`Auth (${Ha}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t,...e){throw Wm(t,...e)}function Ss(t,...e){return Wm(t,...e)}function qm(t,e,n){const s=Object.assign(Object.assign({},rx()),{[e]:n});return new kc("auth","Firebase",s).create(e,{appName:t.name})}function Ti(t){return qm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ax(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ps(t,"argument-error"),qm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wm(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return sA.create(t,...e)}function Oe(t,e,...n){if(!t)throw Wm(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xu(e),new Error(e)}function Oi(t,e){t||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lx(){return Ay()==="http:"||Ay()==="https:"}function Ay(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lx()||C1()||"connection"in navigator)?navigator.onLine:!0}function ux(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oi(n>e,"Short delay should be less than long delay!"),this.isMobile=T1()||S1()}get(){return cx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t,e){Oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fx=new $c(3e4,6e4);function Li(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ti(t,e,n,s,i={}){return rA(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const l=Dc(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},r);return I1()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ba(t.emulatorConfig.host)&&(d.credentials="include"),iA.fetch()(await oA(t,t.config.apiHost,n,l),d)})}async function rA(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},hx),e);try{const i=new mx(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw ku(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const l=r.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ku(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ku(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ku(t,"user-disabled",o);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw qm(t,h,d);ps(t,h)}}catch(i){if(i instanceof Ni)throw i;ps(t,"network-request-failed",{message:String(i)})}}async function Fc(t,e,n,s,i={}){const r=await ti(t,e,n,s,i);return"mfaPendingCredential"in r&&ps(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function oA(t,e,n,s){const i=`${e}${n}?${s}`,r=t,o=r.config.emulator?zm(t.config,i):`${t.config.apiScheme}://${i}`;return dx.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(o).toString():o}function px(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ss(this.auth,"network-request-failed")),fx.get())})}}function ku(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=Ss(t,e,s);return i.customData._tokenResponse=n,i}function Iy(t){return t!==void 0&&t.enterprise!==void 0}class gx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return px(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _x(t,e){return ti(t,"GET","/v2/recaptchaConfig",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vx(t,e){return ti(t,"POST","/v1/accounts:delete",e)}async function Nh(t,e){return ti(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yx(t,e=!1){const n=cn(t),s=await n.getIdToken(e),i=Km(s);Oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:ic(Sf(i.auth_time)),issuedAtTime:ic(Sf(i.iat)),expirationTime:ic(Sf(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Sf(t){return Number(t)*1e3}function Km(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Xu("JWT malformed, contained fewer than 3 sections"),null;try{const i=uw(n);return i?JSON.parse(i):(Xu("Failed to decode base64 JWT payload"),null)}catch(i){return Xu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Cy(t){const e=Km(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ni&&Ex(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Ex({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(t){var e;const n=t.auth,s=await t.getIdToken(),i=await La(t,Nh(n,{idToken:s}));Oe(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?aA(r.providerUserInfo):[],l=Tx(t.providerData,o),c=t.isAnonymous,d=!(t.email&&r.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Rp(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function wx(t){const e=cn(t);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Tx(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function aA(t){return t.map(e=>{var{providerId:n}=e,s=Hm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(t,e){const n=await rA(t,{},async()=>{const s=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=await oA(t,i,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&Ba(t.emulatorConfig.host)&&(c.credentials="include"),iA.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ix(t,e){return ti(t,"POST","/v2/accounts:revokeToken",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=Cy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await Ax(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new ba;return s&&(Oe(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(Oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(Oe(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ba,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class As{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=Hm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Rp(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await La(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yx(this,e)}reload(){return wx(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new As(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Ti(this.auth));const e=await this.getIdToken();return await La(this,vx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,l,c,d,h;const m=(s=n.displayName)!==null&&s!==void 0?s:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,y=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,D=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,U=(d=n.createdAt)!==null&&d!==void 0?d:void 0,F=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:H,emailVerified:j,isAnonymous:ne,providerData:ie,stsTokenManager:k}=n;Oe(H&&k,e,"internal-error");const I=ba.fromJSON(this.name,k);Oe(typeof H=="string",e,"internal-error"),Zi(m,e.name),Zi(_,e.name),Oe(typeof j=="boolean",e,"internal-error"),Oe(typeof ne=="boolean",e,"internal-error"),Zi(y,e.name),Zi(D,e.name),Zi(N,e.name),Zi(x,e.name),Zi(U,e.name),Zi(F,e.name);const b=new As({uid:H,auth:e,email:_,emailVerified:j,displayName:m,isAnonymous:ne,photoURL:D,phoneNumber:y,tenantId:N,stsTokenManager:I,createdAt:U,lastLoginAt:F});return ie&&Array.isArray(ie)&&(b.providerData=ie.map(A=>Object.assign({},A))),x&&(b._redirectEventId=x),b}static async _fromIdTokenResponse(e,n,s=!1){const i=new ba;i.updateFromServerResponse(n);const r=new As({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await xh(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];Oe(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?aA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),l=new ba;l.updateFromIdToken(s);const c=new As({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Rp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=new Map;function Ei(t){Oi(t instanceof Function,"Expected a class definition");let e=Sy.get(t);return e?(Oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Sy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lA.type="NONE";const Ry=lA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t,e,n){return`firebase:${t}:${e}:${n}`}class wa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=Ju(this.userKey,i.apiKey,r),this.fullPersistenceKey=Ju("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?As._fromGetAccountInfoResponse(this.auth,n,e):null}return As._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new wa(Ei(Ry),e,s);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let r=i[0]||Ei(Ry);const o=Ju(s,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){let m;if(typeof h=="string"){const _=await Nh(e,{idToken:h}).catch(()=>{});if(!_)break;m=await As._fromGetAccountInfoResponse(e,_,h)}else m=As._fromJSON(e,h);d!==r&&(l=m),r=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new wa(r,e,s):(r=c[0],l&&await r._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==r)try{await d._remove(o)}catch{}})),new wa(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pA(e))return"Blackberry";if(mA(e))return"Webos";if(uA(e))return"Safari";if((e.includes("chrome/")||hA(e))&&!e.includes("edge/"))return"Chrome";if(fA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function cA(t=yn()){return/firefox\//i.test(t)}function uA(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hA(t=yn()){return/crios\//i.test(t)}function dA(t=yn()){return/iemobile/i.test(t)}function fA(t=yn()){return/android/i.test(t)}function pA(t=yn()){return/blackberry/i.test(t)}function mA(t=yn()){return/webos/i.test(t)}function Gm(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Cx(t=yn()){var e;return Gm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Sx(){return R1()&&document.documentMode===10}function gA(t=yn()){return Gm(t)||fA(t)||mA(t)||pA(t)||/windows phone/i.test(t)||dA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,e=[]){let n;switch(t){case"Browser":n=Py(yn());break;case"Worker":n=`${Py(yn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ha}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,l)=>{try{const c=e(r);o(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(t,e={}){return ti(t,"GET","/v2/passwordPolicy",Li(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=6;class kx{constructor(e){var n,s,i,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Ox,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,i,r,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsUppercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oy(this),this.idTokenSubscription=new Oy(this),this.beforeStateQueue=new Rx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ei(n)),this._initializationPromise=this.queue(async()=>{var s,i,r;if(!this._deleted&&(this.persistenceManager=await wa.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),s=await As._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ux()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Ti(this));const n=e?cn(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Px(this),n=new kx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new kc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Ix(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ei(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await wa.create(this,[Ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(l,this,"internal-error"),l.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_A(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ox(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vi(t){return cn(t)}class Oy{constructor(e){this.auth=e,this.observer=null,this.addObserver=V1(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nx(t){Sd=t}function vA(t){return Sd.loadJS(t)}function xx(){return Sd.recaptchaEnterpriseScript}function Lx(){return Sd.gapiScript}function Vx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Mx{constructor(){this.enterprise=new $x}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $x{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Fx="recaptcha-enterprise",yA="NO_RECAPTCHA";class Ux{constructor(e){this.type=Fx,this.auth=Vi(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,l)=>{_x(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new gx(c);return r.tenantId==null?r._agentRecaptchaConfig=d:r._tenantRecaptchaConfigs[r.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function i(r,o,l){const c=window.grecaptcha;Iy(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:e}).then(d=>{o(d)}).catch(()=>{o(yA)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mx().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(l=>{if(!n&&Iy(window.grecaptcha))i(l,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=xx();c.length!==0&&(c+=l),vA(c).then(()=>{i(l,r,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function ky(t,e,n,s=!1,i=!1){const r=new Ux(t);let o;if(i)o=yA;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Lh(t,e,n,s,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ky(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await ky(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t,e){const n=sm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(_o(r,e??{}))return i;ps(i,"already-initialized")}return n.initialize({options:e})}function Bx(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ei);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Hx(t,e,n){const s=Vi(t);Oe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=EA(e),{host:o,port:l}=qx(e),c=l===null?"":`:${l}`,d={url:`${r}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Oe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Oe(_o(d,s.config.emulator)&&_o(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,Ba(o)?(pw(`${r}//${o}${c}`),mw("Auth",!0)):Wx()}function EA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qx(t){const e=EA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Dy(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:Dy(o)}}}function Dy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Wx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function zx(t,e){return ti(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(t,e){return Fc(t,"POST","/v1/accounts:signInWithPassword",Li(t,e))}async function Gx(t,e){return ti(t,"POST","/v1/accounts:sendOobCode",Li(t,e))}async function Qx(t,e){return Gx(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(t,e){return Fc(t,"POST","/v1/accounts:signInWithEmailLink",Li(t,e))}async function Xx(t,e){return Fc(t,"POST","/v1/accounts:signInWithEmailLink",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends Qm{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ac(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ac(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lh(e,n,"signInWithPassword",Kx);case"emailLink":return Yx(e,{email:this._email,oobCode:this._password});default:ps(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lh(e,s,"signUpPassword",zx);case"emailLink":return Xx(e,{idToken:n,email:this._email,oobCode:this._password});default:ps(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t,e){return Fc(t,"POST","/v1/accounts:signInWithIdp",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="http://localhost";class wo extends Qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ps("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=Hm(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new wo(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ta(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ta(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ta(e,n)}buildRequest(){const e={requestUri:Jx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eL(t){const e=$l(Fl(t)).link,n=e?$l(Fl(e)).deep_link_id:null,s=$l(Fl(t)).deep_link_id;return(s?$l(Fl(s)).link:null)||s||n||e||t}class Ym{constructor(e){var n,s,i,r,o,l;const c=$l(Fl(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(s=c.oobCode)!==null&&s!==void 0?s:null,m=Zx((i=c.mode)!==null&&i!==void 0?i:null);Oe(d&&h&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=h,this.continueUrl=(r=c.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=eL(e);try{return new Ym(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.providerId=Ja.PROVIDER_ID}static credential(e,n){return Ac._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ym.parseLink(n);return Oe(s,"argument-error"),Ac._fromEmailAndCode(e,s.code,s.tenantId)}}Ja.PROVIDER_ID="password";Ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends Xm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Uc{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wo._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return vi.credential(n,s)}catch{return null}}}vi.GOOGLE_SIGN_IN_METHOD="google.com";vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Uc{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Uc{constructor(){super("twitter.com")}static credential(e,n){return wo._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return lr.credential(n,s)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(t,e){return Fc(t,"POST","/v1/accounts:signUp",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await As._fromIdTokenResponse(e,s,i),o=Ny(s);return new To({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Ny(s);return new To({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Ny(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends Ni{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new Vh(e,n,s,i)}}function bA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(t,r,e,s):r})}async function nL(t,e,n=!1){const s=await La(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return To._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(t,e,n=!1){const{auth:s}=t;if(Gn(s.app))return Promise.reject(Ti(s));const i="reauthenticate";try{const r=await La(t,bA(s,i,e,t),n);Oe(r.idToken,s,"internal-error");const o=Km(r.idToken);Oe(o,s,"internal-error");const{sub:l}=o;return Oe(t.uid===l,s,"user-mismatch"),To._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&ps(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(t,e,n=!1){if(Gn(t.app))return Promise.reject(Ti(t));const s="signIn",i=await bA(t,s,e),r=await To._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function iL(t,e){return wA(Vi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(t){const e=Vi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rL(t,e,n){const s=Vi(t);await Lh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Qx)}async function oL(t,e,n){if(Gn(t.app))return Promise.reject(Ti(t));const s=Vi(t),o=await Lh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tL).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&TA(t),c}),l=await To._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function aL(t,e,n){return Gn(t.app)?Promise.reject(Ti(t)):iL(cn(t),Ja.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&TA(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e){return ti(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=cn(t),r={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await La(s,lL(s.auth,r));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function uL(t,e,n,s){return cn(t).onIdTokenChanged(e,n,s)}function hL(t,e,n){return cn(t).beforeAuthStateChanged(e,n)}function dL(t,e,n,s){return cn(t).onAuthStateChanged(e,n,s)}function fL(t){return cn(t).signOut()}const Mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=1e3,mL=10;class IA extends AA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);Sx()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mL):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},pL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IA.type="LOCAL";const gL=IA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA extends AA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CA.type="SESSION";const SA=CA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Rd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,r)),c=await _L(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((l,c)=>{const d=Jm("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(m){const _=m;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(_.data.response);break;default:clearTimeout(h),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(){return window}function yL(t){Ys().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){return typeof Ys().WorkerGlobalScope<"u"&&typeof Ys().importScripts=="function"}async function EL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wL(){return RA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="firebaseLocalStorageDb",TL=1,$h="firebaseLocalStorage",OA="fbase_key";class jc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pd(t,e){return t.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function AL(){const t=indexedDB.deleteDatabase(PA);return new jc(t).toPromise()}function Pp(){const t=indexedDB.open(PA,TL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore($h,{keyPath:OA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains($h)?e(s):(s.close(),await AL(),e(await Pp()))})})}async function xy(t,e,n){const s=Pd(t,!0).put({[OA]:e,value:n});return new jc(s).toPromise()}async function IL(t,e){const n=Pd(t,!1).get(e),s=await new jc(n).toPromise();return s===void 0?null:s.value}function Ly(t,e){const n=Pd(t,!0).delete(e);return new jc(n).toPromise()}const CL=800,SL=3;class kA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>SL)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(wL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await EL(),!this.activeServiceWorker)return;this.sender=new vL(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pp();return await xy(e,Mh,"1"),await Ly(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>xy(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>IL(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ly(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=Pd(i,!1).getAll();return new jc(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kA.type="LOCAL";const RL=kA;new $c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t,e){return e?Ei(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends Qm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PL(t){return wA(t.auth,new Zm(t),t.bypassAuthState)}function OL(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),sL(n,new Zm(t),t.bypassAuthState)}async function kL(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),nL(n,new Zm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PL;case"linkViaPopup":case"linkViaRedirect":return kL;case"reauthViaPopup":case"reauthViaRedirect":return OL;default:ps(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=new $c(2e3,1e4);async function NL(t,e,n){if(Gn(t.app))return Promise.reject(Ss(t,"operation-not-supported-in-this-environment"));const s=Vi(t);ax(t,e,Xm);const i=DA(s,n);return new ao(s,"signInViaPopup",e,i).executeNotNull()}class ao extends NA{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DL.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="pendingRedirect",Zu=new Map;class LL extends NA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Zu.get(this.auth._key());if(!e){try{const s=await VL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Zu.set(this.auth._key(),e)}return this.bypassAuthState||Zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VL(t,e){const n=FL(e),s=$L(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function ML(t,e){Zu.set(t._key(),e)}function $L(t){return Ei(t._redirectPersistence)}function FL(t){return Ju(xL,t.config.apiKey,t.name)}async function UL(t,e,n=!1){if(Gn(t.app))return Promise.reject(Ti(t));const s=Vi(t),i=DA(s,e),o=await new LL(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=10*60*1e3;class BL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!xA(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ss(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vy(e))}saveEventToCache(e){this.cachedEventUids.add(Vy(e)),this.lastProcessedEventTime=Date.now()}}function Vy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e={}){return ti(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zL=/^https?/;async function KL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qL(t);for(const n of e)try{if(GL(n))return}catch{}ps(t,"unauthorized-domain")}function GL(t){const e=Sp(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!zL.test(n))return!1;if(WL.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=new $c(3e4,6e4);function My(){const t=Ys().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YL(t){return new Promise((e,n)=>{var s,i,r;function o(){My(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{My(),n(Ss(t,"network-request-failed"))},timeout:QL.get()})}if(!((i=(s=Ys().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=Ys().gapi)===null||r===void 0)&&r.load)o();else{const l=Vx("iframefcb");return Ys()[l]=()=>{gapi.load?o():n(Ss(t,"network-request-failed"))},vA(`${Lx()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw eh=null,e})}let eh=null;function XL(t){return eh=eh||YL(t),eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=new $c(5e3,15e3),ZL="__/auth/iframe",eV="emulator/auth/iframe",tV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sV(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zm(e,eV):`https://${t.config.authDomain}/${ZL}`,s={apiKey:e.apiKey,appName:t.name,v:Ha},i=nV.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Dc(s).slice(1)}`}async function iV(t){const e=await XL(t),n=Ys().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:sV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tV,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=Ss(t,"network-request-failed"),l=Ys().setTimeout(()=>{r(o)},JL.get());function c(){Ys().clearTimeout(l),i(s)}s.ping(c).then(c,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oV=500,aV=600,lV="_blank",cV="http://localhost";class $y{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uV(t,e,n,s=oV,i=aV){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c=Object.assign(Object.assign({},rV),{width:s.toString(),height:i.toString(),top:r,left:o}),d=yn().toLowerCase();n&&(l=hA(d)?lV:n),cA(d)&&(e=e||cV,c.scrollbars="yes");const h=Object.entries(c).reduce((_,[y,D])=>`${_}${y}=${D},`,"");if(Cx(d)&&l!=="_self")return hV(e||"",l),new $y(null);const m=window.open(e||"",l,h);Oe(m,t,"popup-blocked");try{m.focus()}catch{}return new $y(m)}function hV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV="__/auth/handler",fV="emulator/auth/handler",pV=encodeURIComponent("fac");async function Fy(t,e,n,s,i,r){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ha,eventId:i};if(e instanceof Xm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",L1(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof Uc){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${pV}=${encodeURIComponent(c)}`:"";return`${mV(t)}?${Dc(l).slice(1)}${d}`}function mV({config:t}){return t.emulator?zm(t,fV):`https://${t.authDomain}/${dV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="webStorageSupport";class gV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SA,this._completeRedirectFn=UL,this._overrideRedirectResult=ML}async _openPopup(e,n,s,i){var r;Oi((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Fy(e,n,s,Sp(),i);return uV(e,o,Jm())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await Fy(e,n,s,Sp(),i);return yL(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(Oi(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await iV(e),s=new BL(e);return n.register("authEvent",i=>(Oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rf,{type:Rf},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[Rf];o!==void 0&&n(!!o),ps(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gA()||uA()||Gm()}}const _V=gV;var Uy="@firebase/auth",jy="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EV(t){Ca(new vo("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;Oe(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_A(t)},d=new Dx(s,i,r,c);return Bx(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ca(new vo("auth-internal",e=>{const n=Vi(e.getProvider("auth").getImmediate());return(s=>new vV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(Uy,jy,yV(t)),pr(Uy,jy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=5*60,wV=fw("authIdTokenMaxAge")||bV;let By=null;const TV=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>wV)return;const i=n==null?void 0:n.token;By!==i&&(By=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function AV(t=yw()){const e=sm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jx(t,{popupRedirectResolver:_V,persistence:[RL,gL,SA]}),s=fw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=TV(r.toString());hL(n,o,()=>o(n.currentUser)),uL(n,l=>o(l))}}const i=hw("auth");return i&&Hx(n,`http://${i}`),n}function IV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Nx({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=Ss("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",IV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EV("Browser");const CV={apiKey:"AIzaSyCwjBfaaOxu0q3af_aPIlvDnpvSE1z3ms0",authDomain:"instant-geek.firebaseapp.com",projectId:"instant-geek",storageBucket:"instant-geek.firebasestorage.app",messagingSenderId:"317020332794",appId:"1:317020332794:web:933ab287d47fafd86cdf43",measurementId:"G-5F717TETW2"},LA=vw(CV),Za=AV(LA),Vn=BN(LA),SV={class:"container-fluid py-2 preco"},RV={class:"media-scroller snaps-inline",id:"precoIn"},PV={class:"game-card"},OV=["href"],kV=["src","alt"],DV={class:"game-text"},NV={class:"titre"},xV={class:"prix"},LV={__name:"Preco",setup(t){const e=je([]),n=async()=>{const s=Qa(Vn,"games"),i=new Date;i.setHours(0,0,0,0);const r=Ya(s,bo("dateSortie",">=",i),Mc("dateSortie"),XT(8));try{const o=await Xa(r);e.value=[],o.forEach(l=>{const c=l.data();e.value.push({id:l.id,titre:c.name,link:c.link,image:c.image,price:`${c.price}€`})})}catch(o){console.error("Erreur lors de la récupération des jeux :",o)}};return fs(()=>{n()}),(s,i)=>(re(),ae("div",SV,[i[1]||(i[1]=E("h2",{class:"font-weight-light"},"Précommandes",-1)),E("div",null,[E("ul",RV,[(re(!0),ae(Qe,null,Kt(e.value,r=>(re(),ae("li",{key:r.id},[E("div",PV,[E("a",{href:r.link},[E("img",{src:`/assets/img/preview/${r.image}`,alt:r.titre},null,8,kV)],8,OV),E("div",DV,[E("h3",NV,we(r.titre),1),E("h3",xV,we(r.price),1)]),i[0]||(i[0]=E("h2",null,null,-1))])]))),128))])])]))}},VV=En(LV,[["__scopeId","data-v-8b8dcc39"]]);var th={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var MV=th.exports,Hy;function $V(){return Hy||(Hy=1,function(t,e){(function(n,s){t.exports=s()})(MV,function(){const n=new Map,s={set(v,u,p){n.has(v)||n.set(v,new Map);const w=n.get(v);w.has(u)||w.size===0?w.set(u,p):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(w.keys())[0]}.`)},get:(v,u)=>n.has(v)&&n.get(v).get(u)||null,remove(v,u){if(!n.has(v))return;const p=n.get(v);p.delete(u),p.size===0&&n.delete(v)}},i="transitionend",r=v=>(v&&window.CSS&&window.CSS.escape&&(v=v.replace(/#([^\s"#']+)/g,(u,p)=>`#${CSS.escape(p)}`)),v),o=v=>{v.dispatchEvent(new Event(i))},l=v=>!(!v||typeof v!="object")&&(v.jquery!==void 0&&(v=v[0]),v.nodeType!==void 0),c=v=>l(v)?v.jquery?v[0]:v:typeof v=="string"&&v.length>0?document.querySelector(r(v)):null,d=v=>{if(!l(v)||v.getClientRects().length===0)return!1;const u=getComputedStyle(v).getPropertyValue("visibility")==="visible",p=v.closest("details:not([open])");if(!p)return u;if(p!==v){const w=v.closest("summary");if(w&&w.parentNode!==p||w===null)return!1}return u},h=v=>!v||v.nodeType!==Node.ELEMENT_NODE||!!v.classList.contains("disabled")||(v.disabled!==void 0?v.disabled:v.hasAttribute("disabled")&&v.getAttribute("disabled")!=="false"),m=v=>{if(!document.documentElement.attachShadow)return null;if(typeof v.getRootNode=="function"){const u=v.getRootNode();return u instanceof ShadowRoot?u:null}return v instanceof ShadowRoot?v:v.parentNode?m(v.parentNode):null},_=()=>{},y=v=>{v.offsetHeight},D=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,N=[],x=()=>document.documentElement.dir==="rtl",U=v=>{var u;u=()=>{const p=D();if(p){const w=v.NAME,L=p.fn[w];p.fn[w]=v.jQueryInterface,p.fn[w].Constructor=v,p.fn[w].noConflict=()=>(p.fn[w]=L,v.jQueryInterface)}},document.readyState==="loading"?(N.length||document.addEventListener("DOMContentLoaded",()=>{for(const p of N)p()}),N.push(u)):u()},F=(v,u=[],p=v)=>typeof v=="function"?v.call(...u):p,H=(v,u,p=!0)=>{if(!p)return void F(v);const w=(q=>{if(!q)return 0;let{transitionDuration:Z,transitionDelay:ue}=window.getComputedStyle(q);const _e=Number.parseFloat(Z),ye=Number.parseFloat(ue);return _e||ye?(Z=Z.split(",")[0],ue=ue.split(",")[0],1e3*(Number.parseFloat(Z)+Number.parseFloat(ue))):0})(u)+5;let L=!1;const V=({target:q})=>{q===u&&(L=!0,u.removeEventListener(i,V),F(v))};u.addEventListener(i,V),setTimeout(()=>{L||o(u)},w)},j=(v,u,p,w)=>{const L=v.length;let V=v.indexOf(u);return V===-1?!p&&w?v[L-1]:v[0]:(V+=p?1:-1,w&&(V=(V+L)%L),v[Math.max(0,Math.min(V,L-1))])},ne=/[^.]*(?=\..*)\.|.*/,ie=/\..*/,k=/::\d+$/,I={};let b=1;const A={mouseenter:"mouseover",mouseleave:"mouseout"},P=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function S(v,u){return u&&`${u}::${b++}`||v.uidEvent||b++}function C(v){const u=S(v);return v.uidEvent=u,I[u]=I[u]||{},I[u]}function Be(v,u,p=null){return Object.values(v).find(w=>w.callable===u&&w.delegationSelector===p)}function st(v,u,p){const w=typeof u=="string",L=w?p:u||p;let V=Ct(v);return P.has(V)||(V=v),[w,L,V]}function Ne(v,u,p,w,L){if(typeof u!="string"||!v)return;let[V,q,Z]=st(u,p,w);u in A&&(q=(Ve=>function(xe){if(!xe.relatedTarget||xe.relatedTarget!==xe.delegateTarget&&!xe.delegateTarget.contains(xe.relatedTarget))return Ve.call(this,xe)})(q));const ue=C(v),_e=ue[Z]||(ue[Z]={}),ye=Be(_e,q,V?p:null);if(ye)return void(ye.oneOff=ye.oneOff&&L);const fe=S(q,u.replace(ne,"")),He=V?function(Pe,Ve,xe){return function Me(mt){const bt=Pe.querySelectorAll(Ve);for(let{target:Ge}=mt;Ge&&Ge!==this;Ge=Ge.parentNode)for(const at of bt)if(at===Ge)return Ft(mt,{delegateTarget:Ge}),Me.oneOff&&Q.off(Pe,mt.type,Ve,xe),xe.apply(Ge,[mt])}}(v,p,q):function(Pe,Ve){return function xe(Me){return Ft(Me,{delegateTarget:Pe}),xe.oneOff&&Q.off(Pe,Me.type,Ve),Ve.apply(Pe,[Me])}}(v,q);He.delegationSelector=V?p:null,He.callable=q,He.oneOff=L,He.uidEvent=fe,_e[fe]=He,v.addEventListener(Z,He,V)}function Ee(v,u,p,w,L){const V=Be(u[p],w,L);V&&(v.removeEventListener(p,V,!!L),delete u[p][V.uidEvent])}function Ue(v,u,p,w){const L=u[p]||{};for(const[V,q]of Object.entries(L))V.includes(w)&&Ee(v,u,p,q.callable,q.delegationSelector)}function Ct(v){return v=v.replace(ie,""),A[v]||v}const Q={on(v,u,p,w){Ne(v,u,p,w,!1)},one(v,u,p,w){Ne(v,u,p,w,!0)},off(v,u,p,w){if(typeof u!="string"||!v)return;const[L,V,q]=st(u,p,w),Z=q!==u,ue=C(v),_e=ue[q]||{},ye=u.startsWith(".");if(V===void 0){if(ye)for(const fe of Object.keys(ue))Ue(v,ue,fe,u.slice(1));for(const[fe,He]of Object.entries(_e)){const Pe=fe.replace(k,"");Z&&!u.includes(Pe)||Ee(v,ue,q,He.callable,He.delegationSelector)}}else{if(!Object.keys(_e).length)return;Ee(v,ue,q,V,L?p:null)}},trigger(v,u,p){if(typeof u!="string"||!v)return null;const w=D();let L=null,V=!0,q=!0,Z=!1;u!==Ct(u)&&w&&(L=w.Event(u,p),w(v).trigger(L),V=!L.isPropagationStopped(),q=!L.isImmediatePropagationStopped(),Z=L.isDefaultPrevented());const ue=Ft(new Event(u,{bubbles:V,cancelable:!0}),p);return Z&&ue.preventDefault(),q&&v.dispatchEvent(ue),ue.defaultPrevented&&L&&L.preventDefault(),ue}};function Ft(v,u={}){for(const[p,w]of Object.entries(u))try{v[p]=w}catch{Object.defineProperty(v,p,{configurable:!0,get:()=>w})}return v}function it(v){if(v==="true")return!0;if(v==="false")return!1;if(v===Number(v).toString())return Number(v);if(v===""||v==="null")return null;if(typeof v!="string")return v;try{return JSON.parse(decodeURIComponent(v))}catch{return v}}function rt(v){return v.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const Tt={setDataAttribute(v,u,p){v.setAttribute(`data-bs-${rt(u)}`,p)},removeDataAttribute(v,u){v.removeAttribute(`data-bs-${rt(u)}`)},getDataAttributes(v){if(!v)return{};const u={},p=Object.keys(v.dataset).filter(w=>w.startsWith("bs")&&!w.startsWith("bsConfig"));for(const w of p){let L=w.replace(/^bs/,"");L=L.charAt(0).toLowerCase()+L.slice(1),u[L]=it(v.dataset[w])}return u},getDataAttribute:(v,u)=>it(v.getAttribute(`data-bs-${rt(u)}`))};class At{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,p){const w=l(p)?Tt.getDataAttribute(p,"config"):{};return{...this.constructor.Default,...typeof w=="object"?w:{},...l(p)?Tt.getDataAttributes(p):{},...typeof u=="object"?u:{}}}_typeCheckConfig(u,p=this.constructor.DefaultType){for(const[L,V]of Object.entries(p)){const q=u[L],Z=l(q)?"element":(w=q)==null?`${w}`:Object.prototype.toString.call(w).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(V).test(Z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${L}" provided type "${Z}" but expected type "${V}".`)}var w}}class ot extends At{constructor(u,p){super(),(u=c(u))&&(this._element=u,this._config=this._getConfig(p),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),Q.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,p,w=!0){H(u,p,w)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return s.get(c(u),this.DATA_KEY)}static getOrCreateInstance(u,p={}){return this.getInstance(u)||new this(u,typeof p=="object"?p:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const z=v=>{let u=v.getAttribute("data-bs-target");if(!u||u==="#"){let p=v.getAttribute("href");if(!p||!p.includes("#")&&!p.startsWith("."))return null;p.includes("#")&&!p.startsWith("#")&&(p=`#${p.split("#")[1]}`),u=p&&p!=="#"?p.trim():null}return u?u.split(",").map(p=>r(p)).join(","):null},W={find:(v,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,v)),findOne:(v,u=document.documentElement)=>Element.prototype.querySelector.call(u,v),children:(v,u)=>[].concat(...v.children).filter(p=>p.matches(u)),parents(v,u){const p=[];let w=v.parentNode.closest(u);for(;w;)p.push(w),w=w.parentNode.closest(u);return p},prev(v,u){let p=v.previousElementSibling;for(;p;){if(p.matches(u))return[p];p=p.previousElementSibling}return[]},next(v,u){let p=v.nextElementSibling;for(;p;){if(p.matches(u))return[p];p=p.nextElementSibling}return[]},focusableChildren(v){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(p=>`${p}:not([tabindex^="-"])`).join(",");return this.find(u,v).filter(p=>!h(p)&&d(p))},getSelectorFromElement(v){const u=z(v);return u&&W.findOne(u)?u:null},getElementFromSelector(v){const u=z(v);return u?W.findOne(u):null},getMultipleElementsFromSelector(v){const u=z(v);return u?W.find(u):[]}},le=(v,u="hide")=>{const p=`click.dismiss${v.EVENT_KEY}`,w=v.NAME;Q.on(document,p,`[data-bs-dismiss="${w}"]`,function(L){if(["A","AREA"].includes(this.tagName)&&L.preventDefault(),h(this))return;const V=W.getElementFromSelector(this)||this.closest(`.${w}`);v.getOrCreateInstance(V)[u]()})},ge=".bs.alert",Ke=`close${ge}`,R=`closed${ge}`;class O extends ot{static get NAME(){return"alert"}close(){if(Q.trigger(this._element,Ke).defaultPrevented)return;this._element.classList.remove("show");const u=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,u)}_destroyElement(){this._element.remove(),Q.trigger(this._element,R),this.dispose()}static jQueryInterface(u){return this.each(function(){const p=O.getOrCreateInstance(this);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u](this)}})}}le(O,"close"),U(O);const M='[data-bs-toggle="button"]';class K extends ot{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const p=K.getOrCreateInstance(this);u==="toggle"&&p[u]()})}}Q.on(document,"click.bs.button.data-api",M,v=>{v.preventDefault();const u=v.target.closest(M);K.getOrCreateInstance(u).toggle()}),U(K);const G=".bs.swipe",Y=`touchstart${G}`,he=`touchmove${G}`,oe=`touchend${G}`,se=`pointerdown${G}`,ee=`pointerup${G}`,Ie={endCallback:null,leftCallback:null,rightCallback:null},de={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ve extends At{constructor(u,p){super(),this._element=u,u&&ve.isSupported()&&(this._config=this._getConfig(p),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ie}static get DefaultType(){return de}static get NAME(){return"swipe"}dispose(){Q.off(this._element,G)}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),F(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const p=u/this._deltaX;this._deltaX=0,p&&F(p>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Q.on(this._element,se,u=>this._start(u)),Q.on(this._element,ee,u=>this._end(u)),this._element.classList.add("pointer-event")):(Q.on(this._element,Y,u=>this._start(u)),Q.on(this._element,he,u=>this._move(u)),Q.on(this._element,oe,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&(u.pointerType==="pen"||u.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const be=".bs.carousel",Ae=".data-api",De="ArrowLeft",We="ArrowRight",kt="next",St="prev",Ht="left",xt="right",Ns=`slide${be}`,ni=`slid${be}`,qt=`keydown${be}`,Mn=`mouseenter${be}`,Vo=`mouseleave${be}`,rl=`dragstart${be}`,Kc=`load${be}${Ae}`,Gc=`click${be}${Ae}`,$i="carousel",Fi="active",Mo=".active",xs=".carousel-item",Qc=Mo+xs,$o={[De]:xt,[We]:Ht},Yc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Dr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class si extends ot{constructor(u,p){super(u,p),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=W.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===$i&&this.cycle()}static get Default(){return Yc}static get DefaultType(){return Dr}static get NAME(){return"carousel"}next(){this._slide(kt)}nextWhenVisible(){!document.hidden&&d(this._element)&&this.next()}prev(){this._slide(St)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Q.one(this._element,ni,()=>this.cycle()):this.cycle())}to(u){const p=this._getItems();if(u>p.length-1||u<0)return;if(this._isSliding)return void Q.one(this._element,ni,()=>this.to(u));const w=this._getItemIndex(this._getActive());if(w===u)return;const L=u>w?kt:St;this._slide(L,p[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&Q.on(this._element,qt,u=>this._keydown(u)),this._config.pause==="hover"&&(Q.on(this._element,Mn,()=>this.pause()),Q.on(this._element,Vo,()=>this._maybeEnableCycle())),this._config.touch&&ve.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of W.find(".carousel-item img",this._element))Q.on(p,rl,w=>w.preventDefault());const u={leftCallback:()=>this._slide(this._directionToOrder(Ht)),rightCallback:()=>this._slide(this._directionToOrder(xt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ve(this._element,u)}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const p=$o[u.key];p&&(u.preventDefault(),this._slide(this._directionToOrder(p)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const p=W.findOne(Mo,this._indicatorsElement);p.classList.remove(Fi),p.removeAttribute("aria-current");const w=W.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);w&&(w.classList.add(Fi),w.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const p=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=p||this._config.defaultInterval}_slide(u,p=null){if(this._isSliding)return;const w=this._getActive(),L=u===kt,V=p||j(this._getItems(),w,L,this._config.wrap);if(V===w)return;const q=this._getItemIndex(V),Z=fe=>Q.trigger(this._element,fe,{relatedTarget:V,direction:this._orderToDirection(u),from:this._getItemIndex(w),to:q});if(Z(Ns).defaultPrevented||!w||!V)return;const ue=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(q),this._activeElement=V;const _e=L?"carousel-item-start":"carousel-item-end",ye=L?"carousel-item-next":"carousel-item-prev";V.classList.add(ye),y(V),w.classList.add(_e),V.classList.add(_e),this._queueCallback(()=>{V.classList.remove(_e,ye),V.classList.add(Fi),w.classList.remove(Fi,ye,_e),this._isSliding=!1,Z(ni)},w,this._isAnimated()),ue&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return W.findOne(Qc,this._element)}_getItems(){return W.find(xs,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return x()?u===Ht?St:kt:u===Ht?kt:St}_orderToDirection(u){return x()?u===St?Ht:xt:u===St?xt:Ht}static jQueryInterface(u){return this.each(function(){const p=si.getOrCreateInstance(this,u);if(typeof u!="number"){if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u]()}}else p.to(u)})}}Q.on(document,Gc,"[data-bs-slide], [data-bs-slide-to]",function(v){const u=W.getElementFromSelector(this);if(!u||!u.classList.contains($i))return;v.preventDefault();const p=si.getOrCreateInstance(u),w=this.getAttribute("data-bs-slide-to");return w?(p.to(w),void p._maybeEnableCycle()):Tt.getDataAttribute(this,"slide")==="next"?(p.next(),void p._maybeEnableCycle()):(p.prev(),void p._maybeEnableCycle())}),Q.on(window,Kc,()=>{const v=W.find('[data-bs-ride="carousel"]');for(const u of v)si.getOrCreateInstance(u)}),U(si);const Lt=".bs.collapse",Xc=`show${Lt}`,Nr=`shown${Lt}`,xr=`hide${Lt}`,$d=`hidden${Lt}`,Fd=`click${Lt}.data-api`,Ls="show",Ui="collapse",Fo="collapsing",Uo=`:scope .${Ui} .${Ui}`,jo='[data-bs-toggle="collapse"]',ol={parent:null,toggle:!0},Bo={parent:"(null|element)",toggle:"boolean"};class bn extends ot{constructor(u,p){super(u,p),this._isTransitioning=!1,this._triggerArray=[];const w=W.find(jo);for(const L of w){const V=W.getSelectorFromElement(L),q=W.find(V).filter(Z=>Z===this._element);V!==null&&q.length&&this._triggerArray.push(L)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ol}static get DefaultType(){return Bo}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(L=>L!==this._element).map(L=>bn.getOrCreateInstance(L,{toggle:!1}))),u.length&&u[0]._isTransitioning||Q.trigger(this._element,Xc).defaultPrevented)return;for(const L of u)L.hide();const p=this._getDimension();this._element.classList.remove(Ui),this._element.classList.add(Fo),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const w=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Fo),this._element.classList.add(Ui,Ls),this._element.style[p]="",Q.trigger(this._element,Nr)},this._element,!0),this._element.style[p]=`${this._element[w]}px`}hide(){if(this._isTransitioning||!this._isShown()||Q.trigger(this._element,xr).defaultPrevented)return;const u=this._getDimension();this._element.style[u]=`${this._element.getBoundingClientRect()[u]}px`,y(this._element),this._element.classList.add(Fo),this._element.classList.remove(Ui,Ls);for(const p of this._triggerArray){const w=W.getElementFromSelector(p);w&&!this._isShown(w)&&this._addAriaAndCollapsedClass([p],!1)}this._isTransitioning=!0,this._element.style[u]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Fo),this._element.classList.add(Ui),Q.trigger(this._element,$d)},this._element,!0)}_isShown(u=this._element){return u.classList.contains(Ls)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=c(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(jo);for(const p of u){const w=W.getElementFromSelector(p);w&&this._addAriaAndCollapsedClass([p],this._isShown(w))}}_getFirstLevelChildren(u){const p=W.find(Uo,this._config.parent);return W.find(u,this._config.parent).filter(w=>!p.includes(w))}_addAriaAndCollapsedClass(u,p){if(u.length)for(const w of u)w.classList.toggle("collapsed",!p),w.setAttribute("aria-expanded",p)}static jQueryInterface(u){const p={};return typeof u=="string"&&/show|hide/.test(u)&&(p.toggle=!1),this.each(function(){const w=bn.getOrCreateInstance(this,p);if(typeof u=="string"){if(w[u]===void 0)throw new TypeError(`No method named "${u}"`);w[u]()}})}}Q.on(document,Fd,jo,function(v){(v.target.tagName==="A"||v.delegateTarget&&v.delegateTarget.tagName==="A")&&v.preventDefault();for(const u of W.getMultipleElementsFromSelector(this))bn.getOrCreateInstance(u,{toggle:!1}).toggle()}),U(bn);var Yt="top",hn="bottom",on="right",Wt="left",Lr="auto",ii=[Yt,hn,on,Wt],ri="start",vs="end",al="clippingParents",Vr="viewport",Zn="popper",Vs="reference",Mr=ii.reduce(function(v,u){return v.concat([u+"-"+ri,u+"-"+vs])},[]),ll=[].concat(ii,[Lr]).reduce(function(v,u){return v.concat([u,u+"-"+ri,u+"-"+vs])},[]),cl="beforeRead",ul="read",hl="afterRead",Ho="beforeMain",qo="main",dl="afterMain",fl="beforeWrite",Jc="write",Zc="afterWrite",pl=[cl,ul,hl,Ho,qo,dl,fl,Jc,Zc];function Hn(v){return v?(v.nodeName||"").toLowerCase():null}function wn(v){if(v==null)return window;if(v.toString()!=="[object Window]"){var u=v.ownerDocument;return u&&u.defaultView||window}return v}function Tn(v){return v instanceof wn(v).Element||v instanceof Element}function Dt(v){return v instanceof wn(v).HTMLElement||v instanceof HTMLElement}function ji(v){return typeof ShadowRoot<"u"&&(v instanceof wn(v).ShadowRoot||v instanceof ShadowRoot)}const Bi={name:"applyStyles",enabled:!0,phase:"write",fn:function(v){var u=v.state;Object.keys(u.elements).forEach(function(p){var w=u.styles[p]||{},L=u.attributes[p]||{},V=u.elements[p];Dt(V)&&Hn(V)&&(Object.assign(V.style,w),Object.keys(L).forEach(function(q){var Z=L[q];Z===!1?V.removeAttribute(q):V.setAttribute(q,Z===!0?"":Z)}))})},effect:function(v){var u=v.state,p={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,p.popper),u.styles=p,u.elements.arrow&&Object.assign(u.elements.arrow.style,p.arrow),function(){Object.keys(u.elements).forEach(function(w){var L=u.elements[w],V=u.attributes[w]||{},q=Object.keys(u.styles.hasOwnProperty(w)?u.styles[w]:p[w]).reduce(function(Z,ue){return Z[ue]="",Z},{});Dt(L)&&Hn(L)&&(Object.assign(L.style,q),Object.keys(V).forEach(function(Z){L.removeAttribute(Z)}))})}},requires:["computeStyles"]};function qn(v){return v.split("-")[0]}var tt=Math.max,oi=Math.min,es=Math.round;function ai(){var v=navigator.userAgentData;return v!=null&&v.brands&&Array.isArray(v.brands)?v.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function eu(){return!/^((?!chrome|android).)*safari/i.test(ai())}function li(v,u,p){u===void 0&&(u=!1),p===void 0&&(p=!1);var w=v.getBoundingClientRect(),L=1,V=1;u&&Dt(v)&&(L=v.offsetWidth>0&&es(w.width)/v.offsetWidth||1,V=v.offsetHeight>0&&es(w.height)/v.offsetHeight||1);var q=(Tn(v)?wn(v):window).visualViewport,Z=!eu()&&p,ue=(w.left+(Z&&q?q.offsetLeft:0))/L,_e=(w.top+(Z&&q?q.offsetTop:0))/V,ye=w.width/L,fe=w.height/V;return{width:ye,height:fe,top:_e,right:ue+ye,bottom:_e+fe,left:ue,x:ue,y:_e}}function ml(v){var u=li(v),p=v.offsetWidth,w=v.offsetHeight;return Math.abs(u.width-p)<=1&&(p=u.width),Math.abs(u.height-w)<=1&&(w=u.height),{x:v.offsetLeft,y:v.offsetTop,width:p,height:w}}function tu(v,u){var p=u.getRootNode&&u.getRootNode();if(v.contains(u))return!0;if(p&&ji(p)){var w=u;do{if(w&&v.isSameNode(w))return!0;w=w.parentNode||w.host}while(w)}return!1}function ys(v){return wn(v).getComputedStyle(v)}function Ud(v){return["table","td","th"].indexOf(Hn(v))>=0}function $n(v){return((Tn(v)?v.ownerDocument:v.document)||window.document).documentElement}function Wn(v){return Hn(v)==="html"?v:v.assignedSlot||v.parentNode||(ji(v)?v.host:null)||$n(v)}function gl(v){return Dt(v)&&ys(v).position!=="fixed"?v.offsetParent:null}function Hi(v){for(var u=wn(v),p=gl(v);p&&Ud(p)&&ys(p).position==="static";)p=gl(p);return p&&(Hn(p)==="html"||Hn(p)==="body"&&ys(p).position==="static")?u:p||function(w){var L=/firefox/i.test(ai());if(/Trident/i.test(ai())&&Dt(w)&&ys(w).position==="fixed")return null;var V=Wn(w);for(ji(V)&&(V=V.host);Dt(V)&&["html","body"].indexOf(Hn(V))<0;){var q=ys(V);if(q.transform!=="none"||q.perspective!=="none"||q.contain==="paint"||["transform","perspective"].indexOf(q.willChange)!==-1||L&&q.willChange==="filter"||L&&q.filter&&q.filter!=="none")return V;V=V.parentNode}return null}(v)||u}function Wo(v){return["top","bottom"].indexOf(v)>=0?"x":"y"}function ts(v,u,p){return tt(v,oi(u,p))}function nu(v){return Object.assign({},{top:0,right:0,bottom:0,left:0},v)}function su(v,u){return u.reduce(function(p,w){return p[w]=v,p},{})}const iu={name:"arrow",enabled:!0,phase:"main",fn:function(v){var u,p=v.state,w=v.name,L=v.options,V=p.elements.arrow,q=p.modifiersData.popperOffsets,Z=qn(p.placement),ue=Wo(Z),_e=[Wt,on].indexOf(Z)>=0?"height":"width";if(V&&q){var ye=function(gt,pt){return nu(typeof(gt=typeof gt=="function"?gt(Object.assign({},pt.rects,{placement:pt.placement})):gt)!="number"?gt:su(gt,ii))}(L.padding,p),fe=ml(V),He=ue==="y"?Yt:Wt,Pe=ue==="y"?hn:on,Ve=p.rects.reference[_e]+p.rects.reference[ue]-q[ue]-p.rects.popper[_e],xe=q[ue]-p.rects.reference[ue],Me=Hi(V),mt=Me?ue==="y"?Me.clientHeight||0:Me.clientWidth||0:0,bt=Ve/2-xe/2,Ge=ye[He],at=mt-fe[_e]-ye[Pe],qe=mt/2-fe[_e]/2+bt,Je=ts(Ge,qe,at),ft=ue;p.modifiersData[w]=((u={})[ft]=Je,u.centerOffset=Je-qe,u)}},effect:function(v){var u=v.state,p=v.options.element,w=p===void 0?"[data-popper-arrow]":p;w!=null&&(typeof w!="string"||(w=u.elements.popper.querySelector(w)))&&tu(u.elements.popper,w)&&(u.elements.arrow=w)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function An(v){return v.split("-")[1]}var jd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ru(v){var u,p=v.popper,w=v.popperRect,L=v.placement,V=v.variation,q=v.offsets,Z=v.position,ue=v.gpuAcceleration,_e=v.adaptive,ye=v.roundOffsets,fe=v.isFixed,He=q.x,Pe=He===void 0?0:He,Ve=q.y,xe=Ve===void 0?0:Ve,Me=typeof ye=="function"?ye({x:Pe,y:xe}):{x:Pe,y:xe};Pe=Me.x,xe=Me.y;var mt=q.hasOwnProperty("x"),bt=q.hasOwnProperty("y"),Ge=Wt,at=Yt,qe=window;if(_e){var Je=Hi(p),ft="clientHeight",gt="clientWidth";Je===wn(p)&&ys(Je=$n(p)).position!=="static"&&Z==="absolute"&&(ft="scrollHeight",gt="scrollWidth"),(L===Yt||(L===Wt||L===on)&&V===vs)&&(at=hn,xe-=(fe&&Je===qe&&qe.visualViewport?qe.visualViewport.height:Je[ft])-w.height,xe*=ue?1:-1),L!==Wt&&(L!==Yt&&L!==hn||V!==vs)||(Ge=on,Pe-=(fe&&Je===qe&&qe.visualViewport?qe.visualViewport.width:Je[gt])-w.width,Pe*=ue?1:-1)}var pt,Vt=Object.assign({position:Z},_e&&jd),zn=ye===!0?function(bs,Cn){var ss=bs.x,is=bs.y,Nt=Cn.devicePixelRatio||1;return{x:es(ss*Nt)/Nt||0,y:es(is*Nt)/Nt||0}}({x:Pe,y:xe},wn(p)):{x:Pe,y:xe};return Pe=zn.x,xe=zn.y,ue?Object.assign({},Vt,((pt={})[at]=bt?"0":"",pt[Ge]=mt?"0":"",pt.transform=(qe.devicePixelRatio||1)<=1?"translate("+Pe+"px, "+xe+"px)":"translate3d("+Pe+"px, "+xe+"px, 0)",pt)):Object.assign({},Vt,((u={})[at]=bt?xe+"px":"",u[Ge]=mt?Pe+"px":"",u.transform="",u))}const qi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(v){var u=v.state,p=v.options,w=p.gpuAcceleration,L=w===void 0||w,V=p.adaptive,q=V===void 0||V,Z=p.roundOffsets,ue=Z===void 0||Z,_e={placement:qn(u.placement),variation:An(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:L,isFixed:u.options.strategy==="fixed"};u.modifiersData.popperOffsets!=null&&(u.styles.popper=Object.assign({},u.styles.popper,ru(Object.assign({},_e,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:q,roundOffsets:ue})))),u.modifiersData.arrow!=null&&(u.styles.arrow=Object.assign({},u.styles.arrow,ru(Object.assign({},_e,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ue})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}};var ci={passive:!0};const zo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(v){var u=v.state,p=v.instance,w=v.options,L=w.scroll,V=L===void 0||L,q=w.resize,Z=q===void 0||q,ue=wn(u.elements.popper),_e=[].concat(u.scrollParents.reference,u.scrollParents.popper);return V&&_e.forEach(function(ye){ye.addEventListener("scroll",p.update,ci)}),Z&&ue.addEventListener("resize",p.update,ci),function(){V&&_e.forEach(function(ye){ye.removeEventListener("scroll",p.update,ci)}),Z&&ue.removeEventListener("resize",p.update,ci)}},data:{}};var $r={left:"right",right:"left",bottom:"top",top:"bottom"};function Ms(v){return v.replace(/left|right|bottom|top/g,function(u){return $r[u]})}var ou={start:"end",end:"start"};function Ko(v){return v.replace(/start|end/g,function(u){return ou[u]})}function Et(v){var u=wn(v);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function _l(v){return li($n(v)).left+Et(v).scrollLeft}function vl(v){var u=ys(v),p=u.overflow,w=u.overflowX,L=u.overflowY;return/auto|scroll|overlay|hidden/.test(p+L+w)}function yl(v){return["html","body","#document"].indexOf(Hn(v))>=0?v.ownerDocument.body:Dt(v)&&vl(v)?v:yl(Wn(v))}function Wi(v,u){var p;u===void 0&&(u=[]);var w=yl(v),L=w===((p=v.ownerDocument)==null?void 0:p.body),V=wn(w),q=L?[V].concat(V.visualViewport||[],vl(w)?w:[]):w,Z=u.concat(q);return L?Z:Z.concat(Wi(Wn(q)))}function Go(v){return Object.assign({},v,{left:v.x,top:v.y,right:v.x+v.width,bottom:v.y+v.height})}function Fr(v,u,p){return u===Vr?Go(function(w,L){var V=wn(w),q=$n(w),Z=V.visualViewport,ue=q.clientWidth,_e=q.clientHeight,ye=0,fe=0;if(Z){ue=Z.width,_e=Z.height;var He=eu();(He||!He&&L==="fixed")&&(ye=Z.offsetLeft,fe=Z.offsetTop)}return{width:ue,height:_e,x:ye+_l(w),y:fe}}(v,p)):Tn(u)?function(w,L){var V=li(w,!1,L==="fixed");return V.top=V.top+w.clientTop,V.left=V.left+w.clientLeft,V.bottom=V.top+w.clientHeight,V.right=V.left+w.clientWidth,V.width=w.clientWidth,V.height=w.clientHeight,V.x=V.left,V.y=V.top,V}(u,p):Go(function(w){var L,V=$n(w),q=Et(w),Z=(L=w.ownerDocument)==null?void 0:L.body,ue=tt(V.scrollWidth,V.clientWidth,Z?Z.scrollWidth:0,Z?Z.clientWidth:0),_e=tt(V.scrollHeight,V.clientHeight,Z?Z.scrollHeight:0,Z?Z.clientHeight:0),ye=-q.scrollLeft+_l(w),fe=-q.scrollTop;return ys(Z||V).direction==="rtl"&&(ye+=tt(V.clientWidth,Z?Z.clientWidth:0)-ue),{width:ue,height:_e,x:ye,y:fe}}($n(v)))}function El(v){var u,p=v.reference,w=v.element,L=v.placement,V=L?qn(L):null,q=L?An(L):null,Z=p.x+p.width/2-w.width/2,ue=p.y+p.height/2-w.height/2;switch(V){case Yt:u={x:Z,y:p.y-w.height};break;case hn:u={x:Z,y:p.y+p.height};break;case on:u={x:p.x+p.width,y:ue};break;case Wt:u={x:p.x-w.width,y:ue};break;default:u={x:p.x,y:p.y}}var _e=V?Wo(V):null;if(_e!=null){var ye=_e==="y"?"height":"width";switch(q){case ri:u[_e]=u[_e]-(p[ye]/2-w[ye]/2);break;case vs:u[_e]=u[_e]+(p[ye]/2-w[ye]/2)}}return u}function dn(v,u){u===void 0&&(u={});var p=u,w=p.placement,L=w===void 0?v.placement:w,V=p.strategy,q=V===void 0?v.strategy:V,Z=p.boundary,ue=Z===void 0?al:Z,_e=p.rootBoundary,ye=_e===void 0?Vr:_e,fe=p.elementContext,He=fe===void 0?Zn:fe,Pe=p.altBoundary,Ve=Pe!==void 0&&Pe,xe=p.padding,Me=xe===void 0?0:xe,mt=nu(typeof Me!="number"?Me:su(Me,ii)),bt=He===Zn?Vs:Zn,Ge=v.rects.popper,at=v.elements[Ve?bt:He],qe=function(Cn,ss,is,Nt){var Fs=ss==="clippingParents"?function(_t){var Sn=Wi(Wn(_t)),rs=["absolute","fixed"].indexOf(ys(_t).position)>=0&&Dt(_t)?Hi(_t):_t;return Tn(rs)?Sn.filter(function(Yi){return Tn(Yi)&&tu(Yi,rs)&&Hn(Yi)!=="body"}):[]}(Cn):[].concat(ss),Us=[].concat(Fs,[is]),ta=Us[0],en=Us.reduce(function(_t,Sn){var rs=Fr(Cn,Sn,Nt);return _t.top=tt(rs.top,_t.top),_t.right=oi(rs.right,_t.right),_t.bottom=oi(rs.bottom,_t.bottom),_t.left=tt(rs.left,_t.left),_t},Fr(Cn,ta,Nt));return en.width=en.right-en.left,en.height=en.bottom-en.top,en.x=en.left,en.y=en.top,en}(Tn(at)?at:at.contextElement||$n(v.elements.popper),ue,ye,q),Je=li(v.elements.reference),ft=El({reference:Je,element:Ge,placement:L}),gt=Go(Object.assign({},Ge,ft)),pt=He===Zn?gt:Je,Vt={top:qe.top-pt.top+mt.top,bottom:pt.bottom-qe.bottom+mt.bottom,left:qe.left-pt.left+mt.left,right:pt.right-qe.right+mt.right},zn=v.modifiersData.offset;if(He===Zn&&zn){var bs=zn[L];Object.keys(Vt).forEach(function(Cn){var ss=[on,hn].indexOf(Cn)>=0?1:-1,is=[Yt,hn].indexOf(Cn)>=0?"y":"x";Vt[Cn]+=bs[is]*ss})}return Vt}function au(v,u){u===void 0&&(u={});var p=u,w=p.placement,L=p.boundary,V=p.rootBoundary,q=p.padding,Z=p.flipVariations,ue=p.allowedAutoPlacements,_e=ue===void 0?ll:ue,ye=An(w),fe=ye?Z?Mr:Mr.filter(function(Ve){return An(Ve)===ye}):ii,He=fe.filter(function(Ve){return _e.indexOf(Ve)>=0});He.length===0&&(He=fe);var Pe=He.reduce(function(Ve,xe){return Ve[xe]=dn(v,{placement:xe,boundary:L,rootBoundary:V,padding:q})[qn(xe)],Ve},{});return Object.keys(Pe).sort(function(Ve,xe){return Pe[Ve]-Pe[xe]})}const lu={name:"flip",enabled:!0,phase:"main",fn:function(v){var u=v.state,p=v.options,w=v.name;if(!u.modifiersData[w]._skip){for(var L=p.mainAxis,V=L===void 0||L,q=p.altAxis,Z=q===void 0||q,ue=p.fallbackPlacements,_e=p.padding,ye=p.boundary,fe=p.rootBoundary,He=p.altBoundary,Pe=p.flipVariations,Ve=Pe===void 0||Pe,xe=p.allowedAutoPlacements,Me=u.options.placement,mt=qn(Me),bt=ue||(mt!==Me&&Ve?function(_t){if(qn(_t)===Lr)return[];var Sn=Ms(_t);return[Ko(_t),Sn,Ko(Sn)]}(Me):[Ms(Me)]),Ge=[Me].concat(bt).reduce(function(_t,Sn){return _t.concat(qn(Sn)===Lr?au(u,{placement:Sn,boundary:ye,rootBoundary:fe,padding:_e,flipVariations:Ve,allowedAutoPlacements:xe}):Sn)},[]),at=u.rects.reference,qe=u.rects.popper,Je=new Map,ft=!0,gt=Ge[0],pt=0;pt<Ge.length;pt++){var Vt=Ge[pt],zn=qn(Vt),bs=An(Vt)===ri,Cn=[Yt,hn].indexOf(zn)>=0,ss=Cn?"width":"height",is=dn(u,{placement:Vt,boundary:ye,rootBoundary:fe,altBoundary:He,padding:_e}),Nt=Cn?bs?on:Wt:bs?hn:Yt;at[ss]>qe[ss]&&(Nt=Ms(Nt));var Fs=Ms(Nt),Us=[];if(V&&Us.push(is[zn]<=0),Z&&Us.push(is[Nt]<=0,is[Fs]<=0),Us.every(function(_t){return _t})){gt=Vt,ft=!1;break}Je.set(Vt,Us)}if(ft)for(var ta=function(_t){var Sn=Ge.find(function(rs){var Yi=Je.get(rs);if(Yi)return Yi.slice(0,_t).every(function(yu){return yu})});if(Sn)return gt=Sn,"break"},en=Ve?3:1;en>0&&ta(en)!=="break";en--);u.placement!==gt&&(u.modifiersData[w]._skip=!0,u.placement=gt,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function zi(v,u,p){return p===void 0&&(p={x:0,y:0}),{top:v.top-u.height-p.y,right:v.right-u.width+p.x,bottom:v.bottom-u.height+p.y,left:v.left-u.width-p.x}}function bl(v){return[Yt,on,hn,Wt].some(function(u){return v[u]>=0})}const Qo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(v){var u=v.state,p=v.name,w=u.rects.reference,L=u.rects.popper,V=u.modifiersData.preventOverflow,q=dn(u,{elementContext:"reference"}),Z=dn(u,{altBoundary:!0}),ue=zi(q,w),_e=zi(Z,L,V),ye=bl(ue),fe=bl(_e);u.modifiersData[p]={referenceClippingOffsets:ue,popperEscapeOffsets:_e,isReferenceHidden:ye,hasPopperEscaped:fe},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":ye,"data-popper-escaped":fe})}},Ur={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(v){var u=v.state,p=v.options,w=v.name,L=p.offset,V=L===void 0?[0,0]:L,q=ll.reduce(function(ye,fe){return ye[fe]=function(He,Pe,Ve){var xe=qn(He),Me=[Wt,Yt].indexOf(xe)>=0?-1:1,mt=typeof Ve=="function"?Ve(Object.assign({},Pe,{placement:He})):Ve,bt=mt[0],Ge=mt[1];return bt=bt||0,Ge=(Ge||0)*Me,[Wt,on].indexOf(xe)>=0?{x:Ge,y:bt}:{x:bt,y:Ge}}(fe,u.rects,V),ye},{}),Z=q[u.placement],ue=Z.x,_e=Z.y;u.modifiersData.popperOffsets!=null&&(u.modifiersData.popperOffsets.x+=ue,u.modifiersData.popperOffsets.y+=_e),u.modifiersData[w]=q}},Yo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(v){var u=v.state,p=v.name;u.modifiersData[p]=El({reference:u.rects.reference,element:u.rects.popper,placement:u.placement})},data:{}},jr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(v){var u=v.state,p=v.options,w=v.name,L=p.mainAxis,V=L===void 0||L,q=p.altAxis,Z=q!==void 0&&q,ue=p.boundary,_e=p.rootBoundary,ye=p.altBoundary,fe=p.padding,He=p.tether,Pe=He===void 0||He,Ve=p.tetherOffset,xe=Ve===void 0?0:Ve,Me=dn(u,{boundary:ue,rootBoundary:_e,padding:fe,altBoundary:ye}),mt=qn(u.placement),bt=An(u.placement),Ge=!bt,at=Wo(mt),qe=at==="x"?"y":"x",Je=u.modifiersData.popperOffsets,ft=u.rects.reference,gt=u.rects.popper,pt=typeof xe=="function"?xe(Object.assign({},u.rects,{placement:u.placement})):xe,Vt=typeof pt=="number"?{mainAxis:pt,altAxis:pt}:Object.assign({mainAxis:0,altAxis:0},pt),zn=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,bs={x:0,y:0};if(Je){if(V){var Cn,ss=at==="y"?Yt:Wt,is=at==="y"?hn:on,Nt=at==="y"?"height":"width",Fs=Je[at],Us=Fs+Me[ss],ta=Fs-Me[is],en=Pe?-gt[Nt]/2:0,_t=bt===ri?ft[Nt]:gt[Nt],Sn=bt===ri?-gt[Nt]:-ft[Nt],rs=u.elements.arrow,Yi=Pe&&rs?ml(rs):{width:0,height:0},yu=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Qg=yu[ss],Yg=yu[is],Eu=ts(0,ft[Nt],Yi[Nt]),X0=Ge?ft[Nt]/2-en-Eu-Qg-Vt.mainAxis:_t-Eu-Qg-Vt.mainAxis,J0=Ge?-ft[Nt]/2+en+Eu+Yg+Vt.mainAxis:Sn+Eu+Yg+Vt.mainAxis,Zd=u.elements.arrow&&Hi(u.elements.arrow),Z0=Zd?at==="y"?Zd.clientTop||0:Zd.clientLeft||0:0,Xg=(Cn=zn==null?void 0:zn[at])!=null?Cn:0,eC=Fs+J0-Xg,Jg=ts(Pe?oi(Us,Fs+X0-Xg-Z0):Us,Fs,Pe?tt(ta,eC):ta);Je[at]=Jg,bs[at]=Jg-Fs}if(Z){var Zg,tC=at==="x"?Yt:Wt,nC=at==="x"?hn:on,Yr=Je[qe],bu=qe==="y"?"height":"width",e_=Yr+Me[tC],t_=Yr-Me[nC],ef=[Yt,Wt].indexOf(mt)!==-1,n_=(Zg=zn==null?void 0:zn[qe])!=null?Zg:0,s_=ef?e_:Yr-ft[bu]-gt[bu]-n_+Vt.altAxis,i_=ef?Yr+ft[bu]+gt[bu]-n_-Vt.altAxis:t_,r_=Pe&&ef?function(sC,iC,tf){var o_=ts(sC,iC,tf);return o_>tf?tf:o_}(s_,Yr,i_):ts(Pe?s_:e_,Yr,Pe?i_:t_);Je[qe]=r_,bs[qe]=r_-Yr}u.modifiersData[w]=bs}},requiresIfExists:["offset"]};function Bd(v,u,p){p===void 0&&(p=!1);var w,L,V=Dt(u),q=Dt(u)&&function(fe){var He=fe.getBoundingClientRect(),Pe=es(He.width)/fe.offsetWidth||1,Ve=es(He.height)/fe.offsetHeight||1;return Pe!==1||Ve!==1}(u),Z=$n(u),ue=li(v,q,p),_e={scrollLeft:0,scrollTop:0},ye={x:0,y:0};return(V||!V&&!p)&&((Hn(u)!=="body"||vl(Z))&&(_e=(w=u)!==wn(w)&&Dt(w)?{scrollLeft:(L=w).scrollLeft,scrollTop:L.scrollTop}:Et(w)),Dt(u)?((ye=li(u,!0)).x+=u.clientLeft,ye.y+=u.clientTop):Z&&(ye.x=_l(Z))),{x:ue.left+_e.scrollLeft-ye.x,y:ue.top+_e.scrollTop-ye.y,width:ue.width,height:ue.height}}function cu(v){var u=new Map,p=new Set,w=[];function L(V){p.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function(q){if(!p.has(q)){var Z=u.get(q);Z&&L(Z)}}),w.push(V)}return v.forEach(function(V){u.set(V.name,V)}),v.forEach(function(V){p.has(V.name)||L(V)}),w}var Ki={placement:"bottom",modifiers:[],strategy:"absolute"};function wl(){for(var v=arguments.length,u=new Array(v),p=0;p<v;p++)u[p]=arguments[p];return!u.some(function(w){return!(w&&typeof w.getBoundingClientRect=="function")})}function Br(v){v===void 0&&(v={});var u=v,p=u.defaultModifiers,w=p===void 0?[]:p,L=u.defaultOptions,V=L===void 0?Ki:L;return function(q,Z,ue){ue===void 0&&(ue=V);var _e,ye,fe={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ki,V),modifiersData:{},elements:{reference:q,popper:Z},attributes:{},styles:{}},He=[],Pe=!1,Ve={state:fe,setOptions:function(Me){var mt=typeof Me=="function"?Me(fe.options):Me;xe(),fe.options=Object.assign({},V,fe.options,mt),fe.scrollParents={reference:Tn(q)?Wi(q):q.contextElement?Wi(q.contextElement):[],popper:Wi(Z)};var bt,Ge,at=function(qe){var Je=cu(qe);return pl.reduce(function(ft,gt){return ft.concat(Je.filter(function(pt){return pt.phase===gt}))},[])}((bt=[].concat(w,fe.options.modifiers),Ge=bt.reduce(function(qe,Je){var ft=qe[Je.name];return qe[Je.name]=ft?Object.assign({},ft,Je,{options:Object.assign({},ft.options,Je.options),data:Object.assign({},ft.data,Je.data)}):Je,qe},{}),Object.keys(Ge).map(function(qe){return Ge[qe]})));return fe.orderedModifiers=at.filter(function(qe){return qe.enabled}),fe.orderedModifiers.forEach(function(qe){var Je=qe.name,ft=qe.options,gt=ft===void 0?{}:ft,pt=qe.effect;if(typeof pt=="function"){var Vt=pt({state:fe,name:Je,instance:Ve,options:gt});He.push(Vt||function(){})}}),Ve.update()},forceUpdate:function(){if(!Pe){var Me=fe.elements,mt=Me.reference,bt=Me.popper;if(wl(mt,bt)){fe.rects={reference:Bd(mt,Hi(bt),fe.options.strategy==="fixed"),popper:ml(bt)},fe.reset=!1,fe.placement=fe.options.placement,fe.orderedModifiers.forEach(function(pt){return fe.modifiersData[pt.name]=Object.assign({},pt.data)});for(var Ge=0;Ge<fe.orderedModifiers.length;Ge++)if(fe.reset!==!0){var at=fe.orderedModifiers[Ge],qe=at.fn,Je=at.options,ft=Je===void 0?{}:Je,gt=at.name;typeof qe=="function"&&(fe=qe({state:fe,options:ft,name:gt,instance:Ve})||fe)}else fe.reset=!1,Ge=-1}}},update:(_e=function(){return new Promise(function(Me){Ve.forceUpdate(),Me(fe)})},function(){return ye||(ye=new Promise(function(Me){Promise.resolve().then(function(){ye=void 0,Me(_e())})})),ye}),destroy:function(){xe(),Pe=!0}};if(!wl(q,Z))return Ve;function xe(){He.forEach(function(Me){return Me()}),He=[]}return Ve.setOptions(ue).then(function(Me){!Pe&&ue.onFirstUpdate&&ue.onFirstUpdate(Me)}),Ve}}var Tl=Br(),Al=Br({defaultModifiers:[zo,Yo,qi,Bi]}),Xo=Br({defaultModifiers:[zo,Yo,qi,Bi,Ur,lu,jr,iu,Qo]});const Hr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:dl,afterRead:hl,afterWrite:Zc,applyStyles:Bi,arrow:iu,auto:Lr,basePlacements:ii,beforeMain:Ho,beforeRead:cl,beforeWrite:fl,bottom:hn,clippingParents:al,computeStyles:qi,createPopper:Xo,createPopperBase:Tl,createPopperLite:Al,detectOverflow:dn,end:vs,eventListeners:zo,flip:lu,hide:Qo,left:Wt,main:qo,modifierPhases:pl,offset:Ur,placements:ll,popper:Zn,popperGenerator:Br,popperOffsets:Yo,preventOverflow:jr,read:ul,reference:Vs,right:on,start:ri,top:Yt,variationPlacements:Mr,viewport:Vr,write:Jc},Symbol.toStringTag,{value:"Module"})),Il="dropdown",$s=".bs.dropdown",Es=".data-api",uu="ArrowUp",Cl="ArrowDown",hu=`hide${$s}`,du=`hidden${$s}`,Jo=`show${$s}`,In=`shown${$s}`,Sl=`click${$s}${Es}`,Rl=`keydown${$s}${Es}`,Gi=`keyup${$s}${Es}`,a="show",f='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',g=`${f}.${a}`,T=".dropdown-menu",$=x()?"top-end":"top-start",B=x()?"top-start":"top-end",ce=x()?"bottom-end":"bottom-start",dt=x()?"bottom-start":"bottom-end",zt=x()?"left-start":"right-start",Ze=x()?"right-start":"left-start",Xt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Jt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Zt extends ot{constructor(u,p){super(u,p),this._popper=null,this._parent=this._element.parentNode,this._menu=W.next(this._element,T)[0]||W.prev(this._element,T)[0]||W.findOne(T,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Xt}static get DefaultType(){return Jt}static get NAME(){return Il}toggle(){return this._isShown()?this.hide():this.show()}show(){if(h(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!Q.trigger(this._element,Jo,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))Q.on(p,"mouseover",_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(a),this._element.classList.add(a),Q.trigger(this._element,In,u)}}hide(){if(h(this._element)||!this._isShown())return;const u={relatedTarget:this._element};this._completeHide(u)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!Q.trigger(this._element,hu,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))Q.off(p,"mouseover",_);this._popper&&this._popper.destroy(),this._menu.classList.remove(a),this._element.classList.remove(a),this._element.setAttribute("aria-expanded","false"),Tt.removeDataAttribute(this._menu,"popper"),Q.trigger(this._element,du,u),this._element.focus()}}_getConfig(u){if(typeof(u=super._getConfig(u)).reference=="object"&&!l(u.reference)&&typeof u.reference.getBoundingClientRect!="function")throw new TypeError(`${Il.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(Hr===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let u=this._element;this._config.reference==="parent"?u=this._parent:l(this._config.reference)?u=c(this._config.reference):typeof this._config.reference=="object"&&(u=this._config.reference);const p=this._getPopperConfig();this._popper=Xo(u,this._menu,p)}_isShown(){return this._menu.classList.contains(a)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return zt;if(u.classList.contains("dropstart"))return Ze;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const p=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return u.classList.contains("dropup")?p?B:$:p?dt:ce}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(p=>Number.parseInt(p,10)):typeof u=="function"?p=>u(p,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Tt.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...F(this._config.popperConfig,[void 0,u])}}_selectMenuItem({key:u,target:p}){const w=W.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(L=>d(L));w.length&&j(w,p,u===Cl,!w.includes(p)).focus()}static jQueryInterface(u){return this.each(function(){const p=Zt.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u]()}})}static clearMenus(u){if(u.button===2||u.type==="keyup"&&u.key!=="Tab")return;const p=W.find(g);for(const w of p){const L=Zt.getInstance(w);if(!L||L._config.autoClose===!1)continue;const V=u.composedPath(),q=V.includes(L._menu);if(V.includes(L._element)||L._config.autoClose==="inside"&&!q||L._config.autoClose==="outside"&&q||L._menu.contains(u.target)&&(u.type==="keyup"&&u.key==="Tab"||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const Z={relatedTarget:L._element};u.type==="click"&&(Z.clickEvent=u),L._completeHide(Z)}}static dataApiKeydownHandler(u){const p=/input|textarea/i.test(u.target.tagName),w=u.key==="Escape",L=[uu,Cl].includes(u.key);if(!L&&!w||p&&!w)return;u.preventDefault();const V=this.matches(f)?this:W.prev(this,f)[0]||W.next(this,f)[0]||W.findOne(f,u.delegateTarget.parentNode),q=Zt.getOrCreateInstance(V);if(L)return u.stopPropagation(),q.show(),void q._selectMenuItem(u);q._isShown()&&(u.stopPropagation(),q.hide(),V.focus())}}Q.on(document,Rl,f,Zt.dataApiKeydownHandler),Q.on(document,Rl,T,Zt.dataApiKeydownHandler),Q.on(document,Sl,Zt.clearMenus),Q.on(document,Gi,Zt.clearMenus),Q.on(document,Sl,f,function(v){v.preventDefault(),Zt.getOrCreateInstance(this).toggle()}),U(Zt);const Fn="backdrop",qr="show",Zo=`mousedown.bs.${Fn}`,FI={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},UI={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Eg extends At{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return FI}static get DefaultType(){return UI}static get NAME(){return Fn}show(u){if(!this._config.isVisible)return void F(u);this._append();const p=this._getElement();this._config.isAnimated&&y(p),p.classList.add(qr),this._emulateAnimation(()=>{F(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove(qr),this._emulateAnimation(()=>{this.dispose(),F(u)})):F(u)}dispose(){this._isAppended&&(Q.off(this._element,Zo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=c(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),Q.on(u,Zo,()=>{F(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){H(u,this._getElement(),this._config.isAnimated)}}const fu=".bs.focustrap",jI=`focusin${fu}`,BI=`keydown.tab${fu}`,bg="backward",HI={autofocus:!0,trapElement:null},qI={autofocus:"boolean",trapElement:"element"};class wg extends At{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return HI}static get DefaultType(){return qI}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Q.off(document,fu),Q.on(document,jI,u=>this._handleFocusin(u)),Q.on(document,BI,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Q.off(document,fu))}_handleFocusin(u){const{trapElement:p}=this._config;if(u.target===document||u.target===p||p.contains(u.target))return;const w=W.focusableChildren(p);w.length===0?p.focus():this._lastTabNavDirection===bg?w[w.length-1].focus():w[0].focus()}_handleKeydown(u){u.key==="Tab"&&(this._lastTabNavDirection=u.shiftKey?bg:"forward")}}const Tg=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ag=".sticky-top",pu="padding-right",Ig="margin-right";class Hd{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,pu,p=>p+u),this._setElementAttributes(Tg,pu,p=>p+u),this._setElementAttributes(Ag,Ig,p=>p-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,pu),this._resetElementAttributes(Tg,pu),this._resetElementAttributes(Ag,Ig)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,p,w){const L=this.getWidth();this._applyManipulationCallback(u,V=>{if(V!==this._element&&window.innerWidth>V.clientWidth+L)return;this._saveInitialAttribute(V,p);const q=window.getComputedStyle(V).getPropertyValue(p);V.style.setProperty(p,`${w(Number.parseFloat(q))}px`)})}_saveInitialAttribute(u,p){const w=u.style.getPropertyValue(p);w&&Tt.setDataAttribute(u,p,w)}_resetElementAttributes(u,p){this._applyManipulationCallback(u,w=>{const L=Tt.getDataAttribute(w,p);L!==null?(Tt.removeDataAttribute(w,p),w.style.setProperty(p,L)):w.style.removeProperty(p)})}_applyManipulationCallback(u,p){if(l(u))p(u);else for(const w of W.find(u,this._element))p(w)}}const ns=".bs.modal",WI=`hide${ns}`,zI=`hidePrevented${ns}`,Cg=`hidden${ns}`,Sg=`show${ns}`,KI=`shown${ns}`,GI=`resize${ns}`,QI=`click.dismiss${ns}`,YI=`mousedown.dismiss${ns}`,XI=`keydown.dismiss${ns}`,JI=`click${ns}.data-api`,Rg="modal-open",Pg="show",qd="modal-static",ZI={backdrop:!0,focus:!0,keyboard:!0},e0={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Wr extends ot{constructor(u,p){super(u,p),this._dialog=W.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Hd,this._addEventListeners()}static get Default(){return ZI}static get DefaultType(){return e0}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||Q.trigger(this._element,Sg,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Rg),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){this._isShown&&!this._isTransitioning&&(Q.trigger(this._element,WI).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Pg),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Q.off(window,ns),Q.off(this._dialog,ns),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Eg({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new wg({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const p=W.findOne(".modal-body",this._dialog);p&&(p.scrollTop=0),y(this._element),this._element.classList.add(Pg),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Q.trigger(this._element,KI,{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){Q.on(this._element,XI,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),Q.on(window,GI,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Q.on(this._element,YI,u=>{Q.one(this._element,QI,p=>{this._element===u.target&&this._element===p.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Rg),this._resetAdjustments(),this._scrollBar.reset(),Q.trigger(this._element,Cg)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Q.trigger(this._element,zI).defaultPrevented)return;const u=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;p==="hidden"||this._element.classList.contains(qd)||(u||(this._element.style.overflowY="hidden"),this._element.classList.add(qd),this._queueCallback(()=>{this._element.classList.remove(qd),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,p=this._scrollBar.getWidth(),w=p>0;if(w&&!u){const L=x()?"paddingLeft":"paddingRight";this._element.style[L]=`${p}px`}if(!w&&u){const L=x()?"paddingRight":"paddingLeft";this._element.style[L]=`${p}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,p){return this.each(function(){const w=Wr.getOrCreateInstance(this,u);if(typeof u=="string"){if(w[u]===void 0)throw new TypeError(`No method named "${u}"`);w[u](p)}})}}Q.on(document,JI,'[data-bs-toggle="modal"]',function(v){const u=W.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&v.preventDefault(),Q.one(u,Sg,w=>{w.defaultPrevented||Q.one(u,Cg,()=>{d(this)&&this.focus()})});const p=W.findOne(".modal.show");p&&Wr.getInstance(p).hide(),Wr.getOrCreateInstance(u).toggle(this)}),le(Wr),U(Wr);const ui=".bs.offcanvas",Og=".data-api",t0=`load${ui}${Og}`,kg="show",Dg="showing",Ng="hiding",xg=".offcanvas.show",n0=`show${ui}`,s0=`shown${ui}`,i0=`hide${ui}`,Lg=`hidePrevented${ui}`,Vg=`hidden${ui}`,r0=`resize${ui}`,o0=`click${ui}${Og}`,a0=`keydown.dismiss${ui}`,l0={backdrop:!0,keyboard:!0,scroll:!1},c0={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class hi extends ot{constructor(u,p){super(u,p),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return l0}static get DefaultType(){return c0}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||Q.trigger(this._element,n0,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Hd().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Dg),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(kg),this._element.classList.remove(Dg),Q.trigger(this._element,s0,{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&(Q.trigger(this._element,i0).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ng),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(kg,Ng),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Hd().reset(),Q.trigger(this._element,Vg)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const u=!!this._config.backdrop;return new Eg({className:"offcanvas-backdrop",isVisible:u,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:u?()=>{this._config.backdrop!=="static"?this.hide():Q.trigger(this._element,Lg)}:null})}_initializeFocusTrap(){return new wg({trapElement:this._element})}_addEventListeners(){Q.on(this._element,a0,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():Q.trigger(this._element,Lg))})}static jQueryInterface(u){return this.each(function(){const p=hi.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u](this)}})}}Q.on(document,o0,'[data-bs-toggle="offcanvas"]',function(v){const u=W.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&v.preventDefault(),h(this))return;Q.one(u,Vg,()=>{d(this)&&this.focus()});const p=W.findOne(xg);p&&p!==u&&hi.getInstance(p).hide(),hi.getOrCreateInstance(u).toggle(this)}),Q.on(window,t0,()=>{for(const v of W.find(xg))hi.getOrCreateInstance(v).show()}),Q.on(window,r0,()=>{for(const v of W.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(v).position!=="fixed"&&hi.getOrCreateInstance(v).hide()}),le(hi),U(hi);const Mg={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},u0=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),h0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,d0=(v,u)=>{const p=v.nodeName.toLowerCase();return u.includes(p)?!u0.has(p)||!!h0.test(v.nodeValue):u.filter(w=>w instanceof RegExp).some(w=>w.test(p))},f0={allowList:Mg,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},p0={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},m0={entry:"(string|element|function|null)",selector:"(string|element)"};class g0 extends At{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return f0}static get DefaultType(){return p0}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[L,V]of Object.entries(this._config.content))this._setContent(u,V,L);const p=u.children[0],w=this._resolvePossibleFunction(this._config.extraClass);return w&&p.classList.add(...w.split(" ")),p}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[p,w]of Object.entries(u))super._typeCheckConfig({selector:p,entry:w},m0)}_setContent(u,p,w){const L=W.findOne(w,u);L&&((p=this._resolvePossibleFunction(p))?l(p)?this._putElementInTemplate(c(p),L):this._config.html?L.innerHTML=this._maybeSanitize(p):L.textContent=p:L.remove())}_maybeSanitize(u){return this._config.sanitize?function(p,w,L){if(!p.length)return p;if(L&&typeof L=="function")return L(p);const V=new window.DOMParser().parseFromString(p,"text/html"),q=[].concat(...V.body.querySelectorAll("*"));for(const Z of q){const ue=Z.nodeName.toLowerCase();if(!Object.keys(w).includes(ue)){Z.remove();continue}const _e=[].concat(...Z.attributes),ye=[].concat(w["*"]||[],w[ue]||[]);for(const fe of _e)d0(fe,ye)||Z.removeAttribute(fe.nodeName)}return V.body.innerHTML}(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return F(u,[void 0,this])}_putElementInTemplate(u,p){if(this._config.html)return p.innerHTML="",void p.append(u);p.textContent=u.textContent}}const _0=new Set(["sanitize","allowList","sanitizeFn"]),Wd="fade",mu="show",v0=".tooltip-inner",$g=".modal",Fg="hide.bs.modal",Pl="hover",zd="focus",y0={AUTO:"auto",TOP:"top",RIGHT:x()?"left":"right",BOTTOM:"bottom",LEFT:x()?"right":"left"},E0={allowList:Mg,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},b0={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class zr extends ot{constructor(u,p){if(Hr===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(u,p),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return E0}static get DefaultType(){return b0}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Q.off(this._element.closest($g),Fg,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=Q.trigger(this._element,this.constructor.eventName("show")),p=(m(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!p)return;this._disposePopper();const w=this._getTipElement();this._element.setAttribute("aria-describedby",w.getAttribute("id"));const{container:L}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(L.append(w),Q.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(w),w.classList.add(mu),"ontouchstart"in document.documentElement)for(const V of[].concat(...document.body.children))Q.on(V,"mouseover",_);this._queueCallback(()=>{Q.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Q.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(mu),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))Q.off(u,"mouseover",_);this._activeTrigger.click=!1,this._activeTrigger[zd]=!1,this._activeTrigger[Pl]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Q.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const p=this._getTemplateFactory(u).toHtml();if(!p)return null;p.classList.remove(Wd,mu),p.classList.add(`bs-${this.constructor.NAME}-auto`);const w=(L=>{do L+=Math.floor(1e6*Math.random());while(document.getElementById(L));return L})(this.constructor.NAME).toString();return p.setAttribute("id",w),this._isAnimated()&&p.classList.add(Wd),p}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new g0({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[v0]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Wd)}_isShown(){return this.tip&&this.tip.classList.contains(mu)}_createPopper(u){const p=F(this._config.placement,[this,u,this._element]),w=y0[p.toUpperCase()];return Xo(this._element,u,this._getPopperConfig(w))}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(p=>Number.parseInt(p,10)):typeof u=="function"?p=>u(p,this._element):u}_resolvePossibleFunction(u){return F(u,[this._element,this._element])}_getPopperConfig(u){const p={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:w=>{this._getTipElement().setAttribute("data-popper-placement",w.state.placement)}}]};return{...p,...F(this._config.popperConfig,[void 0,p])}}_setListeners(){const u=this._config.trigger.split(" ");for(const p of u)if(p==="click")Q.on(this._element,this.constructor.eventName("click"),this._config.selector,w=>{this._initializeOnDelegatedTarget(w).toggle()});else if(p!=="manual"){const w=p===Pl?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),L=p===Pl?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Q.on(this._element,w,this._config.selector,V=>{const q=this._initializeOnDelegatedTarget(V);q._activeTrigger[V.type==="focusin"?zd:Pl]=!0,q._enter()}),Q.on(this._element,L,this._config.selector,V=>{const q=this._initializeOnDelegatedTarget(V);q._activeTrigger[V.type==="focusout"?zd:Pl]=q._element.contains(V.relatedTarget),q._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Q.on(this._element.closest($g),Fg,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,p){clearTimeout(this._timeout),this._timeout=setTimeout(u,p)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const p=Tt.getDataAttributes(this._element);for(const w of Object.keys(p))_0.has(w)&&delete p[w];return u={...p,...typeof u=="object"&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=u.container===!1?document.body:c(u.container),typeof u.delay=="number"&&(u.delay={show:u.delay,hide:u.delay}),typeof u.title=="number"&&(u.title=u.title.toString()),typeof u.content=="number"&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[p,w]of Object.entries(this._config))this.constructor.Default[p]!==w&&(u[p]=w);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const p=zr.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u]()}})}}U(zr);const w0=".popover-header",T0=".popover-body",A0={...zr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},I0={...zr.DefaultType,content:"(null|string|element|function)"};class gu extends zr{static get Default(){return A0}static get DefaultType(){return I0}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[w0]:this._getTitle(),[T0]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const p=gu.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u]()}})}}U(gu);const Kd=".bs.scrollspy",C0=`activate${Kd}`,Ug=`click${Kd}`,S0=`load${Kd}.data-api`,ea="active",Gd="[href]",jg=".nav-link",R0=`${jg}, .nav-item > ${jg}, .list-group-item`,P0={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},O0={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ol extends ot{constructor(u,p){super(u,p),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return P0}static get DefaultType(){return O0}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=c(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,typeof u.threshold=="string"&&(u.threshold=u.threshold.split(",").map(p=>Number.parseFloat(p))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Q.off(this._config.target,Ug),Q.on(this._config.target,Ug,Gd,u=>{const p=this._observableSections.get(u.target.hash);if(p){u.preventDefault();const w=this._rootElement||window,L=p.offsetTop-this._element.offsetTop;if(w.scrollTo)return void w.scrollTo({top:L,behavior:"smooth"});w.scrollTop=L}}))}_getNewObserver(){const u={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(p=>this._observerCallback(p),u)}_observerCallback(u){const p=q=>this._targetLinks.get(`#${q.target.id}`),w=q=>{this._previousScrollData.visibleEntryTop=q.target.offsetTop,this._process(p(q))},L=(this._rootElement||document.documentElement).scrollTop,V=L>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=L;for(const q of u){if(!q.isIntersecting){this._activeTarget=null,this._clearActiveClass(p(q));continue}const Z=q.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(V&&Z){if(w(q),!L)return}else V||Z||w(q)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=W.find(Gd,this._config.target);for(const p of u){if(!p.hash||h(p))continue;const w=W.findOne(decodeURI(p.hash),this._element);d(w)&&(this._targetLinks.set(decodeURI(p.hash),p),this._observableSections.set(p.hash,w))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(ea),this._activateParents(u),Q.trigger(this._element,C0,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))W.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(ea);else for(const p of W.parents(u,".nav, .list-group"))for(const w of W.prev(p,R0))w.classList.add(ea)}_clearActiveClass(u){u.classList.remove(ea);const p=W.find(`${Gd}.${ea}`,u);for(const w of p)w.classList.remove(ea)}static jQueryInterface(u){return this.each(function(){const p=Ol.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u]()}})}}Q.on(window,S0,()=>{for(const v of W.find('[data-bs-spy="scroll"]'))Ol.getOrCreateInstance(v)}),U(Ol);const Kr=".bs.tab",k0=`hide${Kr}`,D0=`hidden${Kr}`,N0=`show${Kr}`,x0=`shown${Kr}`,L0=`click${Kr}`,V0=`keydown${Kr}`,M0=`load${Kr}`,$0="ArrowLeft",Bg="ArrowRight",F0="ArrowUp",Hg="ArrowDown",Qd="Home",qg="End",Gr="active",Wg="fade",Yd="show",zg=".dropdown-toggle",Xd=`:not(${zg})`,Kg='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Jd=`.nav-link${Xd}, .list-group-item${Xd}, [role="tab"]${Xd}, ${Kg}`,U0=`.${Gr}[data-bs-toggle="tab"], .${Gr}[data-bs-toggle="pill"], .${Gr}[data-bs-toggle="list"]`;class Qr extends ot{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Q.on(this._element,V0,p=>this._keydown(p)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const p=this._getActiveElem(),w=p?Q.trigger(p,k0,{relatedTarget:u}):null;Q.trigger(u,N0,{relatedTarget:p}).defaultPrevented||w&&w.defaultPrevented||(this._deactivate(p,u),this._activate(u,p))}_activate(u,p){u&&(u.classList.add(Gr),this._activate(W.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),Q.trigger(u,x0,{relatedTarget:p})):u.classList.add(Yd)},u,u.classList.contains(Wg)))}_deactivate(u,p){u&&(u.classList.remove(Gr),u.blur(),this._deactivate(W.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),Q.trigger(u,D0,{relatedTarget:p})):u.classList.remove(Yd)},u,u.classList.contains(Wg)))}_keydown(u){if(![$0,Bg,F0,Hg,Qd,qg].includes(u.key))return;u.stopPropagation(),u.preventDefault();const p=this._getChildren().filter(L=>!h(L));let w;if([Qd,qg].includes(u.key))w=p[u.key===Qd?0:p.length-1];else{const L=[Bg,Hg].includes(u.key);w=j(p,u.target,L,!0)}w&&(w.focus({preventScroll:!0}),Qr.getOrCreateInstance(w).show())}_getChildren(){return W.find(Jd,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,p){this._setAttributeIfNotExists(u,"role","tablist");for(const w of p)this._setInitialAttributesOnChild(w)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const p=this._elemIsActive(u),w=this._getOuterElement(u);u.setAttribute("aria-selected",p),w!==u&&this._setAttributeIfNotExists(w,"role","presentation"),p||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const p=W.getElementFromSelector(u);p&&(this._setAttributeIfNotExists(p,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(p,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,p){const w=this._getOuterElement(u);if(!w.classList.contains("dropdown"))return;const L=(V,q)=>{const Z=W.findOne(V,w);Z&&Z.classList.toggle(q,p)};L(zg,Gr),L(".dropdown-menu",Yd),w.setAttribute("aria-expanded",p)}_setAttributeIfNotExists(u,p,w){u.hasAttribute(p)||u.setAttribute(p,w)}_elemIsActive(u){return u.classList.contains(Gr)}_getInnerElement(u){return u.matches(Jd)?u:W.findOne(Jd,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const p=Qr.getOrCreateInstance(this);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u]()}})}}Q.on(document,L0,Kg,function(v){["A","AREA"].includes(this.tagName)&&v.preventDefault(),h(this)||Qr.getOrCreateInstance(this).show()}),Q.on(window,M0,()=>{for(const v of W.find(U0))Qr.getOrCreateInstance(v)}),U(Qr);const Qi=".bs.toast",j0=`mouseover${Qi}`,B0=`mouseout${Qi}`,H0=`focusin${Qi}`,q0=`focusout${Qi}`,W0=`hide${Qi}`,z0=`hidden${Qi}`,K0=`show${Qi}`,G0=`shown${Qi}`,Gg="hide",_u="show",vu="showing",Q0={animation:"boolean",autohide:"boolean",delay:"number"},Y0={animation:!0,autohide:!0,delay:5e3};class kl extends ot{constructor(u,p){super(u,p),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Y0}static get DefaultType(){return Q0}static get NAME(){return"toast"}show(){Q.trigger(this._element,K0).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Gg),y(this._element),this._element.classList.add(_u,vu),this._queueCallback(()=>{this._element.classList.remove(vu),Q.trigger(this._element,G0),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Q.trigger(this._element,W0).defaultPrevented||(this._element.classList.add(vu),this._queueCallback(()=>{this._element.classList.add(Gg),this._element.classList.remove(vu,_u),Q.trigger(this._element,z0)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(_u),super.dispose()}isShown(){return this._element.classList.contains(_u)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,p){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=p;break;case"focusin":case"focusout":this._hasKeyboardInteraction=p}if(p)return void this._clearTimeout();const w=u.relatedTarget;this._element===w||this._element.contains(w)||this._maybeScheduleHide()}_setListeners(){Q.on(this._element,j0,u=>this._onInteraction(u,!0)),Q.on(this._element,B0,u=>this._onInteraction(u,!1)),Q.on(this._element,H0,u=>this._onInteraction(u,!0)),Q.on(this._element,q0,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const p=kl.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u](this)}})}}return le(kl),U(kl),{Alert:O,Button:K,Carousel:si,Collapse:bn,Dropdown:Zt,Modal:Wr,Offcanvas:hi,Popover:gu,ScrollSpy:Ol,Tab:Qr,Toast:kl,Tooltip:zr}})}(th)),th.exports}$V();const FV={props:{text:{type:String,required:!0},maxLength:{type:Number,default:100}},computed:{truncatedText(){return this.text.length<=this.maxLength?this.text:this.text.slice(0,this.maxLength).trim()+"..."}}};function UV(t,e,n,s,i,r){return re(),ae("div",null,[E("p",null,we(r.truncatedText),1)])}const VA=En(FV,[["render",UV]]),jV={class:"container-fluid py-2 commentaires"},BV={class:"font-weight-light"},HV={class:"media-scroller snaps-inline comms",id:"commentairesIn"},qV={class:"comm-card"},WV={class:"small"},zV={class:"user"},KV=["src","alt"],GV={class:"username"},QV={class:"stars"},YV={__name:"Comments",setup(t){const e=je([{id:1,username:"xXDarkSasukeDu44Xx",picture:"/assets/img/gtavi.png",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"1"},{id:2,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"2"},{id:3,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"},{id:4,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"5"},{id:5,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"},{id:6,username:"xXDarkSasukeDu44Xx",picture:"",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, placeat omnis nostrum facilis ex minima est veniam quibusdam unde dolorum. Fugiat voluptatem iure veritatis sapiente perspiciatis. Suscipit dignissimos neque debitis.",rating:"3"}]);return(n,s)=>(re(),ae("div",jV,[E("h2",BV,we(e.value.length)+" Commentaires :",1),E("div",null,[E("ul",HV,[(re(!0),ae(Qe,null,Kt(e.value,i=>(re(),ae("li",{key:i.id},[E("div",qV,[E("div",WV,[E("div",zV,[E("img",{src:i.picture,alt:i.username},null,8,KV),E("h3",GV,we(i.username),1)]),E("div",QV,[(re(),ae(Qe,null,Kt(5,(r,o)=>E("span",{key:o},we(o<i.rating?"★":"☆"),1)),64))])]),s[0]||(s[0]=E("div",{class:"texte"},null,-1)),E("h4",null,[Te(VA,{text:i.text,maxLength:80},null,8,["text"])]),s[1]||(s[1]=E("h2",null,null,-1))])]))),128))])])]))}},XV=En(YV,[["__scopeId","data-v-410a89e0"]]),JV={class:"container-fluid py-2"},ZV={class:"media-scroller snaps-inline"},eM={class:"game-card mt-4 mb-5"},tM=["href"],nM=["src","alt"],sM={class:"game-text"},iM={class:"titre"},rM={class:"prix"},oM={__name:"Promo",setup(t){const e=je([]),n=async()=>{const s=Qa(Vn,"games"),i=Ya(s,bo("featured","==",!0),XT(3));try{const r=await Xa(i);e.value=[],r.forEach(o=>{const l=o.data();e.value.push({id:o.id,titre:l.name,link:l.link,image:l.image,price:`${l.price}€`})})}catch(r){console.error("Erreur lors de la récupération des jeux :",r)}};return fs(()=>{n()}),console.log("Résultat Firestore:",e.value),(s,i)=>(re(),ae("div",JV,[i[1]||(i[1]=E("h2",{class:"font-weight-light"},"Les jeux de la semaine",-1)),E("div",null,[E("ul",ZV,[(re(!0),ae(Qe,null,Kt(e.value,r=>(re(),ae("li",{key:r.id},[E("div",eM,[E("a",{href:r.link},[E("img",{src:`/assets/img/preview/${r.image}`,alt:r.titre},null,8,nM)],8,tM),E("div",sM,[E("h3",iM,we(r.titre)+" :",1),E("h3",rM,we(r.price),1)]),i[0]||(i[0]=E("h2",null,null,-1))])]))),128))])])]))}},aM=En(oM,[["__scopeId","data-v-9d619668"]]);var xn="top",Yn="bottom",Xn="right",Ln="left",Od="auto",el=[xn,Yn,Xn,Ln],Ao="start",Va="end",MA="clippingParents",eg="viewport",da="popper",$A="reference",Op=el.reduce(function(t,e){return t.concat([e+"-"+Ao,e+"-"+Va])},[]),tg=[].concat(el,[Od]).reduce(function(t,e){return t.concat([e,e+"-"+Ao,e+"-"+Va])},[]),FA="beforeRead",UA="read",jA="afterRead",BA="beforeMain",HA="main",qA="afterMain",WA="beforeWrite",zA="write",KA="afterWrite",GA=[FA,UA,jA,BA,HA,qA,WA,zA,KA];function ei(t){return t?(t.nodeName||"").toLowerCase():null}function Jn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Io(t){var e=Jn(t).Element;return t instanceof e||t instanceof Element}function hs(t){var e=Jn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ng(t){if(typeof ShadowRoot>"u")return!1;var e=Jn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function lM(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},i=e.attributes[n]||{},r=e.elements[n];!hs(r)||!ei(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(o){var l=i[o];l===!1?r.removeAttribute(o):r.setAttribute(o,l===!0?"":l)}))})}function cM(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var i=e.elements[s],r=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),l=o.reduce(function(c,d){return c[d]="",c},{});!hs(i)||!ei(i)||(Object.assign(i.style,l),Object.keys(r).forEach(function(c){i.removeAttribute(c)}))})}}const sg={name:"applyStyles",enabled:!0,phase:"write",fn:lM,effect:cM,requires:["computeStyles"]};function Xs(t){return t.split("-")[0]}var po=Math.max,Fh=Math.min,Ma=Math.round;function kp(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function QA(){return!/^((?!chrome|android).)*safari/i.test(kp())}function $a(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),i=1,r=1;e&&hs(t)&&(i=t.offsetWidth>0&&Ma(s.width)/t.offsetWidth||1,r=t.offsetHeight>0&&Ma(s.height)/t.offsetHeight||1);var o=Io(t)?Jn(t):window,l=o.visualViewport,c=!QA()&&n,d=(s.left+(c&&l?l.offsetLeft:0))/i,h=(s.top+(c&&l?l.offsetTop:0))/r,m=s.width/i,_=s.height/r;return{width:m,height:_,top:h,right:d+m,bottom:h+_,left:d,x:d,y:h}}function ig(t){var e=$a(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function YA(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ng(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function ki(t){return Jn(t).getComputedStyle(t)}function uM(t){return["table","td","th"].indexOf(ei(t))>=0}function Pr(t){return((Io(t)?t.ownerDocument:t.document)||window.document).documentElement}function kd(t){return ei(t)==="html"?t:t.assignedSlot||t.parentNode||(ng(t)?t.host:null)||Pr(t)}function qy(t){return!hs(t)||ki(t).position==="fixed"?null:t.offsetParent}function hM(t){var e=/firefox/i.test(kp()),n=/Trident/i.test(kp());if(n&&hs(t)){var s=ki(t);if(s.position==="fixed")return null}var i=kd(t);for(ng(i)&&(i=i.host);hs(i)&&["html","body"].indexOf(ei(i))<0;){var r=ki(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function Bc(t){for(var e=Jn(t),n=qy(t);n&&uM(n)&&ki(n).position==="static";)n=qy(n);return n&&(ei(n)==="html"||ei(n)==="body"&&ki(n).position==="static")?e:n||hM(t)||e}function rg(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function rc(t,e,n){return po(t,Fh(e,n))}function dM(t,e,n){var s=rc(t,e,n);return s>n?n:s}function XA(){return{top:0,right:0,bottom:0,left:0}}function JA(t){return Object.assign({},XA(),t)}function ZA(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var fM=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,JA(typeof e!="number"?e:ZA(e,el))};function pM(t){var e,n=t.state,s=t.name,i=t.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,l=Xs(n.placement),c=rg(l),d=[Ln,Xn].indexOf(l)>=0,h=d?"height":"width";if(!(!r||!o)){var m=fM(i.padding,n),_=ig(r),y=c==="y"?xn:Ln,D=c==="y"?Yn:Xn,N=n.rects.reference[h]+n.rects.reference[c]-o[c]-n.rects.popper[h],x=o[c]-n.rects.reference[c],U=Bc(r),F=U?c==="y"?U.clientHeight||0:U.clientWidth||0:0,H=N/2-x/2,j=m[y],ne=F-_[h]-m[D],ie=F/2-_[h]/2+H,k=rc(j,ie,ne),I=c;n.modifiersData[s]=(e={},e[I]=k,e.centerOffset=k-ie,e)}}function mM(t){var e=t.state,n=t.options,s=n.element,i=s===void 0?"[data-popper-arrow]":s;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||YA(e.elements.popper,i)&&(e.elements.arrow=i))}const eI={name:"arrow",enabled:!0,phase:"main",fn:pM,effect:mM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fa(t){return t.split("-")[1]}var gM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _M(t,e){var n=t.x,s=t.y,i=e.devicePixelRatio||1;return{x:Ma(n*i)/i||0,y:Ma(s*i)/i||0}}function Wy(t){var e,n=t.popper,s=t.popperRect,i=t.placement,r=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,d=t.adaptive,h=t.roundOffsets,m=t.isFixed,_=o.x,y=_===void 0?0:_,D=o.y,N=D===void 0?0:D,x=typeof h=="function"?h({x:y,y:N}):{x:y,y:N};y=x.x,N=x.y;var U=o.hasOwnProperty("x"),F=o.hasOwnProperty("y"),H=Ln,j=xn,ne=window;if(d){var ie=Bc(n),k="clientHeight",I="clientWidth";if(ie===Jn(n)&&(ie=Pr(n),ki(ie).position!=="static"&&l==="absolute"&&(k="scrollHeight",I="scrollWidth")),ie=ie,i===xn||(i===Ln||i===Xn)&&r===Va){j=Yn;var b=m&&ie===ne&&ne.visualViewport?ne.visualViewport.height:ie[k];N-=b-s.height,N*=c?1:-1}if(i===Ln||(i===xn||i===Yn)&&r===Va){H=Xn;var A=m&&ie===ne&&ne.visualViewport?ne.visualViewport.width:ie[I];y-=A-s.width,y*=c?1:-1}}var P=Object.assign({position:l},d&&gM),S=h===!0?_M({x:y,y:N},Jn(n)):{x:y,y:N};if(y=S.x,N=S.y,c){var C;return Object.assign({},P,(C={},C[j]=F?"0":"",C[H]=U?"0":"",C.transform=(ne.devicePixelRatio||1)<=1?"translate("+y+"px, "+N+"px)":"translate3d("+y+"px, "+N+"px, 0)",C))}return Object.assign({},P,(e={},e[j]=F?N+"px":"",e[H]=U?y+"px":"",e.transform="",e))}function vM(t){var e=t.state,n=t.options,s=n.gpuAcceleration,i=s===void 0?!0:s,r=n.adaptive,o=r===void 0?!0:r,l=n.roundOffsets,c=l===void 0?!0:l,d={placement:Xs(e.placement),variation:Fa(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Wy(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Wy(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const og={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:vM,data:{}};var Du={passive:!0};function yM(t){var e=t.state,n=t.instance,s=t.options,i=s.scroll,r=i===void 0?!0:i,o=s.resize,l=o===void 0?!0:o,c=Jn(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&d.forEach(function(h){h.addEventListener("scroll",n.update,Du)}),l&&c.addEventListener("resize",n.update,Du),function(){r&&d.forEach(function(h){h.removeEventListener("scroll",n.update,Du)}),l&&c.removeEventListener("resize",n.update,Du)}}const ag={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:yM,data:{}};var EM={left:"right",right:"left",bottom:"top",top:"bottom"};function nh(t){return t.replace(/left|right|bottom|top/g,function(e){return EM[e]})}var bM={start:"end",end:"start"};function zy(t){return t.replace(/start|end/g,function(e){return bM[e]})}function lg(t){var e=Jn(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function cg(t){return $a(Pr(t)).left+lg(t).scrollLeft}function wM(t,e){var n=Jn(t),s=Pr(t),i=n.visualViewport,r=s.clientWidth,o=s.clientHeight,l=0,c=0;if(i){r=i.width,o=i.height;var d=QA();(d||!d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:r,height:o,x:l+cg(t),y:c}}function TM(t){var e,n=Pr(t),s=lg(t),i=(e=t.ownerDocument)==null?void 0:e.body,r=po(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=po(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-s.scrollLeft+cg(t),c=-s.scrollTop;return ki(i||n).direction==="rtl"&&(l+=po(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:o,x:l,y:c}}function ug(t){var e=ki(t),n=e.overflow,s=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+s)}function tI(t){return["html","body","#document"].indexOf(ei(t))>=0?t.ownerDocument.body:hs(t)&&ug(t)?t:tI(kd(t))}function oc(t,e){var n;e===void 0&&(e=[]);var s=tI(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),r=Jn(s),o=i?[r].concat(r.visualViewport||[],ug(s)?s:[]):s,l=e.concat(o);return i?l:l.concat(oc(kd(o)))}function Dp(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function AM(t,e){var n=$a(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Ky(t,e,n){return e===eg?Dp(wM(t,n)):Io(e)?AM(e,n):Dp(TM(Pr(t)))}function IM(t){var e=oc(kd(t)),n=["absolute","fixed"].indexOf(ki(t).position)>=0,s=n&&hs(t)?Bc(t):t;return Io(s)?e.filter(function(i){return Io(i)&&YA(i,s)&&ei(i)!=="body"}):[]}function CM(t,e,n,s){var i=e==="clippingParents"?IM(t):[].concat(e),r=[].concat(i,[n]),o=r[0],l=r.reduce(function(c,d){var h=Ky(t,d,s);return c.top=po(h.top,c.top),c.right=Fh(h.right,c.right),c.bottom=Fh(h.bottom,c.bottom),c.left=po(h.left,c.left),c},Ky(t,o,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function nI(t){var e=t.reference,n=t.element,s=t.placement,i=s?Xs(s):null,r=s?Fa(s):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(i){case xn:c={x:o,y:e.y-n.height};break;case Yn:c={x:o,y:e.y+e.height};break;case Xn:c={x:e.x+e.width,y:l};break;case Ln:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var d=i?rg(i):null;if(d!=null){var h=d==="y"?"height":"width";switch(r){case Ao:c[d]=c[d]-(e[h]/2-n[h]/2);break;case Va:c[d]=c[d]+(e[h]/2-n[h]/2);break}}return c}function Ua(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=s===void 0?t.placement:s,r=n.strategy,o=r===void 0?t.strategy:r,l=n.boundary,c=l===void 0?MA:l,d=n.rootBoundary,h=d===void 0?eg:d,m=n.elementContext,_=m===void 0?da:m,y=n.altBoundary,D=y===void 0?!1:y,N=n.padding,x=N===void 0?0:N,U=JA(typeof x!="number"?x:ZA(x,el)),F=_===da?$A:da,H=t.rects.popper,j=t.elements[D?F:_],ne=CM(Io(j)?j:j.contextElement||Pr(t.elements.popper),c,h,o),ie=$a(t.elements.reference),k=nI({reference:ie,element:H,placement:i}),I=Dp(Object.assign({},H,k)),b=_===da?I:ie,A={top:ne.top-b.top+U.top,bottom:b.bottom-ne.bottom+U.bottom,left:ne.left-b.left+U.left,right:b.right-ne.right+U.right},P=t.modifiersData.offset;if(_===da&&P){var S=P[i];Object.keys(A).forEach(function(C){var Be=[Xn,Yn].indexOf(C)>=0?1:-1,st=[xn,Yn].indexOf(C)>=0?"y":"x";A[C]+=S[st]*Be})}return A}function SM(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=n.boundary,r=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?tg:c,h=Fa(s),m=h?l?Op:Op.filter(function(D){return Fa(D)===h}):el,_=m.filter(function(D){return d.indexOf(D)>=0});_.length===0&&(_=m);var y=_.reduce(function(D,N){return D[N]=Ua(t,{placement:N,boundary:i,rootBoundary:r,padding:o})[Xs(N)],D},{});return Object.keys(y).sort(function(D,N){return y[D]-y[N]})}function RM(t){if(Xs(t)===Od)return[];var e=nh(t);return[zy(t),e,zy(e)]}function PM(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,d=n.padding,h=n.boundary,m=n.rootBoundary,_=n.altBoundary,y=n.flipVariations,D=y===void 0?!0:y,N=n.allowedAutoPlacements,x=e.options.placement,U=Xs(x),F=U===x,H=c||(F||!D?[nh(x)]:RM(x)),j=[x].concat(H).reduce(function(Tt,At){return Tt.concat(Xs(At)===Od?SM(e,{placement:At,boundary:h,rootBoundary:m,padding:d,flipVariations:D,allowedAutoPlacements:N}):At)},[]),ne=e.rects.reference,ie=e.rects.popper,k=new Map,I=!0,b=j[0],A=0;A<j.length;A++){var P=j[A],S=Xs(P),C=Fa(P)===Ao,Be=[xn,Yn].indexOf(S)>=0,st=Be?"width":"height",Ne=Ua(e,{placement:P,boundary:h,rootBoundary:m,altBoundary:_,padding:d}),Ee=Be?C?Xn:Ln:C?Yn:xn;ne[st]>ie[st]&&(Ee=nh(Ee));var Ue=nh(Ee),Ct=[];if(r&&Ct.push(Ne[S]<=0),l&&Ct.push(Ne[Ee]<=0,Ne[Ue]<=0),Ct.every(function(Tt){return Tt})){b=P,I=!1;break}k.set(P,Ct)}if(I)for(var Q=D?3:1,Ft=function(At){var ot=j.find(function(z){var W=k.get(z);if(W)return W.slice(0,At).every(function(le){return le})});if(ot)return b=ot,"break"},it=Q;it>0;it--){var rt=Ft(it);if(rt==="break")break}e.placement!==b&&(e.modifiersData[s]._skip=!0,e.placement=b,e.reset=!0)}}const sI={name:"flip",enabled:!0,phase:"main",fn:PM,requiresIfExists:["offset"],data:{_skip:!1}};function Gy(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Qy(t){return[xn,Xn,Yn,Ln].some(function(e){return t[e]>=0})}function OM(t){var e=t.state,n=t.name,s=e.rects.reference,i=e.rects.popper,r=e.modifiersData.preventOverflow,o=Ua(e,{elementContext:"reference"}),l=Ua(e,{altBoundary:!0}),c=Gy(o,s),d=Gy(l,i,r),h=Qy(c),m=Qy(d);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:h,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":m})}const iI={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:OM};function kM(t,e,n){var s=Xs(t),i=[Ln,xn].indexOf(s)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=r[0],l=r[1];return o=o||0,l=(l||0)*i,[Ln,Xn].indexOf(s)>=0?{x:l,y:o}:{x:o,y:l}}function DM(t){var e=t.state,n=t.options,s=t.name,i=n.offset,r=i===void 0?[0,0]:i,o=tg.reduce(function(h,m){return h[m]=kM(m,e.rects,r),h},{}),l=o[e.placement],c=l.x,d=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[s]=o}const rI={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:DM};function NM(t){var e=t.state,n=t.name;e.modifiersData[n]=nI({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const hg={name:"popperOffsets",enabled:!0,phase:"read",fn:NM,data:{}};function xM(t){return t==="x"?"y":"x"}function LM(t){var e=t.state,n=t.options,s=t.name,i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,m=n.padding,_=n.tether,y=_===void 0?!0:_,D=n.tetherOffset,N=D===void 0?0:D,x=Ua(e,{boundary:c,rootBoundary:d,padding:m,altBoundary:h}),U=Xs(e.placement),F=Fa(e.placement),H=!F,j=rg(U),ne=xM(j),ie=e.modifiersData.popperOffsets,k=e.rects.reference,I=e.rects.popper,b=typeof N=="function"?N(Object.assign({},e.rects,{placement:e.placement})):N,A=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,S={x:0,y:0};if(ie){if(r){var C,Be=j==="y"?xn:Ln,st=j==="y"?Yn:Xn,Ne=j==="y"?"height":"width",Ee=ie[j],Ue=Ee+x[Be],Ct=Ee-x[st],Q=y?-I[Ne]/2:0,Ft=F===Ao?k[Ne]:I[Ne],it=F===Ao?-I[Ne]:-k[Ne],rt=e.elements.arrow,Tt=y&&rt?ig(rt):{width:0,height:0},At=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:XA(),ot=At[Be],z=At[st],W=rc(0,k[Ne],Tt[Ne]),le=H?k[Ne]/2-Q-W-ot-A.mainAxis:Ft-W-ot-A.mainAxis,ge=H?-k[Ne]/2+Q+W+z+A.mainAxis:it+W+z+A.mainAxis,Ke=e.elements.arrow&&Bc(e.elements.arrow),R=Ke?j==="y"?Ke.clientTop||0:Ke.clientLeft||0:0,O=(C=P==null?void 0:P[j])!=null?C:0,M=Ee+le-O-R,K=Ee+ge-O,G=rc(y?Fh(Ue,M):Ue,Ee,y?po(Ct,K):Ct);ie[j]=G,S[j]=G-Ee}if(l){var Y,he=j==="x"?xn:Ln,oe=j==="x"?Yn:Xn,se=ie[ne],ee=ne==="y"?"height":"width",Ie=se+x[he],de=se-x[oe],ve=[xn,Ln].indexOf(U)!==-1,be=(Y=P==null?void 0:P[ne])!=null?Y:0,Ae=ve?Ie:se-k[ee]-I[ee]-be+A.altAxis,De=ve?se+k[ee]+I[ee]-be-A.altAxis:de,We=y&&ve?dM(Ae,se,De):rc(y?Ae:Ie,se,y?De:de);ie[ne]=We,S[ne]=We-se}e.modifiersData[s]=S}}const oI={name:"preventOverflow",enabled:!0,phase:"main",fn:LM,requiresIfExists:["offset"]};function VM(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function MM(t){return t===Jn(t)||!hs(t)?lg(t):VM(t)}function $M(t){var e=t.getBoundingClientRect(),n=Ma(e.width)/t.offsetWidth||1,s=Ma(e.height)/t.offsetHeight||1;return n!==1||s!==1}function FM(t,e,n){n===void 0&&(n=!1);var s=hs(e),i=hs(e)&&$M(e),r=Pr(e),o=$a(t,i,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!n)&&((ei(e)!=="body"||ug(r))&&(l=MM(e)),hs(e)?(c=$a(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):r&&(c.x=cg(r))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function UM(t){var e=new Map,n=new Set,s=[];t.forEach(function(r){e.set(r.name,r)});function i(r){n.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&i(c)}}),s.push(r)}return t.forEach(function(r){n.has(r.name)||i(r)}),s}function jM(t){var e=UM(t);return GA.reduce(function(n,s){return n.concat(e.filter(function(i){return i.phase===s}))},[])}function BM(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function HM(t){var e=t.reduce(function(n,s){var i=n[s.name];return n[s.name]=i?Object.assign({},i,s,{options:Object.assign({},i.options,s.options),data:Object.assign({},i.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var Yy={placement:"bottom",modifiers:[],strategy:"absolute"};function Xy(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Dd(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,i=e.defaultOptions,r=i===void 0?Yy:i;return function(l,c,d){d===void 0&&(d=r);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Yy,r),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},m=[],_=!1,y={state:h,setOptions:function(U){var F=typeof U=="function"?U(h.options):U;N(),h.options=Object.assign({},r,h.options,F),h.scrollParents={reference:Io(l)?oc(l):l.contextElement?oc(l.contextElement):[],popper:oc(c)};var H=jM(HM([].concat(s,h.options.modifiers)));return h.orderedModifiers=H.filter(function(j){return j.enabled}),D(),y.update()},forceUpdate:function(){if(!_){var U=h.elements,F=U.reference,H=U.popper;if(Xy(F,H)){h.rects={reference:FM(F,Bc(H),h.options.strategy==="fixed"),popper:ig(H)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(A){return h.modifiersData[A.name]=Object.assign({},A.data)});for(var j=0;j<h.orderedModifiers.length;j++){if(h.reset===!0){h.reset=!1,j=-1;continue}var ne=h.orderedModifiers[j],ie=ne.fn,k=ne.options,I=k===void 0?{}:k,b=ne.name;typeof ie=="function"&&(h=ie({state:h,options:I,name:b,instance:y})||h)}}}},update:BM(function(){return new Promise(function(x){y.forceUpdate(),x(h)})}),destroy:function(){N(),_=!0}};if(!Xy(l,c))return y;y.setOptions(d).then(function(x){!_&&d.onFirstUpdate&&d.onFirstUpdate(x)});function D(){h.orderedModifiers.forEach(function(x){var U=x.name,F=x.options,H=F===void 0?{}:F,j=x.effect;if(typeof j=="function"){var ne=j({state:h,name:U,instance:y,options:H}),ie=function(){};m.push(ne||ie)}})}function N(){m.forEach(function(x){return x()}),m=[]}return y}}var qM=Dd(),WM=[ag,hg,og,sg],zM=Dd({defaultModifiers:WM}),KM=[ag,hg,og,sg,rI,sI,oI,eI,iI],dg=Dd({defaultModifiers:KM});const aI=Object.freeze(Object.defineProperty({__proto__:null,afterMain:qA,afterRead:jA,afterWrite:KA,applyStyles:sg,arrow:eI,auto:Od,basePlacements:el,beforeMain:BA,beforeRead:FA,beforeWrite:WA,bottom:Yn,clippingParents:MA,computeStyles:og,createPopper:dg,createPopperBase:qM,createPopperLite:zM,detectOverflow:Ua,end:Va,eventListeners:ag,flip:sI,hide:iI,left:Ln,main:HA,modifierPhases:GA,offset:rI,placements:tg,popper:da,popperGenerator:Dd,popperOffsets:hg,preventOverflow:oI,read:UA,reference:$A,right:Xn,start:Ao,top:xn,variationPlacements:Op,viewport:eg,write:zA},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const er=new Map,Pf={set(t,e,n){er.has(t)||er.set(t,new Map);const s=er.get(t);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,n)},get(t,e){return er.has(t)&&er.get(t).get(e)||null},remove(t,e){if(!er.has(t))return;const n=er.get(t);n.delete(e),n.size===0&&er.delete(t)}},GM=1e6,QM=1e3,Np="transitionend",lI=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),YM=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),XM=t=>{do t+=Math.floor(Math.random()*GM);while(document.getElementById(t));return t},JM=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const s=Number.parseFloat(e),i=Number.parseFloat(n);return!s&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*QM)},cI=t=>{t.dispatchEvent(new Event(Np))},Ai=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Ar=t=>Ai(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(lI(t)):null,tl=t=>{if(!Ai(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const s=t.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return e},Ir=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",uI=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?uI(t.parentNode):null},Uh=()=>{},Hc=t=>{t.offsetHeight},hI=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Of=[],ZM=t=>{document.readyState==="loading"?(Of.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Of)e()}),Of.push(t)):t()},ms=()=>document.documentElement.dir==="rtl",_s=t=>{ZM(()=>{const e=hI();if(e){const n=t.NAME,s=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=s,t.jQueryInterface)}})},Bn=(t,e=[],n=t)=>typeof t=="function"?t.call(...e):n,dI=(t,e,n=!0)=>{if(!n){Bn(t);return}const i=JM(e)+5;let r=!1;const o=({target:l})=>{l===e&&(r=!0,e.removeEventListener(Np,o),Bn(t))};e.addEventListener(Np,o),setTimeout(()=>{r||cI(e)},i)},fg=(t,e,n,s)=>{const i=t.length;let r=t.indexOf(e);return r===-1?!n&&s?t[i-1]:t[0]:(r+=n?1:-1,s&&(r=(r+i)%i),t[Math.max(0,Math.min(r,i-1))])},e2=/[^.]*(?=\..*)\.|.*/,t2=/\..*/,n2=/::\d+$/,kf={};let Jy=1;const fI={mouseenter:"mouseover",mouseleave:"mouseout"},s2=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function pI(t,e){return e&&`${e}::${Jy++}`||t.uidEvent||Jy++}function mI(t){const e=pI(t);return t.uidEvent=e,kf[e]=kf[e]||{},kf[e]}function i2(t,e){return function n(s){return pg(s,{delegateTarget:t}),n.oneOff&&te.off(t,s.type,e),e.apply(t,[s])}}function r2(t,e,n){return function s(i){const r=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const l of r)if(l===o)return pg(i,{delegateTarget:o}),s.oneOff&&te.off(t,i.type,e,n),n.apply(o,[i])}}function gI(t,e,n=null){return Object.values(t).find(s=>s.callable===e&&s.delegationSelector===n)}function _I(t,e,n){const s=typeof e=="string",i=s?n:e||n;let r=vI(t);return s2.has(r)||(r=t),[s,i,r]}function Zy(t,e,n,s,i){if(typeof e!="string"||!t)return;let[r,o,l]=_I(e,n,s);e in fI&&(o=(D=>function(N){if(!N.relatedTarget||N.relatedTarget!==N.delegateTarget&&!N.delegateTarget.contains(N.relatedTarget))return D.call(this,N)})(o));const c=mI(t),d=c[l]||(c[l]={}),h=gI(d,o,r?n:null);if(h){h.oneOff=h.oneOff&&i;return}const m=pI(o,e.replace(e2,"")),_=r?r2(t,n,o):i2(t,o);_.delegationSelector=r?n:null,_.callable=o,_.oneOff=i,_.uidEvent=m,d[m]=_,t.addEventListener(l,_,r)}function xp(t,e,n,s,i){const r=gI(e[n],s,i);r&&(t.removeEventListener(n,r,!!i),delete e[n][r.uidEvent])}function o2(t,e,n,s){const i=e[n]||{};for(const[r,o]of Object.entries(i))r.includes(s)&&xp(t,e,n,o.callable,o.delegationSelector)}function vI(t){return t=t.replace(t2,""),fI[t]||t}const te={on(t,e,n,s){Zy(t,e,n,s,!1)},one(t,e,n,s){Zy(t,e,n,s,!0)},off(t,e,n,s){if(typeof e!="string"||!t)return;const[i,r,o]=_I(e,n,s),l=o!==e,c=mI(t),d=c[o]||{},h=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(d).length)return;xp(t,c,o,r,i?n:null);return}if(h)for(const m of Object.keys(c))o2(t,c,m,e.slice(1));for(const[m,_]of Object.entries(d)){const y=m.replace(n2,"");(!l||e.includes(y))&&xp(t,c,o,_.callable,_.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const s=hI(),i=vI(e),r=e!==i;let o=null,l=!0,c=!0,d=!1;r&&s&&(o=s.Event(e,n),s(t).trigger(o),l=!o.isPropagationStopped(),c=!o.isImmediatePropagationStopped(),d=o.isDefaultPrevented());const h=pg(new Event(e,{bubbles:l,cancelable:!0}),n);return d&&h.preventDefault(),c&&t.dispatchEvent(h),h.defaultPrevented&&o&&o.preventDefault(),h}};function pg(t,e={}){for(const[n,s]of Object.entries(e))try{t[n]=s}catch{Object.defineProperty(t,n,{configurable:!0,get(){return s}})}return t}function eE(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Df(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Ii={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Df(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Df(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=eE(t.dataset[s])}return e},getDataAttribute(t,e){return eE(t.getAttribute(`data-bs-${Df(e)}`))}};class qc{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const s=Ai(n)?Ii.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...Ai(n)?Ii.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[s,i]of Object.entries(n)){const r=e[s],o=Ai(r)?"element":YM(r);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${i}".`)}}}const a2="5.3.6";class Ds extends qc{constructor(e,n){super(),e=Ar(e),e&&(this._element=e,this._config=this._getConfig(n),Pf.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Pf.remove(this._element,this.constructor.DATA_KEY),te.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,s=!0){dI(e,n,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Pf.get(Ar(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return a2}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Nf=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>lI(n)).join(","):null},Se={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let s=t.parentNode.closest(e);for(;s;)n.push(s),s=s.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!Ir(n)&&tl(n))},getSelectorFromElement(t){const e=Nf(t);return e&&Se.findOne(e)?e:null},getElementFromSelector(t){const e=Nf(t);return e?Se.findOne(e):null},getMultipleElementsFromSelector(t){const e=Nf(t);return e?Se.find(e):[]}},Nd=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;te.on(document,n,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Ir(this))return;const r=Se.getElementFromSelector(this)||this.closest(`.${s}`);t.getOrCreateInstance(r)[e]()})},l2="alert",c2="bs.alert",yI=`.${c2}`,u2=`close${yI}`,h2=`closed${yI}`,d2="fade",f2="show";class xd extends Ds{static get NAME(){return l2}close(){if(te.trigger(this._element,u2).defaultPrevented)return;this._element.classList.remove(f2);const n=this._element.classList.contains(d2);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),te.trigger(this._element,h2),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=xd.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Nd(xd,"close");_s(xd);const p2="button",m2="bs.button",g2=`.${m2}`,_2=".data-api",v2="active",tE='[data-bs-toggle="button"]',y2=`click${g2}${_2}`;class Ld extends Ds{static get NAME(){return p2}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(v2))}static jQueryInterface(e){return this.each(function(){const n=Ld.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}te.on(document,y2,tE,t=>{t.preventDefault();const e=t.target.closest(tE);Ld.getOrCreateInstance(e).toggle()});_s(Ld);const E2="swipe",nl=".bs.swipe",b2=`touchstart${nl}`,w2=`touchmove${nl}`,T2=`touchend${nl}`,A2=`pointerdown${nl}`,I2=`pointerup${nl}`,C2="touch",S2="pen",R2="pointer-event",P2=40,O2={endCallback:null,leftCallback:null,rightCallback:null},k2={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class jh extends qc{constructor(e,n){super(),this._element=e,!(!e||!jh.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return O2}static get DefaultType(){return k2}static get NAME(){return E2}dispose(){te.off(this._element,nl)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Bn(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=P2)return;const n=e/this._deltaX;this._deltaX=0,n&&Bn(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(te.on(this._element,A2,e=>this._start(e)),te.on(this._element,I2,e=>this._end(e)),this._element.classList.add(R2)):(te.on(this._element,b2,e=>this._start(e)),te.on(this._element,w2,e=>this._move(e)),te.on(this._element,T2,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===S2||e.pointerType===C2)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const D2="carousel",N2="bs.carousel",Or=`.${N2}`,EI=".data-api",x2="ArrowLeft",L2="ArrowRight",V2=500,Ll="next",ia="prev",fa="left",sh="right",M2=`slide${Or}`,xf=`slid${Or}`,$2=`keydown${Or}`,F2=`mouseenter${Or}`,U2=`mouseleave${Or}`,j2=`dragstart${Or}`,B2=`load${Or}${EI}`,H2=`click${Or}${EI}`,bI="carousel",Nu="active",q2="slide",W2="carousel-item-end",z2="carousel-item-start",K2="carousel-item-next",G2="carousel-item-prev",wI=".active",TI=".carousel-item",Q2=wI+TI,Y2=".carousel-item img",X2=".carousel-indicators",J2="[data-bs-slide], [data-bs-slide-to]",Z2='[data-bs-ride="carousel"]',e$={[x2]:sh,[L2]:fa},t$={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},n$={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Wc extends Ds{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Se.findOne(X2,this._element),this._addEventListeners(),this._config.ride===bI&&this.cycle()}static get Default(){return t$}static get DefaultType(){return n$}static get NAME(){return D2}next(){this._slide(Ll)}nextWhenVisible(){!document.hidden&&tl(this._element)&&this.next()}prev(){this._slide(ia)}pause(){this._isSliding&&cI(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){te.one(this._element,xf,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){te.one(this._element,xf,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const i=e>s?Ll:ia;this._slide(i,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&te.on(this._element,$2,e=>this._keydown(e)),this._config.pause==="hover"&&(te.on(this._element,F2,()=>this.pause()),te.on(this._element,U2,()=>this._maybeEnableCycle())),this._config.touch&&jh.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of Se.find(Y2,this._element))te.on(s,j2,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(fa)),rightCallback:()=>this._slide(this._directionToOrder(sh)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),V2+this._config.interval))}};this._swipeHelper=new jh(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=e$[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=Se.findOne(wI,this._indicatorsElement);n.classList.remove(Nu),n.removeAttribute("aria-current");const s=Se.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(Nu),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const s=this._getActive(),i=e===Ll,r=n||fg(this._getItems(),s,i,this._config.wrap);if(r===s)return;const o=this._getItemIndex(r),l=y=>te.trigger(this._element,y,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:o});if(l(M2).defaultPrevented||!s||!r)return;const d=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const h=i?z2:W2,m=i?K2:G2;r.classList.add(m),Hc(r),s.classList.add(h),r.classList.add(h);const _=()=>{r.classList.remove(h,m),r.classList.add(Nu),s.classList.remove(Nu,m,h),this._isSliding=!1,l(xf)};this._queueCallback(_,s,this._isAnimated()),d&&this.cycle()}_isAnimated(){return this._element.classList.contains(q2)}_getActive(){return Se.findOne(Q2,this._element)}_getItems(){return Se.find(TI,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ms()?e===fa?ia:Ll:e===fa?Ll:ia}_orderToDirection(e){return ms()?e===ia?fa:sh:e===ia?sh:fa}static jQueryInterface(e){return this.each(function(){const n=Wc.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}te.on(document,H2,J2,function(t){const e=Se.getElementFromSelector(this);if(!e||!e.classList.contains(bI))return;t.preventDefault();const n=Wc.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(Ii.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});te.on(window,B2,()=>{const t=Se.find(Z2);for(const e of t)Wc.getOrCreateInstance(e)});_s(Wc);const s$="collapse",i$="bs.collapse",zc=`.${i$}`,r$=".data-api",o$=`show${zc}`,a$=`shown${zc}`,l$=`hide${zc}`,c$=`hidden${zc}`,u$=`click${zc}${r$}`,Lf="show",ma="collapse",xu="collapsing",h$="collapsed",d$=`:scope .${ma} .${ma}`,f$="collapse-horizontal",p$="width",m$="height",g$=".collapse.show, .collapse.collapsing",Lp='[data-bs-toggle="collapse"]',_$={parent:null,toggle:!0},v$={parent:"(null|element)",toggle:"boolean"};class Ic extends Ds{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const s=Se.find(Lp);for(const i of s){const r=Se.getSelectorFromElement(i),o=Se.find(r).filter(l=>l===this._element);r!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return _$}static get DefaultType(){return v$}static get NAME(){return s$}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(g$).filter(l=>l!==this._element).map(l=>Ic.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||te.trigger(this._element,o$).defaultPrevented)return;for(const l of e)l.hide();const s=this._getDimension();this._element.classList.remove(ma),this._element.classList.add(xu),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(xu),this._element.classList.add(ma,Lf),this._element.style[s]="",te.trigger(this._element,a$)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||te.trigger(this._element,l$).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Hc(this._element),this._element.classList.add(xu),this._element.classList.remove(ma,Lf);for(const i of this._triggerArray){const r=Se.getElementFromSelector(i);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(xu),this._element.classList.add(ma),te.trigger(this._element,c$)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Lf)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Ar(e.parent),e}_getDimension(){return this._element.classList.contains(f$)?p$:m$}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Lp);for(const n of e){const s=Se.getElementFromSelector(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(e){const n=Se.find(d$,this._config.parent);return Se.find(e,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const s of e)s.classList.toggle(h$,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const s=Ic.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}te.on(document,u$,Lp,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of Se.getMultipleElementsFromSelector(this))Ic.getOrCreateInstance(e,{toggle:!1}).toggle()});_s(Ic);const nE="dropdown",y$="bs.dropdown",No=`.${y$}`,mg=".data-api",E$="Escape",sE="Tab",b$="ArrowUp",iE="ArrowDown",w$=2,T$=`hide${No}`,A$=`hidden${No}`,I$=`show${No}`,C$=`shown${No}`,AI=`click${No}${mg}`,II=`keydown${No}${mg}`,S$=`keyup${No}${mg}`,pa="show",R$="dropup",P$="dropend",O$="dropstart",k$="dropup-center",D$="dropdown-center",lo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',N$=`${lo}.${pa}`,ih=".dropdown-menu",x$=".navbar",L$=".navbar-nav",V$=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",M$=ms()?"top-end":"top-start",$$=ms()?"top-start":"top-end",F$=ms()?"bottom-end":"bottom-start",U$=ms()?"bottom-start":"bottom-end",j$=ms()?"left-start":"right-start",B$=ms()?"right-start":"left-start",H$="top",q$="bottom",W$={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},z$={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Rs extends Ds{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=Se.next(this._element,ih)[0]||Se.prev(this._element,ih)[0]||Se.findOne(ih,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return W$}static get DefaultType(){return z$}static get NAME(){return nE}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ir(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!te.trigger(this._element,I$,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(L$))for(const s of[].concat(...document.body.children))te.on(s,"mouseover",Uh);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(pa),this._element.classList.add(pa),te.trigger(this._element,C$,e)}}hide(){if(Ir(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!te.trigger(this._element,T$,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))te.off(s,"mouseover",Uh);this._popper&&this._popper.destroy(),this._menu.classList.remove(pa),this._element.classList.remove(pa),this._element.setAttribute("aria-expanded","false"),Ii.removeDataAttribute(this._menu,"popper"),te.trigger(this._element,A$,e),this._element.focus()}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Ai(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${nE.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof aI>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:Ai(this._config.reference)?e=Ar(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=dg(e,this._menu,n)}_isShown(){return this._menu.classList.contains(pa)}_getPlacement(){const e=this._parent;if(e.classList.contains(P$))return j$;if(e.classList.contains(O$))return B$;if(e.classList.contains(k$))return H$;if(e.classList.contains(D$))return q$;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(R$)?n?$$:M$:n?U$:F$}_detectNavbar(){return this._element.closest(x$)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ii.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Bn(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:n}){const s=Se.find(V$,this._menu).filter(i=>tl(i));s.length&&fg(s,n,e===iE,!s.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=Rs.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===w$||e.type==="keyup"&&e.key!==sE)return;const n=Se.find(N$);for(const s of n){const i=Rs.getInstance(s);if(!i||i._config.autoClose===!1)continue;const r=e.composedPath(),o=r.includes(i._menu);if(r.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===sE||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const l={relatedTarget:i._element};e.type==="click"&&(l.clickEvent=e),i._completeHide(l)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),s=e.key===E$,i=[b$,iE].includes(e.key);if(!i&&!s||n&&!s)return;e.preventDefault();const r=this.matches(lo)?this:Se.prev(this,lo)[0]||Se.next(this,lo)[0]||Se.findOne(lo,e.delegateTarget.parentNode),o=Rs.getOrCreateInstance(r);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}te.on(document,II,lo,Rs.dataApiKeydownHandler);te.on(document,II,ih,Rs.dataApiKeydownHandler);te.on(document,AI,Rs.clearMenus);te.on(document,S$,Rs.clearMenus);te.on(document,AI,lo,function(t){t.preventDefault(),Rs.getOrCreateInstance(this).toggle()});_s(Rs);const CI="backdrop",K$="fade",rE="show",oE=`mousedown.bs.${CI}`,G$={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Q$={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class SI extends qc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return G$}static get DefaultType(){return Q$}static get NAME(){return CI}show(e){if(!this._config.isVisible){Bn(e);return}this._append();const n=this._getElement();this._config.isAnimated&&Hc(n),n.classList.add(rE),this._emulateAnimation(()=>{Bn(e)})}hide(e){if(!this._config.isVisible){Bn(e);return}this._getElement().classList.remove(rE),this._emulateAnimation(()=>{this.dispose(),Bn(e)})}dispose(){this._isAppended&&(te.off(this._element,oE),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(K$),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ar(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),te.on(e,oE,()=>{Bn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){dI(e,this._getElement(),this._config.isAnimated)}}const Y$="focustrap",X$="bs.focustrap",Bh=`.${X$}`,J$=`focusin${Bh}`,Z$=`keydown.tab${Bh}`,e4="Tab",t4="forward",aE="backward",n4={autofocus:!0,trapElement:null},s4={autofocus:"boolean",trapElement:"element"};class RI extends qc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return n4}static get DefaultType(){return s4}static get NAME(){return Y$}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),te.off(document,Bh),te.on(document,J$,e=>this._handleFocusin(e)),te.on(document,Z$,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,te.off(document,Bh))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const s=Se.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===aE?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===e4&&(this._lastTabNavDirection=e.shiftKey?aE:t4)}}const lE=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",cE=".sticky-top",Lu="padding-right",uE="margin-right";class Vp{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Lu,n=>n+e),this._setElementAttributes(lE,Lu,n=>n+e),this._setElementAttributes(cE,uE,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Lu),this._resetElementAttributes(lE,Lu),this._resetElementAttributes(cE,uE)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,s){const i=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,n);const l=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${s(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,n){const s=e.style.getPropertyValue(n);s&&Ii.setDataAttribute(e,n,s)}_resetElementAttributes(e,n){const s=i=>{const r=Ii.getDataAttribute(i,n);if(r===null){i.style.removeProperty(n);return}Ii.removeDataAttribute(i,n),i.style.setProperty(n,r)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,n){if(Ai(e)){n(e);return}for(const s of Se.find(e,this._element))n(s)}}const i4="modal",r4="bs.modal",gs=`.${r4}`,o4=".data-api",a4="Escape",l4=`hide${gs}`,c4=`hidePrevented${gs}`,PI=`hidden${gs}`,OI=`show${gs}`,u4=`shown${gs}`,h4=`resize${gs}`,d4=`click.dismiss${gs}`,f4=`mousedown.dismiss${gs}`,p4=`keydown.dismiss${gs}`,m4=`click${gs}${o4}`,hE="modal-open",g4="fade",dE="show",Vf="modal-static",_4=".modal.show",v4=".modal-dialog",y4=".modal-body",E4='[data-bs-toggle="modal"]',b4={backdrop:!0,focus:!0,keyboard:!0},w4={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Co extends Ds{constructor(e,n){super(e,n),this._dialog=Se.findOne(v4,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Vp,this._addEventListeners()}static get Default(){return b4}static get DefaultType(){return w4}static get NAME(){return i4}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||te.trigger(this._element,OI,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(hE),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||te.trigger(this._element,l4).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(dE),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){te.off(window,gs),te.off(this._dialog,gs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new SI({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new RI({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=Se.findOne(y4,this._dialog);n&&(n.scrollTop=0),Hc(this._element),this._element.classList.add(dE);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,te.trigger(this._element,u4,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){te.on(this._element,p4,e=>{if(e.key===a4){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),te.on(window,h4,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),te.on(this._element,f4,e=>{te.one(this._element,d4,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(hE),this._resetAdjustments(),this._scrollBar.reset(),te.trigger(this._element,PI)})}_isAnimated(){return this._element.classList.contains(g4)}_triggerBackdropTransition(){if(te.trigger(this._element,c4).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(Vf)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Vf),this._queueCallback(()=>{this._element.classList.remove(Vf),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!e){const i=ms()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!s&&e){const i=ms()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const s=Co.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](n)}})}}te.on(document,m4,E4,function(t){const e=Se.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),te.one(e,OI,i=>{i.defaultPrevented||te.one(e,PI,()=>{tl(this)&&this.focus()})});const n=Se.findOne(_4);n&&Co.getInstance(n).hide(),Co.getOrCreateInstance(e).toggle(this)});Nd(Co);_s(Co);const T4="offcanvas",A4="bs.offcanvas",Mi=`.${A4}`,kI=".data-api",I4=`load${Mi}${kI}`,C4="Escape",fE="show",pE="showing",mE="hiding",S4="offcanvas-backdrop",DI=".offcanvas.show",R4=`show${Mi}`,P4=`shown${Mi}`,O4=`hide${Mi}`,gE=`hidePrevented${Mi}`,NI=`hidden${Mi}`,k4=`resize${Mi}`,D4=`click${Mi}${kI}`,N4=`keydown.dismiss${Mi}`,x4='[data-bs-toggle="offcanvas"]',L4={backdrop:!0,keyboard:!0,scroll:!1},V4={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Cr extends Ds{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return L4}static get DefaultType(){return V4}static get NAME(){return T4}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||te.trigger(this._element,R4,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Vp().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(pE);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(fE),this._element.classList.remove(pE),te.trigger(this._element,P4,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||te.trigger(this._element,O4).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(mE),this._backdrop.hide();const n=()=>{this._element.classList.remove(fE,mE),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Vp().reset(),te.trigger(this._element,NI)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){te.trigger(this._element,gE);return}this.hide()},n=!!this._config.backdrop;return new SI({className:S4,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new RI({trapElement:this._element})}_addEventListeners(){te.on(this._element,N4,e=>{if(e.key===C4){if(this._config.keyboard){this.hide();return}te.trigger(this._element,gE)}})}static jQueryInterface(e){return this.each(function(){const n=Cr.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}te.on(document,D4,x4,function(t){const e=Se.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ir(this))return;te.one(e,NI,()=>{tl(this)&&this.focus()});const n=Se.findOne(DI);n&&n!==e&&Cr.getInstance(n).hide(),Cr.getOrCreateInstance(e).toggle(this)});te.on(window,I4,()=>{for(const t of Se.find(DI))Cr.getOrCreateInstance(t).show()});te.on(window,k4,()=>{for(const t of Se.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Cr.getOrCreateInstance(t).hide()});Nd(Cr);_s(Cr);const M4=/^aria-[\w-]*$/i,xI={"*":["class","dir","id","lang","role",M4],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},$4=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),F4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,U4=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?$4.has(n)?!!F4.test(t.nodeValue):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(n))};function j4(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const i=new window.DOMParser().parseFromString(t,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const o of r){const l=o.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){o.remove();continue}const c=[].concat(...o.attributes),d=[].concat(e["*"]||[],e[l]||[]);for(const h of c)U4(h,d)||o.removeAttribute(h.nodeName)}return i.body.innerHTML}const B4="TemplateFactory",H4={allowList:xI,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},q4={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},W4={entry:"(string|element|function|null)",selector:"(string|element)"};class z4 extends qc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return H4}static get DefaultType(){return q4}static get NAME(){return B4}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(e,r,i);const n=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,s]of Object.entries(e))super._typeCheckConfig({selector:n,entry:s},W4)}_setContent(e,n,s){const i=Se.findOne(s,e);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(Ai(n)){this._putElementInTemplate(Ar(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(e){return this._config.sanitize?j4(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Bn(e,[void 0,this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const K4="tooltip",G4=new Set(["sanitize","allowList","sanitizeFn"]),Mf="fade",Q4="modal",Vu="show",Y4=".tooltip-inner",_E=`.${Q4}`,vE="hide.bs.modal",Vl="hover",$f="focus",X4="click",J4="manual",Z4="hide",eF="hidden",tF="show",nF="shown",sF="inserted",iF="click",rF="focusin",oF="focusout",aF="mouseenter",lF="mouseleave",cF={AUTO:"auto",TOP:"top",RIGHT:ms()?"left":"right",BOTTOM:"bottom",LEFT:ms()?"right":"left"},uF={allowList:xI,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},hF={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class sl extends Ds{constructor(e,n){if(typeof aI>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return uF}static get DefaultType(){return hF}static get NAME(){return K4}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),te.off(this._element.closest(_E),vE,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=te.trigger(this._element,this.constructor.eventName(tF)),s=(uI(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),te.trigger(this._element,this.constructor.eventName(sF))),this._popper=this._createPopper(i),i.classList.add(Vu),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))te.on(l,"mouseover",Uh);const o=()=>{te.trigger(this._element,this.constructor.eventName(nF)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||te.trigger(this._element,this.constructor.eventName(Z4)).defaultPrevented)return;if(this._getTipElement().classList.remove(Vu),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))te.off(i,"mouseover",Uh);this._activeTrigger[X4]=!1,this._activeTrigger[$f]=!1,this._activeTrigger[Vl]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),te.trigger(this._element,this.constructor.eventName(eF)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Mf,Vu),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=XM(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(Mf),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new z4({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Y4]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Mf)}_isShown(){return this.tip&&this.tip.classList.contains(Vu)}_createPopper(e){const n=Bn(this._config.placement,[this,e,this._element]),s=cF[n.toUpperCase()];return dg(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return Bn(e,[this._element,this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...Bn(this._config.popperConfig,[void 0,n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")te.on(this._element,this.constructor.eventName(iF),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==J4){const s=n===Vl?this.constructor.eventName(aF):this.constructor.eventName(rF),i=n===Vl?this.constructor.eventName(lF):this.constructor.eventName(oF);te.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusin"?$f:Vl]=!0,o._enter()}),te.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusout"?$f:Vl]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},te.on(this._element.closest(_E),vE,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=Ii.getDataAttributes(this._element);for(const s of Object.keys(n))G4.has(s)&&delete n[s];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Ar(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,s]of Object.entries(this._config))this.constructor.Default[n]!==s&&(e[n]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=sl.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}_s(sl);const dF="popover",fF=".popover-header",pF=".popover-body",mF={...sl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},gF={...sl.DefaultType,content:"(null|string|element|function)"};class gg extends sl{static get Default(){return mF}static get DefaultType(){return gF}static get NAME(){return dF}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[fF]:this._getTitle(),[pF]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=gg.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}_s(gg);const _F="scrollspy",vF="bs.scrollspy",_g=`.${vF}`,yF=".data-api",EF=`activate${_g}`,yE=`click${_g}`,bF=`load${_g}${yF}`,wF="dropdown-item",ra="active",TF='[data-bs-spy="scroll"]',Ff="[href]",AF=".nav, .list-group",EE=".nav-link",IF=".nav-item",CF=".list-group-item",SF=`${EE}, ${IF} > ${EE}, ${CF}`,RF=".dropdown",PF=".dropdown-toggle",OF={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},kF={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Vd extends Ds{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return OF}static get DefaultType(){return kF}static get NAME(){return _F}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Ar(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(te.off(this._config.target,yE),te.on(this._config.target,yE,Ff,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const s=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:i,behavior:"smooth"});return}s.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const l=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&l){if(s(o),!i)return;continue}!r&&!l&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Se.find(Ff,this._config.target);for(const n of e){if(!n.hash||Ir(n))continue;const s=Se.findOne(decodeURI(n.hash),this._element);tl(s)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(ra),this._activateParents(e),te.trigger(this._element,EF,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(wF)){Se.findOne(PF,e.closest(RF)).classList.add(ra);return}for(const n of Se.parents(e,AF))for(const s of Se.prev(n,SF))s.classList.add(ra)}_clearActiveClass(e){e.classList.remove(ra);const n=Se.find(`${Ff}.${ra}`,e);for(const s of n)s.classList.remove(ra)}static jQueryInterface(e){return this.each(function(){const n=Vd.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}te.on(window,bF,()=>{for(const t of Se.find(TF))Vd.getOrCreateInstance(t)});_s(Vd);const DF="tab",NF="bs.tab",xo=`.${NF}`,xF=`hide${xo}`,LF=`hidden${xo}`,VF=`show${xo}`,MF=`shown${xo}`,$F=`click${xo}`,FF=`keydown${xo}`,UF=`load${xo}`,jF="ArrowLeft",bE="ArrowRight",BF="ArrowUp",wE="ArrowDown",Uf="Home",TE="End",co="active",AE="fade",jf="show",HF="dropdown",LI=".dropdown-toggle",qF=".dropdown-menu",Bf=`:not(${LI})`,WF='.list-group, .nav, [role="tablist"]',zF=".nav-item, .list-group-item",KF=`.nav-link${Bf}, .list-group-item${Bf}, [role="tab"]${Bf}`,VI='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Hf=`${KF}, ${VI}`,GF=`.${co}[data-bs-toggle="tab"], .${co}[data-bs-toggle="pill"], .${co}[data-bs-toggle="list"]`;class ja extends Ds{constructor(e){super(e),this._parent=this._element.closest(WF),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),te.on(this._element,FF,n=>this._keydown(n)))}static get NAME(){return DF}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),s=n?te.trigger(n,xF,{relatedTarget:e}):null;te.trigger(e,VF,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(co),this._activate(Se.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(jf);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),te.trigger(e,MF,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(AE))}_deactivate(e,n){if(!e)return;e.classList.remove(co),e.blur(),this._deactivate(Se.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(jf);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),te.trigger(e,LF,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(AE))}_keydown(e){if(![jF,bE,BF,wE,Uf,TE].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(i=>!Ir(i));let s;if([Uf,TE].includes(e.key))s=n[e.key===Uf?0:n.length-1];else{const i=[bE,wE].includes(e.key);s=fg(n,e.target,i,!0)}s&&(s.focus({preventScroll:!0}),ja.getOrCreateInstance(s).show())}_getChildren(){return Se.find(Hf,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",n),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=Se.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const s=this._getOuterElement(e);if(!s.classList.contains(HF))return;const i=(r,o)=>{const l=Se.findOne(r,s);l&&l.classList.toggle(o,n)};i(LI,co),i(qF,jf),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,s){e.hasAttribute(n)||e.setAttribute(n,s)}_elemIsActive(e){return e.classList.contains(co)}_getInnerElement(e){return e.matches(Hf)?e:Se.findOne(Hf,e)}_getOuterElement(e){return e.closest(zF)||e}static jQueryInterface(e){return this.each(function(){const n=ja.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}te.on(document,$F,VI,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Ir(this)&&ja.getOrCreateInstance(this).show()});te.on(window,UF,()=>{for(const t of Se.find(GF))ja.getOrCreateInstance(t)});_s(ja);const QF="toast",YF="bs.toast",kr=`.${YF}`,XF=`mouseover${kr}`,JF=`mouseout${kr}`,ZF=`focusin${kr}`,eU=`focusout${kr}`,tU=`hide${kr}`,nU=`hidden${kr}`,sU=`show${kr}`,iU=`shown${kr}`,rU="fade",IE="hide",Mu="show",$u="showing",oU={animation:"boolean",autohide:"boolean",delay:"number"},aU={animation:!0,autohide:!0,delay:5e3};class Md extends Ds{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return aU}static get DefaultType(){return oU}static get NAME(){return QF}show(){if(te.trigger(this._element,sU).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(rU);const n=()=>{this._element.classList.remove($u),te.trigger(this._element,iU),this._maybeScheduleHide()};this._element.classList.remove(IE),Hc(this._element),this._element.classList.add(Mu,$u),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||te.trigger(this._element,tU).defaultPrevented)return;const n=()=>{this._element.classList.add(IE),this._element.classList.remove($u,Mu),te.trigger(this._element,nU)};this._element.classList.add($u),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Mu),super.dispose()}isShown(){return this._element.classList.contains(Mu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){te.on(this._element,XF,e=>this._onInteraction(e,!0)),te.on(this._element,JF,e=>this._onInteraction(e,!1)),te.on(this._element,ZF,e=>this._onInteraction(e,!0)),te.on(this._element,eU,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Md.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Nd(Md);_s(Md);const lU={name:"Footer",data(){return{modalInstance:null,selectedLangue:"fr",selectedDevise:"EUR",langues:[{value:"fr",text:"Français"},{value:"en",text:"Anglais"},{value:"es",text:"Espagnol"}],devises:[{value:"EUR",text:"Euro (€)"},{value:"USD",text:"Dollar ($)"},{value:"GBP",text:"Livre (£)"}]}},mounted(){const t=this.$refs.preferencesModal;this.modalInstance=new Co(t);const e=localStorage.getItem("langue"),n=localStorage.getItem("devise");e&&(this.selectedLangue=e),n&&(this.selectedDevise=n)},methods:{getLangueText(t){const e=this.langues.find(n=>n.value===t);return e?e.text:"Langue"},getDeviseText(t){const e=this.devises.find(n=>n.value===t);return e?e.text:"Devise"},openModal(){this.modalInstance&&this.modalInstance.show()},appliquerPreferences(){localStorage.setItem("langue",this.selectedLangue),localStorage.setItem("devise",this.selectedDevise),this.modalInstance&&this.modalInstance.hide()}}},cU={class:"modal fade",id:"preferencesModal",ref:"preferencesModal",tabindex:"-1","aria-labelledby":"preferencesModalLabel","aria-hidden":"true"},uU={class:"modal-dialog modal-dialog-centered"},hU={class:"modal-content"},dU={class:"modal-body"},fU={class:"mb-3"},pU=["value"],mU={class:"mb-3"},gU=["value"],_U={class:"modal-footer"};function vU(t,e,n,s,i,r){return re(),ae("footer",null,[e[8]||(e[8]=fh('<p class="footer-text" data-v-2af8034d>© 2025 Instant Geek</p><div class="footer-links" data-v-2af8034d><a class="footer-link" href="/about" data-v-2af8034d>À propos</a> | <a class="footer-link" href="/privacy-policy" data-v-2af8034d>Politique de confidentialité</a> | <a class="footer-link" href="/terms-of-service" data-v-2af8034d>Conditions de ventes</a> | <a class="footer-link" href="/contact" data-v-2af8034d>Nous Contacter</a></div>',2)),E("div",null,[E("button",{class:"footer-button btn btn-primary",onClick:e[0]||(e[0]=(...o)=>r.openModal&&r.openModal(...o))},we(r.getLangueText(i.selectedLangue))+" | "+we(r.getDeviseText(i.selectedDevise)),1)]),E("div",cU,[E("div",uU,[E("div",hU,[e[7]||(e[7]=E("div",{class:"modal-header"},[E("h5",{class:"modal-title",id:"preferencesModalLabel"},"Préférences"),E("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),E("div",dU,[E("form",null,[E("div",fU,[e[4]||(e[4]=E("label",{for:"langueSelect",class:"form-label"},"Langue :",-1)),as(E("select",{class:"form-select",id:"langueSelect","onUpdate:modelValue":e[1]||(e[1]=o=>i.selectedLangue=o)},[(re(!0),ae(Qe,null,Kt(i.langues,o=>(re(),ae("option",{key:o.value,value:o.value},we(o.text),9,pU))),128))],512),[[q_,i.selectedLangue]])]),E("div",mU,[e[5]||(e[5]=E("label",{for:"deviseSelect",class:"form-label"},"Devise :",-1)),as(E("select",{class:"form-select",id:"deviseSelect","onUpdate:modelValue":e[2]||(e[2]=o=>i.selectedDevise=o)},[(re(!0),ae(Qe,null,Kt(i.devises,o=>(re(),ae("option",{key:o.value,value:o.value},we(o.text),9,gU))),128))],512),[[q_,i.selectedDevise]])])])]),E("div",_U,[e[6]||(e[6]=E("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Annuler",-1)),E("button",{type:"button",class:"btn btn-primary",onClick:e[3]||(e[3]=(...o)=>r.appliquerPreferences&&r.appliquerPreferences(...o))},"Appliquer")])])])],512)])}const il=En(lU,[["render",vU],["__scopeId","data-v-2af8034d"]]),yU="/assets/img/Logo.png",vg=Gb("auth",{state:()=>({user:null,isLoading:!0,userData:null,userWishlistCount:null,_authListenerUnsubscribe:null,_wishlistListenerUnsubscribe:null}),getters:{isLoggedIn:t=>!!t.user,currentUsername:t=>t.userData&&t.userData.displayName?t.userData.displayName:t.user&&t.user.displayName?t.user.displayName:t.user&&t.user.email?t.user.email.split("@")[0]:"Invité"},actions:{initAuthListener(){this._authListenerUnsubscribe||(this._authListenerUnsubscribe=dL(Za,async t=>{if(this.isLoading=!0,t){this.user=t;const e=Pi(Vn,"users",t.uid),n=await Id(e);n.exists()?this.userData=n.data():(this.userData=null,console.warn("L'utilisateur est authentifié mais pas de données trouvées dans Firestore.")),this.listenToUserWishlist()}else this.user=null,this.userData=null,this._wishlistListenerUnsubscribe&&(this._wishlistListenerUnsubscribe(),this._wishlistListenerUnsubscribe=null),this.userWishlistCount=null;this.isLoading=!1}))},listenToUserWishlist(){if(this._wishlistListenerUnsubscribe&&this._wishlistListenerUnsubscribe(),!this.user)return;const t=Pi(Vn,"users",this.user.uid,"privateData","wishlist");this._wishlistListenerUnsubscribe=Bm(t,e=>{e.exists()&&e.data().items?this.userWishlistCount=e.data().items.length:this.userWishlistCount=0},e=>{console.error("Erreur lors de l'écoute de la wishlist:",e),this.userWishlistCount=0})},cleanupListeners(){this._authListenerUnsubscribe&&this._authListenerUnsubscribe(),this._wishlistListenerUnsubscribe&&this._wishlistListenerUnsubscribe()}}});async function EU(t,e,n){const i=(await oL(Za,t,e)).user,r=t.split("@")[0];return await cL(i,{displayName:r}),await Cd(Pi(Vn,"users",i.uid),{uid:i.uid,email:i.email,displayName:r,createdAt:new Date}),i}async function bU(t,e){return(await aL(Za,t,e)).user}async function wU(){const t=new vi,n=(await NL(Za,t)).user,s=Pi(Vn,"users",n.uid),i=await Id(s),r={uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL};return i.exists()||(r.createdAt=new Date),await Cd(s,r,{merge:!0}),n}async function TU(){await fL(Za)}async function AU(t){await rL(Za,t)}function CE(t,e,n){const s=new Date;s.setTime(s.getTime()+n*24*60*60*1e3),document.cookie=`${t}=${e};expires=${s.toUTCString()};path=/`}function IU(t){const e=document.cookie.split(";");for(let n=0;n<e.length;n++){const s=e[n].trim();if(s.startsWith(`${t}=`))return s.substring(t.length+1)}return null}const Cc=je(IU("dark-mode")==="active");function MI(){Cc.value?(document.body.classList.add("dark-mode"),CE("dark-mode","active",365)):(document.body.classList.remove("dark-mode"),CE("dark-mode","inactive",365))}MI();const SE=()=>{Cc.value=!Cc.value,MI()},tn=je(""),CU={class:"navbar navbar-expand-lg shadow-sm"},SU={class:"container-fluid"},RU={class:"navbar-center-content flex-grow-1 d-flex justify-content-center align-items-center"},PU={class:"ig-stepper"},OU={class:"navbar-nav d-none d-lg-flex position-absolute top-50 start-50 translate-middle"},kU={class:"nav-item"},DU={class:"nav-item"},NU={class:"nav-item"},xU={class:"d-flex align-items-center ms-auto"},LU={class:"nav-item dropdown"},VU={key:0,class:"bi bi-person-fill connected-profile-icon navbar-icon"},MU={key:1,class:"bi bi-person-circle navbar-icon"},$U={key:0},FU={class:"dropdown-header"},UU={class:"d-lg-none"},jU={class:"d-lg-none"},BU={class:"d-lg-none"},HU={key:1,class:"d-lg-none"},qU={key:2},WU={key:3},zU={key:0,class:"badge bg-danger rounded-pill"},KU={key:1,class:"badge bg-danger rounded-pill"},GU={key:4},QU={key:5},YU={key:6},XU={__name:"Navbar",setup(t){const e=od(),n=aw(),s=vg(),i=je(!1);let r=null;const o=je(!1),l=je(!1),c=je(null),d=je(null),h=je(!1),m=je(null),_=()=>{tn.value.trim()!==""&&n.query.q!==tn.value.trim()&&(o.value=!0,e.push({path:"/recherche",query:{q:tn.value}}))},y=()=>{_()},D=()=>{_()},N=()=>{l.value=!l.value,l.value?ho(()=>{var b;return(b=c.value)==null?void 0:b.focus()}):tn.value=""},x=()=>{l.value=!1,tn.value=""},U=()=>{setTimeout(()=>{d.value&&!d.value.contains(document.activeElement)&&x()},150)},F=()=>{h.value=!h.value,h.value?(i.value&&(r==null||r.hide()),ho(()=>{var b;return(b=m.value)==null?void 0:b.focus()})):tn.value=""},H=()=>{h.value=!1,tn.value=""},j=async()=>{try{await TU()}catch(b){console.error("Erreur lors de la déconnexion :",b)}},ne=()=>{r&&(i.value?r.hide():r.show()),h.value&&H()};let ie=null;fs(()=>{n.path==="/recherche"&&n.query.q&&(tn.value=n.query.q);const b=document.getElementById("navbarDropdownProfile");b&&(r=new Rs(b),b.addEventListener("show.bs.dropdown",()=>i.value=!0),b.addEventListener("hide.bs.dropdown",()=>i.value=!1))}),Cs(tn,b=>{b.trim()!==""?_():n.path==="/recherche"&&e.push("/")}),Cs(()=>n.fullPath,(b,A)=>{b!==A&&(o.value?(ho(()=>{l.value&&c.value?c.value.focus():h.value&&m.value&&m.value.focus()}),o.value=!1):(i.value&&(r==null||r.hide()),l.value&&x(),h.value&&H()))},{flush:"post"});const k=jt(()=>["/panier","/paiement","/validation"].includes(n.path)),I=jt(()=>{switch(n.path){case"/panier":return 1;case"/paiement":return 2;case"/validation":return 3;default:return 0}});return Cs(()=>s.user,b=>{if(ie&&ie(),b){const A=Pi(Vn,"users",b.uid,"privateData","wishlist");ie=Bm(A,P=>{s.userWishlistCount=P.exists()&&P.data().items?P.data().items.length:0})}else s.userWishlistCount=null},{immediate:!0}),(b,A)=>{const P=Ro("router-link");return re(),ae("nav",CU,[E("div",SU,[Te(P,{class:"navbar-brand fw-bold me-auto",to:"/"},{default:Rt(()=>A[3]||(A[3]=[E("img",{src:yU,alt:"Logo",width:"150",height:"50",class:"d-inline-block align-text-top"},null,-1)])),_:1}),k.value?(re(),ae(Qe,{key:0},[E("div",RU,[E("div",PU,[E("div",{class:Pn(["step",{completed:I.value>1,active:I.value===1}])},A[4]||(A[4]=[E("div",{class:"step-circle"},"1",-1),E("div",{class:"step-label"},"Panier",-1)]),2),E("div",{class:Pn(["step-line",{completed:I.value>=2}])},null,2),E("div",{class:Pn(["step",{completed:I.value>2,active:I.value===2}])},A[5]||(A[5]=[E("div",{class:"step-circle"},"2",-1),E("div",{class:"step-label"},"Paiement",-1)]),2),E("div",{class:Pn(["step-line",{completed:I.value>=3}])},null,2),E("div",{class:Pn(["step",{completed:I.value>3,active:I.value===3}])},A[6]||(A[6]=[E("div",{class:"step-circle"},"3",-1),E("div",{class:"step-label"},"Validation",-1)]),2)])]),A[7]||(A[7]=fh('<div class="secure-payment-cart d-flex align-items-center ms-auto" data-v-a23f2b89><i class="bi bi-check-circle-fill secure-icon-cart me-2" data-v-a23f2b89></i><div class="text-end" data-v-a23f2b89><span class="secure-text-cart d-block" data-v-a23f2b89>Paiement sécurisé</span><span class="ssl-text-cart d-block" data-v-a23f2b89>SSL Secured</span></div></div>',1))],64)):(re(),ae(Qe,{key:1},[E("form",{class:Pn(["search-form-mobile d-lg-none",{active:h.value}]),onSubmit:ro(D,["prevent"])},[as(E("input",{class:"form-control me-2 search-input-mobile",type:"search",placeholder:"Rechercher...","aria-label":"Search","onUpdate:modelValue":A[0]||(A[0]=S=>Pt(tn)?tn.value=S:null),ref_key:"searchInputMobileRef",ref:m},null,512),[[Ws,lt(tn)]]),E("button",{class:"btn search-close-btn-mobile",type:"button",onClick:H},A[8]||(A[8]=[E("i",{class:"bi bi-x-lg"},null,-1)]))],34),E("ul",OU,[E("li",kU,[Te(P,{class:"nav-link",to:"/nouveautes"},{default:Rt(()=>A[9]||(A[9]=[pn("Nouveautés")])),_:1})]),E("li",DU,[Te(P,{class:"nav-link",to:"/precommandes"},{default:Rt(()=>A[10]||(A[10]=[pn("Précommandes")])),_:1})]),E("li",NU,[Te(P,{class:"nav-link",to:"/prochaines-sorties"},{default:Rt(()=>A[11]||(A[11]=[pn("Prochaines sorties")])),_:1})])]),E("div",xU,[Te(S_,{name:"fade"},{default:Rt(()=>[h.value?ws("",!0):(re(),ae("button",{key:0,class:"btn btn-outline-secondary d-lg-none search-icon-mobile",type:"button",onClick:F},A[12]||(A[12]=[E("i",{class:"bi bi-search navbar-icon"},null,-1)])))]),_:1}),Te(S_,{name:"fade"},{default:Rt(()=>[l.value?ws("",!0):(re(),ae("button",{key:0,class:"btn btn-outline-secondary d-none d-lg-block search-icon-desktop",type:"button",onClick:N},A[13]||(A[13]=[E("i",{class:"bi bi-search navbar-icon"},null,-1)])))]),_:1}),E("form",{class:Pn(["search-form d-none d-lg-flex",{active:l.value}]),onSubmit:ro(y,["prevent"]),ref_key:"searchFormRef",ref:d},[as(E("input",{class:"form-control me-2 search-input",type:"search",placeholder:"Rechercher...","aria-label":"Search","onUpdate:modelValue":A[1]||(A[1]=S=>Pt(tn)?tn.value=S:null),ref_key:"searchInputRef",ref:c,onBlur:U},null,544),[[Ws,lt(tn)]]),l.value?(re(),ae("button",{key:0,class:"btn search-close-btn",type:"button",onClick:x},A[14]||(A[14]=[E("i",{class:"bi bi-x-lg"},null,-1)]))):ws("",!0)],34),E("div",LU,[E("a",{class:"nav-link text ms-2 dropdown-toggle-no-caret",href:"#",id:"navbarDropdownProfile",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:ne},[lt(s).isLoggedIn?(re(),ae("i",VU)):(re(),ae("i",MU))]),E("ul",{class:Pn(["dropdown-menu dropdown-menu-end profile-dropdown-menu",{show:i.value}]),"aria-labelledby":"navbarDropdownProfile"},[lt(s).isLoggedIn?(re(),ae("li",$U,[E("span",FU,"Bienvenue, "+we(lt(s).currentUsername)+"!",1),A[15]||(A[15]=E("hr",{class:"dropdown-divider"},null,-1))])):ws("",!0),E("li",UU,[Te(P,{class:"dropdown-item",to:"/nouveautes"},{default:Rt(()=>A[16]||(A[16]=[pn("Nouveautés")])),_:1})]),E("li",jU,[Te(P,{class:"dropdown-item",to:"/precommandes"},{default:Rt(()=>A[17]||(A[17]=[pn("Précommandes")])),_:1})]),E("li",BU,[Te(P,{class:"dropdown-item",to:"/prochaines-sorties"},{default:Rt(()=>A[18]||(A[18]=[pn("Prochaines sorties")])),_:1})]),lt(s).isLoggedIn?ws("",!0):(re(),ae("li",HU,A[19]||(A[19]=[E("hr",{class:"dropdown-divider"},null,-1)]))),lt(s).isLoggedIn?(re(),ae("li",qU,[Te(P,{class:"dropdown-item",to:"/mes-achats"},{default:Rt(()=>A[20]||(A[20]=[pn("Mes achats")])),_:1})])):ws("",!0),lt(s).isLoggedIn?(re(),ae("li",WU,[Te(P,{class:"dropdown-item d-flex justify-content-between align-items-center",to:"/wishlist"},{default:Rt(()=>[A[21]||(A[21]=pn("Wishlist ")),lt(s).userWishlistCount!==null?(re(),ae("span",zU,we(lt(s).userWishlistCount),1)):(re(),ae("span",KU,"0"))]),_:1})])):ws("",!0),lt(s).isLoggedIn?(re(),ae("li",GU,[Te(P,{class:"dropdown-item",to:"/parametres"},{default:Rt(()=>A[22]||(A[22]=[pn("Paramètres")])),_:1})])):ws("",!0),lt(s).isLoggedIn?(re(),ae("li",QU,A[23]||(A[23]=[E("hr",{class:"dropdown-divider"},null,-1)]))):ws("",!0),E("li",null,[E("button",{class:"dropdown-item d-flex justify-content-between align-items-center",onClick:A[2]||(A[2]=ro((...S)=>lt(SE)&&lt(SE)(...S),["stop"]))},[E("span",null,we(lt(Cc)?"Mode clair":"Mode sombre"),1),E("i",{class:Pn(lt(Cc)?"bi bi-sun-fill":"bi bi-moon-stars-fill")},null,2)])]),lt(s).isLoggedIn?(re(),ae("li",YU,A[24]||(A[24]=[E("hr",{class:"dropdown-divider"},null,-1)]))):ws("",!0),E("li",null,[lt(s).isLoggedIn?(re(),ae("a",{key:1,class:"dropdown-item custom-auth-link",href:"#",onClick:ro(j,["prevent"])},"Déconnexion")):(re(),$b(P,{key:0,class:"dropdown-item custom-auth-link",to:"/connexion"},{default:Rt(()=>A[25]||(A[25]=[pn("Se connecter")])),_:1}))])],2)]),Te(P,{class:"nav-link text ms-2",to:"/panier"},{default:Rt(()=>A[26]||(A[26]=[E("i",{class:"bi bi-cart3 navbar-icon"},null,-1)])),_:1})])],64))])])}}},Lo=En(XU,[["__scopeId","data-v-a23f2b89"]]),JU={__name:"Accueil",setup(t){return(e,n)=>(re(),ae(Qe,null,[Te(Lo),Te(c1),Te(VV),Te(XV),Te(aM),Te(il)],64))}},ZU={class:"container-fluid py-2 preco"},e3={id:"precoIn"},t3={class:"game-card"},n3=["href"],s3=["src","alt"],i3={class:"game-text"},r3={class:"titre"},o3={class:"prix"},a3={class:"dateSortie"},l3={__name:"NewGames",setup(t){const e=je([]),n=async()=>{const s=Qa(Vn,"games"),i=new Date;i.setHours(0,0,0,0);const r=new Date(i);r.setDate(i.getDate()-180);const o=Ya(s,bo("dateSortie",">=",r),bo("dateSortie","<=",i),Mc("dateSortie"));try{const l=await Xa(o);e.value=[],l.forEach(c=>{const d=c.data();e.value.push({id:c.id,titre:d.name,link:d.link,image:d.image,price:`${d.price}€`,date:d.dateSortie.toDate().toLocaleDateString("fr-FR")})})}catch(l){console.error("Erreur lors de la récupération des jeux :",l)}};return fs(()=>{n()}),(s,i)=>(re(),ae("div",ZU,[E("div",null,[i[0]||(i[0]=E("h1",{class:"mt-3 mb-5"},"Nouveautés",-1)),E("ul",e3,[(re(!0),ae(Qe,null,Kt(e.value,r=>(re(),ae("li",{key:r.id},[E("div",t3,[E("a",{href:r.link},[E("img",{src:`/assets/img/preview/${r.image}`,alt:r.titre},null,8,s3)],8,n3),E("div",i3,[E("h3",r3,we(r.titre),1),E("h3",o3,we(r.price),1)]),E("p",a3,we(r.date),1)])]))),128))])])]))}},c3=En(l3,[["__scopeId","data-v-002e5fe0"]]),u3={__name:"Nouveautes",setup(t){return(e,n)=>(re(),ae(Qe,null,[Te(Lo),E("div",null,[Te(c3)]),Te(il)],64))}},h3={class:"container-fluid py-2 preco"},d3={id:"precoIn"},f3={class:"game-card"},p3=["src","alt"],m3={class:"game-text"},g3={class:"titre"},_3={class:"prix"},v3={class:"dateSortie"},y3={__name:"PrecoPage",setup(t){const e=je([]),n=async()=>{const s=Qa(Vn,"games"),i=new Date;i.setHours(0,0,0,0);const r=Ya(s,bo("dateSortie",">=",i),Mc("dateSortie"));try{const o=await Xa(r);e.value=[],o.forEach(l=>{const c=l.data();e.value.push({id:l.id,titre:c.name,link:c.link,image:c.image,price:`${c.price}€`,date:c.dateSortie.toDate().toLocaleDateString("fr-FR")})})}catch(o){console.error("Erreur lors de la récupération des jeux :",o)}};return fs(()=>{n()}),(s,i)=>{const r=Ro("router-link");return re(),ae("div",h3,[E("div",null,[i[0]||(i[0]=E("h1",{class:"mt-3"},"Précommandes",-1)),i[1]||(i[1]=E("p",{class:"mb-5"},"Réservez dès maintenant les articles à venir.",-1)),E("ul",d3,[(re(!0),ae(Qe,null,Kt(e.value,o=>(re(),ae("li",{key:o.id},[E("div",f3,[Te(r,{class:"nav-link",to:`/game/${o.id}`},{default:Rt(()=>[E("img",{src:`/assets/img/preview/${o.image}`,alt:o.titre},null,8,p3)]),_:2},1032,["to"]),E("div",m3,[E("h3",g3,we(o.titre),1),E("h3",_3,we(o.price),1)]),E("p",v3,we(o.date),1)])]))),128))])])])}}},E3=En(y3,[["__scopeId","data-v-0b0feb13"]]),b3={__name:"Precommandes",setup(t){return(e,n)=>(re(),ae(Qe,null,[Te(Lo),E("div",null,[Te(E3)]),Te(il)],64))}},w3={class:"container-fluid py-2 preco"},T3={id:"precoIn"},A3={class:"game-card GameJuill"},I3=["href"],C3=["src","alt"],S3={class:"game-text"},R3={class:"titre"},P3={class:"prix"},O3={class:"dateSortie"},k3={id:"precoIn"},D3={class:"game-card GameAout"},N3=["href"],x3=["src","alt"],L3={class:"game-text"},V3={class:"titre"},M3={class:"prix"},$3={class:"dateSortie"},F3={id:"precoIn"},U3={class:"game-card GameAout"},j3=["href"],B3=["src","alt"],H3={class:"game-text"},q3={class:"titre"},W3={class:"prix"},z3={class:"dateSortie"},K3={id:"precoIn"},G3={class:"game-card GameAout"},Q3=["href"],Y3=["src","alt"],X3={class:"game-text"},J3={class:"titre"},Z3={class:"prix"},e6={class:"dateSortie"},t6={id:"precoIn"},n6={class:"game-card GameAout"},s6=["href"],i6=["src","alt"],r6={class:"game-text"},o6={class:"titre"},a6={class:"prix"},l6={class:"dateSortie"},c6={id:"precoIn"},u6={class:"game-card GameAout"},h6=["href"],d6=["src","alt"],f6={class:"game-text"},p6={class:"titre"},m6={class:"prix"},g6={class:"dateSortie"},_6={__name:"PlanningSortie",setup(t){const e=je([]),n=je([]),s=je([]),i=je([]),r=je([]),o=je([]),l=async()=>{const c=Qa(Vn,"games"),d=new Date("2025-07-01T00:00:00"),h=new Date("2025-12-31T23:59:59"),m=Ya(c,bo("dateSortie",">=",d),bo("dateSortie","<=",h),Mc("dateSortie"));try{const _=await Xa(m);e.value=[],n.value=[],s.value=[],i.value=[],r.value=[],o.value=[],_.forEach(y=>{const D=y.data(),N=D.dateSortie.toDate(),x={id:y.id,titre:D.name,link:D.link,image:D.image,price:`${D.price}€`,date:N.toLocaleDateString("fr-FR")};switch(N.getMonth()){case 6:e.value.push(x);break;case 7:n.value.push(x);break;case 8:s.value.push(x);break;case 9:i.value.push(x);break;case 10:r.value.push(x);break;case 11:o.value.push(x);break}})}catch(_){console.error("Erreur lors de la récupération des jeux :",_)}};return fs(()=>{l()}),(c,d)=>(re(),ae("div",w3,[E("div",null,[d[0]||(d[0]=E("h1",{class:"mt-3 mb-5"},"Prochaines sorties",-1)),d[1]||(d[1]=E("h2",{class:"text-center"},[E("u",null,"Juillet")],-1)),d[2]||(d[2]=E("br",null,null,-1)),E("ul",T3,[(re(!0),ae(Qe,null,Kt(e.value,h=>(re(),ae("li",{key:h.id},[E("div",A3,[E("a",{href:h.link},[E("img",{src:`/assets/img/preview/${h.image}`,alt:h.titre},null,8,C3)],8,I3),E("div",S3,[E("h3",R3,we(h.titre),1),E("h3",P3,we(h.price),1)]),E("p",O3,we(h.date),1)])]))),128))]),d[3]||(d[3]=E("h2",{class:"text-center mt-4 mb-5"},[E("u",null,"Août")],-1)),E("ul",k3,[(re(!0),ae(Qe,null,Kt(n.value,h=>(re(),ae("li",{key:h.id},[E("div",D3,[E("a",{href:h.link},[E("img",{src:`/assets/img/preview/${h.image}`,alt:h.titre},null,8,x3)],8,N3),E("div",L3,[E("h3",V3,we(h.titre),1),E("h3",M3,we(h.price),1)]),E("p",$3,we(h.date),1)])]))),128))]),d[4]||(d[4]=E("h2",{class:"text-center mt-4 mb-5"},[E("u",null,"Septembre")],-1)),E("ul",F3,[(re(!0),ae(Qe,null,Kt(s.value,h=>(re(),ae("li",{key:h.id},[E("div",U3,[E("a",{href:h.link},[E("img",{src:`/assets/img/preview/${h.image}`,alt:h.titre},null,8,B3)],8,j3),E("div",H3,[E("h3",q3,we(h.titre),1),E("h3",W3,we(h.price),1)]),E("p",z3,we(h.date),1)])]))),128))]),d[5]||(d[5]=E("h2",{class:"text-center mt-4 mb-5"},[E("u",null,"Octobre")],-1)),E("ul",K3,[(re(!0),ae(Qe,null,Kt(i.value,h=>(re(),ae("li",{key:h.id},[E("div",G3,[E("a",{href:h.link},[E("img",{src:`/assets/img/preview/${h.image}`,alt:h.titre},null,8,Y3)],8,Q3),E("div",X3,[E("h3",J3,we(h.titre),1),E("h3",Z3,we(h.price),1)]),E("p",e6,we(h.date),1)])]))),128))]),d[6]||(d[6]=E("h2",{class:"text-center mt-4 mb-5"},[E("u",null,"Novembre")],-1)),E("ul",t6,[(re(!0),ae(Qe,null,Kt(r.value,h=>(re(),ae("li",{key:h.id},[E("div",n6,[E("a",{href:h.link},[E("img",{src:`/assets/img/preview/${h.image}`,alt:h.titre},null,8,i6)],8,s6),E("div",r6,[E("h3",o6,we(h.titre),1),E("h3",a6,we(h.price),1)]),E("p",l6,we(h.date),1)])]))),128))]),d[7]||(d[7]=E("h2",{class:"text-center mt-4 mb-5"},[E("u",null,"Décembre")],-1)),E("ul",c6,[(re(!0),ae(Qe,null,Kt(o.value,h=>(re(),ae("li",{key:h.id},[E("div",u6,[E("a",{href:h.link},[E("img",{src:`/assets/img/preview/${h.image}`,alt:h.titre},null,8,d6)],8,h6),E("div",f6,[E("h3",p6,we(h.titre),1),E("h3",m6,we(h.price),1)]),E("p",g6,we(h.date),1)])]))),128))])])]))}},v6=En(_6,[["__scopeId","data-v-e8362f0c"]]),y6={__name:"ProchainesSorties",setup(t){return(e,n)=>(re(),ae(Qe,null,[Te(Lo),E("div",null,[Te(v6)]),Te(il)],64))}},E6="/assets/img/inscription.jpg",b6={class:"login-page-wrapper vh-100 d-flex align-items-center justify-content-center"},w6={class:"login-card-container d-flex shadow-lg"},T6={class:"login-form-section p-4 d-flex flex-column justify-content-center align-items-center text-center"},A6={class:"form-group mb-3 text-start"},I6={class:"form-group mb-3 text-start"},C6={class:"form-group mb-3 text-start"},S6={class:"form-group mb-3 text-start"},R6={class:"form-group mb-3 text-start"},P6={class:"form-group mb-4 text-start"},O6={class:"d-flex justify-content-center w-100 mt-4 small-links"},k6={class:"login-image-section d-none d-md-flex align-items-center justify-content-center p-0"},D6={__name:"Inscription",setup(t){const e=je(""),n=je(""),s=je(""),i=je(""),r=je(""),o=je(""),l=od();async function c(){try{const d=await EU(e.value,n.value);if(d&&d.uid)await Cd(Pi(Vn,"users",d.uid),{email:e.value,username:s.value,firstname:i.value,birthdate:r.value,country:o.value,createdAt:new Date},{merge:!0}),alert("Compte créé avec succès !"),l.push("/");else throw new Error("L'utilisateur n'a pas été créé correctement par Firebase.")}catch(d){alert("Erreur lors de l'inscription : "+d.message)}}return(d,h)=>{const m=Ro("router-link");return re(),ae("div",b6,[E("div",w6,[E("div",T6,[h[14]||(h[14]=E("h2",{class:"login-title mb-4 text-white"},"inscription",-1)),E("form",{onSubmit:ro(c,["prevent"]),class:"w-100"},[E("div",A6,[h[6]||(h[6]=E("label",{for:"email",class:"form-label text-uppercase text-white-50"},"Email",-1)),as(E("input",{id:"email","onUpdate:modelValue":h[0]||(h[0]=_=>e.value=_),type:"email",class:"form-control login-input",required:"","aria-label":"Email"},null,512),[[Ws,e.value]])]),E("div",I6,[h[7]||(h[7]=E("label",{for:"password",class:"form-label text-uppercase text-white-50"},"Mot de passe",-1)),as(E("input",{id:"password","onUpdate:modelValue":h[1]||(h[1]=_=>n.value=_),type:"password",class:"form-control login-input",required:"","aria-label":"Mot de passe"},null,512),[[Ws,n.value]])]),E("div",C6,[h[8]||(h[8]=E("label",{for:"username",class:"form-label text-uppercase text-white-50"},"Nom",-1)),as(E("input",{id:"username","onUpdate:modelValue":h[2]||(h[2]=_=>s.value=_),type:"text",class:"form-control login-input",required:"","aria-label":"Nom d'utilisateur"},null,512),[[Ws,s.value]])]),E("div",S6,[h[9]||(h[9]=E("label",{for:"firstname",class:"form-label text-uppercase text-white-50"},"Prénom",-1)),as(E("input",{id:"firstname","onUpdate:modelValue":h[3]||(h[3]=_=>i.value=_),type:"text",class:"form-control login-input",required:"","aria-label":"Prénom"},null,512),[[Ws,i.value]])]),E("div",R6,[h[10]||(h[10]=E("label",{for:"birthdate",class:"form-label text-uppercase text-white-50"},"Date de naissance",-1)),as(E("input",{id:"birthdate","onUpdate:modelValue":h[4]||(h[4]=_=>r.value=_),type:"date",class:"form-control login-input",required:"","aria-label":"Date de naissance"},null,512),[[Ws,r.value]])]),E("div",P6,[h[11]||(h[11]=E("label",{for:"country",class:"form-label text-uppercase text-white-50"},"Pays",-1)),as(E("input",{id:"country","onUpdate:modelValue":h[5]||(h[5]=_=>o.value=_),type:"text",class:"form-control login-input",required:"","aria-label":"Pays"},null,512),[[Ws,o.value]])]),h[12]||(h[12]=E("button",{type:"submit",class:"btn login-btn w-100"},"valider",-1))],32),E("div",O6,[Te(m,{to:"/connexion",class:"text-decoration-none text-white-50"},{default:Rt(()=>h[13]||(h[13]=[E("i",{class:"bi bi-arrow-left me-2"},null,-1),pn(" RETOUR ")])),_:1})])]),E("div",k6,[Te(m,{to:"/",class:"close-button","aria-label":"Retour à l'accueil"},{default:Rt(()=>h[15]||(h[15]=[E("i",{class:"bi bi-x-lg"},null,-1)])),_:1}),h[16]||(h[16]=E("img",{src:E6,alt:"Illustration de jeux vidéo pour l'inscription",class:"img-fluid login-background-image"},null,-1))])])])}}},N6=En(D6,[["__scopeId","data-v-826e79dc"]]),x6="/assets/img/connexion.jpg",L6={class:"login-page-wrapper vh-100 d-flex align-items-center justify-content-center"},V6={class:"login-card-container d-flex shadow-lg"},M6={class:"login-form-section p-4 d-flex flex-column justify-content-center align-items-center text-center"},$6={class:"form-group mb-3 text-start"},F6={class:"form-group mb-4 text-start"},U6={class:"d-flex justify-content-between w-100 mt-3 small-links"},j6={class:"login-image-section d-none d-md-flex align-items-center justify-content-center p-0"},B6={__name:"Connexion",setup(t){const e=je(""),n=je(""),s=od();async function i(){try{await bU(e.value,n.value),alert("Connexion réussie !"),s.push("/")}catch(l){alert("Erreur lors de la connexion : "+l.message)}}async function r(){try{await wU(),alert("Connexion Google réussie !"),s.push("/")}catch(l){alert("Erreur avec Google : "+l.message)}}async function o(){if(!e.value){alert('Veuillez entrer votre adresse email dans le champ "Email" pour réinitialiser votre mot de passe.');return}try{await AU(e.value),alert("Un e-mail de réinitialisation de mot de passe a été envoyé à "+e.value+". Veuillez vérifier votre boîte de réception.")}catch(l){alert("Erreur lors de l'envoi de l'e-mail de réinitialisation : "+l.message)}}return(l,c)=>{const d=Ro("router-link");return re(),ae("div",L6,[E("div",V6,[E("div",M6,[c[9]||(c[9]=E("h2",{class:"login-title mb-4"},"Se connecter",-1)),E("div",{class:"social-icons d-flex justify-content-center w-100 mb-4"},[E("button",{onClick:r,class:"btn social-icon-btn google-btn me-3","aria-label":"Se connecter avec Google"},c[2]||(c[2]=[E("i",{class:"bi bi-google"},null,-1)])),c[3]||(c[3]=E("button",{class:"btn social-icon-btn discord-btn me-3","aria-label":"Se connecter avec Discord"},[E("i",{class:"bi bi-discord"})],-1)),c[4]||(c[4]=E("button",{class:"btn social-icon-btn facebook-btn","aria-label":"Se connecter avec Facebook"},[E("i",{class:"bi bi-facebook"})],-1))]),c[10]||(c[10]=E("div",{class:"social-login-separator my-3"},"— ou —",-1)),E("form",{onSubmit:ro(i,["prevent"]),class:"w-100"},[E("div",$6,[c[5]||(c[5]=E("label",{for:"email",class:"form-label text-uppercase"},"Email",-1)),as(E("input",{id:"email","onUpdate:modelValue":c[0]||(c[0]=h=>e.value=h),type:"email",class:"form-control login-input",required:"","aria-label":"Email"},null,512),[[Ws,e.value]])]),E("div",F6,[c[6]||(c[6]=E("label",{for:"password",class:"form-label text-uppercase"},"Mot de passe",-1)),as(E("input",{id:"password","onUpdate:modelValue":c[1]||(c[1]=h=>n.value=h),type:"password",class:"form-control login-input",required:"","aria-label":"Mot de passe"},null,512),[[Ws,n.value]])]),c[7]||(c[7]=E("button",{type:"submit",class:"btn login-btn w-100"},"Se connecter",-1))],32),E("div",U6,[Te(d,{to:"/inscription",class:"text-decoration-none"},{default:Rt(()=>c[8]||(c[8]=[pn(" J'ai besoin de compte ? ")])),_:1}),E("a",{href:"#",onClick:ro(o,["prevent"]),class:"text-decoration-none"}," Mot de passe oublié ? ")])]),E("div",j6,[Te(d,{to:"/",class:"close-button","aria-label":"Retour à l'accueil"},{default:Rt(()=>c[11]||(c[11]=[E("i",{class:"bi bi-x-lg"},null,-1)])),_:1}),c[12]||(c[12]=E("img",{src:x6,alt:"Illustration de jeux vidéo",class:"img-fluid login-background-image"},null,-1))])])])}}},H6=En(B6,[["__scopeId","data-v-6422ba25"]]),Fu="guestCart",$I=Gb("cart",()=>{const t=je([]),e=vg();let n=null;const s=jt(()=>t.value.reduce((y,D)=>y+D.quantity,0)),i=jt(()=>t.value.reduce((D,N)=>D+N.price*N.quantity,0).toFixed(2));async function r(){if(e.isLoggedIn&&e.user){const y=Pi(Vn,"users",e.user.uid,"privateData","cart");await Cd(y,{items:JSON.parse(JSON.stringify(t.value))})}}function o(){e.isLoggedIn||localStorage.setItem(Fu,JSON.stringify(t.value))}function l(y){const D=t.value.find(N=>N.id===y.id);D?D.quantity++:t.value.push({...y,quantity:1}),e.isLoggedIn?r():o()}function c(y){t.value=t.value.filter(D=>D.id!==y),e.isLoggedIn?r():o()}function d(y){const D=t.value.find(N=>N.id===y);D&&D.quantity++,e.isLoggedIn?r():o()}function h(y){const D=t.value.find(N=>N.id===y);if(D&&D.quantity>1)D.quantity--;else if(D&&D.quantity===1){c(y);return}e.isLoggedIn?r():o()}function m(){t.value=[],e.isLoggedIn?r():o()}async function _(){Cs(()=>e.user,async(y,D)=>{if(n&&(n(),n=null),y){const N=Pi(Vn,"users",y.uid,"privateData","cart"),x=JSON.parse(localStorage.getItem(Fu)||"[]"),U=await Id(N),H=[...U.exists()?U.data().items:[]];x.forEach(j=>{const ne=H.find(ie=>ie.id===j.id);ne?ne.quantity+=j.quantity:H.push(j)}),t.value=H,await r(),localStorage.removeItem(Fu),n=Bm(N,j=>{t.value=j.exists()?j.data().items:[]})}else{const N=JSON.parse(localStorage.getItem(Fu)||"[]");t.value=N}},{immediate:!0})}return{items:t,totalItems:s,totalPrice:i,addItem:l,removeItem:c,increaseQuantity:d,decreaseQuantity:h,clearCart:m,init:_}}),q6={class:"panier-container container py-5"},W6={class:"row g-4 mt-4"},z6={class:"col-lg-8"},K6={class:"cart-items-list"},G6={key:0,class:"empty-cart-message"},Q6=["src","alt"],Y6={class:"item-details"},X6={class:"item-name"},J6={class:"item-price-unit"},Z6={class:"item-quantity-controls"},e9=["onClick"],t9={class:"quantity-display"},n9=["onClick"],s9={class:"item-subtotal"},i9={class:"mb-0"},r9=["onClick"],o9={class:"col-lg-4"},a9={class:"order-summary"},l9={class:"summary-details mt-4"},c9={class:"d-flex justify-content-between fw-bold summary-total-final"},u9={class:"display-6"},h9=["disabled"],d9={__name:"Panier",setup(t){const e=$I();return od(),(n,s)=>{const i=Ro("router-link");return re(),ae(Qe,null,[Te(Lo),E("div",q6,[E("div",W6,[E("div",z6,[E("div",K6,[lt(e).items.length===0?(re(),ae("div",G6,[s[1]||(s[1]=E("i",{class:"bi bi-bag-fill empty-cart-icon"},null,-1)),s[2]||(s[2]=E("h3",null,"Votre panier est vide.",-1)),s[3]||(s[3]=E("p",null,"Découvrez notre catalogue de jeux et remplissez votre collection !",-1)),Te(i,{to:"/",class:"btn btn-primary mt-3"},{default:Rt(()=>s[0]||(s[0]=[pn("Explorer le catalogue")])),_:1})])):(re(!0),ae(Qe,{key:1},Kt(lt(e).items,r=>(re(),ae("div",{key:r.id,class:"cart-item"},[E("img",{src:r.image,alt:r.name,class:"item-image"},null,8,Q6),E("div",Y6,[E("h5",X6,we(r.name),1),E("p",J6,we(r.price)+" €",1)]),E("div",Z6,[E("button",{class:"btn-quantity",onClick:o=>lt(e).decreaseQuantity(r.id)},s[4]||(s[4]=[E("i",{class:"bi bi-dash"},null,-1)]),8,e9),E("span",t9,we(r.quantity),1),E("button",{class:"btn-quantity",onClick:o=>lt(e).increaseQuantity(r.id)},s[5]||(s[5]=[E("i",{class:"bi bi-plus"},null,-1)]),8,n9)]),E("div",s9,[E("p",i9,we((r.price*r.quantity).toFixed(2))+" €",1)]),E("button",{class:"btn-delete",onClick:o=>lt(e).removeItem(r.id)},s[6]||(s[6]=[E("i",{class:"bi bi-trash-fill"},null,-1)]),8,r9)]))),128))])]),E("div",o9,[E("div",a9,[s[10]||(s[10]=E("h3",{class:"summary-title"},"RÉSUMÉ DE LA COMMANDE",-1)),E("div",l9,[E("div",c9,[s[7]||(s[7]=E("span",null,"TOTAL :",-1)),E("span",u9,we(lt(e).totalPrice)+" €",1)]),s[8]||(s[8]=E("p",{class:"mt-3 text-muted small"}," *Livraison instantanée par clé numérique. ",-1))]),E("button",{class:"btn-validate",disabled:lt(e).items.length===0}," VALIDER MA COMMANDE ",8,h9),Te(i,{to:"/",class:"btn btn-continue-shopping mt-3"},{default:Rt(()=>s[9]||(s[9]=[pn(" Continuer mes achats ")])),_:1})])])])])],64)}}},f9=En(d9,[["__scopeId","data-v-dc125d97"]]),p9={key:0,class:"container-fluid py-2 gameDetail"},m9={key:0},g9={class:"title"},_9={class:"game-info"},v9={class:"tags"},y9={class:"tag-list"},E9={class:"synopsis"},b9={class:"game-details"},w9={class:"infos"},T9={class:"infos1"},A9={class:"paltform"},I9={class:"price"},C9={key:1},S9=["src","alt"],R9={class:"desktop"},P9={class:"title"},O9={class:"game-info"},k9={class:"tags"},D9={class:"tag-list"},N9={class:"synopsis"},x9={class:"game-details"},L9={class:"infos"},V9={class:"infos1"},M9={class:"paltform"},$9={class:"price"},F9={key:1},U9={__name:"GameDetail",setup(t){const e=aw(),n=je(e.params.id),s=je(null),i=async l=>{try{const c=Pi(Vn,"games",l),d=await Id(c);if(d.exists()){const h=d.data();s.value={id:d.id,titre:h.name,link:h.link,image:h.image,price:`${h.price}€`,date:h.dateSortie.toDate().toLocaleDateString("fr-FR"),description:h.description,tags:h.tag,platform:h.plateforme}}else router.replace({name:"not-found"})}catch(c){console.error("Erreur lors de la récupération du jeu :",c)}};fs(()=>{n.value&&i(n.value)}),Cs(()=>e.params.id,l=>{n.value=l,i(l)});const r=je(window.innerWidth<768),o=()=>{r.value=window.innerWidth<768};return fs(()=>{window.addEventListener("resize",o)}),Zh(()=>{window.removeEventListener("resize",o)}),(l,c)=>s.value?(re(),ae("div",p9,[r.value?(re(),ae("div",m9,[E("div",{class:"background",style:mo({backgroundImage:`url(/assets/img/preview/${s.value.image})`})},[E("h1",g9,we(s.value.titre),1),E("div",_9,[E("h3",v9,[E("ul",y9,[(re(!0),ae(Qe,null,Kt(s.value.tags,(d,h)=>(re(),ae("li",{key:h,class:"tag"},we(d),1))),128))])]),E("p",E9,[Te(VA,{text:s.value.description,maxLength:200},null,8,["text"])])])],4),E("div",b9,[E("div",w9,[E("div",T9,[E("div",A9,[E("h3",null,we(s.value.platform),1)]),c[0]||(c[0]=E("p",null,"|",-1)),c[1]||(c[1]=E("div",{class:"stock"},[E("h3",null,"En stock")],-1))]),E("h3",I9,we(s.value.price),1)]),c[2]||(c[2]=fh('<div class="buttons" data-v-5eefd4b8><button class="favorite" data-v-5eefd4b8>favoris</button><button class="cart" data-v-5eefd4b8><h3 data-v-5eefd4b8>Ajouter au panier</h3> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-v-5eefd4b8>!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--&gt; <path d="M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z" data-v-5eefd4b8></path></svg></button></div><div class="description" data-v-5eefd4b8><h3 data-v-5eefd4b8>description</h3></div>',2))])])):(re(),ae("div",C9,[E("div",{class:"background",style:mo({backgroundImage:`url(/assets/img/preview/${s.value.image})`})},[E("div",null,[E("img",{src:`/assets/img/preview/${s.value.image}`,alt:s.value.titre},null,8,S9)]),E("div",R9,[E("h1",P9,we(s.value.titre),1),E("div",O9,[E("h3",k9,[E("ul",D9,[(re(!0),ae(Qe,null,Kt(s.value.tags,(d,h)=>(re(),ae("li",{key:h,class:"tag"},we(d),1))),128))])]),E("p",N9,we(s.value.description),1)]),E("div",x9,[E("div",L9,[E("div",V9,[E("div",M9,[E("h3",null,we(s.value.platform),1)]),c[3]||(c[3]=E("p",null,"|",-1)),c[4]||(c[4]=E("div",{class:"stock"},[E("h3",null,"En stock")],-1))]),E("h3",$9,we(s.value.price),1)]),c[5]||(c[5]=fh('<div class="buttons" data-v-5eefd4b8><button class="favorite" data-v-5eefd4b8>favoris</button><button class="cart" data-v-5eefd4b8><h3 data-v-5eefd4b8>Ajouter au panier</h3> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-v-5eefd4b8>!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--&gt; <path d="M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z" data-v-5eefd4b8></path></svg></button></div><div class="description" data-v-5eefd4b8><h3 data-v-5eefd4b8>description</h3></div>',2))])])],4)]))])):(re(),ae("div",F9,c[6]||(c[6]=[E("p",null,"Chargement du jeu...",-1)])))}},j9=En(U9,[["__scopeId","data-v-5eefd4b8"]]),RE={__name:"GameDetailPage",setup(t){return(e,n)=>(re(),ae(Qe,null,[Te(Lo),E("div",null,[Te(j9)]),Te(il)],64))}},B9={};function H9(t,e){const n=Ro("router-link");return re(),ae("div",null,[e[1]||(e[1]=E("h1",null,"404 - Page introuvable",-1)),e[2]||(e[2]=E("p",null,"Cette page n'existe pas.",-1)),Te(n,{to:"/"},{default:Rt(()=>e[0]||(e[0]=[pn("Retour à l'accueil")])),_:1})])}const PE=En(B9,[["render",H9]]),q9={class:"container-fluid py-2 preco"},W9={id:"precoIn"},z9={class:"game-card"},K9=["href"],G9=["src","alt"],Q9={class:"game-text"},Y9={class:"titre"},X9={class:"prix"},J9={class:"dateSortie"},Z9={key:0,class:"text-center mt-2"},ej={__name:"Search",setup(t){const e=je([]),n=je([]),s=async()=>{const r=Qa(Vn,"games"),o=Ya(r,Mc("name"));try{const l=await Xa(o);e.value=[],l.forEach(c=>{const d=c.data();e.value.push({id:c.id,titre:d.name,link:d.link,image:d.image,price:`${d.price}€`,date:d.dateSortie.toDate().toLocaleDateString("fr-FR")})}),i()}catch(l){console.error("Erreur lors de la récupération des jeux :",l)}};function i(){tn.value?n.value=e.value.filter(r=>r.titre.toLowerCase().includes(tn.value.toLowerCase())):n.value=e.value}return Cs(tn,i),fs(()=>{s()}),(r,o)=>(re(),ae("div",q9,[E("div",null,[o[1]||(o[1]=E("h1",{class:"mt-3 mb-5"},"Recherche",-1)),E("ul",W9,[(re(!0),ae(Qe,null,Kt(n.value,l=>(re(),ae("li",{key:l.id},[E("div",z9,[E("a",{href:l.link},[E("img",{src:`/assets/img/preview/${l.image}`,alt:l.titre},null,8,G9)],8,K9),E("div",Q9,[E("h3",Y9,we(l.titre),1),E("h3",X9,we(l.price),1)]),E("p",J9,we(l.date),1)])]))),128))]),n.value.length===0?(re(),ae("div",Z9,o[0]||(o[0]=[E("h4",null,"Aucun jeu trouvé pour cette recherche.",-1)]))):ws("",!0)])]))}},tj=En(ej,[["__scopeId","data-v-88d9df25"]]),nj={__name:"Recherche",setup(t){return(e,n)=>(re(),ae(Qe,null,[Te(Lo),E("div",null,[Te(tj)]),Te(il)],64))}},sj=KP({history:wP("/"),routes:[{path:"/",name:"accueil",component:JU},{path:"/nouveautes",name:"nouveautes",component:u3},{path:"/precommandes",name:"precommandes",component:b3},{path:"/prochaines-sorties",name:"prochaines-sorties",component:y6},{path:"/inscription",name:"inscription",component:N6},{path:"/connexion",name:"connexion",component:H6},{path:"/panier",name:"panier",component:f9},{path:"/game/:id",name:"gameDetailPage",component:RE},{path:"/:pathMatch(.*)*",name:"not-found",component:PE},{path:"/recherche",name:"recherche",component:nj},{path:"/game/:id",name:"gameDetailPage",component:RE},{path:"/:pathMatch(.*)*",name:"not-found",component:PE}],linkActiveClass:"active"}),yg=xR(WR),ij=MR();yg.use(ij);yg.use(sj);const rj=vg();rj.initAuthListener();const oj=$I();oj.init();yg.mount("#app");
